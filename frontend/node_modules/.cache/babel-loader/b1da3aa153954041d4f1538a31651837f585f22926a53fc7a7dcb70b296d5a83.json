{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */function (_super) {\n  __extends(FieldSettings, _super);\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property()], FieldSettings.prototype, \"text\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"value\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"iconCss\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"groupBy\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property()], FieldSettings.prototype, \"disabled\", void 0);\n  return FieldSettings;\n}(ChildProperty);\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n  root: 'e-dropdownbase',\n  rtl: 'e-rtl',\n  content: 'e-content',\n  selected: 'e-active',\n  hover: 'e-hover',\n  noData: 'e-nodata',\n  fixedHead: 'e-fixed-head',\n  focus: 'e-item-focus',\n  li: 'e-list-item',\n  group: 'e-list-group-item',\n  disabled: 'e-disabled',\n  grouping: 'e-dd-group',\n  virtualList: 'e-list-item e-virtual-list'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */function (_super) {\n  __extends(DropDownBase, _super);\n  /**\n   * * Constructor for DropDownBase class\n   *\n   * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.preventChange = false;\n    _this.isPreventChange = false;\n    _this.isDynamicDataChange = false;\n    _this.addedNewItem = false;\n    _this.isAddNewItemTemplate = false;\n    _this.isRequesting = false;\n    _this.isVirtualizationEnabled = false;\n    _this.isCustomDataUpdated = false;\n    _this.isAllowFiltering = false;\n    _this.virtualizedItemsCount = 0;\n    _this.isCheckBoxSelection = false;\n    _this.totalItemCount = 0;\n    _this.dataCount = 0;\n    _this.remoteDataCount = -1;\n    _this.isRemoteDataUpdated = false;\n    _this.isIncrementalRequest = false;\n    _this.itemCount = 30;\n    _this.virtualListHeight = 0;\n    _this.isVirtualScrolling = false;\n    _this.isPreventScrollAction = false;\n    _this.scrollPreStartIndex = 0;\n    _this.isScrollActionTriggered = false;\n    _this.previousStartIndex = 0;\n    _this.isMouseScrollAction = false;\n    _this.isKeyBoardAction = false;\n    _this.isScrollChanged = false;\n    _this.isUpwardScrolling = false;\n    _this.startIndex = 0;\n    _this.currentPageNumber = 0;\n    _this.pageCount = 0;\n    _this.isPreventKeyAction = false;\n    _this.generatedDataObject = {};\n    _this.skeletonCount = 32;\n    _this.isVirtualTrackHeight = false;\n    _this.virtualSelectAll = false;\n    _this.isVirtualReorder = false;\n    _this.incrementalQueryString = '';\n    _this.incrementalEndIndex = 0;\n    _this.incrementalStartIndex = 0;\n    _this.incrementalPreQueryString = '';\n    _this.isObjectCustomValue = false;\n    _this.appendUncheckList = false;\n    _this.getInitialData = false;\n    _this.preventPopupOpen = true;\n    _this.virtualSelectAllState = false;\n    _this.CurrentEvent = null;\n    _this.isDynamicData = false;\n    _this.isPrimitiveData = false;\n    _this.isCustomFiltering = false;\n    _this.debounceTimer = null;\n    _this.virtualListInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    _this.viewPortInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    _this.selectedValueInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: 0\n    };\n    return _this;\n  }\n  DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n    var newProperty = new Object();\n    var oldProperty = new Object();\n    var propName = function (prop) {\n      return prop;\n    };\n    newProperty[propName(prop)] = newProp[propName(prop)];\n    oldProperty[propName(prop)] = oldProp[propName(prop)];\n    var data = new Object();\n    data.newProperty = newProperty;\n    data.oldProperty = oldProperty;\n    return data;\n  };\n  DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n    var value = null;\n    if (!isNullOrUndefined(this.listData)) {\n      if (ignoreCase) {\n        value = this.checkValueCase(text, true, ignoreAccent);\n      } else {\n        value = this.checkValueCase(text, false, ignoreAccent);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n    var _this = this;\n    var value = null;\n    if (isTextByValue) {\n      value = text;\n    }\n    if (!isNullOrUndefined(this.listData)) {\n      var dataSource = this.listData;\n      var fields_1 = this.fields;\n      var type = this.typeOfData(dataSource).typeof;\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n          var item = dataSource_1[_i];\n          if (!isNullOrUndefined(item)) {\n            if (ignoreAccent) {\n              value = this.checkingAccent(String(item), text, ignoreCase);\n            } else {\n              if (ignoreCase) {\n                if (this.checkIgnoreCase(String(item), text)) {\n                  value = this.getItemValue(String(item), text, ignoreCase);\n                }\n              } else {\n                if (this.checkNonIgnoreCase(String(item), text)) {\n                  value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                }\n              }\n            }\n          }\n        }\n      } else {\n        if (ignoreCase) {\n          dataSource.filter(function (item) {\n            var itemValue = getValue(fields_1.value, item);\n            if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields_1.text, item).toString(), text)) {\n              value = getValue(fields_1.value, item);\n            }\n          });\n        } else {\n          if (isTextByValue) {\n            var compareValue_1 = null;\n            compareValue_1 = value;\n            dataSource.filter(function (item) {\n              var itemValue = getValue(fields_1.value, item);\n              if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                value = getValue(fields_1.text, item);\n              }\n            });\n          } else {\n            dataSource.filter(function (item) {\n              if (_this.checkNonIgnoreCase(getValue(fields_1.text, item), text)) {\n                value = getValue(fields_1.value, item);\n              }\n            });\n          }\n        }\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n    var dataItem = DataUtil.ignoreDiacritics(String(item));\n    var textItem = DataUtil.ignoreDiacritics(text.toString());\n    var value = null;\n    if (ignoreCase) {\n      if (this.checkIgnoreCase(dataItem, textItem)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    } else {\n      if (this.checkNonIgnoreCase(String(item), text)) {\n        value = this.getItemValue(String(item), text, ignoreCase);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n    return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n  };\n  DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n    return String(item) === text.toString() ? true : false;\n  };\n  DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n    var value = null;\n    var dataSource = this.listData;\n    var type = this.typeOfData(dataSource).typeof;\n    if (isTextByValue) {\n      value = dataItem.toString();\n    } else {\n      if (ignoreCase) {\n        value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n      } else {\n        value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n      }\n    }\n    return value;\n  };\n  DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n    var checkTemplate = false;\n    if (typeof baseTemplate !== 'function' && baseTemplate) {\n      try {\n        checkTemplate = selectAll(baseTemplate, document).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n    var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n    if (!isNullOrUndefined(this.noRecordsTemplate) && this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var compiledString = void 0;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      ele.innerHTML = '';\n      var tempaltecheck = this.templateCompiler(template);\n      if (typeof template !== 'function' && tempaltecheck) {\n        compiledString = compile(select(template, document).innerHTML.trim());\n      } else {\n        compiledString = compile(template);\n      }\n      var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var noDataElement = void 0;\n      if (this.isReact && typeof template === 'function') {\n        noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n      } else {\n        noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n      }\n      if (noDataElement && noDataElement.length > 0) {\n        for (var i = 0; i < noDataElement.length; i++) {\n          if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n            if (noDataElement[i].nodeName === '#text') {\n              var liElem = this.createElement('li');\n              liElem.textContent = noDataElement[i].textContent;\n              liElem.classList.add('e-list-nrt');\n              liElem.setAttribute('role', 'option');\n              ele.appendChild(liElem);\n            } else {\n              noDataElement[i].classList.add('e-list-nr-template');\n              ele.appendChild(noDataElement[i]);\n            }\n          } else {\n            if (noDataElement[i] instanceof HTMLElement || noDataElement[i] instanceof Text && noDataElement[i].textContent !== '') {\n              ele.appendChild(noDataElement[i]);\n            }\n          }\n        }\n      }\n      this.renderReactTemplates();\n    } else {\n      var l10nLocale = {\n        noRecordsTemplate: 'No records found',\n        actionFailureTemplate: 'Request failed'\n      };\n      var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n      if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n        this.l10n = componentLocale;\n      } else {\n        this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' : this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n      }\n      var content = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n      if (this.getModuleName() === 'listbox') {\n        var liElem = this.createElement('li');\n        liElem.textContent = content;\n        ele.appendChild(liElem);\n        liElem.classList.add('e-list-nrt');\n        liElem.setAttribute('role', 'option');\n      } else {\n        if (!isNullOrUndefined(ele)) {\n          ele.innerHTML = content;\n        }\n      }\n    }\n  };\n  DropDownBase.prototype.checkAndResetCache = function () {\n    if (this.isVirtualizationEnabled) {\n      this.generatedDataObject = {};\n      this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n      this.viewPortInfo = {\n        currentPageNumber: null,\n        direction: null,\n        sentinelInfo: {},\n        offsets: {},\n        startIndex: 0,\n        endIndex: this.itemCount\n      };\n      this.selectedValueInfo = null;\n    }\n  };\n  DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n    this.viewPortInfo.startIndex = startIndex;\n    this.viewPortInfo.endIndex = endIndex;\n    this.updateVirtualItemIndex();\n    this.isIncrementalRequest = true;\n    this.resetList(this.dataSource, this.fields, this.query);\n    this.isIncrementalRequest = false;\n  };\n  DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n    this.viewPortInfo.startIndex = startIndex;\n    this.viewPortInfo.endIndex = endIndex;\n    this.updateVirtualItemIndex();\n    this.resetList(this.dataSource, this.fields, this.query);\n    this.UpdateSkeleton();\n    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n    this.ulElement = this.list.querySelector('ul');\n  };\n  DropDownBase.prototype.updateVirtualItemIndex = function () {\n    this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n    this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n    this.virtualListInfo = this.viewPortInfo;\n  };\n  DropDownBase.prototype.getFilteringSkeletonCount = function () {\n    var currentSkeletonCount = this.skeletonCount;\n    this.getSkeletonCount(true);\n    this.skeletonCount = this.dataCount < this.itemCount * 2 && (!(this.dataSource instanceof DataManager) || this.dataSource instanceof DataManager && this.totalItemCount <= this.itemCount) ? 0 : this.skeletonCount;\n    var skeletonUpdated = true;\n    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.totalItemCount < this.itemCount * 2 && (!(this.dataSource instanceof DataManager) || this.dataSource instanceof DataManager && this.totalItemCount <= this.itemCount)) {\n      this.skeletonCount = 0;\n      skeletonUpdated = false;\n    }\n    if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n      if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n        this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n      } else {\n        this.UpdateSkeleton();\n      }\n      this.liCollections = this.list.querySelectorAll('.e-list-item');\n      if (this.list.getElementsByClassName('e-virtual-ddl').length > 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n      } else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n        var virualElement = this.createElement('div', {\n          id: this.element.id + '_popup',\n          className: 'e-virtual-ddl',\n          styles: this.GetVirtualTrackHeight()\n        });\n        this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n      }\n      if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n      }\n    }\n  };\n  DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n    this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n    var actualCount = this.virtualListHeight > 0 && this.listItemHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n    this.skeletonCount = actualCount * 4 < this.itemCount ? this.itemCount : actualCount * 4;\n    this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n    this.virtualItemCount = this.itemCount;\n    this.skeletonCount = Math.floor(this.skeletonCount / 2);\n  };\n  DropDownBase.prototype.GetVirtualTrackHeight = function () {\n    var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n    height = this.isVirtualTrackHeight ? 0 : height;\n    var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n      return 'height: 0px;';\n    }\n    return heightDimension;\n  };\n  DropDownBase.prototype.getTransformValues = function () {\n    var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n    translateY = translateY - this.skeletonCount * this.listItemHeight;\n    translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 || this.skeletonCount === 0 ? 0 : translateY;\n    var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n    return styleText;\n  };\n  DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n    var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n    var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n    if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n      var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n      for (var i = 0; i < totalSkeletonCount; i++) {\n        var liElement = this.createElement('li', {\n          className: dropDownBaseClasses.virtualList,\n          styles: 'overflow: inherit'\n        });\n        if (this.isVirtualizationEnabled && this.itemTemplate) {\n          liElement.style.height = this.listItemHeight - parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom, 10) + 'px';\n        }\n        var skeleton = new Skeleton({\n          shape: 'Text',\n          height: '10px',\n          width: '95%',\n          cssClass: 'e-skeleton-text'\n        });\n        skeleton.appendTo(this.createElement('div'));\n        liElement.appendChild(skeleton.element);\n        if (isContainSkeleton.firstChild) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n        }\n      }\n      if (this.getModuleName() === 'multiselect' && !this.isVirtualReorder && !isContainSkeleton.firstChild.classList.contains('e-reorder')) {\n        for (var i = 0; i < totalSkeletonCount && this.totalItemCount !== this.viewPortInfo.endIndex; i++) {\n          var liElement = this.createElement('li', {\n            className: dropDownBaseClasses.virtualList + \" e-virtual-list-end\",\n            styles: 'overflow: inherit'\n          });\n          if (this.isVirtualizationEnabled && this.itemTemplate) {\n            liElement.style.height = this.listItemHeight - parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom, 10) + 'px';\n          }\n          var skeleton = new Skeleton({\n            shape: 'Text',\n            height: '10px',\n            width: '95%',\n            cssClass: 'e-skeleton-text-end'\n          });\n          skeleton.appendTo(this.createElement('div'));\n          liElement.appendChild(skeleton.element);\n          if (isContainSkeleton.firstChild) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            isContainSkeleton.firstChild.appendChild(liElement);\n          }\n        }\n        if (this.totalItemCount === this.viewPortInfo.endIndex) {\n          isContainSkeleton.querySelectorAll('.e-virtual-list-end').forEach(function (el) {\n            return el.remove();\n          });\n        }\n      }\n    }\n  };\n  DropDownBase.prototype.getLocaleName = function () {\n    return 'drop-down-base';\n  };\n  DropDownBase.prototype.getTextByValue = function (value) {\n    var text = this.checkValueCase(value, false, false, true);\n    return text;\n  };\n  DropDownBase.prototype.getFormattedValue = function (value) {\n    if (this.listData && this.listData.length) {\n      var item = void 0;\n      if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n        item = this.typeOfData(this.properties.value);\n      } else {\n        item = this.typeOfData(this.listData);\n      }\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'number' || item.typeof === 'number') {\n        return parseFloat(value);\n      }\n      if (typeof getValue(this.fields.value ? this.fields.value : 'value', item.item) === 'boolean' || item.typeof === 'boolean') {\n        return value === 'true' || '' + value === 'true';\n      }\n    }\n    return value;\n  };\n  /**\n   * Sets RTL to dropdownbase wrapper\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setEnableRtl = function () {\n    if (!isNullOrUndefined(this.enableRtlElements)) {\n      if (this.list) {\n        this.enableRtlElements.push(this.list);\n      }\n      if (this.enableRtl) {\n        addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n      } else {\n        removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n      }\n    }\n  };\n  /**\n   * Initialize the Component.\n   *\n   * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - The event object.\n   * @returns {void}\n   */\n  DropDownBase.prototype.initialize = function (e) {\n    this.bindEvent = true;\n    this.preventPopupOpen = true;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n    if (this.element.tagName === 'UL') {\n      var jsonElement = ListBase.createJsonFromElement(this.element);\n      this.setProperties({\n        fields: {\n          text: 'text',\n          value: 'text'\n        }\n      }, true);\n      this.resetList(jsonElement, this.fields);\n    } else if (this.element.tagName === 'SELECT') {\n      var dataSource = this.dataSource instanceof Array ? this.dataSource.length > 0 ? true : false : !isNullOrUndefined(this.dataSource) ? true : false;\n      if (!dataSource) {\n        this.renderItemsBySelect();\n      } else if (this.isDynamicDataChange) {\n        this.setListData(this.dataSource, this.fields, this.query);\n      }\n    } else {\n      this.setListData(this.dataSource, this.fields, this.query, e);\n    }\n  };\n  /**\n   * Get the properties to be maintained in persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownBase.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @param {string} value - Specifies the attribute values to add on the input element.\n   * @returns {void}\n   */\n  DropDownBase.prototype.updateDataAttribute = function (value) {\n    var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n    var attr = {};\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n  DropDownBase.prototype.renderItemsBySelect = function () {\n    var element = this.element;\n    var group = element.querySelectorAll('select>optgroup');\n    var fields;\n    var isSelectGroupCheck = this.getModuleName() === 'multiselect' && this.isGroupChecking && group.length > 0;\n    fields = isSelectGroupCheck ? {\n      value: 'value',\n      text: 'text',\n      groupBy: 'categeory'\n    } : fields = {\n      value: 'value',\n      text: 'text'\n    };\n    var jsonElement = [];\n    var option = element.querySelectorAll('select>option');\n    this.getJSONfromOption(jsonElement, option, fields);\n    if (group.length) {\n      for (var i = 0; i < group.length; i++) {\n        var item = group[i];\n        var optionGroup = {};\n        optionGroup[fields.text] = item.label;\n        optionGroup.isHeader = true;\n        var child = item.querySelectorAll('option');\n        if (isSelectGroupCheck) {\n          this.getJSONfromOption(jsonElement, child, fields, item.label);\n        } else {\n          jsonElement.push(optionGroup);\n          this.getJSONfromOption(jsonElement, child, fields);\n        }\n      }\n      element.querySelectorAll('select>option');\n    }\n    this.updateFields(fields.text, fields.value, isSelectGroupCheck ? fields.groupBy : this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss, this.fields.disabled);\n    this.resetList(jsonElement, fields);\n  };\n  DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss, disabled) {\n    var field = {\n      'fields': {\n        text: text,\n        value: value,\n        groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n        htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n        iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss,\n        disabled: !isNullOrUndefined(disabled) ? disabled : this.fields && this.fields.disabled\n      }\n    };\n    this.setProperties(field, true);\n  };\n  DropDownBase.prototype.getJSONfromOption = function (items, options, fields, category) {\n    if (category === void 0) {\n      category = null;\n    }\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n      var option = options_1[_i];\n      var json = {};\n      json[fields.text] = option.innerText;\n      json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ? option.getAttribute(fields.value) : option.innerText;\n      if (!isNullOrUndefined(category)) {\n        json[fields.groupBy] = category;\n      }\n      items.push(json);\n    }\n  };\n  /**\n   * Execute before render the list items\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.preRender = function () {\n    // there is no event handler\n    this.scrollTimer = -1;\n    this.enableRtlElements = [];\n    this.isRequested = false;\n    this.isDataFetched = false;\n    this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n    this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n    this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n    this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n    this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n  };\n  /**\n   * Creates the list items of DropDownBase component.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @param {MouseEvent | KeyboardEventArgs | TouchEvent} event - Specifies the event which is the reason for the invocation of this method.\n   * @returns {void}\n   */\n  DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n    var _this = this;\n    fields = fields ? fields : this.fields;\n    var ulElement;\n    this.isActive = true;\n    var eventArgs = {\n      cancel: false,\n      data: dataSource,\n      query: query\n    };\n    this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n    if (!this.isRequesting) {\n      this.trigger('actionBegin', eventArgs, function (eventArgs) {\n        if (!eventArgs.cancel) {\n          _this.isRequesting = true;\n          _this.showSpinner();\n          if (dataSource instanceof DataManager) {\n            _this.isRequested = true;\n            var isWhereExist_1 = false;\n            if (_this.isDataFetched) {\n              _this.emptyDataRequest(fields);\n              return;\n            }\n            eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n              _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n              var isReOrder = true;\n              if (!_this.virtualSelectAll) {\n                var newQuery = _this.getQuery(eventArgs.query);\n                for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                  if (newQuery.queries[queryElements].fn === 'onWhere') {\n                    isWhereExist_1 = true;\n                  }\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if (_this.isVirtualizationEnabled && e.count !== 0 && e.count < _this.itemCount * 2) {\n                  if (newQuery) {\n                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                      if (newQuery.queries[queryElements].fn === 'onTake') {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        newQuery.queries[queryElements].e.nos = e.count;\n                      }\n                      if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal') && !_this.isCustomFiltering) {\n                        isReOrder = false;\n                      }\n                    }\n                  }\n                } else {\n                  _this.isVirtualTrackHeight = false;\n                  if (newQuery) {\n                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                      if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal')) {\n                        isReOrder = false;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isReOrder) {\n                // eslint-disable @typescript-eslint/no-explicit-any\n                _this.dataCount = _this.totalItemCount = e.count;\n              }\n              _this.trigger('actionComplete', e, function (e) {\n                if (!e.cancel) {\n                  _this.isRequesting = false;\n                  _this.isCustomFiltering = false;\n                  var listItems = e.result;\n                  if (_this.isIncrementalRequest) {\n                    ulElement = _this.renderItems(listItems, fields);\n                    return;\n                  }\n                  if (!_this.isVirtualizationEnabled && listItems.length === 0 || _this.isVirtualizationEnabled && listItems.length === 0 && !isWhereExist_1) {\n                    _this.isDataFetched = true;\n                  }\n                  if (!isWhereExist_1) {\n                    _this.remoteDataCount = e.count;\n                  }\n                  _this.dataCount = !_this.virtualSelectAll ? e.count : _this.dataCount;\n                  _this.totalItemCount = !_this.virtualSelectAll ? e.count : _this.totalItemCount;\n                  ulElement = _this.renderItems(listItems, fields);\n                  _this.appendUncheckList = false;\n                  _this.onActionComplete(ulElement, listItems, e);\n                  if (_this.groupTemplate) {\n                    _this.renderGroupTemplate(ulElement);\n                  }\n                  _this.isRequested = false;\n                  _this.bindChildItems(listItems, ulElement, fields, e);\n                  if (_this.getInitialData) {\n                    _this.getInitialData = false;\n                    _this.preventPopupOpen = false;\n                    return;\n                  }\n                  var isSetCurrentcall = false;\n                  if (_this.isVirtualizationEnabled && _this.setCurrentView) {\n                    isSetCurrentcall = true;\n                    _this.notify('setCurrentViewDataAsync', {\n                      module: 'VirtualScroll'\n                    });\n                  }\n                  if (_this.keyboardEvent != null) {\n                    _this.handleVirtualKeyboardActions(_this.keyboardEvent, _this.pageCount);\n                  }\n                  var preventSkeleton = _this.getModuleName() !== 'multiselect' || _this.getModuleName() === 'multiselect' && (!(_this.dataSource instanceof DataManager) || _this.dataSource instanceof DataManager && !isSetCurrentcall);\n                  if (_this.isVirtualizationEnabled && preventSkeleton) {\n                    _this.getFilteringSkeletonCount();\n                    _this.updatePopupPosition();\n                  }\n                  if (_this.virtualSelectAll && _this.virtualSelectAllData) {\n                    _this.virtualSelectionAll(_this.virtualSelectAllState, _this.liCollections, _this.CurrentEvent);\n                    _this.virtualSelectAllState = false;\n                    _this.CurrentEvent = null;\n                    _this.virtualSelectAll = false;\n                  }\n                }\n              });\n            }).catch(function (e) {\n              _this.isRequested = false;\n              _this.isRequesting = false;\n              _this.onActionFailure(e);\n              _this.hideSpinner();\n            });\n          } else {\n            _this.isRequesting = false;\n            var isReOrder = true;\n            var listItems = void 0;\n            if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n              var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n              _this.virtualGroupDataSource = data.records;\n            }\n            var dataManager = _this.isVirtualizationEnabled && _this.virtualGroupDataSource && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) : new DataManager(eventArgs.data);\n            listItems = _this.getQuery(eventArgs.query).executeLocal(dataManager);\n            if (!_this.virtualSelectAll) {\n              var newQuery = _this.getQuery(eventArgs.query);\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              if (_this.isVirtualizationEnabled && listItems.count !== 0 && listItems.count < _this.itemCount * 2 && !_this.appendUncheckList) {\n                if (newQuery) {\n                  for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                    if (newQuery.queries[queryElements].fn === 'onTake') {\n                      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                      newQuery.queries[queryElements].e.nos = listItems.count;\n                      listItems = newQuery.executeLocal(dataManager);\n                    }\n                    if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal') && !_this.isCustomFiltering) {\n                      isReOrder = false;\n                    }\n                  }\n                  if (isReOrder) {\n                    listItems = newQuery.executeLocal(dataManager);\n                    _this.isVirtualTrackHeight = !(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated ? true : false;\n                  }\n                }\n              } else {\n                _this.isVirtualTrackHeight = false;\n                if (newQuery) {\n                  for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                    if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal')) {\n                      isReOrder = false;\n                    }\n                  }\n                }\n              }\n            }\n            if (isReOrder && !(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated && !_this.virtualSelectAll) {\n              // eslint-disable @typescript-eslint/no-explicit-any\n              _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length : listItems.count;\n            }\n            listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n            // eslint-enable @typescript-eslint/no-explicit-any\n            var localDataArgs = {\n              cancel: false,\n              result: listItems\n            };\n            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n            _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n              _this.isCustomFiltering = false;\n              if (_this.isIncrementalRequest) {\n                ulElement = _this.renderItems(localDataArgs.result, fields);\n                return;\n              }\n              if (!localDataArgs.cancel) {\n                ulElement = _this.renderItems(localDataArgs.result, fields);\n                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                if (_this.groupTemplate) {\n                  _this.renderGroupTemplate(ulElement);\n                }\n                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                if (_this.getInitialData) {\n                  _this.getInitialData = false;\n                  _this.preventPopupOpen = false;\n                  return;\n                }\n                setTimeout(function () {\n                  if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || _this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)) {\n                    _this.updateDataList();\n                  }\n                });\n              }\n            });\n          }\n        }\n      });\n    }\n  };\n  DropDownBase.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.updatePopupState = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.updatePopupPosition = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.virtualSelectionAll = function (state, li, event) {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.updateRemoteData = function () {\n    this.setListData(this.dataSource, this.fields, this.query);\n  };\n  DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n    var _this = this;\n    if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n      setTimeout(function () {\n        var childNode = _this.remainingItems(_this.sortedData, fields);\n        append(childNode, ulElement);\n        _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        _this.updateListValues();\n        _this.raiseDataBound(listItems, e);\n      }, 0);\n    } else {\n      this.raiseDataBound(listItems, e);\n    }\n  };\n  DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n    return array.some(function (item) {\n      return Object.keys(objectToFind).every(function (key) {\n        return Object.prototype.hasOwnProperty.call(item, key) && item[key] === objectToFind[key];\n      });\n    });\n  };\n  DropDownBase.prototype.updateListValues = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n    var liElement = null;\n    if (list) {\n      var listArr = [].slice.call(list.querySelectorAll(findNode));\n      for (var index = 0; index < listArr.length; index++) {\n        if (listArr[index].getAttribute(attribute) === value + '') {\n          liElement = listArr[index];\n          break;\n        }\n      }\n    }\n    return liElement;\n  };\n  DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n    this.hideSpinner();\n    var dataBoundEventArgs = {\n      items: listItems,\n      e: e\n    };\n    this.trigger('dataBound', dataBoundEventArgs);\n  };\n  DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n    var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n    if (this.itemTemplate) {\n      var listElements = this.templateListItem(spliceData, fields);\n      return [].slice.call(listElements.childNodes);\n    }\n    var type = this.typeOfData(spliceData).typeof;\n    if (type === 'string' || type === 'number' || type === 'boolean') {\n      return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n    }\n    return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n  };\n  DropDownBase.prototype.emptyDataRequest = function (fields) {\n    var listItems = [];\n    this.onActionComplete(this.renderItems(listItems, fields), listItems);\n    this.isRequested = false;\n    this.isRequesting = false;\n    this.hideSpinner();\n  };\n  DropDownBase.prototype.showSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.hideSpinner = function () {\n    // Used this method in component side.\n  };\n  DropDownBase.prototype.onActionFailure = function (e) {\n    this.liCollections = [];\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    if (!isNullOrUndefined(this.list)) {\n      addClass([this.list], dropDownBaseClasses.noData);\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n    var _this = this;\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    this.listData = list;\n    if (this.isVirtualizationEnabled && !this.isCustomDataUpdated && !this.virtualSelectAll) {\n      this.notify('setGeneratedData', {\n        module: 'VirtualScroll'\n      });\n    }\n    if (this.getModuleName() !== 'listbox') {\n      ulElement.setAttribute('tabindex', '0');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n    }\n    if (!this.isVirtualizationEnabled) {\n      this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n    }\n    if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n      for (var i = 0; i < ulElement.childElementCount; i++) {\n        if (ulElement.children[i].classList.contains('e-list-group-item')) {\n          if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML === '') {\n            addClass([ulElement.children[i]], HIDE_GROUPLIST);\n          }\n        }\n        if (ulElement.children[0].classList.contains('e-hide-group-header')) {\n          setStyleAttribute(ulElement.children[1], {\n            zIndex: 11\n          });\n        }\n      }\n    }\n    if (this.getModuleName() === 'multiselect' && this.isAngular && this.ngEle) {\n      var popupHolder = this.list;\n      if (popupHolder) {\n        var prevHeight = popupHolder.offsetHeight + 'px';\n        popupHolder.style.height = prevHeight;\n      }\n    }\n    if (!isNullOrUndefined(this.list)) {\n      if (!this.isVirtualizationEnabled) {\n        this.list.innerHTML = '';\n        this.list.appendChild(ulElement);\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.postRender(this.list, list, this.bindEvent);\n      }\n    }\n    if (this.getModuleName() === 'multiselect' && this.isAngular && this.ngEle) {\n      var popupHolder_1 = this.list;\n      if (popupHolder_1) {\n        setTimeout(function () {\n          popupHolder_1.style.height = '';\n          _this.refreshPopup();\n        }, 0);\n      }\n    }\n  };\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n    if (this.fields.disabled) {\n      var liCollections = listElement.querySelectorAll('.' + dropDownBaseClasses.li);\n      var data = this.sortOrder !== 'None' ? !isNullOrUndefined(this.fields.groupBy) ? this.sortedData.filter(function (item) {\n        return !('isHeader' in item) || item.isHeader !== true;\n      }) : this.sortedData : this.listData;\n      for (var index = 0; index < liCollections.length; index++) {\n        if (JSON.parse(JSON.stringify(data[index]))[this.fields.disabled]) {\n          if (!isNullOrUndefined(this.fields.groupBy)) {\n            var item = data[index];\n            var value = getValue(this.fields.value ? this.fields.value : 'value', item);\n            var li = listElement.querySelector('li[data-value=\"' + value + '\"]');\n            if (!isNullOrUndefined(li)) {\n              this.disableListItem(li);\n            }\n          } else {\n            this.disableListItem(liCollections[index]);\n          }\n        }\n      }\n    }\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    var focusItem = this.fields.disabled ? listElement.querySelector('.' + dropDownBaseClasses.li + ':not(.e-disabled') : listElement.querySelector('.' + dropDownBaseClasses.li);\n    var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n    if (focusItem && !selectedItem) {\n      if (this.isVirtualizationEnabled && this.viewPortInfo.startIndex !== 0) {\n        var elements = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n        focusItem = elements && elements.length > 0 ? elements[2] : focusItem;\n      }\n      if (focusItem) {\n        focusItem.classList.add(dropDownBaseClasses.focus);\n      }\n    }\n    if (list.length <= 0) {\n      this.l10nUpdate();\n      addClass([listElement], dropDownBaseClasses.noData);\n    } else {\n      listElement.classList.remove(dropDownBaseClasses.noData);\n    }\n  };\n  /**\n   * Get the query to do the data operation before list item generation.\n   *\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @returns {Query} Returns the query to do the data query operation.\n   */\n  DropDownBase.prototype.getQuery = function (query) {\n    return query ? query : this.query ? this.query : new Query();\n  };\n  DropDownBase.prototype.performFiltering = function (e) {\n    // this is for component wise\n  };\n  DropDownBase.prototype.debouncedFiltering = function (e, debounceDelay) {\n    var _this = this;\n    if (this.debounceTimer !== null) {\n      clearTimeout(this.debounceTimer);\n    }\n    this.debounceTimer = setTimeout(function () {\n      _this.performFiltering(e);\n    }, debounceDelay);\n  };\n  DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n    this.isVirtualizationEnabled = true;\n    this.virtualizedItemsCount = itemCount;\n    this.isAllowFiltering = filtering;\n    this.isCheckBoxSelection = isCheckbox;\n  };\n  /**\n   * To render the template content for group header element.\n   *\n   * @param {HTMLElement} listEle - Specifies the group list elements.\n   * @returns {void}\n   */\n  DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n    if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n      var dataSource = this.dataSource;\n      var option = {\n        groupTemplateID: this.groupTemplateId,\n        isStringTemplate: this.isStringTemplate\n      };\n      var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n      var groupcheck = this.templateCompiler(this.groupTemplate);\n      if (typeof this.groupTemplate !== 'function' && groupcheck) {\n        var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n        //EJ2-55168- Group checkbox is not working with group template\n        if (this.isGroupChecking) {\n          for (var i = 0; i < tempHeaders.length; i++) {\n            this.notify('addItem', {\n              module: 'CheckBoxSelection',\n              item: tempHeaders[i]\n            });\n          }\n        }\n      }\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To create the ul li list items\n   *\n   * @param {object []} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @returns {HTMLElement} Return the ul li list items.\n   */\n  DropDownBase.prototype.createListItems = function (dataSource, fields) {\n    if (dataSource) {\n      if (fields.groupBy || this.element.querySelector('optgroup')) {\n        if (fields.groupBy) {\n          if (this.sortOrder !== 'None') {\n            dataSource = this.getSortedDataSource(dataSource);\n          }\n          var fieldSet = fields.properties || fields;\n          dataSource = ListBase.groupDataSource(dataSource, fieldSet, this.sortOrder);\n        }\n        addClass([this.list], dropDownBaseClasses.grouping);\n      } else if (this.getModuleName() !== 'listbox' || this.getModuleName() === 'listbox' && !this.preventDefActionFilter) {\n        dataSource = this.getSortedDataSource(dataSource);\n      }\n      var options = this.listOption(dataSource, fields);\n      var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n      this.sortedData = dataSource;\n      return ListBase.createList(this.createElement, this.getModuleName() === 'autocomplete' ? spliceData : dataSource, options, true, this);\n    }\n    return null;\n  };\n  DropDownBase.prototype.listOption = function (dataSource, fields) {\n    var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n    var fieldValues = !isNullOrUndefined(fields.properties) ? fields.properties : fields;\n    var options = fields.text !== null || fields.value !== null ? {\n      fields: fieldValues,\n      showIcon: iconCss,\n      ariaAttributes: {\n        groupItemRole: 'presentation'\n      }\n    } : {\n      fields: {\n        value: 'text'\n      }\n    };\n    return extend({}, options, fields, true);\n  };\n  DropDownBase.prototype.setFloatingHeader = function (e) {\n    if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n      if (isNullOrUndefined(this.fixedHeaderElement)) {\n        this.fixedHeaderElement = this.createElement('div', {\n          className: dropDownBaseClasses.fixedHead\n        });\n        if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n          this.fixedHeaderElement.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n          prepend([this.fixedHeaderElement], this.list);\n        }\n        this.setFixedHeader();\n      }\n      if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n        this.setFixedHeader();\n      }\n      this.scrollStop(e);\n    }\n  };\n  DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n    var target = !isNullOrUndefined(e) ? e.target : this.list;\n    var computedHeight = getComputedStyle(this.getValidLi(), null).getPropertyValue('height');\n    var computedMarginValue = getComputedStyle(this.getValidLi(), null).getPropertyValue('margin-bottom');\n    var marginValue = parseInt(computedMarginValue, 10);\n    var liHeight = this.getModuleName() === 'multiselect' ? parseFloat(computedHeight) : parseInt(computedHeight, 10);\n    var topIndex = Math.round(target.scrollTop / (liHeight + marginValue));\n    var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n    var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n    var count = 0;\n    var isCount = false;\n    for (var i = topIndex; i > -1; i--) {\n      var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n      if (this.isVirtualizationEnabled) {\n        if (isCount) {\n          count++;\n        }\n        if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n          break;\n        }\n        if (isDownkey) {\n          if (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete' || !isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete') {\n            count++;\n            isCount = true;\n          }\n        }\n      } else {\n        if (this.updateGroupHeader(index, liCollections, target)) {\n          break;\n        }\n      }\n    }\n  };\n  DropDownBase.prototype.getPageCount = function (returnExactCount) {\n    if (this.list) {\n      var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null : getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n      var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n      return returnExactCount ? pageCount : Math.round(pageCount);\n    } else {\n      return 0;\n    }\n  };\n  DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n    if (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n      this.updateGroupFixedHeader(liCollections[index], target);\n      return true;\n    } else {\n      this.fixedHeaderElement.style.display = 'none';\n      this.fixedHeaderElement.style.top = 'none';\n      return false;\n    }\n  };\n  DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n    if (this.fixedHeaderElement) {\n      if (!isNullOrUndefined(element.innerHTML)) {\n        this.fixedHeaderElement.innerHTML = element.innerHTML;\n      }\n      this.fixedHeaderElement.style.position = 'fixed';\n      this.fixedHeaderElement.style.top = this.list.parentElement.offsetTop + this.list.offsetTop - window.scrollY + 'px';\n      this.fixedHeaderElement.style.display = 'block';\n    }\n  };\n  DropDownBase.prototype.getValidLi = function () {\n    if (this.isVirtualizationEnabled) {\n      return this.liCollections[0].classList.contains('e-virtual-list') ? this.liCollections[this.skeletonCount] : this.liCollections[0];\n    }\n    return this.liCollections[0];\n  };\n  /**\n   * To render the list items\n   *\n   * @param {object[]} listData - Specifies the list of array of data.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {boolean} isCheckBoxUpdate - Specifies whether the list item is updated with checkbox.\n   * @param {boolean} isClearAll - Specifies whether the current action is clearAll.\n   * @returns {HTMLElement} Return the list items.\n   */\n  DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate, isClearAll) {\n    var ulElement;\n    if (this.itemTemplate && listData) {\n      if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n        this.virtualSelectAllData = listData;\n        listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n      }\n      var dataSource = listData;\n      if (dataSource && fields.groupBy) {\n        if (this.sortOrder !== 'None') {\n          dataSource = this.getSortedDataSource(dataSource);\n        }\n        dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n      } else if (this.getModuleName() !== 'listbox' || this.getModuleName() === 'listbox' && !this.preventDefActionFilter) {\n        dataSource = this.getSortedDataSource(dataSource);\n      }\n      this.sortedData = dataSource;\n      var spliceData = dataSource.length > 100 ? new DataManager(dataSource).executeLocal(new Query().take(100)) : dataSource;\n      ulElement = this.templateListItem(this.getModuleName() === 'autocomplete' ? spliceData : dataSource, fields);\n      if (this.isIncrementalRequest) {\n        this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.incrementalUlElement = ulElement;\n        this.incrementalListData = listData;\n        return ulElement;\n      }\n      if (this.isVirtualizationEnabled) {\n        var oldUlElement = this.list.querySelector('.e-list-parent');\n        var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n        if (listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement || oldUlElement && virtualUlElement && this.isAllowFiltering || oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete') {\n          if (this.getModuleName() === 'multiselect' && this.isCheckBoxSelection && this.appendUncheckList && this.list && this.list.querySelector('.e-active')) {\n            virtualUlElement.appendChild(ulElement);\n            isCheckBoxUpdate = true;\n          } else {\n            virtualUlElement.replaceChild(ulElement, oldUlElement);\n          }\n          var reOrderList = this.list.querySelectorAll('.e-reorder');\n          if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n            this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n          }\n          this.updateListElements(listData);\n        } else if (!virtualUlElement) {\n          this.list.innerHTML = '';\n          this.createVirtualContent();\n          this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n          this.updateListElements(listData);\n        }\n      }\n    } else {\n      if (this.getModuleName() === 'multiselect' && this.virtualSelectAll && !isClearAll) {\n        this.virtualSelectAllData = listData;\n        listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n      }\n      ulElement = this.createListItems(listData, fields);\n      if (this.isIncrementalRequest) {\n        this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.incrementalUlElement = ulElement;\n        this.incrementalListData = listData;\n        return ulElement;\n      }\n      if (this.isVirtualizationEnabled) {\n        var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n        var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n        var isRemovedUlelement = false;\n        if (!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder') || oldUlElement && this.isVirtualReorder && this.list.querySelector('.e-list-parent' + '.e-reorder')) {\n          oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n        }\n        if (listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement || oldUlElement && virtualUlElement && this.isAllowFiltering || oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') || isRemovedUlelement) {\n          if (this.getModuleName() !== 'multiselect' || this.getModuleName() === 'multiselect' && (!(this.dataSource instanceof DataManager) || this.dataSource instanceof DataManager && !this.setCurrentView)) {\n            if (!this.appendUncheckList) {\n              virtualUlElement.replaceChild(ulElement, oldUlElement);\n            } else {\n              virtualUlElement.appendChild(ulElement);\n            }\n          }\n          this.updateListElements(listData);\n        } else if (!virtualUlElement || !virtualUlElement.firstChild) {\n          this.list.innerHTML = '';\n          this.createVirtualContent();\n          this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n          this.updateListElements(listData);\n        }\n      }\n    }\n    return ulElement;\n  };\n  DropDownBase.prototype.createVirtualContent = function () {\n    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n      this.list.appendChild(this.createElement('div', {\n        className: 'e-virtual-ddl-content'\n      }));\n    }\n  };\n  DropDownBase.prototype.updateListElements = function (listData) {\n    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n    this.ulElement = this.list.querySelector('ul');\n    this.listData = listData;\n    this.postRender(this.list, listData, this.bindEvent);\n  };\n  DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n    var option = this.listOption(dataSource, fields);\n    option.templateID = this.itemTemplateId;\n    option.isStringTemplate = this.isStringTemplate;\n    var itemcheck = this.templateCompiler(this.itemTemplate);\n    var ulElement;\n    if (typeof this.itemTemplate !== 'function' && itemcheck) {\n      var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n      ulElement = ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n      if (this.isVirtualizationEnabled && this.isReact) {\n        this.renderReactTemplates();\n      }\n      return ulElement;\n    } else {\n      ulElement = ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n      if (this.isVirtualizationEnabled && this.isReact) {\n        this.renderReactTemplates();\n      }\n      return ulElement;\n    }\n  };\n  DropDownBase.prototype.typeOfData = function (items) {\n    var item = {\n      typeof: null,\n      item: null\n    };\n    for (var i = 0; !isNullOrUndefined(items) && i < items.length; i++) {\n      if (!isNullOrUndefined(items[i])) {\n        var listDataType = typeof items[i] === 'string' || typeof items[i] === 'number' || typeof items[i] === 'boolean';\n        var isNullData = listDataType ? isNullOrUndefined(items[i]) : isNullOrUndefined(getValue(this.fields.value ? this.fields.value : 'value', items[i]));\n        if (!isNullData) {\n          return item = {\n            typeof: typeof items[i],\n            item: items[i]\n          };\n        }\n      }\n    }\n    return item;\n  };\n  DropDownBase.prototype.setFixedHeader = function () {\n    if (!isNullOrUndefined(this.list)) {\n      this.list.parentElement.style.display = 'block';\n    }\n    var borderWidth = 0;\n    if (this.list && this.list.parentElement) {\n      borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n      /*Shorthand property not working in Firefox for getComputedStyle method.\n      Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n      Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n      if (isNaN(borderWidth)) {\n        var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n        var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n        var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n        var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n        borderWidth = borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth;\n      }\n    }\n    if (!isNullOrUndefined(this.liCollections)) {\n      var liWidth = this.getValidLi().offsetWidth - borderWidth;\n      this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n    }\n    setStyleAttribute(this.fixedHeaderElement, {\n      zIndex: 10\n    });\n    var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n    if (!isNullOrUndefined(firstLi)) {\n      this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    }\n  };\n  DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n    if (dataSource && this.sortOrder !== 'None') {\n      var textField = this.fields.text ? this.fields.text : 'text';\n      if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number' || this.typeOfData(dataSource).typeof === 'boolean') {\n        textField = '';\n      }\n      dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n    }\n    return dataSource;\n  };\n  /**\n   * Return the index of item which matched with given value in data source\n   *\n   * @param {string | number | boolean} value - Specifies given value.\n   * @returns {number} Returns the index of the item.\n   */\n  DropDownBase.prototype.getIndexByValue = function (value) {\n    var index;\n    var listItems = [];\n    if (this.fields.disabled && this.getModuleName() === 'multiselect' && this.liCollections) {\n      listItems = this.liCollections;\n    } else {\n      listItems = this.getItems();\n    }\n    for (var i = 0; i < listItems.length; i++) {\n      if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n        index = i;\n        break;\n      }\n    }\n    return index;\n  };\n  /**\n   * Return the index of item which matched with given value in data source\n   *\n   * @param {string | number | boolean} value - Specifies given value.\n   * @param {HTMLElement} ulElement - Specifies given value.\n   * @returns {number} Returns the index of the item.\n   */\n  DropDownBase.prototype.getIndexByValueFilter = function (value, ulElement) {\n    var index;\n    if (!ulElement) {\n      return null;\n    }\n    var listItems = ulElement.querySelectorAll('li' + ':not(.e-list-group-item)');\n    if (listItems) {\n      for (var i = 0; i < listItems.length; i++) {\n        if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n          index = i;\n          break;\n        }\n      }\n    }\n    return index;\n  };\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n  DropDownBase.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    if (element) {\n      element.dispatchEvent(evt);\n    }\n  };\n  /**\n   * To set the current fields\n   *\n   * @returns {void}\n   */\n  DropDownBase.prototype.setFields = function () {\n    if (this.fields.value && !this.fields.text) {\n      this.updateFields(this.fields.value, this.fields.value);\n    } else if (!this.fields.value && this.fields.text) {\n      this.updateFields(this.fields.text, this.fields.text);\n    } else if (!this.fields.value && !this.fields.text) {\n      this.isPrimitiveData = true;\n      this.updateFields('text', 'text');\n    }\n  };\n  /**\n   * reset the items list.\n   *\n   * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n   * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n   * @param {Query} query - Accepts the external Query that execute along with data processing.\n   * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n   * @returns {void}\n   */\n  DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n    if (this.list) {\n      if (this.element.tagName === 'SELECT' && this.element.options.length > 0 || this.element.tagName === 'UL' && this.element.childNodes.length > 0) {\n        var data = dataSource instanceof Array ? dataSource.length > 0 : !isNullOrUndefined(dataSource);\n        if (!data && this.selectData && this.selectData.length > 0) {\n          dataSource = this.selectData;\n        }\n      }\n      dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n      this.addedNewItem = false;\n      this.setListData(dataSource, fields, query, e);\n    }\n  };\n  DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n    if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n      this.selectData = this.listData;\n    }\n  };\n  DropDownBase.prototype.updateSelection = function () {\n    // This is for after added the item, need to update the selected index values.\n  };\n  DropDownBase.prototype.renderList = function () {\n    // This is for render the list items.\n    this.render();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n    this.resetList(this.dataSource);\n    this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n  };\n  DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n    this.isDataFetched = false;\n    this.isPrimitiveData = false;\n    var updateData = {};\n    for (var j = 0; props.length > j; j++) {\n      if (newProp[props[j]] && props[j] === 'fields') {\n        this.setFields();\n        updateData[props[j]] = newProp[props[j]];\n      } else if (newProp[props[j]]) {\n        updateData[props[j]] = newProp[props[j]];\n      }\n    }\n    if (Object.keys(updateData).length > 0) {\n      if (Object.keys(updateData).indexOf('dataSource') === -1) {\n        updateData.dataSource = this.dataSource;\n      }\n      if (this.getModuleName() === 'listbox') {\n        if (!this.isReact || this.isReact && (!isNullOrUndefined(newProp.dataSource) || !isNullOrUndefined(newProp.sortOrder))) {\n          this.updateDataSource(updateData, oldProp);\n        }\n      } else {\n        this.isDynamicData = true;\n        this.updateDataSource(updateData, oldProp);\n      }\n    }\n  };\n  /**\n   * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n   *\n   * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'dropdownbase') {\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'query':\n        case 'sortOrder':\n        case 'dataSource':\n        case 'itemTemplate':\n          break;\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n        case 'groupTemplate':\n          this.renderGroupTemplate(this.list);\n          if (this.ulElement && this.fixedHeaderElement) {\n            var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n          }\n          break;\n        case 'locale':\n          if (this.list && !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0) {\n            this.l10nUpdate();\n          }\n          break;\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n      }\n    }\n  };\n  /**\n   * Build and render the component\n   *\n   * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n   * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n   * @private\n   * @returns {void}\n   */\n  DropDownBase.prototype.render = function (e, isEmptyData) {\n    if (this.getModuleName() === 'listbox') {\n      this.list = this.createElement('div', {\n        className: dropDownBaseClasses.content,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n    } else {\n      this.list = this.createElement('div', {\n        className: dropDownBaseClasses.content\n      });\n    }\n    this.list.classList.add(dropDownBaseClasses.root);\n    this.setFields();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + dropDownBaseClasses.li\n    };\n    this.rippleFun = rippleEffect(this.list, rippleModel);\n    var group = this.element.querySelector('select>optgroup');\n    if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n      var elements = this.getScrollableParent();\n      for (var i = 0; i < elements.length; i++) {\n        var ele = elements[i];\n        EventHandler.add(ele, 'scroll', this.updateGroupFixedHeader, this);\n      }\n    }\n    if (this.getModuleName() === 'dropdownbase') {\n      if (this.element.getAttribute('tabindex')) {\n        this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n      }\n      removeClass([this.element], dropDownBaseClasses.root);\n      this.element.style.display = 'none';\n      var wrapperElement = this.createElement('div');\n      this.element.parentElement.insertBefore(wrapperElement, this.element);\n      wrapperElement.appendChild(this.element);\n      wrapperElement.appendChild(this.list);\n    }\n    this.setEnableRtl();\n    if (!isEmptyData) {\n      this.initialize(e);\n    }\n  };\n  DropDownBase.prototype.getScrollableParent = function () {\n    var eleStyle = getComputedStyle(this.element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = this.element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n      var parentStyle = getComputedStyle(parent);\n      if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n        scrollParents.push(parent);\n      }\n      parent = parent.parentElement;\n    }\n    scrollParents.push(document);\n    return scrollParents;\n  };\n  DropDownBase.prototype.removeScrollEvent = function () {\n    if (this.list) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownBase.prototype.getModuleName = function () {\n    return 'dropdownbase';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownBase.prototype.getItems = function () {\n    return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n    */\n  DropDownBase.prototype.addItem = function (items, itemIndex) {\n    if (!this.list || this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox') {\n      this.renderList();\n    }\n    if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n      var newList = [].slice.call(this.listData);\n      newList.push(items);\n      newList = this.getSortedDataSource(newList);\n      if (this.fields.groupBy) {\n        newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n        itemIndex = newList.indexOf(items);\n      } else {\n        itemIndex = newList.indexOf(items);\n      }\n    }\n    var itemsCount = this.getItems().length;\n    var isListboxEmpty = itemsCount === 0;\n    var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    items = items instanceof Array ? items : [items];\n    var index;\n    index = isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1 ? itemsCount : itemIndex;\n    var fields = this.fields;\n    if (items && fields.groupBy) {\n      items = ListBase.groupDataSource(items, fields.properties);\n    }\n    var liCollections = [];\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var isHeader = item.isHeader;\n      var li = this.createElement('li', {\n        className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li,\n        id: 'option-add-' + i\n      });\n      var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n      if (isHeader) {\n        li.innerText = itemText;\n      }\n      if (this.itemTemplate && !isHeader) {\n        var itemCheck = this.templateCompiler(this.itemTemplate);\n        var compiledString = typeof this.itemTemplate !== 'function' && itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n        if (addItemTemplate) {\n          append(addItemTemplate, li);\n        }\n      } else if (!isHeader) {\n        li.appendChild(document.createTextNode(itemText));\n      }\n      li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n      li.setAttribute('role', 'option');\n      this.notify('addItem', {\n        module: 'CheckBoxSelection',\n        item: li\n      });\n      liCollections.push(li);\n      if (this.getModuleName() === 'listbox') {\n        this.listData.splice(isListboxEmpty ? this.listData.length : index, 0, item);\n        if (this.listData.length !== this.sortedData.length) {\n          this.sortedData = this.listData;\n        }\n      } else {\n        this.listData.push(item);\n      }\n      if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n        index = null;\n      }\n      if (this.getModuleName() === 'listbox') {\n        this.updateActionCompleteData(li, item, isListboxEmpty ? null : index + i);\n      } else {\n        this.updateActionCompleteData(li, item, index);\n      }\n      //Listbox event\n      this.trigger('beforeItemRender', {\n        element: li,\n        item: item\n      });\n    }\n    if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n      if (!isNullOrUndefined(this.list)) {\n        this.list.innerHTML = '';\n        this.list.classList.remove(dropDownBaseClasses.noData);\n        this.isAddNewItemTemplate = true;\n        if (!isNullOrUndefined(this.ulElement)) {\n          this.list.appendChild(this.ulElement);\n        }\n      }\n      this.liCollections = liCollections;\n      if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n        append(liCollections, this.ulElement);\n      }\n      this.updateAddItemList(this.list, itemsCount);\n    } else {\n      if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n        this.ulElement.innerHTML = '';\n      }\n      var attr = [];\n      for (var i = 0; i < items.length; i++) {\n        var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n        for (var j = 0; j < listGroupItem.length; j++) {\n          attr[j] = listGroupItem[j].innerText;\n        }\n        if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n          for (var j = 0; j < listGroupItem.length; j++) {\n            if (attr[j] === liCollections[i].innerText) {\n              if (this.sortOrder === 'None') {\n                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n              } else {\n                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n              }\n              i = i + 1;\n              break;\n            }\n          }\n        } else {\n          if (this.liCollections[index] && this.liCollections[index].parentNode) {\n            this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n          } else {\n            if (itemIndex && this.getModuleName() === 'listbox') {\n              this.ulElement.insertBefore(liCollections[i], this.ulElement.childNodes[itemIndex + i]);\n            } else {\n              this.ulElement.appendChild(liCollections[i]);\n            }\n          }\n        }\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 0, liCollections[i]);\n        this.liCollections = tempLi;\n        index += 1;\n        if (this.getModuleName() === 'multiselect') {\n          this.updateDataList();\n        }\n      }\n    }\n    if (this.getModuleName() === 'listbox' && this.isReact) {\n      this.renderReactTemplates();\n    }\n    if (selectedItemValue || itemIndex === 0) {\n      this.updateSelection();\n    }\n    this.addedNewItem = true;\n  };\n  /**\n   * Checks if the given HTML element is disabled.\n   *\n   * @param {HTMLElement} li - The HTML element to check.\n   * @returns {boolean} - Returns true if the element is disabled, otherwise false.\n   */\n  DropDownBase.prototype.isDisabledElement = function (li) {\n    if (li && li.classList.contains('e-disabled')) {\n      return true;\n    }\n    return false;\n  };\n  /**\n   * Checks whether the list item at the specified index is disabled.\n   *\n   * @param {number} index - The index of the list item to check.\n   * @returns {boolean} True if the list item is disabled, false otherwise.\n   */\n  DropDownBase.prototype.isDisabledItemByIndex = function (index) {\n    if (this.fields.disabled && this.liCollections) {\n      return this.isDisabledElement(this.liCollections[index]);\n    }\n    return false;\n  };\n  /**\n   * Disables the given list item.\n   *\n   * @param { HTMLLIElement } li - The list item to disable.\n   * @returns {void}\n   */\n  DropDownBase.prototype.disableListItem = function (li) {\n    li.classList.add('e-disabled');\n    li.setAttribute('aria-disabled', 'true');\n    li.setAttribute('aria-selected', 'false');\n  };\n  DropDownBase.prototype.validationAttribute = function (target, hidden) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    hidden.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n    for (var i = 0; i < attributes.length; i++) {\n      if (!target.getAttribute(attributes[i])) {\n        continue;\n      }\n      var attr = target.getAttribute(attributes[i]);\n      hidden.setAttribute(attributes[i], attr);\n      target.removeAttribute(attributes[i]);\n    }\n  };\n  DropDownBase.prototype.setZIndex = function () {\n    // this is for component wise\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n    // this is for ComboBox custom value\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n    // this is for multiselect add item\n  };\n  DropDownBase.prototype.updateDataList = function () {\n    // this is for multiselect update list items\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownBase.prototype.getDataByValue = function (value) {\n    if (!isNullOrUndefined(this.listData)) {\n      var type = this.typeOfData(this.listData).typeof;\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n          var item = _a[_i];\n          if (!isNullOrUndefined(item) && item === value) {\n            return item;\n          }\n        }\n      } else {\n        for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n          var item = _c[_b];\n          if (!isNullOrUndefined(item) && getValue(this.fields.value ? this.fields.value : 'value', item) === value) {\n            return item;\n          }\n        }\n      }\n    }\n    return null;\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownBase.prototype.destroy = function () {\n    if (document) {\n      EventHandler.remove(document, 'scroll', this.updateGroupFixedHeader);\n      if (document.body.contains(this.list)) {\n        EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        if (!isNullOrUndefined(this.rippleFun)) {\n          this.rippleFun();\n        }\n        detach(this.list);\n      }\n    }\n    this.liCollections = null;\n    this.ulElement = null;\n    this.list = null;\n    this.enableRtlElements = null;\n    this.rippleFun = null;\n    _super.prototype.destroy.call(this);\n  };\n  __decorate([Complex({\n    text: null,\n    value: null,\n    iconCss: null,\n    groupBy: null,\n    disabled: null\n  }, FieldSettings)], DropDownBase.prototype, \"fields\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"itemTemplate\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"groupTemplate\", void 0);\n  __decorate([Property('No records found')], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n  __decorate([Property('Request failed')], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n  __decorate([Property('None')], DropDownBase.prototype, \"sortOrder\", void 0);\n  __decorate([Property([])], DropDownBase.prototype, \"dataSource\", void 0);\n  __decorate([Property(null)], DropDownBase.prototype, \"query\", void 0);\n  __decorate([Property('StartsWith')], DropDownBase.prototype, \"filterType\", void 0);\n  __decorate([Property(true)], DropDownBase.prototype, \"ignoreCase\", void 0);\n  __decorate([Property(1000)], DropDownBase.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], DropDownBase.prototype, \"ignoreAccent\", void 0);\n  __decorate([Property()], DropDownBase.prototype, \"locale\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionBegin\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionComplete\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"actionFailure\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"select\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"dataBound\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"created\", void 0);\n  __decorate([Event()], DropDownBase.prototype, \"destroyed\", void 0);\n  DropDownBase = __decorate([NotifyPropertyChanges], DropDownBase);\n  return DropDownBase;\n}(Component);\nexport { DropDownBase };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","addClass","append","Property","Event","L10n","compile","setStyleAttribute","extend","removeClass","prepend","isNullOrUndefined","detach","getValue","NotifyPropertyChanges","rippleEffect","ChildProperty","Complex","DataManager","Query","DataUtil","ListBase","select","selectAll","Skeleton","FieldSettings","_super","apply","dropDownBaseClasses","root","rtl","content","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","virtualList","ITEMTEMPLATE_PROPERTY","DISPLAYTEMPLATE_PROPERTY","SPINNERTEMPLATE_PROPERTY","VALUETEMPLATE_PROPERTY","GROUPTEMPLATE_PROPERTY","HEADERTEMPLATE_PROPERTY","FOOTERTEMPLATE_PROPERTY","NORECORDSTEMPLATE_PROPERTY","ACTIONFAILURETEMPLATE_PROPERTY","HIDE_GROUPLIST","DropDownBase","options","element","_this","call","preventChange","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isRequesting","isVirtualizationEnabled","isCustomDataUpdated","isAllowFiltering","virtualizedItemsCount","isCheckBoxSelection","totalItemCount","dataCount","remoteDataCount","isRemoteDataUpdated","isIncrementalRequest","itemCount","virtualListHeight","isVirtualScrolling","isPreventScrollAction","scrollPreStartIndex","isScrollActionTriggered","previousStartIndex","isMouseScrollAction","isKeyBoardAction","isScrollChanged","isUpwardScrolling","startIndex","currentPageNumber","pageCount","isPreventKeyAction","generatedDataObject","skeletonCount","isVirtualTrackHeight","virtualSelectAll","isVirtualReorder","incrementalQueryString","incrementalEndIndex","incrementalStartIndex","incrementalPreQueryString","isObjectCustomValue","appendUncheckList","getInitialData","preventPopupOpen","virtualSelectAllState","CurrentEvent","isDynamicData","isPrimitiveData","isCustomFiltering","debounceTimer","virtualListInfo","direction","sentinelInfo","offsets","endIndex","viewPortInfo","selectedValueInfo","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","data","getValueByText","text","ignoreCase","ignoreAccent","value","listData","checkValueCase","isTextByValue","dataSource","fields_1","fields","type","typeOfData","typeof","_i","dataSource_1","item","checkingAccent","String","checkIgnoreCase","getItemValue","checkNonIgnoreCase","filter","itemValue","toString","compareValue_1","dataItem","ignoreDiacritics","textItem","toLowerCase","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","document","exception","l10nUpdate","actionFailure","ele","getModuleName","ulElement","list","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","innerHTML","tempaltecheck","trim","templateName","noDataElement","isReact","isStringTemplate","nodeName","liElem","createElement","textContent","classList","add","setAttribute","appendChild","HTMLElement","Text","renderReactTemplates","l10nLocale","componentLocale","getLocaleName","locale","getConstant","l10n","checkAndResetCache","virtualItemStartIndex","virtualItemEndIndex","updateIncrementalInfo","updateVirtualItemIndex","resetList","query","updateIncrementalView","UpdateSkeleton","liCollections","querySelectorAll","querySelector","getFilteringSkeletonCount","currentSkeletonCount","getSkeletonCount","skeletonUpdated","contains","Math","abs","getElementsByClassName","style","GetVirtualTrackHeight","virualElement","id","className","styles","getTransformValues","retainSkeleton","listContainerHeight","parseInt","actualCount","listItemHeight","floor","virtualItemCount","height","heightDimension","translateY","styleText","isSkeletonCountChange","isContainSkeleton","isContainVirtualList","totalSkeletonCount","liElement","itemTemplate","window","getComputedStyle","getItems","marginBottom","skeleton","shape","width","cssClass","appendTo","firstChild","insertBefore","children","forEach","el","remove","getTextByValue","properties","allowCustomValue","parseFloat","setEnableRtl","enableRtlElements","push","enableRtl","initialize","e","bindEvent","tagName","jsonElement","createJsonFromElement","setProperties","renderItemsBySelect","setListData","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","attributes","indexOf","name","getAttribute","htmlAttributes","isSelectGroupCheck","isGroupChecking","groupBy","option","getJSONfromOption","optionGroup","label","isHeader","child","updateFields","iconCss","field","items","category","options_1","json","innerText","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","event","isActive","eventArgs","cancel","isAngular","trigger","showSpinner","isWhereExist_1","emptyDataRequest","executeQuery","getQuery","then","isReOrder","newQuery","queryElements","queries","fn","count","nos","condition","operator","listItems","result","renderItems","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","isSetCurrentcall","setCurrentView","notify","module","keyboardEvent","handleVirtualKeyboardActions","preventSkeleton","updatePopupPosition","virtualSelectAllData","virtualSelectionAll","catch","onActionFailure","hideSpinner","virtualGroupDataSource","executeLocal","records","dataManager","localDataArgs","setTimeout","childElementCount","updateDataList","updatePopupState","state","updateRemoteData","childNode","remainingItems","sortedData","updateListValues","raiseDataBound","isObjectInArray","objectToFind","array","some","keys","every","findListElement","findNode","attribute","listArr","slice","index","dataBoundEventArgs","spliceData","skip","listElements","templateListItem","childNodes","createListItemFromArray","listOption","createListItemFromJson","clearTemplate","fixedHeaderElement","zIndex","ngEle","popupHolder","prevHeight","offsetHeight","postRender","popupHolder_1","refreshPopup","listElement","sortOrder","JSON","parse","stringify","disableListItem","focusItem","selectedItem","elements","performFiltering","debouncedFiltering","debounceDelay","clearTimeout","updateVirtualizationProperties","filtering","isCheckbox","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","createListItems","getSortedDataSource","fieldSet","groupDataSource","preventDefActionFilter","take","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","display","setFixedHeader","scrollStop","isDownkey","computedHeight","getValidLi","getPropertyValue","computedMarginValue","marginValue","liHeight","topIndex","round","scrollTop","virtualListCount","isCount","updateGroupHeader","getPageCount","returnExactCount","getBoundingClientRect","updateGroupFixedHeader","top","position","parentElement","offsetTop","scrollY","isCheckBoxUpdate","isClearAll","incrementalLiCollections","incrementalUlElement","incrementalListData","oldUlElement","virtualUlElement","replaceChild","reOrderList","removeChild","updateListElements","createVirtualContent","isRemovedUlelement","templateID","itemcheck","renderContentTemplate","listDataType","isNullData","borderWidth","defaultView","isNaN","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","liWidth","offsetWidth","firstLi","textField","getDataSource","addSorting","getIndexByValue","getIndexByValueFilter","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","oldProps","setUpdateInitial","updateData","j","onPropertyChanged","_a","setZIndex","isEmptyData","attrs","rippleModel","duration","selector","rippleFun","getScrollableParent","wrapperElement","eleStyle","scrollParents","overflowRegex","parent","parentStyle","test","overflow","overflowY","overflowX","removeScrollEvent","addItem","itemIndex","newList","itemsCount","isListboxEmpty","selectedItemValue","itemText","itemCheck","addItemTemplate","createTextNode","splice","updateActionCompleteData","updateAddItemList","listGroupItem","parentNode","tempLi","isDisabledElement","isDisabledItemByIndex","validationAttribute","hidden","removeAttribute","getDataByValue","_b","_c","destroy","body"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-base/drop-down-base.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"disabled\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group',\n    virtualList: 'e-list-item e-virtual-list'\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isCustomDataUpdated = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.isCheckBoxSelection = false;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        _this.remoteDataCount = -1;\n        _this.isRemoteDataUpdated = false;\n        _this.isIncrementalRequest = false;\n        _this.itemCount = 30;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isScrollChanged = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.skeletonCount = 32;\n        _this.isVirtualTrackHeight = false;\n        _this.virtualSelectAll = false;\n        _this.isVirtualReorder = false;\n        _this.incrementalQueryString = '';\n        _this.incrementalEndIndex = 0;\n        _this.incrementalStartIndex = 0;\n        _this.incrementalPreQueryString = '';\n        _this.isObjectCustomValue = false;\n        _this.appendUncheckList = false;\n        _this.getInitialData = false;\n        _this.preventPopupOpen = true;\n        _this.virtualSelectAllState = false;\n        _this.CurrentEvent = null;\n        _this.isDynamicData = false;\n        _this.isPrimitiveData = false;\n        _this.isCustomFiltering = false;\n        _this.debounceTimer = null;\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0\n        };\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        if (!isNullOrUndefined(this.listData)) {\n            var dataSource = this.listData;\n            var fields_1 = this.fields;\n            var type = this.typeOfData(dataSource).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                    var item = dataSource_1[_i];\n                    if (!isNullOrUndefined(item)) {\n                        if (ignoreAccent) {\n                            value = this.checkingAccent(String(item), text, ignoreCase);\n                        }\n                        else {\n                            if (ignoreCase) {\n                                if (this.checkIgnoreCase(String(item), text)) {\n                                    value = this.getItemValue(String(item), text, ignoreCase);\n                                }\n                            }\n                            else {\n                                if (this.checkNonIgnoreCase(String(item), text)) {\n                                    value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (ignoreCase) {\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields_1.value, item);\n                        if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields_1.text, item).toString(), text)) {\n                            value = getValue(fields_1.value, item);\n                        }\n                    });\n                }\n                else {\n                    if (isTextByValue) {\n                        var compareValue_1 = null;\n                        compareValue_1 = value;\n                        dataSource.filter(function (item) {\n                            var itemValue = getValue(fields_1.value, item);\n                            if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) &&\n                                itemValue.toString() === compareValue_1.toString()) {\n                                value = getValue(fields_1.text, item);\n                            }\n                        });\n                    }\n                    else {\n                        dataSource.filter(function (item) {\n                            if (_this.checkNonIgnoreCase(getValue(fields_1.text, item), text)) {\n                                value = getValue(fields_1.value, item);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if ((!isNullOrUndefined(this.noRecordsTemplate) && this.noRecordsTemplate !== 'No records found') || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        if (noDataElement[i] instanceof HTMLElement || ((noDataElement[i] instanceof Text) && (noDataElement[i]).textContent !== '')) {\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.checkAndResetCache = function () {\n        if (this.isVirtualizationEnabled) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = {\n                currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount\n            };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.isIncrementalRequest = true;\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.isIncrementalRequest = false;\n    };\n    DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n    };\n    DropDownBase.prototype.updateVirtualItemIndex = function () {\n        this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n        this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n        this.virtualListInfo = this.viewPortInfo;\n    };\n    DropDownBase.prototype.getFilteringSkeletonCount = function () {\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount < this.itemCount * 2 && ((!(this.dataSource instanceof DataManager)) ||\n            ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n        var skeletonUpdated = true;\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && (this.totalItemCount < (this.itemCount * 2)) && ((!(this.dataSource instanceof DataManager)) || ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount)))) {\n            this.skeletonCount = 0;\n            skeletonUpdated = false;\n        }\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            if ((this.list.getElementsByClassName('e-virtual-ddl').length > 0)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n                var virualElement = this.createElement('div', {\n                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                });\n                this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n            }\n            if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 && this.listItemHeight > 0 ?\n            Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 4 < this.itemCount ? this.itemCount : actualCount * 4;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.virtualItemCount = this.itemCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2);\n    };\n    DropDownBase.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ?\n            this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        height = this.isVirtualTrackHeight ? 0 : height;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n            return 'height: 0px;';\n        }\n        return heightDimension;\n    };\n    DropDownBase.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = ((this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0) ||\n            this.skeletonCount === 0) ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.isVirtualizationEnabled && this.itemTemplate) {\n                    liElement.style.height = (this.listItemHeight - parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom, 10)) + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: 'Text',\n                    height: '10px',\n                    width: '95%',\n                    cssClass: 'e-skeleton-text'\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                if (isContainSkeleton.firstChild) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n                }\n            }\n            if (this.getModuleName() === 'multiselect' && !this.isVirtualReorder && !isContainSkeleton.firstChild.classList.contains('e-reorder')) {\n                for (var i = 0; i < totalSkeletonCount && this.totalItemCount !== this.viewPortInfo.endIndex; i++) {\n                    var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList + \" e-virtual-list-end\", styles: 'overflow: inherit' });\n                    if (this.isVirtualizationEnabled && this.itemTemplate) {\n                        liElement.style.height = (this.listItemHeight - parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom, 10)) + 'px';\n                    }\n                    var skeleton = new Skeleton({\n                        shape: 'Text',\n                        height: '10px',\n                        width: '95%',\n                        cssClass: 'e-skeleton-text-end'\n                    });\n                    skeleton.appendTo(this.createElement('div'));\n                    liElement.appendChild(skeleton.element);\n                    if (isContainSkeleton.firstChild) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        isContainSkeleton.firstChild.appendChild(liElement);\n                    }\n                }\n                if (this.totalItemCount === this.viewPortInfo.endIndex) {\n                    isContainSkeleton.querySelectorAll('.e-virtual-list-end').forEach(function (el) { return el.remove(); });\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue &&\n                this.properties.value &&\n                this.properties.value instanceof Array &&\n                this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number' ||\n                item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean' ||\n                item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - The event object.\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.preventPopupOpen = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var group = element.querySelectorAll('select>optgroup');\n        var fields;\n        var isSelectGroupCheck = this.getModuleName() === 'multiselect' && this.isGroupChecking && group.length > 0;\n        fields = isSelectGroupCheck ? { value: 'value', text: 'text', groupBy: 'categeory' } : fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                if (isSelectGroupCheck) {\n                    this.getJSONfromOption(jsonElement, child, fields, item.label);\n                }\n                else {\n                    jsonElement.push(optionGroup);\n                    this.getJSONfromOption(jsonElement, child, fields);\n                }\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, isSelectGroupCheck ? fields.groupBy : this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss, this.fields.disabled);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss, disabled) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss,\n                disabled: !isNullOrUndefined(disabled) ? disabled : this.fields && this.fields.disabled\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields, category) {\n        if (category === void 0) { category = null; }\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            if (!isNullOrUndefined(category)) {\n                json[fields.groupBy] = category;\n            }\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} event - Specifies the event which is the reason for the invocation of this method.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager) {\n                        _this.isRequested = true;\n                        var isWhereExist_1 = false;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            var isReOrder = true;\n                            if (!_this.virtualSelectAll) {\n                                var newQuery = _this.getQuery(eventArgs.query);\n                                for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                    if (newQuery.queries[queryElements].fn === 'onWhere') {\n                                        isWhereExist_1 = true;\n                                    }\n                                }\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                if (_this.isVirtualizationEnabled && (e.count !== 0 && e.count < (_this.itemCount * 2))) {\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (newQuery.queries[queryElements].fn === 'onTake') {\n                                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                                newQuery.queries[queryElements].e.nos = e.count;\n                                            }\n                                            if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal') && !_this.isCustomFiltering) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                                else {\n                                    _this.isVirtualTrackHeight = false;\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal'))) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            if (isReOrder) {\n                                // eslint-disable @typescript-eslint/no-explicit-any\n                                _this.dataCount = _this.totalItemCount = e.count;\n                            }\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!e.cancel) {\n                                    _this.isRequesting = false;\n                                    _this.isCustomFiltering = false;\n                                    var listItems = e.result;\n                                    if (_this.isIncrementalRequest) {\n                                        ulElement = _this.renderItems(listItems, fields);\n                                        return;\n                                    }\n                                    if ((!_this.isVirtualizationEnabled && listItems.length === 0) ||\n                                        (_this.isVirtualizationEnabled && listItems.length === 0 && !isWhereExist_1)) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    if (!isWhereExist_1) {\n                                        _this.remoteDataCount = e.count;\n                                    }\n                                    _this.dataCount = !_this.virtualSelectAll ? e.count : _this.dataCount;\n                                    _this.totalItemCount = !_this.virtualSelectAll ? e.count : _this.totalItemCount;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.appendUncheckList = false;\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                    if (_this.getInitialData) {\n                                        _this.getInitialData = false;\n                                        _this.preventPopupOpen = false;\n                                        return;\n                                    }\n                                    var isSetCurrentcall = false;\n                                    if (_this.isVirtualizationEnabled && _this.setCurrentView) {\n                                        isSetCurrentcall = true;\n                                        _this.notify('setCurrentViewDataAsync', {\n                                            module: 'VirtualScroll'\n                                        });\n                                    }\n                                    if (_this.keyboardEvent != null) {\n                                        _this.handleVirtualKeyboardActions(_this.keyboardEvent, _this.pageCount);\n                                    }\n                                    var preventSkeleton = _this.getModuleName() !== 'multiselect' || (_this.getModuleName() === 'multiselect' && (!(_this.dataSource instanceof DataManager) || (_this.dataSource instanceof DataManager && !isSetCurrentcall)));\n                                    if (_this.isVirtualizationEnabled && preventSkeleton) {\n                                        _this.getFilteringSkeletonCount();\n                                        _this.updatePopupPosition();\n                                    }\n                                    if (_this.virtualSelectAll && _this.virtualSelectAllData) {\n                                        _this.virtualSelectionAll(_this.virtualSelectAllState, _this.liCollections, _this.CurrentEvent);\n                                        _this.virtualSelectAllState = false;\n                                        _this.CurrentEvent = null;\n                                        _this.virtualSelectAll = false;\n                                    }\n                                }\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var isReOrder = true;\n                        var listItems = void 0;\n                        if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n                            var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n                            _this.virtualGroupDataSource = data.records;\n                        }\n                        var dataManager = _this.isVirtualizationEnabled &&\n                            _this.virtualGroupDataSource\n                            && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) :\n                            new DataManager(eventArgs.data);\n                        listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        if (!_this.virtualSelectAll) {\n                            var newQuery = _this.getQuery(eventArgs.query);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (_this.isVirtualizationEnabled && (listItems.count !== 0 &&\n                                listItems.count < (_this.itemCount * 2)) && !_this.appendUncheckList) {\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (newQuery.queries[queryElements].fn === 'onTake') {\n                                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                            newQuery.queries[queryElements].e.nos = listItems.count;\n                                            listItems = (newQuery).executeLocal(dataManager);\n                                        }\n                                        if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition === 'or' || newQuery.queries[queryElements].e.operator === 'equal') && !_this.isCustomFiltering) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                    if (isReOrder) {\n                                        listItems = (newQuery).executeLocal(dataManager);\n                                        _this.isVirtualTrackHeight = (!(_this.dataSource instanceof DataManager) &&\n                                            !_this.isCustomDataUpdated) ? true : false;\n                                    }\n                                }\n                            }\n                            else {\n                                _this.isVirtualTrackHeight = false;\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition === 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator === 'equal'))) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if (isReOrder && (!(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated) &&\n                            !_this.virtualSelectAll) {\n                            // eslint-disable @typescript-eslint/no-explicit-any\n                            _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length :\n                                listItems.count;\n                        }\n                        listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n                        // eslint-enable @typescript-eslint/no-explicit-any\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            _this.isCustomFiltering = false;\n                            if (_this.isIncrementalRequest) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                return;\n                            }\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                if (_this.getInitialData) {\n                                    _this.getInitialData = false;\n                                    _this.preventPopupOpen = false;\n                                    return;\n                                }\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updatePopupState = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updatePopupPosition = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.virtualSelectionAll = function (state, li, event) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updateRemoteData = function () {\n        this.setListData(this.dataSource, this.fields, this.query);\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n        return array.some(function (item) {\n            return Object.keys(objectToFind).every(function (key) {\n                return Object.prototype.hasOwnProperty.call(item, key) && item[key] === objectToFind[key];\n            });\n        });\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.isRequesting = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        var _this = this;\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled && !this.isCustomDataUpdated && !this.virtualSelectAll) {\n            this.notify('setGeneratedData', {\n                module: 'VirtualScroll'\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        if (!this.isVirtualizationEnabled) {\n            this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        }\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML === '') {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n                if (ulElement.children[0].classList.contains('e-hide-group-header')) {\n                    setStyleAttribute(ulElement.children[1], { zIndex: 11 });\n                }\n            }\n        }\n        if (this.getModuleName() === 'multiselect' && this.isAngular && this.ngEle) {\n            var popupHolder = this.list;\n            if (popupHolder) {\n                var prevHeight = popupHolder.offsetHeight + 'px';\n                popupHolder.style.height = prevHeight;\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n        if (this.getModuleName() === 'multiselect' && this.isAngular && this.ngEle) {\n            var popupHolder_1 = this.list;\n            if (popupHolder_1) {\n                setTimeout(function () {\n                    popupHolder_1.style.height = '';\n                    _this.refreshPopup();\n                }, 0);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        if (this.fields.disabled) {\n            var liCollections = listElement.querySelectorAll('.' + dropDownBaseClasses.li);\n            var data = this.sortOrder !== 'None' ? !isNullOrUndefined(this.fields.groupBy) ?\n                this.sortedData.filter(function (item) { return !('isHeader' in item) || item.isHeader !== true; }) : this.sortedData : this.listData;\n            for (var index = 0; index < liCollections.length; index++) {\n                if (JSON.parse(JSON.stringify(data[index]))[this.fields.disabled]) {\n                    if (!isNullOrUndefined(this.fields.groupBy)) {\n                        var item = data[index];\n                        var value = getValue((this.fields.value ? this.fields.value : 'value'), item);\n                        var li = listElement.querySelector('li[data-value=\"' + value + '\"]');\n                        if (!isNullOrUndefined(li)) {\n                            this.disableListItem(li);\n                        }\n                    }\n                    else {\n                        this.disableListItem(liCollections[index]);\n                    }\n                }\n            }\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = this.fields.disabled ? listElement.querySelector('.' + dropDownBaseClasses.li + ':not(.e-disabled') : listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            if (this.isVirtualizationEnabled && this.viewPortInfo.startIndex !== 0) {\n                var elements = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n                focusItem = elements && elements.length > 0 ? elements[2] : focusItem;\n            }\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.focus);\n            }\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.performFiltering = function (e) {\n        // this is for component wise\n    };\n    DropDownBase.prototype.debouncedFiltering = function (e, debounceDelay) {\n        var _this = this;\n        if (this.debounceTimer !== null) {\n            clearTimeout(this.debounceTimer);\n        }\n        this.debounceTimer = setTimeout(function () {\n            _this.performFiltering(e);\n        }, debounceDelay);\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n        this.isCheckBoxSelection = isCheckbox;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource) {\n            if (fields.groupBy || this.element.querySelector('optgroup')) {\n                if (fields.groupBy) {\n                    if (this.sortOrder !== 'None') {\n                        dataSource = this.getSortedDataSource(dataSource);\n                    }\n                    var fieldSet = fields.properties ||\n                        fields;\n                    dataSource = ListBase.groupDataSource(dataSource, fieldSet, this.sortOrder);\n                }\n                addClass([this.list], dropDownBaseClasses.grouping);\n            }\n            else if (this.getModuleName() !== 'listbox' || (this.getModuleName() === 'listbox' && !this.preventDefActionFilter)) {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            var options = this.listOption(dataSource, fields);\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            this.sortedData = dataSource;\n            return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n        }\n        return null;\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var computedHeight = getComputedStyle(this.getValidLi(), null).getPropertyValue('height');\n        var computedMarginValue = getComputedStyle(this.getValidLi(), null).getPropertyValue('margin-bottom');\n        var marginValue = parseInt(computedMarginValue, 10);\n        var liHeight = this.getModuleName() === 'multiselect' ? parseFloat(computedHeight) : parseInt(computedHeight, 10);\n        var topIndex = Math.round(target.scrollTop / (liHeight + marginValue));\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var count = 0;\n        var isCount = false;\n        for (var i = topIndex; i > -1; i--) {\n            var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n            if (this.isVirtualizationEnabled) {\n                if (isCount) {\n                    count++;\n                }\n                if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n                if (isDownkey) {\n                    if ((!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete') || (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete')) {\n                        count++;\n                        isCount = true;\n                    }\n                }\n            }\n            else {\n                if (this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getPageCount = function (returnExactCount) {\n        if (this.list) {\n            var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n                getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n            var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n            return returnExactCount ? pageCount : Math.round(pageCount);\n        }\n        else {\n            return 0;\n        }\n    };\n    DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n        if (!isNullOrUndefined(liCollections[index]) &&\n            liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n            this.updateGroupFixedHeader(liCollections[index], target);\n            return true;\n        }\n        else {\n            this.fixedHeaderElement.style.display = 'none';\n            this.fixedHeaderElement.style.top = 'none';\n            return false;\n        }\n    };\n    DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n        if (this.fixedHeaderElement) {\n            if (!isNullOrUndefined(element.innerHTML)) {\n                this.fixedHeaderElement.innerHTML = element.innerHTML;\n            }\n            this.fixedHeaderElement.style.position = 'fixed';\n            this.fixedHeaderElement.style.top = (this.list.parentElement.offsetTop + this.list.offsetTop) - window.scrollY + 'px';\n            this.fixedHeaderElement.style.display = 'block';\n        }\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        if (this.isVirtualizationEnabled) {\n            return this.liCollections[0].classList.contains('e-virtual-list') ? this.liCollections[this.skeletonCount] : this.liCollections[0];\n        }\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {boolean} isCheckBoxUpdate - Specifies whether the list item is updated with checkbox.\n     * @param {boolean} isClearAll - Specifies whether the current action is clearAll.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate, isClearAll) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else if (this.getModuleName() !== 'listbox' || (this.getModuleName() === 'listbox' && !this.preventDefActionFilter)) {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    if (this.getModuleName() === 'multiselect' && this.isCheckBoxSelection && this.appendUncheckList && this.list && this.list.querySelector('.e-active')) {\n                        virtualUlElement.appendChild(ulElement);\n                        isCheckBoxUpdate = true;\n                    }\n                    else {\n                        virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    }\n                    var reOrderList = this.list.querySelectorAll('.e-reorder');\n                    if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n                        this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if (!virtualUlElement) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        else {\n            if (this.getModuleName() === 'multiselect' && (this.virtualSelectAll && !isClearAll)) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            ulElement = this.createListItems(listData, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                var isRemovedUlelement = false;\n                if ((!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder')) || (oldUlElement && this.isVirtualReorder && this.list.querySelector('.e-list-parent' + '.e-reorder'))) {\n                    oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n                }\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect')) || isRemovedUlelement) {\n                    if (this.getModuleName() !== 'multiselect' || (this.getModuleName() === 'multiselect' && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && !this.setCurrentView)))) {\n                        if (!this.appendUncheckList) {\n                            virtualUlElement.replaceChild(ulElement, oldUlElement);\n                        }\n                        else {\n                            virtualUlElement.appendChild(ulElement);\n                        }\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement) || (!virtualUlElement.firstChild)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.createVirtualContent = function () {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n                className: 'e-virtual-ddl-content'\n            }));\n        }\n    };\n    DropDownBase.prototype.updateListElements = function (listData) {\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.listData = listData;\n        this.postRender(this.list, listData, this.bindEvent);\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        var ulElement;\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            ulElement = ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n            if (this.isVirtualizationEnabled && this.isReact) {\n                this.renderReactTemplates();\n            }\n            return ulElement;\n        }\n        else {\n            ulElement = ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n            if (this.isVirtualizationEnabled && this.isReact) {\n                this.renderReactTemplates();\n            }\n            return ulElement;\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        if (!isNullOrUndefined(firstLi)) {\n            this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n        }\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = [];\n        if (this.fields.disabled && this.getModuleName() === 'multiselect' && this.liCollections) {\n            listItems = this.liCollections;\n        }\n        else {\n            listItems = this.getItems();\n        }\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @param {HTMLElement} ulElement - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValueFilter = function (value, ulElement) {\n        var index;\n        if (!ulElement) {\n            return null;\n        }\n        var listItems = ulElement.querySelectorAll('li' + ':not(.e-list-group-item)');\n        if (listItems) {\n            for (var i = 0; i < listItems.length; i++) {\n                if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.isPrimitiveData = true;\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) &&\n            isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n        this.isDataFetched = false;\n        this.isPrimitiveData = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            if (this.getModuleName() === 'listbox') {\n                if (!this.isReact || (this.isReact && (!isNullOrUndefined(newProp.dataSource) || !isNullOrUndefined(newProp.sortOrder)))) {\n                    this.updateDataSource(updateData, oldProp);\n                }\n            }\n            else {\n                this.isDynamicData = true;\n                this.updateDataSource(updateData, oldProp);\n            }\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {MouseEvent | KeyboardEventArgs | TouchEvent} e - Specifies the event.\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n            var elements = this.getScrollableParent();\n            for (var i = 0; i < elements.length; i++) {\n                var ele = elements[i];\n                EventHandler.add(ele, 'scroll', this.updateGroupFixedHeader, this);\n            }\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    DropDownBase.prototype.getScrollableParent = function () {\n        var eleStyle = getComputedStyle(this.element);\n        var scrollParents = [];\n        var overflowRegex = /(auto|scroll)/;\n        var parent = this.element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n                && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n                scrollParents.push(parent);\n            }\n            parent = parent.parentElement;\n        }\n        scrollParents.push(document);\n        return scrollParents;\n    };\n    DropDownBase.prototype.removeScrollEvent = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var isListboxEmpty = itemsCount === 0;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            if (this.getModuleName() === 'listbox') {\n                this.listData.splice(isListboxEmpty ?\n                    this.listData.length : index, 0, item);\n                if (this.listData.length !== this.sortedData.length) {\n                    this.sortedData = this.listData;\n                }\n            }\n            else {\n                this.listData.push(item);\n            }\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            if (this.getModuleName() === 'listbox') {\n                this.updateActionCompleteData(li, item, isListboxEmpty ? null : index + i);\n            }\n            else {\n                this.updateActionCompleteData(li, item, index);\n            }\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index] && this.liCollections[index].parentNode) {\n                        this.liCollections[index].parentNode.\n                            insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        if (itemIndex && this.getModuleName() === 'listbox') {\n                            this.ulElement.insertBefore(liCollections[i], this.ulElement.childNodes[itemIndex + i]);\n                        }\n                        else {\n                            this.ulElement.appendChild(liCollections[i]);\n                        }\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    /**\n     * Checks if the given HTML element is disabled.\n     *\n     * @param {HTMLElement} li - The HTML element to check.\n     * @returns {boolean} - Returns true if the element is disabled, otherwise false.\n     */\n    DropDownBase.prototype.isDisabledElement = function (li) {\n        if (li && li.classList.contains('e-disabled')) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Checks whether the list item at the specified index is disabled.\n     *\n     * @param {number} index - The index of the list item to check.\n     * @returns {boolean} True if the list item is disabled, false otherwise.\n     */\n    DropDownBase.prototype.isDisabledItemByIndex = function (index) {\n        if (this.fields.disabled && this.liCollections) {\n            return this.isDisabledElement(this.liCollections[index]);\n        }\n        return false;\n    };\n    /**\n     * Disables the given list item.\n     *\n     * @param { HTMLLIElement } li - The list item to disable.\n     * @returns {void}\n     */\n    DropDownBase.prototype.disableListItem = function (li) {\n        li.classList.add('e-disabled');\n        li.setAttribute('aria-disabled', 'true');\n        li.setAttribute('aria-selected', 'false');\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document) {\n            EventHandler.remove(document, 'scroll', this.updateGroupFixedHeader);\n            if (document.body.contains(this.list)) {\n                EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n                if (!isNullOrUndefined(this.rippleFun)) {\n                    this.rippleFun();\n                }\n                detach(this.list);\n            }\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null, disabled: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
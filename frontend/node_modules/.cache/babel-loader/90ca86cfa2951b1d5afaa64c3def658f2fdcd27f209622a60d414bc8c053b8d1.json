{"ast":null,"code":"import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n  header: '.' + literals.gridHeader,\n  content: '.' + literals.gridContent,\n  edit: '.e-inline-edit',\n  batchEdit: '.e-editedbatchcell',\n  editIcon: 'e-edit',\n  pager: '.e-gridpager',\n  delete: 'e-delete',\n  save: 'e-save',\n  cancel: 'e-cancel',\n  copy: 'e-copy',\n  pdf: 'e-pdfexport',\n  group: 'e-icon-group',\n  ungroup: 'e-icon-ungroup',\n  csv: 'e-csvexport',\n  excel: 'e-excelexport',\n  fPage: 'e-icon-first',\n  nPage: 'e-icon-next',\n  lPage: 'e-icon-last',\n  pPage: 'e-icon-prev',\n  ascending: 'e-icon-ascending',\n  descending: 'e-icon-descending',\n  groupHeader: 'e-groupdroparea',\n  touchPop: 'e-gridpopup',\n  autofit: 'e-icon-autofit',\n  autofitall: 'e-icon-autofitall'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */function () {\n  function ContextMenu(parent, serviceLocator) {\n    this.defaultItems = {};\n    this.disableItems = [];\n    this.hiddenItems = [];\n    this.localeText = this.setLocaleKey();\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  ContextMenu.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n    this.parent.on(events.initialLoad, this.render, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  ContextMenu.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.initialLoad, this.render);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n    this.parent.off(events.destroy, this.destroy);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n  };\n  ContextMenu.prototype.keyDownHandler = function (e) {\n    if (e.code === 'Tab' || e.which === 9) {\n      this.contextMenu.close();\n    }\n    if (e.code === 'Escape') {\n      this.contextMenu.close();\n      this.parent.notify(events.restoreFocus, {});\n    }\n  };\n  ContextMenu.prototype.render = function () {\n    this.parent.element.classList.add('e-noselect');\n    this.l10n = this.serviceLocator.getService('localization');\n    this.element = this.parent.createElement('ul', {\n      id: this.gridID + '_cmenu'\n    });\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n    this.parent.element.appendChild(this.element);\n    var target = '#' + this.gridID;\n    this.contextMenu = new Menu({\n      items: this.getMenuItems(),\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      target: target,\n      select: this.contextMenuItemClick.bind(this),\n      beforeOpen: this.contextMenuBeforeOpen.bind(this),\n      onOpen: this.contextMenuOpen.bind(this),\n      onClose: this.contextMenuOnClose.bind(this),\n      cssClass: this.parent.cssClass ? 'e-grid-menu' + ' ' + this.parent.cssClass : 'e-grid-menu'\n    });\n    this.contextMenu.appendTo(this.element);\n  };\n  ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      if (this.contextMenu) {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.parent.element.classList.remove('e-noselect');\n      }\n      this.render();\n    }\n  };\n  ContextMenu.prototype.getMenuItems = function () {\n    var menuItems = [];\n    var exportItems = [];\n    for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n      if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n        if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n          exportItems.push(this.buildDefaultItems(item));\n        } else {\n          menuItems.push(this.buildDefaultItems(item));\n        }\n      } else if (typeof item !== 'string') {\n        menuItems.push(item);\n      }\n    }\n    if (exportItems.length > 0) {\n      var exportGroup = this.buildDefaultItems('export');\n      exportGroup.items = exportItems;\n      menuItems.push(exportGroup);\n    }\n    return menuItems;\n  };\n  ContextMenu.prototype.getLastPage = function () {\n    var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n    if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n      totalpage += 1;\n    }\n    return totalpage;\n  };\n  ContextMenu.prototype.contextMenuOpen = function () {\n    this.isOpen = true;\n  };\n  /**\n   * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n   * @returns {void}\n   * @hidden\n   */\n  ContextMenu.prototype.contextMenuItemClick = function (args) {\n    var item = this.getKeyFromId(args.item.id);\n    switch (item) {\n      case 'AutoFitAll':\n        this.parent.autoFitColumns([]);\n        break;\n      case 'AutoFit':\n        this.parent.autoFitColumns(this.targetColumn.field);\n        break;\n      case 'Group':\n        this.parent.groupColumn(this.targetColumn.field);\n        break;\n      case 'Ungroup':\n        this.parent.ungroupColumn(this.targetColumn.field);\n        break;\n      case 'Edit':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode === 'Batch') {\n            if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10) - 1)) {\n              this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10) - 1,\n              // eslint-disable-next-line\n              this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10) - 1].field);\n            }\n          } else {\n            this.parent.editModule.endEdit();\n            this.parent.editModule.startEdit(this.row);\n          }\n        }\n        break;\n      case 'Delete':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode !== 'Batch') {\n            this.parent.editModule.endEdit();\n          }\n          if (this.parent.getSelectedRecords().length === 1) {\n            if (!this.parent.isCheckBoxSelection) {\n              this.parent.isFocusFirstCell = true;\n            }\n            this.parent.editModule.deleteRow(this.row);\n          } else {\n            this.parent.deleteRecord();\n          }\n        }\n        break;\n      case 'Save':\n        if (this.parent.editModule) {\n          if (this.parent.isEdit && this.parent.editSettings.mode !== 'Batch') {\n            this.parent.isFocusFirstCell = true;\n          }\n          this.parent.editModule.endEdit();\n        }\n        break;\n      case 'Cancel':\n        if (this.parent.editModule) {\n          if (this.parent.isEdit) {\n            this.parent.isFocusFirstCell = true;\n          }\n          this.parent.editModule.closeEdit();\n        }\n        break;\n      case 'Copy':\n        this.parent.copy();\n        break;\n      case 'PdfExport':\n        this.parent.pdfExport();\n        break;\n      case 'ExcelExport':\n        this.parent.excelExport();\n        break;\n      case 'CsvExport':\n        this.parent.csvExport();\n        break;\n      case 'SortAscending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n        break;\n      case 'SortDescending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Descending');\n        break;\n      case 'FirstPage':\n        this.parent.goToPage(1);\n        break;\n      case 'PrevPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n        break;\n      case 'LastPage':\n        this.parent.goToPage(this.getLastPage());\n        break;\n      case 'NextPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n        break;\n    }\n    args.column = this.targetColumn;\n    args.rowInfo = this.targetRowdata;\n    this.parent.trigger(events.contextMenuClick, args);\n  };\n  ContextMenu.prototype.contextMenuOnClose = function (args) {\n    var parent = 'parentObj';\n    if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n      this.updateItemStatus();\n    }\n    this.parent.notify(events.selectRowOnContextOpen, {\n      isOpen: false\n    });\n  };\n  ContextMenu.prototype.getLocaleText = function (item) {\n    return this.l10n.getConstant(this.localeText[\"\" + item]);\n  };\n  ContextMenu.prototype.updateItemStatus = function () {\n    this.contextMenu.showItems(this.hiddenItems);\n    this.contextMenu.enableItems(this.disableItems);\n    this.hiddenItems = [];\n    this.disableItems = [];\n    this.isOpen = false;\n  };\n  ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n    var closestGrid = closest(args.event.target, '.e-grid');\n    if (args.event && closestGrid && closestGrid !== this.parent.element) {\n      args.cancel = true;\n    } else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader) || closest(args.event.target, '.' + menuClass.touchPop) || closest(args.event.target, '.e-summarycell') || closest(args.event.target, '.e-groupcaption') || closest(args.event.target, '.e-filterbarcell')) || this.parent.editSettings.showAddNewRow && closest(args.event.target, '.e-addedrow') && this.parent.element.querySelector('.e-editedrow')) {\n      args.cancel = true;\n    } else {\n      this.targetColumn = this.getColumn(args.event);\n      if (parentsUntil(args.event.target, 'e-grid')) {\n        this.targetRowdata = this.parent.getRowInfo(args.event.target);\n      }\n      if (isNullOrUndefined(args.parentItem) && this.targetColumn) {\n        if (this.targetRowdata.cell) {\n          this.parent.notify(events.selectRowOnContextOpen, {\n            isOpen: true\n          });\n          this.selectRow(args.event, this.targetRowdata.cell.classList.contains('e-selectionbackground') && this.parent.selectionSettings.type === 'Multiple' ? false : true);\n        }\n      }\n      var hideSepItems = [];\n      var showSepItems = [];\n      for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var key = this.getKeyFromId(item.id);\n        var dItem = this.defaultItems[\"\" + key];\n        if (this.getDefaultItems().indexOf(key) !== -1) {\n          if (this.ensureDisabledStatus(key)) {\n            this.disableItems.push(item.text);\n          }\n          if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) || this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n            if (key !== 'Save' && key !== 'Cancel') {\n              this.hiddenItems.push(item.text);\n            }\n          } else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' && (closest(args.event.target, '.e-gridform') || this.parent.editModule.getBatchChanges()[literals.changedRecords].length || this.parent.editModule.getBatchChanges()[literals.addedRecords].length || this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n            continue;\n          } else if (isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target)) {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (item.target && args.event && !this.ensureTarget(args.event.target, item.target)) {\n          if (item.separator) {\n            hideSepItems.push(item.id);\n          } else {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n          showSepItems.push(item.id);\n        }\n      }\n      if (showSepItems.length > 0) {\n        this.contextMenu.showItems(showSepItems, true);\n      }\n      this.contextMenu.enableItems(this.disableItems, false);\n      this.contextMenu.hideItems(this.hiddenItems);\n      if (hideSepItems.length > 0) {\n        this.contextMenu.hideItems(hideSepItems, true);\n      }\n      this.eventArgs = args.event;\n      args.column = this.targetColumn;\n      args.rowInfo = this.targetRowdata;\n      this.parent.trigger(events.contextMenuOpen, args);\n      if (args.cancel || this.hiddenItems.length === args.items.length && !args.parentItem) {\n        this.updateItemStatus();\n        args.cancel = true;\n      }\n    }\n    applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n  };\n  ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n    var target = targetElement;\n    if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n      target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n    } else if (selector === menuClass.content || selector === menuClass.header) {\n      target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n    } else {\n      target = closest(targetElement, selector);\n    }\n    return target && parentsUntil(target, 'e-grid') === this.parent.element;\n  };\n  ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n    return this.parent.frozenRows && closest(targetElement, menuClass.header) ? true : false;\n  };\n  ContextMenu.prototype.ensureDisabledStatus = function (item) {\n    var status = false;\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit) || this.targetColumn && !this.targetColumn.field && item === 'AutoFit';\n        break;\n      case 'Group':\n        if (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0 || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        }\n        break;\n      case 'Ungroup':\n        if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) {\n          status = true;\n        }\n        break;\n      case 'Edit':\n      case 'Delete':\n      case 'Save':\n      case 'Cancel':\n        if (!this.parent.editModule || this.parent.getDataRows().length === 0) {\n          status = true;\n        }\n        break;\n      case 'Copy':\n        if (this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0 || this.parent.getCurrentViewRecords().length === 0) {\n          status = true;\n        }\n        break;\n      case 'export':\n        if (!(this.parent.allowExcelExport && this.parent.ensureModuleInjected(ExcelExport)) && !(this.parent.allowPdfExport && this.parent.ensureModuleInjected(PdfExport))) {\n          status = true;\n        }\n        break;\n      case 'PdfExport':\n        if (!this.parent.allowPdfExport || !this.parent.ensureModuleInjected(PdfExport)) {\n          status = true;\n        }\n        break;\n      case 'ExcelExport':\n      case 'CsvExport':\n        if (!this.parent.allowExcelExport || !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n        break;\n      case 'SortAscending':\n      case 'SortDescending':\n        if (!this.parent.allowSorting || !this.parent.ensureModuleInjected(Sort) || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        } else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n          var sortColumns = this.parent.sortSettings.columns;\n          for (var i = 0; i < sortColumns.length; i++) {\n            if (sortColumns[parseInt(i.toString(), 10)].field === this.targetColumn.field && sortColumns[parseInt(i.toString(), 10)].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n              status = true;\n            }\n          }\n        }\n        break;\n      case 'FirstPage':\n      case 'PrevPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1) {\n          status = true;\n        }\n        break;\n      case 'LastPage':\n      case 'NextPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) {\n          status = true;\n        }\n        break;\n    }\n    return status;\n  };\n  /**\n   * Gets the context menu element from the Grid.\n   *\n   * @returns {Element} returns the element\n   */\n  ContextMenu.prototype.getContextMenu = function () {\n    return this.element;\n  };\n  /**\n   * Destroys the context menu component in the Grid.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n   */\n  ContextMenu.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n    if (!gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n    if (this.contextMenu) {\n      this.contextMenu.select = null;\n      this.contextMenu.beforeOpen = null;\n      this.contextMenu.onOpen = null;\n      this.contextMenu.onClose = null;\n    }\n    this.removeEventListener();\n    this.contextMenu.destroy();\n    if (this.element.parentNode) {\n      remove(this.element);\n    }\n    this.parent.element.classList.remove('e-noselect');\n  };\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextMenu';\n  };\n  ContextMenu.prototype.generateID = function (item) {\n    return this.gridID + '_cmenu_' + item;\n  };\n  ContextMenu.prototype.getKeyFromId = function (id) {\n    return id.replace(this.gridID + '_cmenu_', '');\n  };\n  ContextMenu.prototype.buildDefaultItems = function (item) {\n    var menuItem;\n    switch (item) {\n      case 'AutoFitAll':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.autofitall\n        };\n        break;\n      case 'AutoFit':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.autofit\n        };\n        break;\n      case 'Group':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.group\n        };\n        break;\n      case 'Ungroup':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ungroup\n        };\n        break;\n      case 'Edit':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.editIcon\n        };\n        break;\n      case 'Delete':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.delete\n        };\n        break;\n      case 'Save':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.save\n        };\n        break;\n      case 'Cancel':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.cancel\n        };\n        break;\n      case 'Copy':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.copy\n        };\n        break;\n      case 'export':\n        menuItem = {\n          target: menuClass.content\n        };\n        break;\n      case 'PdfExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.pdf\n        };\n        break;\n      case 'ExcelExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.excel\n        };\n        break;\n      case 'CsvExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.csv\n        };\n        break;\n      case 'SortAscending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ascending\n        };\n        break;\n      case 'SortDescending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.descending\n        };\n        break;\n      case 'FirstPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.fPage\n        };\n        break;\n      case 'PrevPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.pPage\n        };\n        break;\n      case 'LastPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.lPage\n        };\n        break;\n      case 'NextPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.nPage\n        };\n        break;\n    }\n    this.defaultItems[\"\" + item] = {\n      text: this.getLocaleText(item),\n      id: this.generateID(item),\n      target: menuItem.target,\n      iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n    };\n    return this.defaultItems[\"\" + item];\n  };\n  ContextMenu.prototype.getDefaultItems = function () {\n    return ['AutoFitAll', 'AutoFit', 'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export', 'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n  };\n  ContextMenu.prototype.setLocaleKey = function () {\n    var localeKeys = {\n      'AutoFitAll': 'autoFitAll',\n      'AutoFit': 'autoFit',\n      'Copy': 'Copy',\n      'Group': 'Group',\n      'Ungroup': 'Ungroup',\n      'Edit': 'EditRecord',\n      'Delete': 'DeleteRecord',\n      'Save': 'Save',\n      'Cancel': 'CancelButton',\n      'PdfExport': 'Pdfexport',\n      'ExcelExport': 'Excelexport',\n      'CsvExport': 'Csvexport',\n      'export': 'Export',\n      'SortAscending': 'SortAscending',\n      'SortDescending': 'SortDescending',\n      'FirstPage': 'FirstPage',\n      'LastPage': 'LastPage',\n      'PrevPage': 'PreviousPage',\n      'NextPage': 'NextPage'\n    };\n    return localeKeys;\n  };\n  ContextMenu.prototype.getColumn = function (e) {\n    var cell = closest(e.target, 'th.e-headercell');\n    if (cell) {\n      var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n      return this.parent.getColumnByUid(uid);\n    } else {\n      var ele = this.parent.getRowInfo(e.target).column;\n      return ele || null;\n    }\n  };\n  ContextMenu.prototype.selectRow = function (e, isSelectable) {\n    this.cell = e.target;\n    this.row = closest(e.target, 'tr.e-row') || this.row;\n    if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n      this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10) - 1);\n    }\n  };\n  return ContextMenu;\n}();\nexport { ContextMenu };","map":{"version":3,"names":["closest","isNullOrUndefined","EventHandler","remove","ContextMenu","Menu","events","Resize","Page","parentsUntil","applyBiggerTheme","Group","Sort","PdfExport","ExcelExport","literals","menuClass","header","gridHeader","content","gridContent","edit","batchEdit","editIcon","pager","delete","save","cancel","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","autofit","autofitall","parent","serviceLocator","defaultItems","disableItems","hiddenItems","localeText","setLocaleKey","gridID","element","id","addEventListener","prototype","isDestroyed","on","uiUpdate","enableAfterRenderMenu","initialLoad","render","destroy","removeEventListener","off","keyDownHandler","bind","e","code","which","contextMenu","close","notify","restoreFocus","classList","add","l10n","getService","createElement","appendChild","target","items","getMenuItems","enableRtl","enablePersistence","locale","select","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","cssClass","appendTo","module","getModuleName","enable","menuItems","exportItems","_i","_a","contextMenuItems","length","item","getDefaultItems","indexOf","toLocaleLowerCase","push","buildDefaultItems","exportGroup","getLastPage","totalpage","Math","floor","pageSettings","totalRecordsCount","pageSize","isOpen","args","getKeyFromId","autoFitColumns","targetColumn","field","groupColumn","ungroupColumn","editModule","editSettings","mode","row","cell","isNaN","parseInt","getAttribute","ariaColIndex","editCell","ariaRowIndex","getColumns","endEdit","startEdit","getSelectedRecords","isCheckBoxSelection","isFocusFirstCell","deleteRow","deleteRecord","isEdit","closeEdit","pdfExport","excelExport","csvExport","sortColumn","goToPage","currentPage","column","rowInfo","targetRowdata","trigger","contextMenuClick","updateItemStatus","selectRowOnContextOpen","getLocaleText","getConstant","showItems","enableItems","closestGrid","event","showAddNewRow","querySelector","getColumn","getRowInfo","parentItem","selectRow","contains","selectionSettings","type","hideSepItems","showSepItems","key","dItem","ensureDisabledStatus","text","ensureTarget","getBatchChanges","changedRecords","addedRecords","deletedRecords","separator","hideItems","eventArgs","parentElement","targetElement","selector","ensureFrozenHeader","tbody","table","substr","frozenRows","status","ensureModuleInjected","allowGrouping","groupSettings","columns","getDataRows","getSelectedRowIndexes","getSelectedRowCellIndexes","getCurrentViewRecords","allowExcelExport","allowPdfExport","allowSorting","sortSettings","sortColumns","i","toString","direction","toLowerCase","replace","allowPaging","getContextMenu","gridElement","parentNode","generateID","menuItem","iconCss","localeKeys","uid","getColumnByUid","ele","isSelectable"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js"],"sourcesContent":["import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n    header: '.' + literals.gridHeader,\n    content: '.' + literals.gridContent,\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup',\n    autofit: 'e-icon-autofit',\n    autofitall: 'e-icon-autofitall'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        this.parent.off(events.destroy, this.destroy);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n        if (e.code === 'Escape') {\n            this.contextMenu.close();\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: this.parent.cssClass ? 'e-grid-menu' + ' ' + this.parent.cssClass : 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10) - 1)) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10) - 1, \n                            // eslint-disable-next-line\n                            this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10) - 1].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        if (!this.parent.isCheckBoxSelection) {\n                            this.parent.isFocusFirstCell = true;\n                        }\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    if (this.parent.isEdit && this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.isFocusFirstCell = true;\n                    }\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    if (this.parent.isEdit) {\n                        this.parent.isFocusFirstCell = true;\n                    }\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n        this.parent.notify(events.selectRowOnContextOpen, { isOpen: false });\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[\"\" + item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell')) ||\n            (this.parent.editSettings.showAddNewRow && closest(args.event.target, '.e-addedrow')\n                && this.parent.element.querySelector('.e-editedrow'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            if (parentsUntil(args.event.target, 'e-grid')) {\n                this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            }\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.parent.notify(events.selectRowOnContextOpen, { isOpen: true });\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[\"\" + key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[literals.changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if ((this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0) ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if (!(this.parent.allowExcelExport && this.parent.ensureModuleInjected(ExcelExport))\n                    && !(this.parent.allowPdfExport && this.parent.ensureModuleInjected(PdfExport))) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[parseInt(i.toString(), 10)].field === this.targetColumn.field\n                            && sortColumns[parseInt(i.toString(), 10)].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    }\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.contextMenu) {\n            this.contextMenu.select = null;\n            this.contextMenu.beforeOpen = null;\n            this.contextMenu.onOpen = null;\n            this.contextMenu.onClose = null;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n        if (this.element.parentNode) {\n            remove(this.element);\n        }\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n                menuItem = { target: menuClass.header, iconCss: menuClass.autofitall };\n                break;\n            case 'AutoFit':\n                menuItem = { target: menuClass.header, iconCss: menuClass.autofit };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[\"\" + item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[\"\" + item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        var localeKeys = {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n        return localeKeys;\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10) - 1);\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { L10n, getValue, getDefaultDateObject, cldrData, Browser } from '@syncfusion/ej2-base';\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\nvar MaskedDateTime = /** @class */function () {\n  function MaskedDateTime(parent) {\n    this.mask = '';\n    this.defaultConstant = {\n      day: 'day',\n      month: 'month',\n      year: 'year',\n      hour: 'hour',\n      minute: 'minute',\n      second: 'second',\n      dayOfTheWeek: 'day of the week'\n    };\n    this.hiddenMask = '';\n    this.validCharacters = 'dMyhmHfasz';\n    this.isDayPart = false;\n    this.isMonthPart = false;\n    this.isYearPart = false;\n    this.isHourPart = false;\n    this.isMinutePart = false;\n    this.isSecondsPart = false;\n    this.isMilliSecondsPart = false;\n    this.monthCharacter = '';\n    this.periodCharacter = '';\n    this.isHiddenMask = false;\n    this.isComplete = false;\n    this.isNavigate = false;\n    this.navigated = false;\n    this.isBlur = false;\n    this.formatRegex = /EEEEE|EEEE|EEE|EE|E|cccc|ccc|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n    this.isDeletion = false;\n    this.isShortYear = false;\n    this.isDeleteKey = false;\n    this.isDateZero = false;\n    this.isMonthZero = false;\n    this.isYearZero = false;\n    this.isLeadingZero = false;\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n    this.hourTypeCount = 0;\n    this.minuteTypeCount = 0;\n    this.secondTypeCount = 0;\n    this.parent = parent;\n    this.dateformat = this.getCulturedFormat();\n    this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n    this.maskDateValue.setMonth(0);\n    this.maskDateValue.setHours(0);\n    this.maskDateValue.setMinutes(0);\n    this.maskDateValue.setSeconds(0);\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.removeEventListener();\n    this.addEventListener();\n  }\n  MaskedDateTime.prototype.getModuleName = function () {\n    return 'MaskedDateTime';\n  };\n  MaskedDateTime.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on('createMask', this.createMask, this);\n    this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n    this.parent.on('inputHandler', this.maskInputHandler, this);\n    this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n    this.parent.on('clearHandler', this.clearHandler, this);\n    this.parent.on('maskPasteInputHandler', this.maskPasteInputHandler, this);\n  };\n  MaskedDateTime.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off('createMask', this.createMask);\n    this.parent.off('setMaskSelection', this.validCharacterCheck);\n    this.parent.off('inputHandler', this.maskInputHandler);\n    this.parent.off('keyDownHandler', this.maskKeydownHandler);\n    this.parent.off('clearHandler', this.clearHandler);\n    this.parent.off('maskPasteInputHandler', this.maskPasteInputHandler);\n  };\n  MaskedDateTime.prototype.createMask = function (mask) {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.dateformat = this.getCulturedFormat();\n    if (this.parent.maskPlaceholder.day) {\n      this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n    }\n    if (this.parent.maskPlaceholder.month) {\n      this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n    }\n    if (this.parent.maskPlaceholder.year) {\n      this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n    }\n    if (this.parent.maskPlaceholder.hour) {\n      this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n    }\n    if (this.parent.maskPlaceholder.minute) {\n      this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n    }\n    if (this.parent.maskPlaceholder.second) {\n      this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n    }\n    if (this.parent.maskPlaceholder.dayOfTheWeek) {\n      this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n    }\n    this.getCUltureMaskFormat();\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.mask = this.previousValue = inputValue;\n    this.parent.maskedDateValue = this.mask;\n    if (this.parent.value) {\n      this.navigated = true;\n      this.isBlur = mask.isBlur;\n      this.setDynamicValue();\n    }\n  };\n  MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n    this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n    this.objectString = Object.keys(this.defaultConstant);\n    for (var i = 0; i < this.objectString.length; i++) {\n      this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n    }\n  };\n  MaskedDateTime.prototype.validCharacterCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n    if (this.parent.moduleName !== 'timepicker') {\n      if (start === this.hiddenMask.length && this.mask === this.parent.inputElement.value) {\n        start = 0;\n      }\n    }\n    for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n      if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n        this.setSelection(this.hiddenMask[i]);\n        return;\n      }\n      if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n        this.setSelection(this.hiddenMask[j]);\n        return;\n      }\n    }\n  };\n  MaskedDateTime.prototype.setDynamicValue = function () {\n    this.maskDateValue = new Date(+this.parent.value);\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n    this.updateValue();\n    if (!this.isBlur) {\n      this.validCharacterCheck();\n    }\n  };\n  MaskedDateTime.prototype.setSelection = function (validChar) {\n    var start = -1;\n    var end = 0;\n    for (var i = 0; i < this.hiddenMask.length; i++) {\n      if (this.hiddenMask[i] === validChar) {\n        end = i + 1;\n        if (start === -1) {\n          start = i;\n        }\n      }\n    }\n    if (start < 0) {\n      start = 0;\n    }\n    this.parent.inputElement.setSelectionRange(start, end);\n  };\n  MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n    if (args.e.key === 'Backspace') {\n      var start = this.parent.inputElement.selectionStart;\n      var formatText = '';\n      if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n        formatText = this.hiddenMask[start];\n      }\n      switch (formatText) {\n        case 'd':\n          this.dayTypeCount = Math.max(this.dayTypeCount - 1, 0);\n          break;\n        case 'M':\n          this.monthTypeCount = Math.max(this.monthTypeCount - 1, 0);\n          break;\n        case 'H':\n        case 'h':\n          this.hourTypeCount = Math.max(this.hourTypeCount - 1, 0);\n          break;\n        case 'm':\n          this.minuteTypeCount = Math.max(this.minuteTypeCount - 1, 0);\n          break;\n        case 's':\n          this.secondTypeCount = Math.max(this.secondTypeCount - 1, 0);\n          break;\n        default:\n          break;\n      }\n      return;\n    }\n    this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n    if (args.e.key === 'Delete') {\n      this.isDeleteKey = true;\n      return;\n    }\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB || args.e.key === END || args.e.key === HOME)) {\n      var start = this.parent.inputElement.selectionStart;\n      var end = this.parent.inputElement.selectionEnd;\n      var length_1 = this.parent.inputElement.value.length;\n      if (start === 0 && end === length_1 && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n        var index = args.e.action === SHIFTTAB ? end : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n      }\n      if (args.e.key === END || args.e.key === HOME) {\n        var range = args.e.key === END ? length_1 : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n      }\n      this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n    }\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n      var start = this.parent.inputElement.selectionStart;\n      var formatText = '';\n      if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n        formatText = this.hiddenMask[start];\n      }\n      this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n      var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.inputElement.value = inputValue;\n      for (var i = 0; i < this.hiddenMask.length; i++) {\n        if (formatText === this.hiddenMask[i]) {\n          start = i;\n          break;\n        }\n      }\n      this.parent.inputElement.selectionStart = start;\n      this.validCharacterCheck();\n    }\n  };\n  MaskedDateTime.prototype.isPersist = function () {\n    var isPersist = this.parent.isFocused || this.navigated;\n    return isPersist;\n  };\n  MaskedDateTime.prototype.differenceCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var inputValue = this.parent.inputElement.value;\n    var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n    var newVal = inputValue.substring(0, start);\n    var newDateValue = new Date(+this.maskDateValue);\n    var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n    if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n      for (var i = newVal.length; i < previousVal.length; i++) {\n        if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n          this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n        }\n      }\n      if (this.isDeletion) {\n        return;\n      }\n    }\n    switch (this.previousHiddenMask[start - 1]) {\n      case 'd':\n        {\n          var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.isDateZero = newVal[start - 1] === '0';\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n          if (isNaN(date)) {\n            return;\n          }\n          for (var i = 0; date > maxDate; i++) {\n            date = parseInt(date.toString().slice(1), 10);\n          }\n          if (date >= 1) {\n            newDateValue.setDate(date);\n            this.isNavigate = date.toString().length === 2;\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n              return;\n            }\n            this.isDayPart = true;\n            var maxDaysInMonth = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n            this.dayTypeCount += this.dayTypeCount === 0 && parseInt(date + '0', 10) > maxDaysInMonth ? 2 : 1;\n          } else {\n            this.isDayPart = false;\n            if (!(this.dayTypeCount === 1 && this.isDateZero)) {\n              this.dayTypeCount += this.isDateZero ? 1 : 0;\n            }\n          }\n          break;\n        }\n      case 'M':\n        {\n          var month = void 0;\n          if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n            month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n          } else {\n            month = parseInt(newVal[start - 1], 10);\n          }\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n          this.isMonthZero = newVal[start - 1] === '0';\n          if (!isNaN(month)) {\n            while (month > 12) {\n              month = parseInt(month.toString().slice(1), 10);\n            }\n            if (month >= 1) {\n              newDateValue.setMonth(month - 1);\n              if (month >= 10 || month === 1) {\n                if (this.isLeadingZero && month === 1) {\n                  this.isNavigate = month.toString().length === 1;\n                  this.isLeadingZero = false;\n                } else {\n                  this.isNavigate = month.toString().length === 2;\n                }\n              } else {\n                this.isNavigate = month.toString().length === 1;\n              }\n              if (newDateValue.getMonth() !== month - 1) {\n                newDateValue.setDate(1);\n                newDateValue.setMonth(month - 1);\n              }\n              if (this.isDayPart) {\n                var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                  newDateValue.setDate(currentMaxDate);\n                }\n              }\n              this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n              this.isMonthPart = true;\n              this.monthTypeCount = this.monthTypeCount + 1;\n              this.isLeadingZero = false;\n            } else {\n              newDateValue.setMonth(0);\n              this.isLeadingZero = true;\n              this.isMonthPart = false;\n              if (!(this.monthTypeCount === 1 && this.isMonthZero)) {\n                this.monthTypeCount += this.isMonthZero ? 1 : 0;\n              }\n            }\n          } else {\n            var monthString = this.getCulturedValue('months[stand-alone].wide');\n            var monthValue = Object.keys(monthString);\n            this.monthCharacter += newVal[start - 1].toLowerCase();\n            while (this.monthCharacter.length > 0) {\n              var i = 1;\n              for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n                var months = monthValue_1[_i];\n                if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                  newDateValue.setMonth(i - 1);\n                  this.isMonthPart = true;\n                  this.maskDateValue = newDateValue;\n                  return;\n                }\n                i++;\n              }\n              this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n            }\n          }\n          break;\n        }\n      case 'y':\n        {\n          var year = (this.isYearPart && newDateValue.getFullYear().toString().length < 4 && !this.isShortYear ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          var yearValue = (this.dateformat.match(/y/g) || []).length;\n          yearValue = yearValue !== 2 ? 4 : yearValue;\n          this.isShortYear = false;\n          this.isYearZero = newVal[start - 1] === '0';\n          if (isNaN(year)) {\n            return;\n          }\n          while (year > 9999) {\n            year = parseInt(year.toString().slice(1), 10);\n          }\n          if (year < 1) {\n            this.isYearPart = false;\n          } else {\n            newDateValue.setFullYear(year);\n            if (year.toString().length === yearValue) {\n              this.isNavigate = true;\n            }\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            this.isYearPart = true;\n          }\n          break;\n        }\n      case 'h':\n        this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n        if (isNaN(this.hour)) {\n          return;\n        }\n        while (this.hour > 12) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n        newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + this.hour % 12);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount === 0 && this.hour && parseInt(this.hour + '0', 10) > 12 ? 2 : this.hourTypeCount + 1;\n        break;\n      case 'H':\n        this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n        if (isNaN(this.hour)) {\n          return;\n        }\n        for (var i = 0; this.hour > 23; i++) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n        newDateValue.setHours(this.hour);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount === 0 && this.hour && parseInt(this.hour + '0', 10) > 23 ? 2 : this.hourTypeCount + 1;\n        break;\n      case 'm':\n        {\n          var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n          if (isNaN(minutes)) {\n            return;\n          }\n          for (var i = 0; minutes > 59; i++) {\n            minutes = parseInt(minutes.toString().slice(1), 10);\n          }\n          newDateValue.setMinutes(minutes);\n          this.isNavigate = minutes.toString().length === 2;\n          this.isMinutePart = true;\n          this.minuteTypeCount = this.minuteTypeCount === 0 && parseInt(minutes + '0', 10) > 59 ? 2 : this.minuteTypeCount + 1;\n          break;\n        }\n      case 's':\n        {\n          var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n          if (isNaN(seconds)) {\n            return;\n          }\n          for (var i = 0; seconds > 59; i++) {\n            seconds = parseInt(seconds.toString().slice(1), 10);\n          }\n          newDateValue.setSeconds(seconds);\n          this.isNavigate = seconds.toString().length === 2;\n          this.isSecondsPart = true;\n          this.secondTypeCount = this.secondTypeCount === 0 && parseInt(seconds + '0', 10) > 59 ? 2 : this.secondTypeCount + 1;\n          break;\n        }\n      case 'a':\n        {\n          this.periodCharacter += newVal[start - 1].toLowerCase();\n          var periodString = this.getCulturedValue('dayPeriods.format.wide');\n          var periodkeys = Object.keys(periodString);\n          for (var i = 0; this.periodCharacter.length > 0; i++) {\n            if (periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12 || periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12) {\n              newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n              this.maskDateValue = newDateValue;\n            }\n            this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n          }\n          break;\n        }\n      default:\n        break;\n    }\n    this.maskDateValue = newDateValue;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MaskedDateTime.prototype.formatCheck = function () {\n    var proxy = null || this;\n    function formatValueSpecifier(formattext) {\n      var result;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n      var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var daysWide = proxy.getCulturedValue('days[stand-alone].wide');\n      var dayKeyWide = Object.keys(daysWide);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var daysNarrow = proxy.getCulturedValue('days[stand-alone].narrow');\n      var dayKeyNarrow = Object.keys(daysNarrow);\n      var monthAbbreviated = proxy.getCulturedValue('months[stand-alone].abbreviated');\n      var monthWide = proxy.getCulturedValue('months[stand-alone].wide');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var periodString = proxy.getCulturedValue('dayPeriods.format.wide');\n      var periodkeys = Object.keys(periodString);\n      var milliseconds;\n      var dateOptions;\n      switch (formattext) {\n        case 'ddd':\n        case 'dddd':\n        case 'd':\n          result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n          if (proxy.dayTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n          break;\n        case 'dd':\n          result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n          if (proxy.dayTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n          break;\n        case 'E':\n        case 'EE':\n        case 'EEE':\n        case 'ccc':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n        case 'EEEE':\n        case 'cccc':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n        case 'EEEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n        case 'M':\n          result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n          if (proxy.monthTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n          break;\n        case 'MM':\n          result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n          if (proxy.monthTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n          break;\n        case 'MMM':\n          result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n        case 'MMMM':\n          result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n        case 'yy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n          break;\n        case 'y':\n        case 'yyy':\n        case 'yyyy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n          break;\n        case 'h':\n          result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n          break;\n        case 'hh':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n          break;\n        case 'H':\n          result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n          break;\n        case 'HH':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n          break;\n        case 'm':\n          result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n          if (proxy.minuteTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n          break;\n        case 'mm':\n          result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n          if (proxy.minuteTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n          break;\n        case 's':\n          result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n          if (proxy.secondTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n          break;\n        case 'ss':\n          result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n          if (proxy.secondTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n          break;\n        case 'f':\n          result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n          break;\n        case 'ff':\n          milliseconds = proxy.maskDateValue.getMilliseconds();\n          if (proxy.maskDateValue.getMilliseconds() > 99) {\n            milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n          }\n          result = proxy.roundOff(milliseconds, 2);\n          break;\n        case 'fff':\n          result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n          break;\n        case 'a':\n        case 'aa':\n          result = proxy.maskDateValue.getHours() < 12 ? periodString['am'] : periodString['pm'];\n          break;\n        case 'z':\n        case 'zz':\n        case 'zzz':\n        case 'zzzz':\n          dateOptions = {\n            format: formattext,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: proxy.parent.calendarMode\n          };\n          result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n          break;\n      }\n      result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n      if (proxy.isHiddenMask) {\n        var hiddenChar = '';\n        for (var i = 0; i < result.length; i++) {\n          hiddenChar += formattext[0];\n        }\n        return hiddenChar;\n      } else {\n        return result;\n      }\n    }\n    return formatValueSpecifier;\n  };\n  MaskedDateTime.prototype.isValidDate = function (dateString) {\n    var date = new Date(dateString);\n    // Return true if the date is valid, false otherwise\n    return !isNaN(date.getTime());\n  };\n  MaskedDateTime.prototype.maskPasteInputHandler = function () {\n    if (this.isValidDate(this.parent.inputElement.value)) {\n      this.maskDateValue = new Date(this.parent.inputElement.value);\n      this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n      this.updateValue();\n      if (!this.isBlur) {\n        this.validCharacterCheck();\n      }\n      return;\n    } else {\n      this.maskInputHandler();\n    }\n  };\n  MaskedDateTime.prototype.maskInputHandler = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var formatText = '';\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    }\n    this.differenceCheck();\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isDateZero = this.isMonthZero = this.isYearZero = false;\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.inputElement.value = inputValue;\n    for (var i = 0; i < this.hiddenMask.length; i++) {\n      if (formatText === this.hiddenMask[i]) {\n        start = i;\n        break;\n      }\n    }\n    var scrollPositionY;\n    if (Browser.isDevice && (Browser.isIos || Browser.isIos7)) {\n      var scrollableParent = this.findScrollableParent(this.parent.inputElement);\n      scrollPositionY = scrollableParent ? scrollableParent.getBoundingClientRect().top : window.scrollY;\n    }\n    this.parent.inputElement.selectionStart = start;\n    this.validCharacterCheck();\n    if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n      var isbackward = this.isNavigate ? false : true;\n      this.isNavigate = this.isDeletion = false;\n      this.navigateSelection(isbackward);\n      if (Browser.isDevice && (Browser.isIos || Browser.isIos7)) {\n        setTimeout(function () {\n          window.scrollTo(0, scrollPositionY);\n        }, 0);\n      }\n    }\n    if (this.isDeleteKey) {\n      this.isDeletion = false;\n    }\n    this.isDeleteKey = false;\n  };\n  MaskedDateTime.prototype.findScrollableParent = function (element) {\n    while (element) {\n      if (this.isScrollable(element)) {\n        return element;\n      }\n      element = element.parentElement;\n    }\n    return null;\n  };\n  MaskedDateTime.prototype.isScrollable = function (element) {\n    var overflowY = window.getComputedStyle(element).overflowY;\n    return element.scrollHeight > element.clientHeight && (overflowY === 'auto' || overflowY === 'scroll');\n  };\n  MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n    var start = this.parent.inputElement.selectionStart;\n    var end = this.parent.inputElement.selectionEnd;\n    var formatIndex = isbackward ? start - 1 : end;\n    this.navigated = true;\n    while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n      if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n        this.setSelection(this.hiddenMask[formatIndex]);\n        break;\n      }\n      formatIndex = formatIndex + (isbackward ? -1 : 1);\n    }\n  };\n  MaskedDateTime.prototype.roundOff = function (val, count) {\n    var valueText = val.toString();\n    var length = count - valueText.length;\n    var result = '';\n    for (var i = 0; i < length; i++) {\n      result += '0';\n    }\n    return result + valueText;\n  };\n  MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n    var result = resultValue;\n    if (isZero && !isDayPart) {\n      result = '0';\n    }\n    return result;\n  };\n  MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n    switch (format) {\n      case 'd':\n        this.isDayPart = isSegment;\n        break;\n      case 'M':\n        this.isMonthPart = isSegment;\n        if (!isSegment) {\n          this.maskDateValue.setMonth(0);\n          this.monthCharacter = '';\n        }\n        break;\n      case 'y':\n        this.isYearPart = isSegment;\n        break;\n      case 'H':\n      case 'h':\n        this.isHourPart = isSegment;\n        if (!isSegment) {\n          this.periodCharacter = '';\n        }\n        break;\n      case 'm':\n        this.isMinutePart = isSegment;\n        break;\n      case 's':\n        this.isSecondsPart = isSegment;\n        break;\n      default:\n        return false;\n    }\n    return true;\n  };\n  MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n    var start = this.parent.inputElement.selectionStart;\n    var formatText = '';\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    } else {\n      return;\n    }\n    var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    var incrementValue = isDecrement ? -1 : 1;\n    switch (formatText) {\n      case 'd':\n        newDateValue.setDate(newDateValue.getDate() + incrementValue);\n        break;\n      case 'M':\n        {\n          var newMonth = newDateValue.getMonth() + incrementValue;\n          newDateValue.setDate(1);\n          newDateValue.setMonth(newMonth);\n          if (this.isDayPart) {\n            var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n            var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n            if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n              newDateValue.setDate(currentMaxDate);\n            } else {\n              newDateValue.setDate(this.previousDate.getDate());\n            }\n          } else {\n            newDateValue.setDate(this.previousDate.getDate());\n          }\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n          break;\n        }\n      case 'y':\n        newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n        break;\n      case 'H':\n      case 'h':\n        newDateValue.setHours(newDateValue.getHours() + incrementValue);\n        break;\n      case 'm':\n        newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n        break;\n      case 's':\n        newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n        break;\n      case 'a':\n        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n        break;\n      default:\n        break;\n    }\n    this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      this.handleDeletion(this.hiddenMask[start], true);\n    }\n  };\n  MaskedDateTime.prototype.getCulturedValue = function (format) {\n    var locale = this.parent.locale;\n    var result;\n    if (locale === 'en' || locale === 'en-US') {\n      result = getValue(format, getDefaultDateObject());\n    } else {\n      result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n    }\n    return result;\n  };\n  MaskedDateTime.prototype.getCulturedFormat = function () {\n    var formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n    if (this.parent.moduleName === 'datepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n      if (this.parent.format && this.parent.formatString) {\n        formatString = this.parent.formatString;\n      }\n    }\n    if (this.parent.moduleName === 'datetimepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n      if (this.parent.dateTimeFormat) {\n        formatString = this.parent.dateTimeFormat;\n      }\n    }\n    if (this.parent.moduleName === 'timepicker') {\n      formatString = this.parent.cldrTimeFormat();\n    }\n    return formatString;\n  };\n  MaskedDateTime.prototype.clearHandler = function () {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.updateValue();\n    if (this.parent.inputElement && this.parent.inputElement.value === this.parent.maskedDateValue && this.parent.inputWrapper && this.parent.inputWrapper.clearButton && !this.parent.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) {\n      this.parent.inputWrapper.clearButton.classList.add('e-clear-icon-hide');\n    }\n  };\n  MaskedDateTime.prototype.updateValue = function () {\n    this.monthCharacter = this.periodCharacter = '';\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.updateInputValue(inputValue);\n    if (this.parent.strictMode && (this.dayTypeCount !== 0 || this.monthTypeCount !== 0)) {\n      this.isLeadingZero = false;\n    }\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n  };\n  MaskedDateTime.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return MaskedDateTime;\n}();\nexport { MaskedDateTime };","map":{"version":3,"names":["L10n","getValue","getDefaultDateObject","cldrData","Browser","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","TAB","SHIFTTAB","END","HOME","MaskedDateTime","parent","mask","defaultConstant","day","month","year","hour","minute","second","dayOfTheWeek","hiddenMask","validCharacters","isDayPart","isMonthPart","isYearPart","isHourPart","isMinutePart","isSecondsPart","isMilliSecondsPart","monthCharacter","periodCharacter","isHiddenMask","isComplete","isNavigate","navigated","isBlur","formatRegex","isDeletion","isShortYear","isDeleteKey","isDateZero","isMonthZero","isYearZero","isLeadingZero","dayTypeCount","monthTypeCount","hourTypeCount","minuteTypeCount","secondTypeCount","dateformat","getCulturedFormat","maskDateValue","value","Date","setMonth","setHours","setMinutes","setSeconds","previousDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","removeEventListener","addEventListener","prototype","getModuleName","isDestroyed","on","createMask","validCharacterCheck","maskInputHandler","maskKeydownHandler","clearHandler","maskPasteInputHandler","off","maskPlaceholder","toString","getCUltureMaskFormat","inputValue","replace","formatCheck","previousHiddenMask","previousValue","maskedDateValue","setDynamicValue","l10n","moduleName","locale","objectString","Object","keys","i","length","getConstant","start","inputElement","selectionStart","j","indexOf","setSelection","updateValue","validChar","end","setSelectionRange","args","e","key","formatText","Math","max","altKey","ctrlKey","action","selectionEnd","length_1","index","range","navigateSelection","dateAlteration","isPersist","isFocused","differenceCheck","previousVal","substring","newVal","newDateValue","maxDate","handleDeletion","date","parseInt","isNaN","slice","setDate","maxDaysInMonth","previousMaxDate","currentMaxDate","monthString","getCulturedValue","monthValue","toLowerCase","_i","monthValue_1","months","yearValue","match","setFullYear","floor","minutes","seconds","periodString","periodkeys","proxy","formatValueSpecifier","formattext","result","daysAbbreviated","dayKeyAbbreviated","daysWide","dayKeyWide","daysNarrow","dayKeyNarrow","monthAbbreviated","monthWide","milliseconds","dateOptions","zeroCheck","roundOff","getDay","getMilliseconds","format","type","skeleton","calendar","calendarMode","globalize","formatDate","undefined","hiddenChar","isValidDate","dateString","getTime","scrollPositionY","isDevice","isIos","isIos7","scrollableParent","findScrollableParent","getBoundingClientRect","top","window","scrollY","isbackward","setTimeout","scrollTo","element","isScrollable","parentElement","overflowY","getComputedStyle","scrollHeight","clientHeight","formatIndex","val","count","valueText","isZero","resultValue","isSegment","isDecrement","incrementValue","newMonth","formatString","dateTimeFormat","cldrTimeFormat","inputWrapper","clearButton","classList","contains","add","updateInputValue","strictMode","destroy"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-calendars/src/maskbase/masked-date-time.js"],"sourcesContent":["import { L10n, getValue, getDefaultDateObject, cldrData, Browser } from '@syncfusion/ej2-base';\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\nvar MaskedDateTime = /** @class */ (function () {\n    function MaskedDateTime(parent) {\n        this.mask = '';\n        this.defaultConstant = {\n            day: 'day',\n            month: 'month',\n            year: 'year',\n            hour: 'hour',\n            minute: 'minute',\n            second: 'second',\n            dayOfTheWeek: 'day of the week'\n        };\n        this.hiddenMask = '';\n        this.validCharacters = 'dMyhmHfasz';\n        this.isDayPart = false;\n        this.isMonthPart = false;\n        this.isYearPart = false;\n        this.isHourPart = false;\n        this.isMinutePart = false;\n        this.isSecondsPart = false;\n        this.isMilliSecondsPart = false;\n        this.monthCharacter = '';\n        this.periodCharacter = '';\n        this.isHiddenMask = false;\n        this.isComplete = false;\n        this.isNavigate = false;\n        this.navigated = false;\n        this.isBlur = false;\n        this.formatRegex = /EEEEE|EEEE|EEE|EE|E|cccc|ccc|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n        this.isDeletion = false;\n        this.isShortYear = false;\n        this.isDeleteKey = false;\n        this.isDateZero = false;\n        this.isMonthZero = false;\n        this.isYearZero = false;\n        this.isLeadingZero = false;\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n        this.hourTypeCount = 0;\n        this.minuteTypeCount = 0;\n        this.secondTypeCount = 0;\n        this.parent = parent;\n        this.dateformat = this.getCulturedFormat();\n        this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n        this.maskDateValue.setMonth(0);\n        this.maskDateValue.setHours(0);\n        this.maskDateValue.setMinutes(0);\n        this.maskDateValue.setSeconds(0);\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    MaskedDateTime.prototype.getModuleName = function () {\n        return 'MaskedDateTime';\n    };\n    MaskedDateTime.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('createMask', this.createMask, this);\n        this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n        this.parent.on('inputHandler', this.maskInputHandler, this);\n        this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n        this.parent.on('clearHandler', this.clearHandler, this);\n        this.parent.on('maskPasteInputHandler', this.maskPasteInputHandler, this);\n    };\n    MaskedDateTime.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('createMask', this.createMask);\n        this.parent.off('setMaskSelection', this.validCharacterCheck);\n        this.parent.off('inputHandler', this.maskInputHandler);\n        this.parent.off('keyDownHandler', this.maskKeydownHandler);\n        this.parent.off('clearHandler', this.clearHandler);\n        this.parent.off('maskPasteInputHandler', this.maskPasteInputHandler);\n    };\n    MaskedDateTime.prototype.createMask = function (mask) {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.dateformat = this.getCulturedFormat();\n        if (this.parent.maskPlaceholder.day) {\n            this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n        }\n        if (this.parent.maskPlaceholder.month) {\n            this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n        }\n        if (this.parent.maskPlaceholder.year) {\n            this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n        }\n        if (this.parent.maskPlaceholder.hour) {\n            this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n        }\n        if (this.parent.maskPlaceholder.minute) {\n            this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n        }\n        if (this.parent.maskPlaceholder.second) {\n            this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n        }\n        if (this.parent.maskPlaceholder.dayOfTheWeek) {\n            this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n        }\n        this.getCUltureMaskFormat();\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.mask = this.previousValue = inputValue;\n        this.parent.maskedDateValue = this.mask;\n        if (this.parent.value) {\n            this.navigated = true;\n            this.isBlur = mask.isBlur;\n            this.setDynamicValue();\n        }\n    };\n    MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n        this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n        this.objectString = Object.keys(this.defaultConstant);\n        for (var i = 0; i < this.objectString.length; i++) {\n            this.defaultConstant[this.objectString[i].toString()] =\n                this.l10n.getConstant(this.objectString[i].toString());\n        }\n    };\n    MaskedDateTime.prototype.validCharacterCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        if (this.parent.moduleName !== 'timepicker') {\n            if (start === this.hiddenMask.length && this.mask === this.parent.inputElement.value) {\n                start = 0;\n            }\n        }\n        for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n            if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n                this.setSelection(this.hiddenMask[i]);\n                return;\n            }\n            if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n                this.setSelection(this.hiddenMask[j]);\n                return;\n            }\n        }\n    };\n    MaskedDateTime.prototype.setDynamicValue = function () {\n        this.maskDateValue = new Date(+this.parent.value);\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n        this.updateValue();\n        if (!this.isBlur) {\n            this.validCharacterCheck();\n        }\n    };\n    MaskedDateTime.prototype.setSelection = function (validChar) {\n        var start = -1;\n        var end = 0;\n        for (var i = 0; i < this.hiddenMask.length; i++) {\n            if (this.hiddenMask[i] === validChar) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        this.parent.inputElement.setSelectionRange(start, end);\n    };\n    MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n        if (args.e.key === 'Backspace') {\n            var start = this.parent.inputElement.selectionStart;\n            var formatText = '';\n            if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n                formatText = this.hiddenMask[start];\n            }\n            switch (formatText) {\n                case 'd':\n                    this.dayTypeCount = Math.max(this.dayTypeCount - 1, 0);\n                    break;\n                case 'M':\n                    this.monthTypeCount = Math.max(this.monthTypeCount - 1, 0);\n                    break;\n                case 'H':\n                case 'h':\n                    this.hourTypeCount = Math.max(this.hourTypeCount - 1, 0);\n                    break;\n                case 'm':\n                    this.minuteTypeCount = Math.max(this.minuteTypeCount - 1, 0);\n                    break;\n                case 's':\n                    this.secondTypeCount = Math.max(this.secondTypeCount - 1, 0);\n                    break;\n                default:\n                    break;\n            }\n            return;\n        }\n        this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n        if (args.e.key === 'Delete') {\n            this.isDeleteKey = true;\n            return;\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT\n            || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB ||\n            args.e.key === END || args.e.key === HOME)) {\n            var start = this.parent.inputElement.selectionStart;\n            var end = this.parent.inputElement.selectionEnd;\n            var length_1 = this.parent.inputElement.value.length;\n            if ((start === 0 && end === length_1) && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n                var index = args.e.action === SHIFTTAB ? end : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n            }\n            if (args.e.key === END || args.e.key === HOME) {\n                var range = args.e.key === END ? length_1 : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n            }\n            this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n            var start = this.parent.inputElement.selectionStart;\n            var formatText = '';\n            if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n                formatText = this.hiddenMask[start];\n            }\n            this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n            var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = true;\n            this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = false;\n            this.previousHiddenMask = this.hiddenMask;\n            this.previousValue = inputValue;\n            this.parent.inputElement.value = inputValue;\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                if (formatText === this.hiddenMask[i]) {\n                    start = i;\n                    break;\n                }\n            }\n            this.parent.inputElement.selectionStart = start;\n            this.validCharacterCheck();\n        }\n    };\n    MaskedDateTime.prototype.isPersist = function () {\n        var isPersist = this.parent.isFocused || this.navigated;\n        return isPersist;\n    };\n    MaskedDateTime.prototype.differenceCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var inputValue = this.parent.inputElement.value;\n        var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n        var newVal = inputValue.substring(0, start);\n        var newDateValue = new Date(+this.maskDateValue);\n        var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n        if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 ||\n            this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n            for (var i = newVal.length; i < previousVal.length; i++) {\n                if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n                    this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n                }\n            }\n            if (this.isDeletion) {\n                return;\n            }\n        }\n        switch (this.previousHiddenMask[start - 1]) {\n            case 'd':\n                {\n                    var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 &&\n                        !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.isDateZero = (newVal[start - 1] === '0');\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(date)) {\n                        return;\n                    }\n                    for (var i = 0; date > maxDate; i++) {\n                        date = parseInt(date.toString().slice(1), 10);\n                    }\n                    if (date >= 1) {\n                        newDateValue.setDate(date);\n                        this.isNavigate = date.toString().length === 2;\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n                            return;\n                        }\n                        this.isDayPart = true;\n                        var maxDaysInMonth = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                        this.dayTypeCount += (this.dayTypeCount === 0 && (parseInt(date + '0', 10) > maxDaysInMonth)) ? 2 : 1;\n                    }\n                    else {\n                        this.isDayPart = false;\n                        if (!(this.dayTypeCount === 1 && this.isDateZero)) {\n                            this.dayTypeCount += this.isDateZero ? 1 : 0;\n                        }\n                    }\n                    break;\n                }\n            case 'M':\n                {\n                    var month = void 0;\n                    if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n                        month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    }\n                    else {\n                        month = parseInt(newVal[start - 1], 10);\n                    }\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    this.isMonthZero = (newVal[start - 1] === '0');\n                    if (!isNaN(month)) {\n                        while (month > 12) {\n                            month = parseInt(month.toString().slice(1), 10);\n                        }\n                        if (month >= 1) {\n                            newDateValue.setMonth(month - 1);\n                            if (month >= 10 || month === 1) {\n                                if (this.isLeadingZero && month === 1) {\n                                    this.isNavigate = month.toString().length === 1;\n                                    this.isLeadingZero = false;\n                                }\n                                else {\n                                    this.isNavigate = month.toString().length === 2;\n                                }\n                            }\n                            else {\n                                this.isNavigate = month.toString().length === 1;\n                            }\n                            if (newDateValue.getMonth() !== month - 1) {\n                                newDateValue.setDate(1);\n                                newDateValue.setMonth(month - 1);\n                            }\n                            if (this.isDayPart) {\n                                var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                                var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                                if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                                    newDateValue.setDate(currentMaxDate);\n                                }\n                            }\n                            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                            this.isMonthPart = true;\n                            this.monthTypeCount = this.monthTypeCount + 1;\n                            this.isLeadingZero = false;\n                        }\n                        else {\n                            newDateValue.setMonth(0);\n                            this.isLeadingZero = true;\n                            this.isMonthPart = false;\n                            if (!(this.monthTypeCount === 1 && this.isMonthZero)) {\n                                this.monthTypeCount += this.isMonthZero ? 1 : 0;\n                            }\n                        }\n                    }\n                    else {\n                        var monthString = (this.getCulturedValue('months[stand-alone].wide'));\n                        var monthValue = Object.keys(monthString);\n                        this.monthCharacter += newVal[start - 1].toLowerCase();\n                        while (this.monthCharacter.length > 0) {\n                            var i = 1;\n                            for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n                                var months = monthValue_1[_i];\n                                if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                                    newDateValue.setMonth(i - 1);\n                                    this.isMonthPart = true;\n                                    this.maskDateValue = newDateValue;\n                                    return;\n                                }\n                                i++;\n                            }\n                            this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n                        }\n                    }\n                    break;\n                }\n            case 'y':\n                {\n                    var year = (this.isYearPart && (newDateValue.getFullYear().toString().length < 4\n                        && !this.isShortYear) ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    var yearValue = (this.dateformat.match(/y/g) || []).length;\n                    yearValue = yearValue !== 2 ? 4 : yearValue;\n                    this.isShortYear = false;\n                    this.isYearZero = (newVal[start - 1] === '0');\n                    if (isNaN(year)) {\n                        return;\n                    }\n                    while (year > 9999) {\n                        year = parseInt(year.toString().slice(1), 10);\n                    }\n                    if (year < 1) {\n                        this.isYearPart = false;\n                    }\n                    else {\n                        newDateValue.setFullYear(year);\n                        if (year.toString().length === yearValue) {\n                            this.isNavigate = true;\n                        }\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        this.isYearPart = true;\n                    }\n                    break;\n                }\n            case 'h':\n                this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2\n                    && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                while (this.hour > 12) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + (this.hour % 12));\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = (this.hourTypeCount === 0 && this.hour && (parseInt(this.hour + '0', 10) > 12)) ? 2 : this.hourTypeCount + 1;\n                break;\n            case 'H':\n                this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 &&\n                    !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                for (var i = 0; this.hour > 23; i++) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(this.hour);\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = (this.hourTypeCount === 0 && this.hour && (parseInt(this.hour + '0', 10) > 23)) ? 2 : this.hourTypeCount + 1;\n                break;\n            case 'm':\n                {\n                    var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2\n                        && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(minutes)) {\n                        return;\n                    }\n                    for (var i = 0; minutes > 59; i++) {\n                        minutes = parseInt(minutes.toString().slice(1), 10);\n                    }\n                    newDateValue.setMinutes(minutes);\n                    this.isNavigate = minutes.toString().length === 2;\n                    this.isMinutePart = true;\n                    this.minuteTypeCount = (this.minuteTypeCount === 0 && (parseInt(minutes + '0', 10) > 59)) ? 2 : this.minuteTypeCount + 1;\n                    break;\n                }\n            case 's':\n                {\n                    var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 &&\n                        !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(seconds)) {\n                        return;\n                    }\n                    for (var i = 0; seconds > 59; i++) {\n                        seconds = parseInt(seconds.toString().slice(1), 10);\n                    }\n                    newDateValue.setSeconds(seconds);\n                    this.isNavigate = seconds.toString().length === 2;\n                    this.isSecondsPart = true;\n                    this.secondTypeCount = (this.secondTypeCount === 0 && (parseInt(seconds + '0', 10) > 59)) ? 2 : this.secondTypeCount + 1;\n                    break;\n                }\n            case 'a':\n                {\n                    this.periodCharacter += newVal[start - 1].toLowerCase();\n                    var periodString = (this.getCulturedValue('dayPeriods.format.wide'));\n                    var periodkeys = Object.keys(periodString);\n                    for (var i = 0; this.periodCharacter.length > 0; i++) {\n                        if ((periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0\n                            && newDateValue.getHours() >= 12) || (periodString[periodkeys[1]].toLowerCase().\n                            indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12)) {\n                            newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                            this.maskDateValue = newDateValue;\n                        }\n                        this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MaskedDateTime.prototype.formatCheck = function () {\n        var proxy = null || this;\n        function formatValueSpecifier(formattext) {\n            var result;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n            var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysWide = (proxy.getCulturedValue('days[stand-alone].wide'));\n            var dayKeyWide = Object.keys(daysWide);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysNarrow = (proxy.getCulturedValue('days[stand-alone].narrow'));\n            var dayKeyNarrow = Object.keys(daysNarrow);\n            var monthAbbreviated = (proxy.getCulturedValue('months[stand-alone].abbreviated'));\n            var monthWide = (proxy.getCulturedValue('months[stand-alone].wide'));\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var periodString = (proxy.getCulturedValue('dayPeriods.format.wide'));\n            var periodkeys = Object.keys(periodString);\n            var milliseconds;\n            var dateOptions;\n            switch (formattext) {\n                case 'ddd':\n                case 'dddd':\n                case 'd':\n                    result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'dd':\n                    result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'E':\n                case 'EE':\n                case 'EEE':\n                case 'ccc':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEE':\n                case 'cccc':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'M':\n                    result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MM':\n                    result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MMM':\n                    result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'MMMM':\n                    result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'yy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'y':\n                case 'yyy':\n                case 'yyyy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'h':\n                    result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'hh':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'H':\n                    result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'HH':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'm':\n                    result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 'mm':\n                    result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 's':\n                    result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'ss':\n                    result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'f':\n                    result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n                    break;\n                case 'ff':\n                    milliseconds = proxy.maskDateValue.getMilliseconds();\n                    if (proxy.maskDateValue.getMilliseconds() > 99) {\n                        milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n                    }\n                    result = proxy.roundOff(milliseconds, 2);\n                    break;\n                case 'fff':\n                    result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n                    break;\n                case 'a':\n                case 'aa':\n                    result = proxy.maskDateValue.getHours() < 12 ? periodString['am'] : periodString['pm'];\n                    break;\n                case 'z':\n                case 'zz':\n                case 'zzz':\n                case 'zzzz':\n                    dateOptions = {\n                        format: formattext,\n                        type: 'dateTime', skeleton: 'yMd', calendar: proxy.parent.calendarMode\n                    };\n                    result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n                    break;\n            }\n            result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n            if (proxy.isHiddenMask) {\n                var hiddenChar = '';\n                for (var i = 0; i < result.length; i++) {\n                    hiddenChar += formattext[0];\n                }\n                return hiddenChar;\n            }\n            else {\n                return result;\n            }\n        }\n        return formatValueSpecifier;\n    };\n    MaskedDateTime.prototype.isValidDate = function (dateString) {\n        var date = new Date(dateString);\n        // Return true if the date is valid, false otherwise\n        return !isNaN(date.getTime());\n    };\n    MaskedDateTime.prototype.maskPasteInputHandler = function () {\n        if (this.isValidDate(this.parent.inputElement.value)) {\n            this.maskDateValue = new Date(this.parent.inputElement.value);\n            this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n            this.updateValue();\n            if (!this.isBlur) {\n                this.validCharacterCheck();\n            }\n            return;\n        }\n        else {\n            this.maskInputHandler();\n        }\n    };\n    MaskedDateTime.prototype.maskInputHandler = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        this.differenceCheck();\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isDateZero = this.isMonthZero = this.isYearZero = false;\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        for (var i = 0; i < this.hiddenMask.length; i++) {\n            if (formatText === this.hiddenMask[i]) {\n                start = i;\n                break;\n            }\n        }\n        var scrollPositionY;\n        if (Browser.isDevice && (Browser.isIos || Browser.isIos7)) {\n            var scrollableParent = this.findScrollableParent(this.parent.inputElement);\n            scrollPositionY = scrollableParent ? scrollableParent.getBoundingClientRect().top : window.scrollY;\n        }\n        this.parent.inputElement.selectionStart = start;\n        this.validCharacterCheck();\n        if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n            var isbackward = this.isNavigate ? false : true;\n            this.isNavigate = this.isDeletion = false;\n            this.navigateSelection(isbackward);\n            if (Browser.isDevice && (Browser.isIos || Browser.isIos7)) {\n                setTimeout(function () {\n                    window.scrollTo(0, scrollPositionY);\n                }, 0);\n            }\n        }\n        if (this.isDeleteKey) {\n            this.isDeletion = false;\n        }\n        this.isDeleteKey = false;\n    };\n    MaskedDateTime.prototype.findScrollableParent = function (element) {\n        while (element) {\n            if (this.isScrollable(element)) {\n                return element;\n            }\n            element = element.parentElement;\n        }\n        return null;\n    };\n    MaskedDateTime.prototype.isScrollable = function (element) {\n        var overflowY = window.getComputedStyle(element).overflowY;\n        return element.scrollHeight > element.clientHeight && (overflowY === 'auto' || overflowY === 'scroll');\n    };\n    MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n        var start = this.parent.inputElement.selectionStart;\n        var end = this.parent.inputElement.selectionEnd;\n        var formatIndex = isbackward ? start - 1 : end;\n        this.navigated = true;\n        while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n            if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n                this.setSelection(this.hiddenMask[formatIndex]);\n                break;\n            }\n            formatIndex = formatIndex + (isbackward ? -1 : 1);\n        }\n    };\n    MaskedDateTime.prototype.roundOff = function (val, count) {\n        var valueText = val.toString();\n        var length = count - valueText.length;\n        var result = '';\n        for (var i = 0; i < length; i++) {\n            result += '0';\n        }\n        return result + valueText;\n    };\n    MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n        var result = resultValue;\n        if (isZero && !isDayPart) {\n            result = '0';\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n        switch (format) {\n            case 'd':\n                this.isDayPart = isSegment;\n                break;\n            case 'M':\n                this.isMonthPart = isSegment;\n                if (!isSegment) {\n                    this.maskDateValue.setMonth(0);\n                    this.monthCharacter = '';\n                }\n                break;\n            case 'y':\n                this.isYearPart = isSegment;\n                break;\n            case 'H':\n            case 'h':\n                this.isHourPart = isSegment;\n                if (!isSegment) {\n                    this.periodCharacter = '';\n                }\n                break;\n            case 'm':\n                this.isMinutePart = isSegment;\n                break;\n            case 's':\n                this.isSecondsPart = isSegment;\n                break;\n            default:\n                return false;\n        }\n        return true;\n    };\n    MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n        var start = this.parent.inputElement.selectionStart;\n        var formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        else {\n            return;\n        }\n        var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        var incrementValue = isDecrement ? -1 : 1;\n        switch (formatText) {\n            case 'd':\n                newDateValue.setDate(newDateValue.getDate() + incrementValue);\n                break;\n            case 'M':\n                {\n                    var newMonth = newDateValue.getMonth() + incrementValue;\n                    newDateValue.setDate(1);\n                    newDateValue.setMonth(newMonth);\n                    if (this.isDayPart) {\n                        var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                        var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                        if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                            newDateValue.setDate(currentMaxDate);\n                        }\n                        else {\n                            newDateValue.setDate(this.previousDate.getDate());\n                        }\n                    }\n                    else {\n                        newDateValue.setDate(this.previousDate.getDate());\n                    }\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    break;\n                }\n            case 'y':\n                newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n                break;\n            case 'H':\n            case 'h':\n                newDateValue.setHours(newDateValue.getHours() + incrementValue);\n                break;\n            case 'm':\n                newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n                break;\n            case 's':\n                newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n                break;\n            case 'a':\n                newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            this.handleDeletion(this.hiddenMask[start], true);\n        }\n    };\n    MaskedDateTime.prototype.getCulturedValue = function (format) {\n        var locale = this.parent.locale;\n        var result;\n        if (locale === 'en' || locale === 'en-US') {\n            result = getValue(format, getDefaultDateObject());\n        }\n        else {\n            result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.getCulturedFormat = function () {\n        var formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n        if (this.parent.moduleName === 'datepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.format && this.parent.formatString) {\n                formatString = this.parent.formatString;\n            }\n        }\n        if (this.parent.moduleName === 'datetimepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.dateTimeFormat) {\n                formatString = this.parent.dateTimeFormat;\n            }\n        }\n        if (this.parent.moduleName === 'timepicker') {\n            formatString = this.parent.cldrTimeFormat();\n        }\n        return formatString;\n    };\n    MaskedDateTime.prototype.clearHandler = function () {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.updateValue();\n        if (this.parent.inputElement && this.parent.inputElement.value === this.parent.maskedDateValue && this.parent.inputWrapper && this.parent.inputWrapper.clearButton && !this.parent.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) {\n            this.parent.inputWrapper.clearButton.classList.add('e-clear-icon-hide');\n        }\n    };\n    MaskedDateTime.prototype.updateValue = function () {\n        this.monthCharacter = this.periodCharacter = '';\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.updateInputValue(inputValue);\n        if (this.parent.strictMode && (this.dayTypeCount !== 0 || this.monthTypeCount !== 0)) {\n            this.isLeadingZero = false;\n        }\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n    };\n    MaskedDateTime.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return MaskedDateTime;\n}());\nexport { MaskedDateTime };\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,QAAQ,EAAEC,oBAAoB,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,sBAAsB;AAC9F,IAAIC,SAAS,GAAG,WAAW;AAC3B,IAAIC,UAAU,GAAG,YAAY;AAC7B,IAAIC,OAAO,GAAG,SAAS;AACvB,IAAIC,SAAS,GAAG,WAAW;AAC3B,IAAIC,GAAG,GAAG,KAAK;AACf,IAAIC,QAAQ,GAAG,UAAU;AACzB,IAAIC,GAAG,GAAG,KAAK;AACf,IAAIC,IAAI,GAAG,MAAM;AACjB,IAAIC,cAAc,GAAG,aAAe,YAAY;EAC5C,SAASA,cAAcA,CAACC,MAAM,EAAE;IAC5B,IAAI,CAACC,IAAI,GAAG,EAAE;IACd,IAAI,CAACC,eAAe,GAAG;MACnBC,GAAG,EAAE,KAAK;MACVC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAE,MAAM;MACZC,IAAI,EAAE,MAAM;MACZC,MAAM,EAAE,QAAQ;MAChBC,MAAM,EAAE,QAAQ;MAChBC,YAAY,EAAE;IAClB,CAAC;IACD,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,eAAe,GAAG,YAAY;IACnC,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,MAAM,GAAG,KAAK;IACnB,IAAI,CAACC,WAAW,GAAG,yIAAyI;IAC5J,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACC,eAAe,GAAG,CAAC;IACxB,IAAI,CAACtC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACuC,UAAU,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC1C,IAAI,CAACC,aAAa,GAAG,IAAI,CAACzC,MAAM,CAAC0C,KAAK,IAAI,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,IAAI,CAAC3C,MAAM,CAAC0C,KAAK,CAAC,GAAG,IAAIC,IAAI,CAAC,CAAC;IAC1F,IAAI,CAACF,aAAa,CAACG,QAAQ,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACH,aAAa,CAACI,QAAQ,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACJ,aAAa,CAACK,UAAU,CAAC,CAAC,CAAC;IAChC,IAAI,CAACL,aAAa,CAACM,UAAU,CAAC,CAAC,CAAC;IAChC,IAAI,CAACC,YAAY,GAAG,IAAIL,IAAI,CAAC,IAAI,CAACF,aAAa,CAACQ,WAAW,CAAC,CAAC,EAAE,IAAI,CAACR,aAAa,CAACS,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACT,aAAa,CAACU,OAAO,CAAC,CAAC,EAAE,IAAI,CAACV,aAAa,CAACW,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACX,aAAa,CAACY,UAAU,CAAC,CAAC,EAAE,IAAI,CAACZ,aAAa,CAACa,UAAU,CAAC,CAAC,CAAC;IAC5N,IAAI,CAACC,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3B;EACAzD,cAAc,CAAC0D,SAAS,CAACC,aAAa,GAAG,YAAY;IACjD,OAAO,gBAAgB;EAC3B,CAAC;EACD3D,cAAc,CAAC0D,SAAS,CAACD,gBAAgB,GAAG,YAAY;IACpD,IAAI,IAAI,CAACxD,MAAM,CAAC2D,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC3D,MAAM,CAAC4D,EAAE,CAAC,YAAY,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAAC;IACnD,IAAI,CAAC7D,MAAM,CAAC4D,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAACE,mBAAmB,EAAE,IAAI,CAAC;IAClE,IAAI,CAAC9D,MAAM,CAAC4D,EAAE,CAAC,cAAc,EAAE,IAAI,CAACG,gBAAgB,EAAE,IAAI,CAAC;IAC3D,IAAI,CAAC/D,MAAM,CAAC4D,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAACI,kBAAkB,EAAE,IAAI,CAAC;IAC/D,IAAI,CAAChE,MAAM,CAAC4D,EAAE,CAAC,cAAc,EAAE,IAAI,CAACK,YAAY,EAAE,IAAI,CAAC;IACvD,IAAI,CAACjE,MAAM,CAAC4D,EAAE,CAAC,uBAAuB,EAAE,IAAI,CAACM,qBAAqB,EAAE,IAAI,CAAC;EAC7E,CAAC;EACDnE,cAAc,CAAC0D,SAAS,CAACF,mBAAmB,GAAG,YAAY;IACvD,IAAI,IAAI,CAACvD,MAAM,CAAC2D,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC3D,MAAM,CAACmE,GAAG,CAAC,YAAY,EAAE,IAAI,CAACN,UAAU,CAAC;IAC9C,IAAI,CAAC7D,MAAM,CAACmE,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACL,mBAAmB,CAAC;IAC7D,IAAI,CAAC9D,MAAM,CAACmE,GAAG,CAAC,cAAc,EAAE,IAAI,CAACJ,gBAAgB,CAAC;IACtD,IAAI,CAAC/D,MAAM,CAACmE,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAACH,kBAAkB,CAAC;IAC1D,IAAI,CAAChE,MAAM,CAACmE,GAAG,CAAC,cAAc,EAAE,IAAI,CAACF,YAAY,CAAC;IAClD,IAAI,CAACjE,MAAM,CAACmE,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAACD,qBAAqB,CAAC;EACxE,CAAC;EACDnE,cAAc,CAAC0D,SAAS,CAACI,UAAU,GAAG,UAAU5D,IAAI,EAAE;IAClD,IAAI,CAACW,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,aAAa,GAAG,KAAK;IACtH,IAAI,CAACsB,UAAU,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC1C,IAAI,IAAI,CAACxC,MAAM,CAACoE,eAAe,CAACjE,GAAG,EAAE;MACjC,IAAI,CAACD,eAAe,CAAC,KAAK,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAACjE,GAAG;IACjE;IACA,IAAI,IAAI,CAACH,MAAM,CAACoE,eAAe,CAAChE,KAAK,EAAE;MACnC,IAAI,CAACF,eAAe,CAAC,OAAO,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAChE,KAAK;IACrE;IACA,IAAI,IAAI,CAACJ,MAAM,CAACoE,eAAe,CAAC/D,IAAI,EAAE;MAClC,IAAI,CAACH,eAAe,CAAC,MAAM,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAC/D,IAAI;IACnE;IACA,IAAI,IAAI,CAACL,MAAM,CAACoE,eAAe,CAAC9D,IAAI,EAAE;MAClC,IAAI,CAACJ,eAAe,CAAC,MAAM,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAC9D,IAAI;IACnE;IACA,IAAI,IAAI,CAACN,MAAM,CAACoE,eAAe,CAAC7D,MAAM,EAAE;MACpC,IAAI,CAACL,eAAe,CAAC,QAAQ,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAC7D,MAAM;IACvE;IACA,IAAI,IAAI,CAACP,MAAM,CAACoE,eAAe,CAAC5D,MAAM,EAAE;MACpC,IAAI,CAACN,eAAe,CAAC,QAAQ,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAC5D,MAAM;IACvE;IACA,IAAI,IAAI,CAACR,MAAM,CAACoE,eAAe,CAAC3D,YAAY,EAAE;MAC1C,IAAI,CAACP,eAAe,CAAC,cAAc,CAAC,GAAG,IAAI,CAACF,MAAM,CAACoE,eAAe,CAAC3D,YAAY,CAAC4D,QAAQ,CAAC,CAAC;IAC9F;IACA,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAIC,UAAU,GAAG,IAAI,CAAChC,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC9E,IAAI,CAACpD,YAAY,GAAG,IAAI;IACxB,IAAI,CAACX,UAAU,GAAG,IAAI,CAAC6B,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC/E,IAAI,CAACpD,YAAY,GAAG,KAAK;IACzB,IAAI,CAACqD,kBAAkB,GAAG,IAAI,CAAChE,UAAU;IACzC,IAAI,CAACT,IAAI,GAAG,IAAI,CAAC0E,aAAa,GAAGJ,UAAU;IAC3C,IAAI,CAACvE,MAAM,CAAC4E,eAAe,GAAG,IAAI,CAAC3E,IAAI;IACvC,IAAI,IAAI,CAACD,MAAM,CAAC0C,KAAK,EAAE;MACnB,IAAI,CAAClB,SAAS,GAAG,IAAI;MACrB,IAAI,CAACC,MAAM,GAAGxB,IAAI,CAACwB,MAAM;MACzB,IAAI,CAACoD,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACD9E,cAAc,CAAC0D,SAAS,CAACa,oBAAoB,GAAG,YAAY;IACxD,IAAI,CAACQ,IAAI,GAAG,IAAI5F,IAAI,CAAC,IAAI,CAACc,MAAM,CAAC+E,UAAU,EAAE,IAAI,CAAC7E,eAAe,EAAE,IAAI,CAACF,MAAM,CAACgF,MAAM,CAAC;IACtF,IAAI,CAACC,YAAY,GAAGC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACjF,eAAe,CAAC;IACrD,KAAK,IAAIkF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACH,YAAY,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MAC/C,IAAI,CAAClF,eAAe,CAAC,IAAI,CAAC+E,YAAY,CAACG,CAAC,CAAC,CAACf,QAAQ,CAAC,CAAC,CAAC,GACjD,IAAI,CAACS,IAAI,CAACQ,WAAW,CAAC,IAAI,CAACL,YAAY,CAACG,CAAC,CAAC,CAACf,QAAQ,CAAC,CAAC,CAAC;IAC9D;EACJ,CAAC;EACDtE,cAAc,CAAC0D,SAAS,CAACK,mBAAmB,GAAG,YAAY;IACvD,IAAIyB,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;IACnD,IAAI,IAAI,CAACzF,MAAM,CAAC+E,UAAU,KAAK,YAAY,EAAE;MACzC,IAAIQ,KAAK,KAAK,IAAI,CAAC7E,UAAU,CAAC2E,MAAM,IAAI,IAAI,CAACpF,IAAI,KAAK,IAAI,CAACD,MAAM,CAACwF,YAAY,CAAC9C,KAAK,EAAE;QAClF6C,KAAK,GAAG,CAAC;MACb;IACJ;IACA,KAAK,IAAIH,CAAC,GAAGG,KAAK,EAAEG,CAAC,GAAGH,KAAK,GAAG,CAAC,EAAEH,CAAC,GAAG,IAAI,CAAC1E,UAAU,CAAC2E,MAAM,IAAIK,CAAC,IAAI,CAAC,EAAEN,CAAC,EAAE,EAAEM,CAAC,EAAE,EAAE;MAC/E,IAAIN,CAAC,GAAG,IAAI,CAAC1E,UAAU,CAAC2E,MAAM,IAAI,IAAI,CAAC1E,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC0E,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QACvF,IAAI,CAACQ,YAAY,CAAC,IAAI,CAAClF,UAAU,CAAC0E,CAAC,CAAC,CAAC;QACrC;MACJ;MACA,IAAIM,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC/E,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAACgF,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QACnE,IAAI,CAACE,YAAY,CAAC,IAAI,CAAClF,UAAU,CAACgF,CAAC,CAAC,CAAC;QACrC;MACJ;IACJ;EACJ,CAAC;EACD3F,cAAc,CAAC0D,SAAS,CAACoB,eAAe,GAAG,YAAY;IACnD,IAAI,CAACpC,aAAa,GAAG,IAAIE,IAAI,CAAC,CAAC,IAAI,CAAC3C,MAAM,CAAC0C,KAAK,CAAC;IACjD,IAAI,CAAC9B,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,aAAa,GAAG,IAAI;IACrH,IAAI,CAAC4E,WAAW,CAAC,CAAC;IAClB,IAAI,CAAC,IAAI,CAACpE,MAAM,EAAE;MACd,IAAI,CAACqC,mBAAmB,CAAC,CAAC;IAC9B;EACJ,CAAC;EACD/D,cAAc,CAAC0D,SAAS,CAACmC,YAAY,GAAG,UAAUE,SAAS,EAAE;IACzD,IAAIP,KAAK,GAAG,CAAC,CAAC;IACd,IAAIQ,GAAG,GAAG,CAAC;IACX,KAAK,IAAIX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC1E,UAAU,CAAC2E,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAI,IAAI,CAAC1E,UAAU,CAAC0E,CAAC,CAAC,KAAKU,SAAS,EAAE;QAClCC,GAAG,GAAGX,CAAC,GAAG,CAAC;QACX,IAAIG,KAAK,KAAK,CAAC,CAAC,EAAE;UACdA,KAAK,GAAGH,CAAC;QACb;MACJ;IACJ;IACA,IAAIG,KAAK,GAAG,CAAC,EAAE;MACXA,KAAK,GAAG,CAAC;IACb;IACA,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACQ,iBAAiB,CAACT,KAAK,EAAEQ,GAAG,CAAC;EAC1D,CAAC;EACDhG,cAAc,CAAC0D,SAAS,CAACO,kBAAkB,GAAG,UAAUiC,IAAI,EAAE;IAC1D,IAAIA,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK,WAAW,EAAE;MAC5B,IAAIZ,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;MACnD,IAAIW,UAAU,GAAG,EAAE;MACnB,IAAI,IAAI,CAACzF,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC6E,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QAC7Da,UAAU,GAAG,IAAI,CAAC1F,UAAU,CAAC6E,KAAK,CAAC;MACvC;MACA,QAAQa,UAAU;QACd,KAAK,GAAG;UACJ,IAAI,CAAClE,YAAY,GAAGmE,IAAI,CAACC,GAAG,CAAC,IAAI,CAACpE,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC;UACtD;QACJ,KAAK,GAAG;UACJ,IAAI,CAACC,cAAc,GAAGkE,IAAI,CAACC,GAAG,CAAC,IAAI,CAACnE,cAAc,GAAG,CAAC,EAAE,CAAC,CAAC;UAC1D;QACJ,KAAK,GAAG;QACR,KAAK,GAAG;UACJ,IAAI,CAACC,aAAa,GAAGiE,IAAI,CAACC,GAAG,CAAC,IAAI,CAAClE,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC;UACxD;QACJ,KAAK,GAAG;UACJ,IAAI,CAACC,eAAe,GAAGgE,IAAI,CAACC,GAAG,CAAC,IAAI,CAACjE,eAAe,GAAG,CAAC,EAAE,CAAC,CAAC;UAC5D;QACJ,KAAK,GAAG;UACJ,IAAI,CAACC,eAAe,GAAG+D,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChE,eAAe,GAAG,CAAC,EAAE,CAAC,CAAC;UAC5D;QACJ;UACI;MACR;MACA;IACJ;IACA,IAAI,CAACJ,YAAY,GAAG,IAAI,CAACC,cAAc,GAAG,IAAI,CAACC,aAAa,GAAG,IAAI,CAACC,eAAe,GAAG,IAAI,CAACC,eAAe,GAAG,CAAC;IAC9G,IAAI2D,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;MACzB,IAAI,CAACtE,WAAW,GAAG,IAAI;MACvB;IACJ;IACA,IAAK,CAACoE,IAAI,CAACC,CAAC,CAACK,MAAM,IAAI,CAACN,IAAI,CAACC,CAAC,CAACM,OAAO,KAAMP,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK5G,SAAS,IAAI0G,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK3G,UAAU,IAC1FyG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKvG,QAAQ,IAAIqG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKxG,GAAG,IAAIsG,IAAI,CAACC,CAAC,CAACO,MAAM,KAAK7G,QAAQ,IAC9EqG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKtG,GAAG,IAAIoG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKrG,IAAI,CAAC,EAAE;MAC5C,IAAIyF,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;MACnD,IAAIM,GAAG,GAAG,IAAI,CAAC/F,MAAM,CAACwF,YAAY,CAACkB,YAAY;MAC/C,IAAIC,QAAQ,GAAG,IAAI,CAAC3G,MAAM,CAACwF,YAAY,CAAC9C,KAAK,CAAC2C,MAAM;MACpD,IAAKE,KAAK,KAAK,CAAC,IAAIQ,GAAG,KAAKY,QAAQ,KAAMV,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKxG,GAAG,IAAIsG,IAAI,CAACC,CAAC,CAACO,MAAM,KAAK7G,QAAQ,CAAC,EAAE;QACzF,IAAIgH,KAAK,GAAGX,IAAI,CAACC,CAAC,CAACO,MAAM,KAAK7G,QAAQ,GAAGmG,GAAG,GAAG,CAAC;QAChD,IAAI,CAAC/F,MAAM,CAACwF,YAAY,CAACC,cAAc,GAAG,IAAI,CAACzF,MAAM,CAACwF,YAAY,CAACkB,YAAY,GAAGE,KAAK;MAC3F;MACA,IAAIX,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKtG,GAAG,IAAIoG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKrG,IAAI,EAAE;QAC3C,IAAI+G,KAAK,GAAGZ,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKtG,GAAG,GAAG8G,QAAQ,GAAG,CAAC;QAC7C,IAAI,CAAC3G,MAAM,CAACwF,YAAY,CAACC,cAAc,GAAG,IAAI,CAACzF,MAAM,CAACwF,YAAY,CAACkB,YAAY,GAAGG,KAAK;MAC3F;MACA,IAAI,CAACC,iBAAiB,CAACb,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK5G,SAAS,IAAI0G,IAAI,CAACC,CAAC,CAACO,MAAM,KAAK7G,QAAQ,IAAIqG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKtG,GAAG,GAAG,IAAI,GAAG,KAAK,CAAC;IACvH;IACA,IAAK,CAACoG,IAAI,CAACC,CAAC,CAACK,MAAM,IAAI,CAACN,IAAI,CAACC,CAAC,CAACM,OAAO,KAAMP,IAAI,CAACC,CAAC,CAACC,GAAG,KAAK1G,OAAO,IAAIwG,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKzG,SAAS,CAAC,EAAE;MAC7F,IAAI6F,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;MACnD,IAAIW,UAAU,GAAG,EAAE;MACnB,IAAI,IAAI,CAACzF,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC6E,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QAC7Da,UAAU,GAAG,IAAI,CAAC1F,UAAU,CAAC6E,KAAK,CAAC;MACvC;MACA,IAAI,CAACwB,cAAc,CAACd,IAAI,CAACC,CAAC,CAACC,GAAG,KAAKzG,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;MAC5D,IAAI6E,UAAU,GAAG,IAAI,CAAChC,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;MAC9E,IAAI,CAACpD,YAAY,GAAG,IAAI;MACxB,IAAI,CAACX,UAAU,GAAG,IAAI,CAAC6B,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;MAC/E,IAAI,CAACpD,YAAY,GAAG,KAAK;MACzB,IAAI,CAACqD,kBAAkB,GAAG,IAAI,CAAChE,UAAU;MACzC,IAAI,CAACiE,aAAa,GAAGJ,UAAU;MAC/B,IAAI,CAACvE,MAAM,CAACwF,YAAY,CAAC9C,KAAK,GAAG6B,UAAU;MAC3C,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC1E,UAAU,CAAC2E,MAAM,EAAED,CAAC,EAAE,EAAE;QAC7C,IAAIgB,UAAU,KAAK,IAAI,CAAC1F,UAAU,CAAC0E,CAAC,CAAC,EAAE;UACnCG,KAAK,GAAGH,CAAC;UACT;QACJ;MACJ;MACA,IAAI,CAACpF,MAAM,CAACwF,YAAY,CAACC,cAAc,GAAGF,KAAK;MAC/C,IAAI,CAACzB,mBAAmB,CAAC,CAAC;IAC9B;EACJ,CAAC;EACD/D,cAAc,CAAC0D,SAAS,CAACuD,SAAS,GAAG,YAAY;IAC7C,IAAIA,SAAS,GAAG,IAAI,CAAChH,MAAM,CAACiH,SAAS,IAAI,IAAI,CAACzF,SAAS;IACvD,OAAOwF,SAAS;EACpB,CAAC;EACDjH,cAAc,CAAC0D,SAAS,CAACyD,eAAe,GAAG,YAAY;IACnD,IAAI3B,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;IACnD,IAAIlB,UAAU,GAAG,IAAI,CAACvE,MAAM,CAACwF,YAAY,CAAC9C,KAAK;IAC/C,IAAIyE,WAAW,GAAG,IAAI,CAACxC,aAAa,CAACyC,SAAS,CAAC,CAAC,EAAE7B,KAAK,GAAG,IAAI,CAACZ,aAAa,CAACU,MAAM,GAAGd,UAAU,CAACc,MAAM,CAAC;IACxG,IAAIgC,MAAM,GAAG9C,UAAU,CAAC6C,SAAS,CAAC,CAAC,EAAE7B,KAAK,CAAC;IAC3C,IAAI+B,YAAY,GAAG,IAAI3E,IAAI,CAAC,CAAC,IAAI,CAACF,aAAa,CAAC;IAChD,IAAI8E,OAAO,GAAG,IAAI5E,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IAC5F,IAAIgE,WAAW,CAACxB,OAAO,CAAC0B,MAAM,CAAC,KAAK,CAAC,KAAKA,MAAM,CAAChC,MAAM,KAAK,CAAC,IACzD,IAAI,CAACX,kBAAkB,CAAC2C,MAAM,CAAChC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,CAACX,kBAAkB,CAAC2C,MAAM,CAAChC,MAAM,CAAC,CAAC,EAAE;MACxF,KAAK,IAAID,CAAC,GAAGiC,MAAM,CAAChC,MAAM,EAAED,CAAC,GAAG+B,WAAW,CAAC9B,MAAM,EAAED,CAAC,EAAE,EAAE;QACrD,IAAI,IAAI,CAACV,kBAAkB,CAACU,CAAC,CAAC,KAAK,EAAE,IAAI,IAAI,CAACzE,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjB,kBAAkB,CAACU,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;UACpG,IAAI,CAACzD,UAAU,GAAG,IAAI,CAAC6F,cAAc,CAAC,IAAI,CAAC9C,kBAAkB,CAACU,CAAC,CAAC,EAAE,KAAK,CAAC;QAC5E;MACJ;MACA,IAAI,IAAI,CAACzD,UAAU,EAAE;QACjB;MACJ;IACJ;IACA,QAAQ,IAAI,CAAC+C,kBAAkB,CAACa,KAAK,GAAG,CAAC,CAAC;MACtC,KAAK,GAAG;QACJ;UACI,IAAIkC,IAAI,GAAG,CAAC,IAAI,CAAC7G,SAAS,IAAI0G,YAAY,CAACnE,OAAO,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IACtE,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,GAAGM,YAAY,CAACnE,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAIuE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UAC1F,IAAI,CAACzD,UAAU,GAAIuF,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,KAAK,GAAI;UAC7C,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;UAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;UACxD,IAAImG,KAAK,CAACF,IAAI,CAAC,EAAE;YACb;UACJ;UACA,KAAK,IAAIrC,CAAC,GAAG,CAAC,EAAEqC,IAAI,GAAGF,OAAO,EAAEnC,CAAC,EAAE,EAAE;YACjCqC,IAAI,GAAGC,QAAQ,CAACD,IAAI,CAACpD,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;UACjD;UACA,IAAIH,IAAI,IAAI,CAAC,EAAE;YACXH,YAAY,CAACO,OAAO,CAACJ,IAAI,CAAC;YAC1B,IAAI,CAAClG,UAAU,GAAGkG,IAAI,CAACpD,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;YAC9C,IAAI,CAACrC,YAAY,GAAG,IAAIL,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,EAAEoE,YAAY,CAACnE,OAAO,CAAC,CAAC,CAAC;YACzG,IAAImE,YAAY,CAACpE,QAAQ,CAAC,CAAC,KAAK,IAAI,CAACT,aAAa,CAACS,QAAQ,CAAC,CAAC,EAAE;cAC3D;YACJ;YACA,IAAI,CAACtC,SAAS,GAAG,IAAI;YACrB,IAAIkH,cAAc,GAAG,IAAInF,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;YACnG,IAAI,CAACjB,YAAY,IAAK,IAAI,CAACA,YAAY,KAAK,CAAC,IAAKwF,QAAQ,CAACD,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,GAAGK,cAAe,GAAI,CAAC,GAAG,CAAC;UACzG,CAAC,MACI;YACD,IAAI,CAAClH,SAAS,GAAG,KAAK;YACtB,IAAI,EAAE,IAAI,CAACsB,YAAY,KAAK,CAAC,IAAI,IAAI,CAACJ,UAAU,CAAC,EAAE;cAC/C,IAAI,CAACI,YAAY,IAAI,IAAI,CAACJ,UAAU,GAAG,CAAC,GAAG,CAAC;YAChD;UACJ;UACA;QACJ;MACJ,KAAK,GAAG;QACJ;UACI,IAAI1B,KAAK,GAAG,KAAK,CAAC;UAClB,IAAIkH,YAAY,CAACpE,QAAQ,CAAC,CAAC,CAACmB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,EAAE;YACpE5G,KAAK,GAAG,CAAC,IAAI,CAACS,WAAW,GAAG,CAACyG,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAIwE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UACzG,CAAC,MACI;YACDnF,KAAK,GAAGsH,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UAC3C;UACA,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;UAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;UACxD,IAAI,CAACO,WAAW,GAAIsF,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,KAAK,GAAI;UAC9C,IAAI,CAACoC,KAAK,CAACvH,KAAK,CAAC,EAAE;YACf,OAAOA,KAAK,GAAG,EAAE,EAAE;cACfA,KAAK,GAAGsH,QAAQ,CAACtH,KAAK,CAACiE,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;YACnD;YACA,IAAIxH,KAAK,IAAI,CAAC,EAAE;cACZkH,YAAY,CAAC1E,QAAQ,CAACxC,KAAK,GAAG,CAAC,CAAC;cAChC,IAAIA,KAAK,IAAI,EAAE,IAAIA,KAAK,KAAK,CAAC,EAAE;gBAC5B,IAAI,IAAI,CAAC6B,aAAa,IAAI7B,KAAK,KAAK,CAAC,EAAE;kBACnC,IAAI,CAACmB,UAAU,GAAGnB,KAAK,CAACiE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;kBAC/C,IAAI,CAACpD,aAAa,GAAG,KAAK;gBAC9B,CAAC,MACI;kBACD,IAAI,CAACV,UAAU,GAAGnB,KAAK,CAACiE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;gBACnD;cACJ,CAAC,MACI;gBACD,IAAI,CAAC9D,UAAU,GAAGnB,KAAK,CAACiE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;cACnD;cACA,IAAIiC,YAAY,CAACpE,QAAQ,CAAC,CAAC,KAAK9C,KAAK,GAAG,CAAC,EAAE;gBACvCkH,YAAY,CAACO,OAAO,CAAC,CAAC,CAAC;gBACvBP,YAAY,CAAC1E,QAAQ,CAACxC,KAAK,GAAG,CAAC,CAAC;cACpC;cACA,IAAI,IAAI,CAACQ,SAAS,EAAE;gBAChB,IAAImH,eAAe,GAAG,IAAIpF,IAAI,CAAC,IAAI,CAACK,YAAY,CAACC,WAAW,CAAC,CAAC,EAAE,IAAI,CAACD,YAAY,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;gBAC9G,IAAI6E,cAAc,GAAG,IAAIrF,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;gBACnG,IAAI,IAAI,CAACH,YAAY,CAACG,OAAO,CAAC,CAAC,KAAK4E,eAAe,IAAIC,cAAc,IAAID,eAAe,EAAE;kBACtFT,YAAY,CAACO,OAAO,CAACG,cAAc,CAAC;gBACxC;cACJ;cACA,IAAI,CAAChF,YAAY,GAAG,IAAIL,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,EAAEoE,YAAY,CAACnE,OAAO,CAAC,CAAC,CAAC;cACzG,IAAI,CAACtC,WAAW,GAAG,IAAI;cACvB,IAAI,CAACsB,cAAc,GAAG,IAAI,CAACA,cAAc,GAAG,CAAC;cAC7C,IAAI,CAACF,aAAa,GAAG,KAAK;YAC9B,CAAC,MACI;cACDqF,YAAY,CAAC1E,QAAQ,CAAC,CAAC,CAAC;cACxB,IAAI,CAACX,aAAa,GAAG,IAAI;cACzB,IAAI,CAACpB,WAAW,GAAG,KAAK;cACxB,IAAI,EAAE,IAAI,CAACsB,cAAc,KAAK,CAAC,IAAI,IAAI,CAACJ,WAAW,CAAC,EAAE;gBAClD,IAAI,CAACI,cAAc,IAAI,IAAI,CAACJ,WAAW,GAAG,CAAC,GAAG,CAAC;cACnD;YACJ;UACJ,CAAC,MACI;YACD,IAAIkG,WAAW,GAAI,IAAI,CAACC,gBAAgB,CAAC,0BAA0B,CAAE;YACrE,IAAIC,UAAU,GAAGjD,MAAM,CAACC,IAAI,CAAC8C,WAAW,CAAC;YACzC,IAAI,CAAC9G,cAAc,IAAIkG,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,CAAC6C,WAAW,CAAC,CAAC;YACtD,OAAO,IAAI,CAACjH,cAAc,CAACkE,MAAM,GAAG,CAAC,EAAE;cACnC,IAAID,CAAC,GAAG,CAAC;cACT,KAAK,IAAIiD,EAAE,GAAG,CAAC,EAAEC,YAAY,GAAGH,UAAU,EAAEE,EAAE,GAAGC,YAAY,CAACjD,MAAM,EAAEgD,EAAE,EAAE,EAAE;gBACxE,IAAIE,MAAM,GAAGD,YAAY,CAACD,EAAE,CAAC;gBAC7B,IAAIJ,WAAW,CAAC7C,CAAC,CAAC,CAACgD,WAAW,CAAC,CAAC,CAACzC,OAAO,CAAC,IAAI,CAACxE,cAAc,CAAC,KAAK,CAAC,EAAE;kBACjEmG,YAAY,CAAC1E,QAAQ,CAACwC,CAAC,GAAG,CAAC,CAAC;kBAC5B,IAAI,CAACvE,WAAW,GAAG,IAAI;kBACvB,IAAI,CAAC4B,aAAa,GAAG6E,YAAY;kBACjC;gBACJ;gBACAlC,CAAC,EAAE;cACP;cACA,IAAI,CAACjE,cAAc,GAAG,IAAI,CAACA,cAAc,CAACiG,SAAS,CAAC,CAAC,EAAE,IAAI,CAACjG,cAAc,CAACkE,MAAM,CAAC;YACtF;UACJ;UACA;QACJ;MACJ,KAAK,GAAG;QACJ;UACI,IAAIhF,IAAI,GAAG,CAAC,IAAI,CAACS,UAAU,IAAKwG,YAAY,CAACrE,WAAW,CAAC,CAAC,CAACoB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IACzE,CAAC,IAAI,CAACzD,WAAY,GAAG0F,YAAY,CAACrE,WAAW,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAIyE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UAClG,IAAIiD,SAAS,GAAG,CAAC,IAAI,CAACjG,UAAU,CAACkG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,EAAEpD,MAAM;UAC1DmD,SAAS,GAAGA,SAAS,KAAK,CAAC,GAAG,CAAC,GAAGA,SAAS;UAC3C,IAAI,CAAC5G,WAAW,GAAG,KAAK;UACxB,IAAI,CAACI,UAAU,GAAIqF,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,KAAK,GAAI;UAC7C,IAAIoC,KAAK,CAACtH,IAAI,CAAC,EAAE;YACb;UACJ;UACA,OAAOA,IAAI,GAAG,IAAI,EAAE;YAChBA,IAAI,GAAGqH,QAAQ,CAACrH,IAAI,CAACgE,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;UACjD;UACA,IAAIvH,IAAI,GAAG,CAAC,EAAE;YACV,IAAI,CAACS,UAAU,GAAG,KAAK;UAC3B,CAAC,MACI;YACDwG,YAAY,CAACoB,WAAW,CAACrI,IAAI,CAAC;YAC9B,IAAIA,IAAI,CAACgE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAKmD,SAAS,EAAE;cACtC,IAAI,CAACjH,UAAU,GAAG,IAAI;YAC1B;YACA,IAAI,CAACyB,YAAY,GAAG,IAAIL,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,EAAEoE,YAAY,CAACnE,OAAO,CAAC,CAAC,CAAC;YACzG,IAAI,CAACrC,UAAU,GAAG,IAAI;UAC1B;UACA;QACJ;MACJ,KAAK,GAAG;QACJ,IAAI,CAACR,IAAI,GAAG,CAAC,IAAI,CAACS,UAAU,IAAI,CAACuG,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAEiB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IACnF,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,GAAG,CAACM,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,IAAIsE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3G,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;QAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;QACxD,IAAImG,KAAK,CAAC,IAAI,CAACrH,IAAI,CAAC,EAAE;UAClB;QACJ;QACA,OAAO,IAAI,CAACA,IAAI,GAAG,EAAE,EAAE;UACnB,IAAI,CAACA,IAAI,GAAGoH,QAAQ,CAAC,IAAI,CAACpH,IAAI,CAAC+D,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3D;QACAN,YAAY,CAACzE,QAAQ,CAACwD,IAAI,CAACsC,KAAK,CAACrB,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAI,IAAI,CAAC9C,IAAI,GAAG,EAAG,CAAC;QACvF,IAAI,CAACiB,UAAU,GAAG,IAAI,CAACjB,IAAI,CAAC+D,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;QACnD,IAAI,CAACtE,UAAU,GAAG,IAAI;QACtB,IAAI,CAACqB,aAAa,GAAI,IAAI,CAACA,aAAa,KAAK,CAAC,IAAI,IAAI,CAAC9B,IAAI,IAAKoH,QAAQ,CAAC,IAAI,CAACpH,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,EAAG,GAAI,CAAC,GAAG,IAAI,CAAC8B,aAAa,GAAG,CAAC;QACjI;MACJ,KAAK,GAAG;QACJ,IAAI,CAAC9B,IAAI,GAAG,CAAC,IAAI,CAACS,UAAU,IAAIuG,YAAY,CAAClE,QAAQ,CAAC,CAAC,CAACiB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IACzE,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,GAAGM,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAIsE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3F,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;QAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;QACxD,IAAImG,KAAK,CAAC,IAAI,CAACrH,IAAI,CAAC,EAAE;UAClB;QACJ;QACA,KAAK,IAAI8E,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC9E,IAAI,GAAG,EAAE,EAAE8E,CAAC,EAAE,EAAE;UACjC,IAAI,CAAC9E,IAAI,GAAGoH,QAAQ,CAAC,IAAI,CAACpH,IAAI,CAAC+D,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC3D;QACAN,YAAY,CAACzE,QAAQ,CAAC,IAAI,CAACvC,IAAI,CAAC;QAChC,IAAI,CAACiB,UAAU,GAAG,IAAI,CAACjB,IAAI,CAAC+D,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;QACnD,IAAI,CAACtE,UAAU,GAAG,IAAI;QACtB,IAAI,CAACqB,aAAa,GAAI,IAAI,CAACA,aAAa,KAAK,CAAC,IAAI,IAAI,CAAC9B,IAAI,IAAKoH,QAAQ,CAAC,IAAI,CAACpH,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,EAAG,GAAI,CAAC,GAAG,IAAI,CAAC8B,aAAa,GAAG,CAAC;QACjI;MACJ,KAAK,GAAG;QACJ;UACI,IAAIwG,OAAO,GAAG,CAAC,IAAI,CAAC5H,YAAY,IAAIsG,YAAY,CAACjE,UAAU,CAAC,CAAC,CAACgB,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IAC5E,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,GAAGM,YAAY,CAACjE,UAAU,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAIqE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UAChG,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;UAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;UACxD,IAAImG,KAAK,CAACiB,OAAO,CAAC,EAAE;YAChB;UACJ;UACA,KAAK,IAAIxD,CAAC,GAAG,CAAC,EAAEwD,OAAO,GAAG,EAAE,EAAExD,CAAC,EAAE,EAAE;YAC/BwD,OAAO,GAAGlB,QAAQ,CAACkB,OAAO,CAACvE,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;UACvD;UACAN,YAAY,CAACxE,UAAU,CAAC8F,OAAO,CAAC;UAChC,IAAI,CAACrH,UAAU,GAAGqH,OAAO,CAACvE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;UACjD,IAAI,CAACrE,YAAY,GAAG,IAAI;UACxB,IAAI,CAACqB,eAAe,GAAI,IAAI,CAACA,eAAe,KAAK,CAAC,IAAKqF,QAAQ,CAACkB,OAAO,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,EAAG,GAAI,CAAC,GAAG,IAAI,CAACvG,eAAe,GAAG,CAAC;UACxH;QACJ;MACJ,KAAK,GAAG;QACJ;UACI,IAAIwG,OAAO,GAAG,CAAC,IAAI,CAAC5H,aAAa,IAAIqG,YAAY,CAAChE,UAAU,CAAC,CAAC,CAACe,QAAQ,CAAC,CAAC,CAACgB,MAAM,GAAG,CAAC,IAChF,CAAC,IAAI,CAAC2B,SAAS,CAAC,CAAC,GAAGM,YAAY,CAAChE,UAAU,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,IAAIoE,QAAQ,CAACL,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;UAC7F,IAAI,CAACvF,MAAM,CAACiH,SAAS,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS,GAAG,KAAK,GAAG,IAAI,CAACjH,MAAM,CAACiH,SAAS;UAC7E,IAAI,CAACzF,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,KAAK,GAAG,IAAI,CAACA,SAAS;UACxD,IAAImG,KAAK,CAACkB,OAAO,CAAC,EAAE;YAChB;UACJ;UACA,KAAK,IAAIzD,CAAC,GAAG,CAAC,EAAEyD,OAAO,GAAG,EAAE,EAAEzD,CAAC,EAAE,EAAE;YAC/ByD,OAAO,GAAGnB,QAAQ,CAACmB,OAAO,CAACxE,QAAQ,CAAC,CAAC,CAACuD,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;UACvD;UACAN,YAAY,CAACvE,UAAU,CAAC8F,OAAO,CAAC;UAChC,IAAI,CAACtH,UAAU,GAAGsH,OAAO,CAACxE,QAAQ,CAAC,CAAC,CAACgB,MAAM,KAAK,CAAC;UACjD,IAAI,CAACpE,aAAa,GAAG,IAAI;UACzB,IAAI,CAACqB,eAAe,GAAI,IAAI,CAACA,eAAe,KAAK,CAAC,IAAKoF,QAAQ,CAACmB,OAAO,GAAG,GAAG,EAAE,EAAE,CAAC,GAAG,EAAG,GAAI,CAAC,GAAG,IAAI,CAACvG,eAAe,GAAG,CAAC;UACxH;QACJ;MACJ,KAAK,GAAG;QACJ;UACI,IAAI,CAAClB,eAAe,IAAIiG,MAAM,CAAC9B,KAAK,GAAG,CAAC,CAAC,CAAC6C,WAAW,CAAC,CAAC;UACvD,IAAIU,YAAY,GAAI,IAAI,CAACZ,gBAAgB,CAAC,wBAAwB,CAAE;UACpE,IAAIa,UAAU,GAAG7D,MAAM,CAACC,IAAI,CAAC2D,YAAY,CAAC;UAC1C,KAAK,IAAI1D,CAAC,GAAG,CAAC,EAAE,IAAI,CAAChE,eAAe,CAACiE,MAAM,GAAG,CAAC,EAAED,CAAC,EAAE,EAAE;YAClD,IAAK0D,YAAY,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CAACX,WAAW,CAAC,CAAC,CAACzC,OAAO,CAAC,IAAI,CAACvE,eAAe,CAAC,KAAK,CAAC,IAC3EkG,YAAY,CAAClE,QAAQ,CAAC,CAAC,IAAI,EAAE,IAAM0F,YAAY,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CAACX,WAAW,CAAC,CAAC,CAC/EzC,OAAO,CAAC,IAAI,CAACvE,eAAe,CAAC,KAAK,CAAC,IAAIkG,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAG,EAAE;cACtEkE,YAAY,CAACzE,QAAQ,CAAC,CAACyE,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;cAC1D,IAAI,CAACX,aAAa,GAAG6E,YAAY;YACrC;YACA,IAAI,CAAClG,eAAe,GAAG,IAAI,CAACA,eAAe,CAACgG,SAAS,CAAC,CAAC,EAAE,IAAI,CAAChG,eAAe,CAACiE,MAAM,CAAC;UACzF;UACA;QACJ;MACJ;QACI;IACR;IACA,IAAI,CAAC5C,aAAa,GAAG6E,YAAY;EACrC,CAAC;EACD;EACAvH,cAAc,CAAC0D,SAAS,CAACgB,WAAW,GAAG,YAAY;IAC/C,IAAIuE,KAAK,GAAG,IAAI,IAAI,IAAI;IACxB,SAASC,oBAAoBA,CAACC,UAAU,EAAE;MACtC,IAAIC,MAAM;MACV;MACA,IAAIC,eAAe,GAAGJ,KAAK,CAACd,gBAAgB,CAAC,+BAA+B,CAAC;MAC7E,IAAImB,iBAAiB,GAAGnE,MAAM,CAACC,IAAI,CAACiE,eAAe,CAAC;MACpD;MACA,IAAIE,QAAQ,GAAIN,KAAK,CAACd,gBAAgB,CAAC,wBAAwB,CAAE;MACjE,IAAIqB,UAAU,GAAGrE,MAAM,CAACC,IAAI,CAACmE,QAAQ,CAAC;MACtC;MACA,IAAIE,UAAU,GAAIR,KAAK,CAACd,gBAAgB,CAAC,0BAA0B,CAAE;MACrE,IAAIuB,YAAY,GAAGvE,MAAM,CAACC,IAAI,CAACqE,UAAU,CAAC;MAC1C,IAAIE,gBAAgB,GAAIV,KAAK,CAACd,gBAAgB,CAAC,iCAAiC,CAAE;MAClF,IAAIyB,SAAS,GAAIX,KAAK,CAACd,gBAAgB,CAAC,0BAA0B,CAAE;MACpE;MACA,IAAIY,YAAY,GAAIE,KAAK,CAACd,gBAAgB,CAAC,wBAAwB,CAAE;MACrE,IAAIa,UAAU,GAAG7D,MAAM,CAACC,IAAI,CAAC2D,YAAY,CAAC;MAC1C,IAAIc,YAAY;MAChB,IAAIC,WAAW;MACf,QAAQX,UAAU;QACd,KAAK,KAAK;QACV,KAAK,MAAM;QACX,KAAK,GAAG;UACJC,MAAM,GAAGH,KAAK,CAACpI,SAAS,GAAGoI,KAAK,CAACvG,aAAa,CAACU,OAAO,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,KAAK,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC7G8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAAClH,UAAU,EAAEkH,KAAK,CAACpI,SAAS,EAAEuI,MAAM,CAAC;UACnE,IAAIH,KAAK,CAAC9G,YAAY,KAAK,CAAC,EAAE;YAC1B8G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC9G,YAAY,GAAG,CAAC;UAC1B;UACA;QACJ,KAAK,IAAI;UACLiH,MAAM,GAAGH,KAAK,CAACpI,SAAS,GAAGoI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACU,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG6F,KAAK,CAAC9I,eAAe,CAAC,KAAK,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACrH8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAAClH,UAAU,EAAEkH,KAAK,CAACpI,SAAS,EAAEuI,MAAM,CAAC;UACnE,IAAIH,KAAK,CAAC9G,YAAY,KAAK,CAAC,EAAE;YAC1B8G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC9G,YAAY,GAAG,CAAC;UAC1B;UACA;QACJ,KAAK,GAAG;QACR,KAAK,IAAI;QACT,KAAK,KAAK;QACV,KAAK,KAAK;UACNiH,MAAM,GAAGH,KAAK,CAACpI,SAAS,IAAIoI,KAAK,CAACnI,WAAW,IAAImI,KAAK,CAAClI,UAAU,GAAGsI,eAAe,CAACC,iBAAiB,CAACL,KAAK,CAACvG,aAAa,CAACuH,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC3F,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,cAAc,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAClM;QACJ,KAAK,MAAM;QACX,KAAK,MAAM;UACP8E,MAAM,GAAGH,KAAK,CAACpI,SAAS,IAAIoI,KAAK,CAACnI,WAAW,IAAImI,KAAK,CAAClI,UAAU,GAAGwI,QAAQ,CAACC,UAAU,CAACP,KAAK,CAACvG,aAAa,CAACuH,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC3F,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,cAAc,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACpL;QACJ,KAAK,OAAO;UACR8E,MAAM,GAAGH,KAAK,CAACpI,SAAS,IAAIoI,KAAK,CAACnI,WAAW,IAAImI,KAAK,CAAClI,UAAU,GAAG0I,UAAU,CAACC,YAAY,CAACT,KAAK,CAACvG,aAAa,CAACuH,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC3F,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,cAAc,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACxL;QACJ,KAAK,GAAG;UACJ8E,MAAM,GAAGH,KAAK,CAACnI,WAAW,GAAG,CAACmI,KAAK,CAACvG,aAAa,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAEmB,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,OAAO,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACxH8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAACjH,WAAW,EAAEiH,KAAK,CAACnI,WAAW,EAAEsI,MAAM,CAAC;UACtE,IAAIH,KAAK,CAAC7G,cAAc,KAAK,CAAC,EAAE;YAC5B6G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC7G,cAAc,GAAG,CAAC;UAC5B;UACA;QACJ,KAAK,IAAI;UACLgH,MAAM,GAAGH,KAAK,CAACnI,WAAW,GAAGmI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG8F,KAAK,CAAC9I,eAAe,CAAC,OAAO,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC9H8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAACjH,WAAW,EAAEiH,KAAK,CAACnI,WAAW,EAAEsI,MAAM,CAAC;UACtE,IAAIH,KAAK,CAAC7G,cAAc,KAAK,CAAC,EAAE;YAC5B6G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC7G,cAAc,GAAG,CAAC;UAC5B;UACA;QACJ,KAAK,KAAK;UACNgH,MAAM,GAAGH,KAAK,CAACnI,WAAW,GAAG6I,gBAAgB,CAACV,KAAK,CAACvG,aAAa,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG8F,KAAK,CAAC9I,eAAe,CAAC,OAAO,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC7H;QACJ,KAAK,MAAM;UACP8E,MAAM,GAAGH,KAAK,CAACnI,WAAW,GAAG8I,SAAS,CAACX,KAAK,CAACvG,aAAa,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG8F,KAAK,CAAC9I,eAAe,CAAC,OAAO,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACtH;QACJ,KAAK,IAAI;UACL8E,MAAM,GAAGH,KAAK,CAAClI,UAAU,GAAGkI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACQ,WAAW,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG+F,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACjI8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAAChH,UAAU,EAAEgH,KAAK,CAAClI,UAAU,EAAEqI,MAAM,CAAC;UACpE;QACJ,KAAK,GAAG;QACR,KAAK,KAAK;QACV,KAAK,MAAM;UACPA,MAAM,GAAGH,KAAK,CAAClI,UAAU,GAAGkI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACQ,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG+F,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC3H8E,MAAM,GAAGH,KAAK,CAACc,SAAS,CAACd,KAAK,CAAChH,UAAU,EAAEgH,KAAK,CAAClI,UAAU,EAAEqI,MAAM,CAAC;UACpE;QACJ,KAAK,GAAG;UACJA,MAAM,GAAGH,KAAK,CAACjI,UAAU,GAAG,CAACiI,KAAK,CAACvG,aAAa,CAACW,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAEiB,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC7H,IAAI2E,KAAK,CAAC5G,aAAa,KAAK,CAAC,EAAE;YAC3B4G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC5G,aAAa,GAAG,CAAC;UAC3B;UACA;QACJ,KAAK,IAAI;UACL+G,MAAM,GAAGH,KAAK,CAACjI,UAAU,GAAGiI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACW,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG4F,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACnI,IAAI2E,KAAK,CAAC5G,aAAa,KAAK,CAAC,EAAE;YAC3B4G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC5G,aAAa,GAAG,CAAC;UAC3B;UACA;QACJ,KAAK,GAAG;UACJ+G,MAAM,GAAGH,KAAK,CAACjI,UAAU,GAAGiI,KAAK,CAACvG,aAAa,CAACW,QAAQ,CAAC,CAAC,CAACiB,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAChH,IAAI2E,KAAK,CAAC5G,aAAa,KAAK,CAAC,EAAE;YAC3B4G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC5G,aAAa,GAAG,CAAC;UAC3B;UACA;QACJ,KAAK,IAAI;UACL+G,MAAM,GAAGH,KAAK,CAACjI,UAAU,GAAGiI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACW,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG4F,KAAK,CAAC9I,eAAe,CAAC,MAAM,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACxH,IAAI2E,KAAK,CAAC5G,aAAa,KAAK,CAAC,EAAE;YAC3B4G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC5G,aAAa,GAAG,CAAC;UAC3B;UACA;QACJ,KAAK,GAAG;UACJ+G,MAAM,GAAGH,KAAK,CAAChI,YAAY,GAAGgI,KAAK,CAACvG,aAAa,CAACY,UAAU,CAAC,CAAC,CAACgB,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,QAAQ,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACtH,IAAI2E,KAAK,CAAC3G,eAAe,KAAK,CAAC,EAAE;YAC7B2G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC3G,eAAe,GAAG,CAAC;UAC7B;UACA;QACJ,KAAK,IAAI;UACL8G,MAAM,GAAGH,KAAK,CAAChI,YAAY,GAAGgI,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACY,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG2F,KAAK,CAAC9I,eAAe,CAAC,QAAQ,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC9H,IAAI2E,KAAK,CAAC3G,eAAe,KAAK,CAAC,EAAE;YAC7B2G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC3G,eAAe,GAAG,CAAC;UAC7B;UACA;QACJ,KAAK,GAAG;UACJ8G,MAAM,GAAGH,KAAK,CAAC/H,aAAa,GAAG+H,KAAK,CAACvG,aAAa,CAACa,UAAU,CAAC,CAAC,CAACe,QAAQ,CAAC,CAAC,GAAG2E,KAAK,CAAC9I,eAAe,CAAC,QAAQ,CAAC,CAACmE,QAAQ,CAAC,CAAC;UACvH,IAAI2E,KAAK,CAAC1G,eAAe,KAAK,CAAC,EAAE;YAC7B0G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC1G,eAAe,GAAG,CAAC;UAC7B;UACA;QACJ,KAAK,IAAI;UACL6G,MAAM,GAAGH,KAAK,CAAC/H,aAAa,GAAG+H,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACa,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG0F,KAAK,CAAC9I,eAAe,CAAC,QAAQ,CAAC,CAACmE,QAAQ,CAAC,CAAC;UAC/H,IAAI2E,KAAK,CAAC1G,eAAe,KAAK,CAAC,EAAE;YAC7B0G,KAAK,CAACzH,UAAU,GAAG,IAAI;YACvByH,KAAK,CAAC1G,eAAe,GAAG,CAAC;UAC7B;UACA;QACJ,KAAK,GAAG;UACJ6G,MAAM,GAAG9C,IAAI,CAACsC,KAAK,CAACK,KAAK,CAACvG,aAAa,CAACwH,eAAe,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC5F,QAAQ,CAAC,CAAC;UAC3E;QACJ,KAAK,IAAI;UACLuF,YAAY,GAAGZ,KAAK,CAACvG,aAAa,CAACwH,eAAe,CAAC,CAAC;UACpD,IAAIjB,KAAK,CAACvG,aAAa,CAACwH,eAAe,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5CL,YAAY,GAAGvD,IAAI,CAACsC,KAAK,CAACK,KAAK,CAACvG,aAAa,CAACwH,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC;UACzE;UACAd,MAAM,GAAGH,KAAK,CAACe,QAAQ,CAACH,YAAY,EAAE,CAAC,CAAC;UACxC;QACJ,KAAK,KAAK;UACNT,MAAM,GAAGH,KAAK,CAACe,QAAQ,CAACf,KAAK,CAACvG,aAAa,CAACwH,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC;UACjE;QACJ,KAAK,GAAG;QACR,KAAK,IAAI;UACLd,MAAM,GAAGH,KAAK,CAACvG,aAAa,CAACW,QAAQ,CAAC,CAAC,GAAG,EAAE,GAAG0F,YAAY,CAAC,IAAI,CAAC,GAAGA,YAAY,CAAC,IAAI,CAAC;UACtF;QACJ,KAAK,GAAG;QACR,KAAK,IAAI;QACT,KAAK,KAAK;QACV,KAAK,MAAM;UACPe,WAAW,GAAG;YACVK,MAAM,EAAEhB,UAAU;YAClBiB,IAAI,EAAE,UAAU;YAAEC,QAAQ,EAAE,KAAK;YAAEC,QAAQ,EAAErB,KAAK,CAAChJ,MAAM,CAACsK;UAC9D,CAAC;UACDnB,MAAM,GAAGH,KAAK,CAAChJ,MAAM,CAACuK,SAAS,CAACC,UAAU,CAACxB,KAAK,CAACvG,aAAa,EAAEoH,WAAW,CAAC;UAC5E;MACR;MACAV,MAAM,GAAGA,MAAM,KAAKsB,SAAS,GAAGtB,MAAM,GAAGD,UAAU,CAACtB,KAAK,CAAC,CAAC,EAAEsB,UAAU,CAAC7D,MAAM,GAAG,CAAC,CAAC;MACnF,IAAI2D,KAAK,CAAC3H,YAAY,EAAE;QACpB,IAAIqJ,UAAU,GAAG,EAAE;QACnB,KAAK,IAAItF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+D,MAAM,CAAC9D,MAAM,EAAED,CAAC,EAAE,EAAE;UACpCsF,UAAU,IAAIxB,UAAU,CAAC,CAAC,CAAC;QAC/B;QACA,OAAOwB,UAAU;MACrB,CAAC,MACI;QACD,OAAOvB,MAAM;MACjB;IACJ;IACA,OAAOF,oBAAoB;EAC/B,CAAC;EACDlJ,cAAc,CAAC0D,SAAS,CAACkH,WAAW,GAAG,UAAUC,UAAU,EAAE;IACzD,IAAInD,IAAI,GAAG,IAAI9E,IAAI,CAACiI,UAAU,CAAC;IAC/B;IACA,OAAO,CAACjD,KAAK,CAACF,IAAI,CAACoD,OAAO,CAAC,CAAC,CAAC;EACjC,CAAC;EACD9K,cAAc,CAAC0D,SAAS,CAACS,qBAAqB,GAAG,YAAY;IACzD,IAAI,IAAI,CAACyG,WAAW,CAAC,IAAI,CAAC3K,MAAM,CAACwF,YAAY,CAAC9C,KAAK,CAAC,EAAE;MAClD,IAAI,CAACD,aAAa,GAAG,IAAIE,IAAI,CAAC,IAAI,CAAC3C,MAAM,CAACwF,YAAY,CAAC9C,KAAK,CAAC;MAC7D,IAAI,CAAC9B,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,aAAa,GAAG,IAAI;MACrH,IAAI,CAAC4E,WAAW,CAAC,CAAC;MAClB,IAAI,CAAC,IAAI,CAACpE,MAAM,EAAE;QACd,IAAI,CAACqC,mBAAmB,CAAC,CAAC;MAC9B;MACA;IACJ,CAAC,MACI;MACD,IAAI,CAACC,gBAAgB,CAAC,CAAC;IAC3B;EACJ,CAAC;EACDhE,cAAc,CAAC0D,SAAS,CAACM,gBAAgB,GAAG,YAAY;IACpD,IAAIwB,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;IACnD,IAAIW,UAAU,GAAG,EAAE;IACnB,IAAI,IAAI,CAACzF,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC6E,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;MAC7Da,UAAU,GAAG,IAAI,CAAC1F,UAAU,CAAC6E,KAAK,CAAC;IACvC;IACA,IAAI,CAAC2B,eAAe,CAAC,CAAC;IACtB,IAAI3C,UAAU,GAAG,IAAI,CAAChC,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC9E,IAAI,CAACpD,YAAY,GAAG,IAAI;IACxB,IAAI,CAACX,UAAU,GAAG,IAAI,CAAC6B,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC/E,IAAI,CAAC3C,UAAU,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,UAAU,GAAG,KAAK;IAC5D,IAAI,CAACX,YAAY,GAAG,KAAK;IACzB,IAAI,CAACqD,kBAAkB,GAAG,IAAI,CAAChE,UAAU;IACzC,IAAI,CAACiE,aAAa,GAAGJ,UAAU;IAC/B,IAAI,CAACvE,MAAM,CAACwF,YAAY,CAAC9C,KAAK,GAAG6B,UAAU;IAC3C,KAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC1E,UAAU,CAAC2E,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAIgB,UAAU,KAAK,IAAI,CAAC1F,UAAU,CAAC0E,CAAC,CAAC,EAAE;QACnCG,KAAK,GAAGH,CAAC;QACT;MACJ;IACJ;IACA,IAAI0F,eAAe;IACnB,IAAIxL,OAAO,CAACyL,QAAQ,KAAKzL,OAAO,CAAC0L,KAAK,IAAI1L,OAAO,CAAC2L,MAAM,CAAC,EAAE;MACvD,IAAIC,gBAAgB,GAAG,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAACnL,MAAM,CAACwF,YAAY,CAAC;MAC1EsF,eAAe,GAAGI,gBAAgB,GAAGA,gBAAgB,CAACE,qBAAqB,CAAC,CAAC,CAACC,GAAG,GAAGC,MAAM,CAACC,OAAO;IACtG;IACA,IAAI,CAACvL,MAAM,CAACwF,YAAY,CAACC,cAAc,GAAGF,KAAK;IAC/C,IAAI,CAACzB,mBAAmB,CAAC,CAAC;IAC1B,IAAI,CAAC,IAAI,CAACvC,UAAU,IAAI,IAAI,CAACI,UAAU,KAAK,CAAC,IAAI,CAACE,WAAW,EAAE;MAC3D,IAAI2J,UAAU,GAAG,IAAI,CAACjK,UAAU,GAAG,KAAK,GAAG,IAAI;MAC/C,IAAI,CAACA,UAAU,GAAG,IAAI,CAACI,UAAU,GAAG,KAAK;MACzC,IAAI,CAACmF,iBAAiB,CAAC0E,UAAU,CAAC;MAClC,IAAIlM,OAAO,CAACyL,QAAQ,KAAKzL,OAAO,CAAC0L,KAAK,IAAI1L,OAAO,CAAC2L,MAAM,CAAC,EAAE;QACvDQ,UAAU,CAAC,YAAY;UACnBH,MAAM,CAACI,QAAQ,CAAC,CAAC,EAAEZ,eAAe,CAAC;QACvC,CAAC,EAAE,CAAC,CAAC;MACT;IACJ;IACA,IAAI,IAAI,CAACjJ,WAAW,EAAE;MAClB,IAAI,CAACF,UAAU,GAAG,KAAK;IAC3B;IACA,IAAI,CAACE,WAAW,GAAG,KAAK;EAC5B,CAAC;EACD9B,cAAc,CAAC0D,SAAS,CAAC0H,oBAAoB,GAAG,UAAUQ,OAAO,EAAE;IAC/D,OAAOA,OAAO,EAAE;MACZ,IAAI,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC,EAAE;QAC5B,OAAOA,OAAO;MAClB;MACAA,OAAO,GAAGA,OAAO,CAACE,aAAa;IACnC;IACA,OAAO,IAAI;EACf,CAAC;EACD9L,cAAc,CAAC0D,SAAS,CAACmI,YAAY,GAAG,UAAUD,OAAO,EAAE;IACvD,IAAIG,SAAS,GAAGR,MAAM,CAACS,gBAAgB,CAACJ,OAAO,CAAC,CAACG,SAAS;IAC1D,OAAOH,OAAO,CAACK,YAAY,GAAGL,OAAO,CAACM,YAAY,KAAKH,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,QAAQ,CAAC;EAC1G,CAAC;EACD/L,cAAc,CAAC0D,SAAS,CAACqD,iBAAiB,GAAG,UAAU0E,UAAU,EAAE;IAC/D,IAAIjG,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;IACnD,IAAIM,GAAG,GAAG,IAAI,CAAC/F,MAAM,CAACwF,YAAY,CAACkB,YAAY;IAC/C,IAAIwF,WAAW,GAAGV,UAAU,GAAGjG,KAAK,GAAG,CAAC,GAAGQ,GAAG;IAC9C,IAAI,CAACvE,SAAS,GAAG,IAAI;IACrB,OAAO0K,WAAW,GAAG,IAAI,CAACxL,UAAU,CAAC2E,MAAM,IAAI6G,WAAW,IAAI,CAAC,EAAE;MAC7D,IAAI,IAAI,CAACvL,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAACwL,WAAW,CAAC,CAAC,IAAI,CAAC,EAAE;QACjE,IAAI,CAACtG,YAAY,CAAC,IAAI,CAAClF,UAAU,CAACwL,WAAW,CAAC,CAAC;QAC/C;MACJ;MACAA,WAAW,GAAGA,WAAW,IAAIV,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IACrD;EACJ,CAAC;EACDzL,cAAc,CAAC0D,SAAS,CAACsG,QAAQ,GAAG,UAAUoC,GAAG,EAAEC,KAAK,EAAE;IACtD,IAAIC,SAAS,GAAGF,GAAG,CAAC9H,QAAQ,CAAC,CAAC;IAC9B,IAAIgB,MAAM,GAAG+G,KAAK,GAAGC,SAAS,CAAChH,MAAM;IACrC,IAAI8D,MAAM,GAAG,EAAE;IACf,KAAK,IAAI/D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7B+D,MAAM,IAAI,GAAG;IACjB;IACA,OAAOA,MAAM,GAAGkD,SAAS;EAC7B,CAAC;EACDtM,cAAc,CAAC0D,SAAS,CAACqG,SAAS,GAAG,UAAUwC,MAAM,EAAE1L,SAAS,EAAE2L,WAAW,EAAE;IAC3E,IAAIpD,MAAM,GAAGoD,WAAW;IACxB,IAAID,MAAM,IAAI,CAAC1L,SAAS,EAAE;MACtBuI,MAAM,GAAG,GAAG;IAChB;IACA,OAAOA,MAAM;EACjB,CAAC;EACDpJ,cAAc,CAAC0D,SAAS,CAAC+D,cAAc,GAAG,UAAU0C,MAAM,EAAEsC,SAAS,EAAE;IACnE,QAAQtC,MAAM;MACV,KAAK,GAAG;QACJ,IAAI,CAACtJ,SAAS,GAAG4L,SAAS;QAC1B;MACJ,KAAK,GAAG;QACJ,IAAI,CAAC3L,WAAW,GAAG2L,SAAS;QAC5B,IAAI,CAACA,SAAS,EAAE;UACZ,IAAI,CAAC/J,aAAa,CAACG,QAAQ,CAAC,CAAC,CAAC;UAC9B,IAAI,CAACzB,cAAc,GAAG,EAAE;QAC5B;QACA;MACJ,KAAK,GAAG;QACJ,IAAI,CAACL,UAAU,GAAG0L,SAAS;QAC3B;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,IAAI,CAACzL,UAAU,GAAGyL,SAAS;QAC3B,IAAI,CAACA,SAAS,EAAE;UACZ,IAAI,CAACpL,eAAe,GAAG,EAAE;QAC7B;QACA;MACJ,KAAK,GAAG;QACJ,IAAI,CAACJ,YAAY,GAAGwL,SAAS;QAC7B;MACJ,KAAK,GAAG;QACJ,IAAI,CAACvL,aAAa,GAAGuL,SAAS;QAC9B;MACJ;QACI,OAAO,KAAK;IACpB;IACA,OAAO,IAAI;EACf,CAAC;EACDzM,cAAc,CAAC0D,SAAS,CAACsD,cAAc,GAAG,UAAU0F,WAAW,EAAE;IAC7D,IAAIlH,KAAK,GAAG,IAAI,CAACvF,MAAM,CAACwF,YAAY,CAACC,cAAc;IACnD,IAAIW,UAAU,GAAG,EAAE;IACnB,IAAI,IAAI,CAACzF,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC6E,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;MAC7Da,UAAU,GAAG,IAAI,CAAC1F,UAAU,CAAC6E,KAAK,CAAC;IACvC,CAAC,MACI;MACD;IACJ;IACA,IAAI+B,YAAY,GAAG,IAAI3E,IAAI,CAAC,IAAI,CAACF,aAAa,CAACQ,WAAW,CAAC,CAAC,EAAE,IAAI,CAACR,aAAa,CAACS,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACT,aAAa,CAACU,OAAO,CAAC,CAAC,EAAE,IAAI,CAACV,aAAa,CAACW,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACX,aAAa,CAACY,UAAU,CAAC,CAAC,EAAE,IAAI,CAACZ,aAAa,CAACa,UAAU,CAAC,CAAC,CAAC;IAC3N,IAAI,CAACN,YAAY,GAAG,IAAIL,IAAI,CAAC,IAAI,CAACF,aAAa,CAACQ,WAAW,CAAC,CAAC,EAAE,IAAI,CAACR,aAAa,CAACS,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACT,aAAa,CAACU,OAAO,CAAC,CAAC,EAAE,IAAI,CAACV,aAAa,CAACW,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACX,aAAa,CAACY,UAAU,CAAC,CAAC,EAAE,IAAI,CAACZ,aAAa,CAACa,UAAU,CAAC,CAAC,CAAC;IAC5N,IAAIoJ,cAAc,GAAGD,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC;IACzC,QAAQrG,UAAU;MACd,KAAK,GAAG;QACJkB,YAAY,CAACO,OAAO,CAACP,YAAY,CAACnE,OAAO,CAAC,CAAC,GAAGuJ,cAAc,CAAC;QAC7D;MACJ,KAAK,GAAG;QACJ;UACI,IAAIC,QAAQ,GAAGrF,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAGwJ,cAAc;UACvDpF,YAAY,CAACO,OAAO,CAAC,CAAC,CAAC;UACvBP,YAAY,CAAC1E,QAAQ,CAAC+J,QAAQ,CAAC;UAC/B,IAAI,IAAI,CAAC/L,SAAS,EAAE;YAChB,IAAImH,eAAe,GAAG,IAAIpF,IAAI,CAAC,IAAI,CAACK,YAAY,CAACC,WAAW,CAAC,CAAC,EAAE,IAAI,CAACD,YAAY,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;YAC9G,IAAI6E,cAAc,GAAG,IAAIrF,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;YACnG,IAAI,IAAI,CAACH,YAAY,CAACG,OAAO,CAAC,CAAC,KAAK4E,eAAe,IAAIC,cAAc,IAAID,eAAe,EAAE;cACtFT,YAAY,CAACO,OAAO,CAACG,cAAc,CAAC;YACxC,CAAC,MACI;cACDV,YAAY,CAACO,OAAO,CAAC,IAAI,CAAC7E,YAAY,CAACG,OAAO,CAAC,CAAC,CAAC;YACrD;UACJ,CAAC,MACI;YACDmE,YAAY,CAACO,OAAO,CAAC,IAAI,CAAC7E,YAAY,CAACG,OAAO,CAAC,CAAC,CAAC;UACrD;UACA,IAAI,CAACH,YAAY,GAAG,IAAIL,IAAI,CAAC2E,YAAY,CAACrE,WAAW,CAAC,CAAC,EAAEqE,YAAY,CAACpE,QAAQ,CAAC,CAAC,EAAEoE,YAAY,CAACnE,OAAO,CAAC,CAAC,CAAC;UACzG;QACJ;MACJ,KAAK,GAAG;QACJmE,YAAY,CAACoB,WAAW,CAACpB,YAAY,CAACrE,WAAW,CAAC,CAAC,GAAGyJ,cAAc,CAAC;QACrE;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;QACJpF,YAAY,CAACzE,QAAQ,CAACyE,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAGsJ,cAAc,CAAC;QAC/D;MACJ,KAAK,GAAG;QACJpF,YAAY,CAACxE,UAAU,CAACwE,YAAY,CAACjE,UAAU,CAAC,CAAC,GAAGqJ,cAAc,CAAC;QACnE;MACJ,KAAK,GAAG;QACJpF,YAAY,CAACvE,UAAU,CAACuE,YAAY,CAAChE,UAAU,CAAC,CAAC,GAAGoJ,cAAc,CAAC;QACnE;MACJ,KAAK,GAAG;QACJpF,YAAY,CAACzE,QAAQ,CAAC,CAACyE,YAAY,CAAClE,QAAQ,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;QAC1D;MACJ;QACI;IACR;IACA,IAAI,CAACX,aAAa,GAAG6E,YAAY,CAACrE,WAAW,CAAC,CAAC,GAAG,CAAC,GAAGqE,YAAY,GAAG,IAAI,CAAC7E,aAAa;IACvF,IAAI,IAAI,CAAC9B,eAAe,CAACgF,OAAO,CAAC,IAAI,CAACjF,UAAU,CAAC6E,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;MAC7D,IAAI,CAACiC,cAAc,CAAC,IAAI,CAAC9G,UAAU,CAAC6E,KAAK,CAAC,EAAE,IAAI,CAAC;IACrD;EACJ,CAAC;EACDxF,cAAc,CAAC0D,SAAS,CAACyE,gBAAgB,GAAG,UAAUgC,MAAM,EAAE;IAC1D,IAAIlF,MAAM,GAAG,IAAI,CAAChF,MAAM,CAACgF,MAAM;IAC/B,IAAImE,MAAM;IACV,IAAInE,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,OAAO,EAAE;MACvCmE,MAAM,GAAGhK,QAAQ,CAAC+K,MAAM,EAAE9K,oBAAoB,CAAC,CAAC,CAAC;IACrD,CAAC,MACI;MACD+J,MAAM,GAAGhK,QAAQ,CAAC,OAAO,GAAG,EAAE,GAAG6F,MAAM,IAAI,6BAA6B,GAAGkF,MAAM,CAAC,EAAE7K,QAAQ,CAAC;IACjG;IACA,OAAO8J,MAAM;EACjB,CAAC;EACDpJ,cAAc,CAAC0D,SAAS,CAACjB,iBAAiB,GAAG,YAAY;IACrD,IAAIoK,YAAY,GAAI,IAAI,CAAC1E,gBAAgB,CAAC,uCAAuC,CAAC,CAAE7D,QAAQ,CAAC,CAAC;IAC9F,IAAI,IAAI,CAACrE,MAAM,CAAC+E,UAAU,KAAK,YAAY,EAAE;MACzC6H,YAAY,GAAI,IAAI,CAAC1E,gBAAgB,CAAC,uCAAuC,CAAC,CAAE7D,QAAQ,CAAC,CAAC;MAC1F,IAAI,IAAI,CAACrE,MAAM,CAACkK,MAAM,IAAI,IAAI,CAAClK,MAAM,CAAC4M,YAAY,EAAE;QAChDA,YAAY,GAAG,IAAI,CAAC5M,MAAM,CAAC4M,YAAY;MAC3C;IACJ;IACA,IAAI,IAAI,CAAC5M,MAAM,CAAC+E,UAAU,KAAK,gBAAgB,EAAE;MAC7C6H,YAAY,GAAI,IAAI,CAAC1E,gBAAgB,CAAC,uCAAuC,CAAC,CAAE7D,QAAQ,CAAC,CAAC;MAC1F,IAAI,IAAI,CAACrE,MAAM,CAAC6M,cAAc,EAAE;QAC5BD,YAAY,GAAG,IAAI,CAAC5M,MAAM,CAAC6M,cAAc;MAC7C;IACJ;IACA,IAAI,IAAI,CAAC7M,MAAM,CAAC+E,UAAU,KAAK,YAAY,EAAE;MACzC6H,YAAY,GAAG,IAAI,CAAC5M,MAAM,CAAC8M,cAAc,CAAC,CAAC;IAC/C;IACA,OAAOF,YAAY;EACvB,CAAC;EACD7M,cAAc,CAAC0D,SAAS,CAACQ,YAAY,GAAG,YAAY;IAChD,IAAI,CAACrD,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,YAAY,GAAG,IAAI,CAACC,aAAa,GAAG,KAAK;IACtH,IAAI,CAAC4E,WAAW,CAAC,CAAC;IAClB,IAAI,IAAI,CAAC7F,MAAM,CAACwF,YAAY,IAAI,IAAI,CAACxF,MAAM,CAACwF,YAAY,CAAC9C,KAAK,KAAK,IAAI,CAAC1C,MAAM,CAAC4E,eAAe,IAAI,IAAI,CAAC5E,MAAM,CAAC+M,YAAY,IAAI,IAAI,CAAC/M,MAAM,CAAC+M,YAAY,CAACC,WAAW,IAAI,CAAC,IAAI,CAAChN,MAAM,CAAC+M,YAAY,CAACC,WAAW,CAACC,SAAS,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;MACjP,IAAI,CAAClN,MAAM,CAAC+M,YAAY,CAACC,WAAW,CAACC,SAAS,CAACE,GAAG,CAAC,mBAAmB,CAAC;IAC3E;EACJ,CAAC;EACDpN,cAAc,CAAC0D,SAAS,CAACoC,WAAW,GAAG,YAAY;IAC/C,IAAI,CAAC1E,cAAc,GAAG,IAAI,CAACC,eAAe,GAAG,EAAE;IAC/C,IAAImD,UAAU,GAAG,IAAI,CAAChC,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC9E,IAAI,CAACpD,YAAY,GAAG,IAAI;IACxB,IAAI,CAACX,UAAU,GAAG,IAAI,CAAC6B,UAAU,CAACiC,OAAO,CAAC,IAAI,CAAC9C,WAAW,EAAE,IAAI,CAAC+C,WAAW,CAAC,CAAC,CAAC;IAC/E,IAAI,CAACpD,YAAY,GAAG,KAAK;IACzB,IAAI,CAACqD,kBAAkB,GAAG,IAAI,CAAChE,UAAU;IACzC,IAAI,CAACiE,aAAa,GAAGJ,UAAU;IAC/B,IAAI,CAACvE,MAAM,CAACoN,gBAAgB,CAAC7I,UAAU,CAAC;IACxC,IAAI,IAAI,CAACvE,MAAM,CAACqN,UAAU,KAAK,IAAI,CAACnL,YAAY,KAAK,CAAC,IAAI,IAAI,CAACC,cAAc,KAAK,CAAC,CAAC,EAAE;MAClF,IAAI,CAACF,aAAa,GAAG,KAAK;IAC9B;IACA,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,cAAc,GAAG,CAAC;EAC3B,CAAC;EACDpC,cAAc,CAAC0D,SAAS,CAAC6J,OAAO,GAAG,YAAY;IAC3C,IAAI,CAAC/J,mBAAmB,CAAC,CAAC;EAC9B,CAAC;EACD,OAAOxD,cAAc;AACzB,CAAC,CAAC,CAAE;AACJ,SAASA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
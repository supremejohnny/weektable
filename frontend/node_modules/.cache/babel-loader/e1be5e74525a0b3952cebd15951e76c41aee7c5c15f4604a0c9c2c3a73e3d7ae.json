{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */function (_super) {\n  __extends(Fields, _super);\n  function Fields() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('child')], Fields.prototype, \"child\", void 0);\n  __decorate([Property([])], Fields.prototype, \"dataSource\", void 0);\n  __decorate([Property('expanded')], Fields.prototype, \"expanded\", void 0);\n  __decorate([Property('hasChildren')], Fields.prototype, \"hasChildren\", void 0);\n  __decorate([Property('htmlAttributes')], Fields.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property('iconCss')], Fields.prototype, \"iconCss\", void 0);\n  __decorate([Property('imageUrl')], Fields.prototype, \"imageUrl\", void 0);\n  __decorate([Property('parentValue')], Fields.prototype, \"parentValue\", void 0);\n  __decorate([Property(null)], Fields.prototype, \"query\", void 0);\n  __decorate([Property('selectable')], Fields.prototype, \"selectable\", void 0);\n  __decorate([Property('selected')], Fields.prototype, \"selected\", void 0);\n  __decorate([Property(null)], Fields.prototype, \"tableName\", void 0);\n  __decorate([Property('text')], Fields.prototype, \"text\", void 0);\n  __decorate([Property('tooltip')], Fields.prototype, \"tooltip\", void 0);\n  __decorate([Property('value')], Fields.prototype, \"value\", void 0);\n  return Fields;\n}(ChildProperty);\nexport { Fields };\nvar TreeSettings = /** @class */function (_super) {\n  __extends(TreeSettings, _super);\n  function TreeSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(false)], TreeSettings.prototype, \"autoCheck\", void 0);\n  __decorate([Property(true)], TreeSettings.prototype, \"checkDisabledChildren\", void 0);\n  __decorate([Property('Auto')], TreeSettings.prototype, \"expandOn\", void 0);\n  __decorate([Property(false)], TreeSettings.prototype, \"loadOnDemand\", void 0);\n  return TreeSettings;\n}(ChildProperty);\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */function (_super) {\n  __extends(DropDownTree, _super);\n  function DropDownTree(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.filterTimer = null;\n    _this.isFilteredData = false;\n    _this.isFilterRestore = false;\n    _this.selectedData = [];\n    _this.filterDelayTime = 300;\n    _this.isClicked = false;\n    _this.documentClickContext = _this.onDocumentClick.bind(_this);\n    // Specifies if the checkAll method has been called\n    _this.isCheckAllCalled = false;\n    _this.isFromFilterChange = false;\n    return _this;\n  }\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string}\n   * @hidden\n   */\n  DropDownTree.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  DropDownTree.prototype.getLocaleName = function () {\n    return 'drop-down-tree';\n  };\n  /**\n   * Initialize the event handler.\n   *\n   * @returns {void}\n   * @private\n   */\n  DropDownTree.prototype.preRender = function () {\n    this.inputFocus = false;\n    this.isPopupOpen = false;\n    this.isFirstRender = true;\n    this.isInitialized = false;\n    this.currentText = null;\n    this.currentValue = null;\n    this.oldValue = null;\n    this.removeValue = false;\n    this.selectedText = [];\n    this.treeItems = [];\n    this.dataValue = null;\n    this.isNodeSelected = false;\n    this.isDynamicChange = false;\n    this.clearIconWidth = 0;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n    this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n    this.keyConfigs = {\n      escape: 'escape',\n      altUp: 'alt+uparrow',\n      altDown: 'alt+downarrow',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      end: 'end',\n      enter: 'enter',\n      home: 'home',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlUp: 'ctrl+uparrow',\n      ctrlEnter: 'ctrl+enter',\n      ctrlHome: 'ctrl+home',\n      ctrlEnd: 'ctrl+end',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      shiftEnter: 'shift+enter',\n      shiftHome: 'shift+home',\n      shiftEnd: 'shift+end',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      csEnter: 'ctrl+shift+enter',\n      csHome: 'ctrl+shift+home',\n      csEnd: 'ctrl+shift+end',\n      space: 'space',\n      ctrlA: 'ctrl+A'\n    };\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownTree.prototype.render = function () {\n    var isTree = select('#' + this.element.id + '_tree', document);\n    if (isTree) {\n      var popupDiv = select('#' + this.element.id + '_options', document);\n      detach(popupDiv ? popupDiv : isTree.parentElement);\n    }\n    if (this.element.tagName === 'INPUT') {\n      this.inputEle = this.element;\n      if (isNOU(this.inputEle.getAttribute('role'))) {\n        this.inputEle.setAttribute('aria-expanded', 'false');\n        this.inputEle.setAttribute('role', 'combobox');\n        this.inputEle.setAttribute('aria-haspopup', 'tree');\n        this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n      }\n      if (isNOU(this.inputEle.getAttribute('type'))) {\n        this.inputEle.setAttribute('type', 'text');\n      }\n    } else {\n      if (!isNOU(this.element.id)) {\n        this.inputEle = this.createElement('input', {\n          attrs: {\n            role: 'textbox',\n            type: 'text',\n            id: this.element.id + '_textbox'\n          }\n        });\n      } else {\n        this.inputEle = this.createElement('input', {\n          attrs: {\n            role: 'textbox',\n            type: 'text'\n          }\n        });\n      }\n      this.element.parentElement.insertBefore(this.inputEle, this.element);\n    }\n    this.inputObj = Input.createInput({\n      element: this.inputEle,\n      floatLabelType: this.floatLabelType,\n      buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n      properties: {\n        readonly: true,\n        placeholder: this.placeholder,\n        enabled: this.enabled,\n        cssClass: this.cssClass,\n        enableRtl: this.enableRtl\n      }\n    }, this.createElement);\n    this.inputWrapper = this.inputObj.container;\n    if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n      this.inputWrapper.classList.add(INPUTGROUP);\n    }\n    if (this.showDropDownIcon) {\n      this.inputWrapper.classList.add(SHOW_DD_ICON);\n    }\n    if (this.element.tagName === this.getDirective()) {\n      this.element.appendChild(this.inputWrapper);\n    }\n    this.createHiddenElement();\n    this.createClearIcon();\n    this.inputWrapper.classList.add(DROPDOWNTREE);\n    this.setElementWidth(this.width);\n    this.updateDataAttribute();\n    this.setHTMLAttributes();\n    this.setAttributes();\n    this.popupDiv = this.createElement('div', {\n      className: CONTENT\n    });\n    this.popupDiv.classList.add(DROPDOWN);\n    this.tree = this.createElement('div', {\n      id: this.element.id + '_tree'\n    });\n    this.popupDiv.appendChild(this.tree);\n    if (!this.destroyPopupOnHide) {\n      document.body.appendChild(this.popupDiv);\n    }\n    this.wireTreeEvents();\n    addClass([this.popupDiv], DDTHIDEICON);\n    this.renderTree();\n    this.isRemoteData = this.fields.dataSource instanceof DataManager;\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter') {\n        this.createChip();\n      }\n      if (!this.wrapText && this.mode !== 'Custom') {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n        if (this.mode !== 'Box') {\n          addClass([this.overFlowWrapper], SHOW_TEXT);\n        }\n      }\n    }\n    if (!this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n      if (!this.wrapText) {\n        this.updateView();\n      }\n    }\n    this.wireEvents();\n    var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n    if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n      firstUl.removeAttribute('aria-multiselectable');\n    }\n    this.setOldValue();\n    if (!this.isRemoteData) {\n      this.isInitialized = true;\n    }\n    this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate || this.noRecordsTemplate || this.customTemplate || this.valueTemplate;\n    this.renderComplete();\n  };\n  DropDownTree.prototype.hideCheckAll = function (flag) {\n    var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n    if (!isNOU(checkAllEle)) {\n      if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n        addClass([checkAllEle], CHECKALLHIDE);\n      } else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n        removeClass([checkAllEle], CHECKALLHIDE);\n      }\n    }\n  };\n  DropDownTree.prototype.renderFilter = function () {\n    this.filterContainer = this.createElement('div', {\n      id: this.element.id + '_filter_wrap',\n      className: FILTERWRAP\n    });\n    var filterInput = this.createElement('input', {\n      id: this.element.id + '_filter',\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': this.filterBarPlaceholder\n      }\n    });\n    this.filterContainer.appendChild(filterInput);\n    prepend([this.filterContainer], this.popupEle);\n    this.filterObj = new TextBox({\n      value: '',\n      showClearButton: true,\n      placeholder: this.filterBarPlaceholder,\n      input: this.filterChangeHandler.bind(this)\n    });\n    this.filterObj.appendTo('#' + this.element.id + '_filter');\n    this.keyboardModule = new KeyboardEvents(this.filterObj.element, {\n      keyAction: this.filterKeyAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  DropDownTree.prototype.filterKeyAction = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    var focusedElement;\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'altUp':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'shiftTab':\n            addClass([_this.inputWrapper], [INPUTFOCUS]);\n            break;\n          case 'moveDown':\n            e.preventDefault();\n            _this.filterObj.element.blur();\n            focusedElement = _this.treeObj.element.querySelector('li');\n            if (focusedElement) {\n              focusedElement.focus();\n            }\n            break;\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.filterChangeHandler = function (args) {\n    var _this = this;\n    if (!isNOU(args.value)) {\n      window.clearTimeout(this.filterTimer);\n      this.filterTimer = window.setTimeout(function () {\n        _this.filterHandler(args.value, args.event);\n      }, this.filterDelayTime);\n    }\n  };\n  DropDownTree.prototype.isChildObject = function () {\n    if (typeof this.treeObj.fields.child === 'object') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  DropDownTree.prototype.filterHandler = function (value, event) {\n    var _this = this;\n    this.isFromFilterChange = true;\n    if (!this.isFilteredData) {\n      if (this.isRemoteData) {\n        this.treeObj.expandedNodes = [];\n      }\n      this.treeData = this.treeObj.getTreeData();\n    }\n    var filterFields = this.cloneFields(this.fields);\n    var args = {\n      cancel: false,\n      preventDefaultAction: false,\n      event: event,\n      text: value.trim(),\n      fields: filterFields\n    };\n    this.trigger('filtering', args, function (args) {\n      if (!args.cancel) {\n        var flag = false;\n        var fields = void 0;\n        _this.isFilteredData = true;\n        if (args.text === '') {\n          _this.isFilteredData = false;\n          _this.isFilterRestore = true;\n          fields = _this.cloneFields(_this.fields);\n          _this.treeObj.element.classList.remove('e-filtering');\n        } else if (args.preventDefaultAction) {\n          fields = args.fields;\n          _this.treeObj.element.classList.add('e-filtering');\n        } else {\n          if (_this.treeDataType === 1) {\n            fields = _this.selfReferencefilter(args.text, args.fields);\n          } else {\n            if (_this.fields.dataSource instanceof DataManager) {\n              fields = _this.remoteDataFilter(args.text, args.fields);\n              fields.child = _this.fields.child;\n              _this.treeObj.fields = _this.getTreeFields(args.fields);\n              _this.treeObj.dataBind();\n              flag = true;\n            } else {\n              fields = _this.nestedFilter(args.text, args.fields);\n            }\n          }\n          _this.treeObj.element.classList.add('e-filtering');\n        }\n        _this.hideCheckAll(_this.isFilteredData);\n        if (flag) {\n          return;\n        }\n        if (_this.isRemoteData) {\n          if (_this.isChildObject()) {\n            fields.child = _this.fields.child;\n          } else {\n            fields = args.fields;\n          }\n        }\n        _this.treeObj.fields = _this.getTreeFields(fields);\n        if (_this.previousFilterText && _this.previousFilterText !== '' && args.text !== '' && _this.previousFilterText.indexOf(args.text) !== -1 || args.text && args.text !== '' && _this.previousFilterText !== '' && args.text.indexOf(_this.previousFilterText) !== -1) {\n          _this.isFilterRestore = true;\n        }\n        _this.previousFilterText = args.text;\n        _this.treeObj.dataBind();\n        if (_this.popupObj) {\n          _this.popupObj.refreshPosition();\n        }\n        if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n          for (var i = 0; i < _this.treeObj.portals.length; i++) {\n            if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n              _this.portals.push(_this.treeObj.portals[i]);\n            }\n          }\n          if (_this.isReact) {\n            _this.renderReactTemplates();\n          }\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n    var _this = this;\n    filteredFields.dataSource = this.treeData.map(function (item) {\n      return _this.remoteChildFilter(value, item);\n    }).filter(function (filteredChild) {\n      return !isNOU(filteredChild);\n    });\n    return filteredFields;\n  };\n  DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n    var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n    if (isNOU(children)) {\n      return this.isMatchedNode(value, node, isChild, isChildFiltering) ? node : null;\n    }\n    var matchedChildren = [];\n    for (var i = 0; i < children.length; i++) {\n      var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n      if (!isNOU(filteredChild)) {\n        matchedChildren.push(filteredChild);\n      }\n    }\n    var filteredItems = Object.assign({}, node);\n    isChildFiltering = false;\n    if (matchedChildren.length !== 0) {\n      filteredItems.child = matchedChildren;\n    } else {\n      filteredItems.child = null;\n      filteredItems = this.isMatchedNode(value, filteredItems) ? filteredItems : null;\n    }\n    return filteredItems;\n  };\n  DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n    var matchedDataSource = [];\n    for (var i = 0; i < this.treeData.length; i++) {\n      var filteredChild = this.nestedChildFilter(value, this.treeData[parseInt(i.toString(), 10)]);\n      if (!isNOU(filteredChild)) {\n        matchedDataSource.push(filteredChild);\n      }\n    }\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  };\n  DropDownTree.prototype.nestedChildFilter = function (value, node) {\n    var children = node[this.fields.child];\n    if (isNOU(children)) {\n      return this.isMatchedNode(value, node) ? node : null;\n    } else {\n      var matchedChildren = [];\n      for (var i = 0; i < children.length; i++) {\n        var filteredChild = this.nestedChildFilter(value, children[parseInt(i.toString(), 10)]);\n        if (!isNOU(filteredChild)) {\n          matchedChildren.push(filteredChild);\n        }\n      }\n      var filteredItems = Object.assign({}, node);\n      if (matchedChildren.length !== 0) {\n        filteredItems[this.fields.child] = matchedChildren;\n        return filteredItems;\n      } else {\n        filteredItems[this.fields.child] = null;\n        return this.isMatchedNode(value, filteredItems) ? filteredItems : null;\n      }\n    }\n  };\n  DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n    var matchedData = [];\n    var matchedDataSource = [];\n    for (var i = 0; i < this.treeData.length; i++) {\n      if (this.isMatchedNode(value, this.treeData[i])) {\n        matchedData.push(this.treeData[i]);\n      }\n    }\n    for (var i = 0; i < matchedData.length; i++) {\n      if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n        matchedDataSource.push(matchedData[i]);\n        var parentId = matchedData[parseInt(i.toString(), 10)][this.fields.parentValue];\n        while (!isNOU(parentId)) {\n          var parent_1 = null;\n          for (var j = 0; j < this.treeData.length; j++) {\n            var value_1 = this.treeData[parseInt(j.toString(), 10)][this.fields.value];\n            if (!isNOU(value_1) && value_1 === parentId) {\n              parent_1 = this.treeData[j];\n              break;\n            }\n          }\n          if (!isNOU(parent_1) && matchedDataSource.indexOf(parent_1) === -1) {\n            matchedDataSource.push(parent_1);\n            parentId = parent_1[this.fields.parentValue];\n          } else {\n            break;\n          }\n        }\n      }\n    }\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  };\n  DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n    var checkValue;\n    var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n    checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n    if (!checkValue && !isNOU(this.fields.child.text)) {\n      var tempChild = this.fields.child;\n      while (!node[tempChild.text]) {\n        tempChild = tempChild.child;\n      }\n      checkValue = node[tempChild.text];\n    }\n    if (this.ignoreCase) {\n      checkValue = checkValue.toLowerCase();\n      value = value.toLowerCase();\n    }\n    if (this.ignoreAccent) {\n      checkValue = DataUtil.ignoreDiacritics(checkValue);\n      value = DataUtil.ignoreDiacritics(value);\n    }\n    if (this.filterType === 'StartsWith') {\n      return checkValue.slice(0, value.length) === value;\n    } else if (this.filterType === 'EndsWith') {\n      return checkValue.slice(-value.length) === value;\n    } else {\n      return checkValue.indexOf(value) !== -1;\n    }\n  };\n  /* To wire events for the dropdown tree */\n  DropDownTree.prototype.wireEvents = function () {\n    if (Browser.isIos) {\n      EventHandler.add(this.inputWrapper, 'touchstart', this.handleIosTouch, this);\n    }\n    EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n    EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n    EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n    EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  DropDownTree.prototype.wireTreeEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.tree, {\n      keyAction: this.treeAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n      keyAction: this.checkAllAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  /* To unwire events for the dropdown tree */\n  DropDownTree.prototype.unWireEvents = function () {\n    if (Browser.isIos) {\n      EventHandler.remove(this.inputWrapper, 'touchstart', this.handleIosTouch);\n    }\n    EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n    EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n    EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n    EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n    EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n    EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n    this.keyboardModule.destroy();\n    if (this.showSelectAll && this.checkAllParent) {\n      EventHandler.remove(this.checkAllParent, 'mouseup', this.clickHandler);\n    }\n    document.removeEventListener('mousedown', this.documentClickContext);\n  };\n  /* Handles touch events specifically for iOS devices */\n  DropDownTree.prototype.handleIosTouch = function (e) {\n    e.preventDefault();\n    this.dropDownClick(e);\n  };\n  /* Trigger when the dropdown is clicked */\n  DropDownTree.prototype.dropDownClick = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n      return;\n    }\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    } else {\n      this.focusIn(e);\n      this.renderPopup();\n    }\n    this.showOverAllClear();\n  };\n  DropDownTree.prototype.mouseIn = function () {\n    if (this.enabled || !this.readonly) {\n      this.showOverAllClear();\n    }\n  };\n  DropDownTree.prototype.onMouseLeave = function () {\n    if (!this.inputFocus) {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n  };\n  DropDownTree.prototype.getDirective = function () {\n    return 'EJS-DROPDOWNTREE';\n  };\n  DropDownTree.prototype.focusOut = function (e) {\n    if (!this.enabled || this.readonly || !this.inputFocus) {\n      return;\n    }\n    if ((Browser.isIE || Browser.info.name === 'edge') && e.target === this.inputWrapper) {\n      return;\n    }\n    var target = e.relatedTarget;\n    if (target !== this.inputEle && isNOU(target) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n      this.onFocusOut(e);\n    }\n  };\n  DropDownTree.prototype.onFocusOut = function (event) {\n    this.inputFocus = false;\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    }\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n    }\n    if (this.showClearButton) {\n      this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n    removeClass([this.inputWrapper], [INPUTFOCUS]);\n    if (this.allowMultiSelection || this.showCheckBox) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n      if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n        if (this.chipWrapper && this.mode === 'Default') {\n          addClass([this.chipWrapper], HIDEICON);\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n        }\n      }\n      if (isValue && this.mode !== 'Custom') {\n        this.showOrHideValueTemplate(true);\n      }\n      if (!this.wrapText && isValue) {\n        this.updateView();\n      }\n    }\n    if (this.changeOnBlur) {\n      this.triggerChangeEvent(event);\n    }\n    this.removeValue = false;\n    this.setOldValue();\n    this.trigger('blur');\n  };\n  DropDownTree.prototype.updateView = function () {\n    if (!this.showCheckBox && !this.allowMultiSelection || this.mode === 'Custom' || this.inputFocus) {\n      return;\n    }\n    if (this.mode !== 'Box') {\n      addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n    } else {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n    if (this.value && this.value.length !== 0) {\n      if (this.inputWrapper.contains(this.chipWrapper)) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n      addClass([this.inputEle], CHIP_INPUT);\n      this.updateOverFlowView();\n    }\n    this.ensurePlaceHolder();\n  };\n  DropDownTree.prototype.triggerChangeEvent = function (event) {\n    var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n    if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n      var eventArgs = {\n        e: event,\n        oldValue: this.oldValue,\n        value: this.value,\n        isInteracted: event ? true : false,\n        element: this.element\n      };\n      this.trigger('change', eventArgs);\n      this.setOldValue();\n    }\n  };\n  DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n    if (oldValue === null || newValue === null) {\n      var isValid = oldValue === null ? newValue === oldValue ? true : false : oldValue.length === 0 ? newValue === oldValue : false;\n      return isValid;\n    } else if (oldValue.length !== newValue.length) {\n      return false;\n    }\n    for (var i = 0; i < oldValue.length; i++) {\n      if (oldValue[i] !== newValue[i]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  DropDownTree.prototype.focusIn = function (e) {\n    if (!this.enabled || this.readonly || this.inputFocus) {\n      return;\n    }\n    this.showOverAllClear();\n    this.inputFocus = true;\n    addClass([this.inputWrapper], [INPUTFOCUS]);\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter' && this.inputFocus) {\n        if (this.chipWrapper && this.value && this.value.length !== 0) {\n          removeClass([this.chipWrapper], HIDEICON);\n          addClass([this.inputEle], CHIP_INPUT);\n          this.showOrHideValueTemplate(false, true);\n        }\n        addClass([this.inputWrapper], SHOW_CHIP);\n        if (this.popupObj) {\n          this.popupObj.refreshPosition();\n        }\n      }\n      if (!this.wrapText && this.mode !== 'Custom') {\n        if (this.inputWrapper.contains(this.overFlowWrapper)) {\n          addClass([this.overFlowWrapper], HIDEICON);\n        }\n        if (this.mode === 'Delimiter') {\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n          this.showOrHideValueTemplate(true);\n        } else {\n          addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        removeClass([this.inputWrapper], SHOW_TEXT);\n        this.ensurePlaceHolder();\n      }\n    }\n    var args = {\n      isInteracted: e ? true : false,\n      event: e\n    };\n    this.trigger('focus', args);\n  };\n  DropDownTree.prototype.treeAction = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            _this.inputWrapper.focus();\n            e.preventDefault();\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'tab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'enter':\n          case 'ctrlEnter':\n          case 'shiftEnter':\n          case 'csEnter':\n            if (!_this.showCheckBox) {\n              _this.isValueChange = true;\n              _this.keyEventArgs = e;\n            }\n            break;\n          case 'space':\n            _this.isValueChange = true;\n            _this.keyEventArgs = e;\n            break;\n          case 'ctrlA':\n            if (_this.allowMultiSelection) {\n              _this.selectAll(true);\n            }\n            break;\n          case 'moveRight':\n          case 'moveLeft':\n          case 'shiftDown':\n          case 'moveDown':\n          case 'ctrlDown':\n          case 'csDown':\n          case 'shiftUp':\n          case 'moveUp':\n          case 'ctrlUp':\n          case 'csUp':\n          case 'home':\n          case 'shiftHome':\n          case 'ctrlHome':\n          case 'csHome':\n          case 'end':\n          case 'shiftEnd':\n          case 'ctrlEnd':\n          case 'csEnd':\n        }\n      } else {\n        e.stopImmediatePropagation();\n      }\n    });\n  };\n  DropDownTree.prototype.keyActionHandler = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            break;\n          case 'shiftTab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n            if (_this.inputFocus) {\n              _this.onFocusOut();\n            }\n            break;\n          case 'altDown':\n            if (!_this.isPopupOpen) {\n              _this.showPopup();\n              e.preventDefault();\n            }\n            break;\n          case 'moveDown':\n            if (_this.showSelectAll && _this.showCheckBox) {\n              _this.checkAllParent.focus();\n            }\n            break;\n          case 'tab':\n            if (!_this.isPopupOpen && _this.inputFocus) {\n              _this.onFocusOut();\n            }\n            break;\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.checkAllAction = function (e) {\n    var _this = this;\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    var focusedElement;\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'space':\n            _this.clickHandler(e);\n            break;\n          case 'moveDown':\n            e.preventDefault();\n            focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]') || _this.treeObj.element.querySelector('li');\n            focusedElement.focus();\n            addClass([focusedElement], ['e-node-focus']);\n            break;\n        }\n      }\n    });\n  };\n  DropDownTree.prototype.windowResize = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        width: this.setWidth()\n      });\n      this.popupObj.refreshPosition();\n    }\n  };\n  DropDownTree.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputWrapper, 'form');\n    if (formElement && e.target === formElement) {\n      this.isDynamicChange = true;\n      this.setProperties({\n        value: null\n      }, true);\n      this.resetValue(true);\n      this.isDynamicChange = false;\n    }\n  };\n  DropDownTree.prototype.getAriaAttributes = function () {\n    return {};\n  };\n  DropDownTree.prototype.updateOverFlowView = function () {\n    this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n    removeClass([this.overFlowWrapper], HIDEICON);\n    if (this.value && this.value.length) {\n      var data = '';\n      var overAllContainer = void 0;\n      var temp = void 0;\n      var tempData = void 0;\n      var tempIndex = 1;\n      var wrapperleng = void 0;\n      var remaining = void 0;\n      var downIconWidth = 0;\n      this.overFlowWrapper.innerHTML = '';\n      var l10nLocale = {\n        overflowCountTemplate: '+${count} more..',\n        totalCountTemplate: '${count} selected'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      var remainContent = this.l10n.getConstant('overflowCountTemplate');\n      var totalContent = this.l10n.getConstant('totalCountTemplate');\n      var remainElement = this.createElement('span', {\n        className: REMAIN_WRAPPER\n      });\n      this.overFlowWrapper.appendChild(remainElement);\n      remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n      var remainSize = remainElement.offsetWidth;\n      remove(remainElement);\n      if (this.showDropDownIcon) {\n        downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n      }\n      if (!isNOU(this.value)) {\n        if (this.mode !== 'Box') {\n          if (this.valueTemplate) {\n            remaining = this.updateChipAndValueTemplate(false, downIconWidth, remainSize);\n            this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n            this.updateDelimMode();\n            return;\n          }\n          for (var index = 0; !isNOU(this.value[index]); index++) {\n            data += index === 0 ? '' : this.delimiterChar + ' ';\n            temp = this.getOverflowVal(index);\n            data += temp;\n            temp = this.overFlowWrapper.innerHTML;\n            if (this.enableHtmlSanitizer) {\n              this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n            } else {\n              this.overFlowWrapper.innerHTML = data;\n            }\n            wrapperleng = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n            if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n              if (tempData !== undefined && tempData !== '') {\n                temp = tempData;\n                index = tempIndex + 1;\n              }\n              this.overFlowWrapper.innerHTML = temp;\n              remaining = this.value.length - index;\n              wrapperleng = this.overFlowWrapper.offsetWidth;\n              while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                textArr.pop();\n                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                remaining++;\n                wrapperleng = this.overFlowWrapper.offsetWidth;\n              }\n              break;\n            } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n              tempData = data;\n              tempIndex = index;\n            } else if (index === 0) {\n              tempData = '';\n              tempIndex = -1;\n            }\n          }\n        } else {\n          remaining = this.updateChipAndValueTemplate(true, downIconWidth, remainSize);\n        }\n      }\n      this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n    } else {\n      this.overFlowWrapper.innerHTML = '';\n      addClass([this.overFlowWrapper], HIDEICON);\n    }\n    this.updateDelimMode();\n  };\n  DropDownTree.prototype.checkRemainingTemplate = function (remaining, remainElement, remainContent, totalContent) {\n    if (remaining > 0) {\n      this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n    }\n    if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n      addClass([remainElement], REMAIN_COUNT);\n    }\n  };\n  DropDownTree.prototype.updateChipAndValueTemplate = function (isChip, downIconWidth, remainSize) {\n    if (downIconWidth === void 0) {\n      downIconWidth = 0;\n    }\n    var currentHtmlContent = '';\n    var overAllContainer;\n    var previousHtmlContent;\n    var previousData;\n    var index = 1;\n    var wrapperLength;\n    var remainingItemsCount;\n    addClass([isChip ? this.chipWrapper : this.valueTemplateContainer], HIDEICON);\n    var clonedElement = (isChip ? this.chipWrapper : this.valueTemplateContainer).cloneNode(true);\n    var valueElements = isChip ? selectAll('.' + CHIP, clonedElement) : Array.prototype.slice.call(clonedElement.children);\n    for (var i = 0; i < valueElements.length; i++) {\n      previousHtmlContent = this.overFlowWrapper.innerHTML;\n      this.overFlowWrapper.appendChild(valueElements[i]);\n      currentHtmlContent = this.overFlowWrapper.innerHTML;\n      wrapperLength = this.overFlowWrapper.offsetWidth;\n      overAllContainer = this.inputWrapper.offsetWidth;\n      if (wrapperLength + downIconWidth + this.clearIconWidth > overAllContainer) {\n        if (previousData !== undefined && previousData !== '') {\n          previousHtmlContent = previousData;\n          i = index + 1;\n        }\n        this.overFlowWrapper.innerHTML = previousHtmlContent;\n        remainingItemsCount = this.value.length - i;\n        wrapperLength = this.overFlowWrapper.offsetWidth;\n        while (wrapperLength + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperLength !== 0 && this.overFlowWrapper.innerHTML !== '') {\n          this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n          remainingItemsCount++;\n          wrapperLength = this.overFlowWrapper.offsetWidth;\n        }\n        break;\n      } else if (wrapperLength + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n        previousData = currentHtmlContent;\n        index = i;\n      } else if (i === 0) {\n        previousData = '';\n        index = -1;\n      }\n    }\n    return remainingItemsCount;\n  };\n  DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n    if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 && this.overFlowWrapper.firstChild.nodeValue === '') {\n      this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n    }\n    remainElement.innerHTML = '';\n    remainElement.innerText = this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box' || this.valueTemplateContainer) ? remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n    if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n      removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n    } else {\n      addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n      removeClass([this.overFlowWrapper], REMAIN_COUNT);\n    }\n    return remainElement;\n  };\n  DropDownTree.prototype.getOverflowVal = function (index) {\n    var selectedData = this.getSelectedData(this.value[parseInt(index.toString(), 10)]);\n    return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n  };\n  DropDownTree.prototype.updateDelimMode = function () {\n    if (this.mode !== 'Box') {\n      if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n        addClass([this.overFlowWrapper], REMAIN_COUNT);\n        addClass([this.overFlowWrapper], SHOW_TEXT);\n      } else {\n        this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        removeClass([this.overFlowWrapper], REMAIN_COUNT);\n      }\n    } else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n      this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n    }\n  };\n  DropDownTree.prototype.createHiddenElement = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'class': HIDDENELEMENT,\n          'tabindex': '-1',\n          'multiple': '',\n          'aria-label': this.getModuleName()\n        }\n      });\n    } else {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'tabindex': '-1',\n          'class': HIDDENELEMENT,\n          'aria-label': this.getModuleName()\n        }\n      });\n    }\n    prepend([this.hiddenElement], this.inputWrapper);\n    this.validationAttribute();\n  };\n  DropDownTree.prototype.createClearIcon = function () {\n    this.overAllClear = this.createElement('span', {\n      className: CLOSEICON_CLASS\n    });\n    addClass([this.overAllClear], HIDEICON);\n    removeClass([this.inputWrapper], SHOW_CLEAR);\n    if (this.showClearButton) {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n  DropDownTree.prototype.validationAttribute = function () {\n    var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n    this.hiddenElement.setAttribute('name', name);\n    this.inputEle.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n    for (var i = 0; i < attributes.length; i++) {\n      var attr = this.inputEle.getAttribute(attributes[i]);\n      if (attr) {\n        this.hiddenElement.setAttribute(attributes[i], attr);\n        this.inputEle.removeAttribute(attributes[i]);\n      }\n    }\n  };\n  DropDownTree.prototype.createChip = function () {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipWrapper = this.createElement('span', {\n        className: CHIP_WRAPPER\n      });\n      this.chipCollection = this.createElement('span', {\n        className: CHIP_COLLECTION\n      });\n      this.chipWrapper.appendChild(this.chipCollection);\n      this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n      addClass([this.inputWrapper], SHOW_CHIP);\n      var isValid = this.getValidMode();\n      if (isValid && this.value !== null && this.value && this.value.length !== 0) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else if (this.value === null || this.value && this.value.length === 0 || this.checkWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n    }\n  };\n  DropDownTree.prototype.getValidMode = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return this.mode === 'Box' ? true : this.mode === 'Default' && this.inputFocus ? true : false;\n    } else {\n      return false;\n    }\n  };\n  DropDownTree.prototype.createSelectAllWrapper = function () {\n    this.checkAllParent = this.createElement('div', {\n      className: CHECKALLPARENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.selectAllSpan = this.createElement('span', {\n      className: ALLTEXT\n    });\n    this.selectAllSpan.textContent = '';\n    var ele = closest(this.element, '.' + BIGGER);\n    var touchClass = isNOU(ele) ? '' : SMALL;\n    this.checkBoxElement = createCheckBox(this.createElement, true, {\n      cssClass: touchClass\n    });\n    this.checkBoxElement.setAttribute('role', 'checkbox');\n    this.checkAllParent.appendChild(this.checkBoxElement);\n    this.checkAllParent.appendChild(this.selectAllSpan);\n    this.setLocale();\n    EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n    this.wireCheckAllWrapperEvents();\n  };\n  DropDownTree.prototype.clickHandler = function (e) {\n    var target;\n    if (e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT)) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.target;\n    }\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    if (!isNOU(this.checkWrapper)) {\n      this.isClicked = true;\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n      this.isClicked = false;\n    }\n    e.preventDefault();\n  };\n  DropDownTree.prototype.changeState = function (wrapper, state, e) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n      if (!this.isReverseUpdate) {\n        this.setOldValue();\n        this.isCheckAllCalled = true;\n        this.treeObj.checkAll();\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n      this.setLocale(true);\n    } else if (state === 'uncheck' && frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(CHECK);\n      ariaState = 'false';\n      if (!this.isReverseUpdate) {\n        this.treeObj.uncheckAll();\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n      this.setLocale(false);\n    }\n    this.setMultiSelect();\n    this.ensurePlaceHolder();\n    ariaState = state === 'check' ? 'true' : 'false';\n    if (!isNOU(ariaState)) {\n      wrapper.parentElement.setAttribute('aria-checked', ariaState);\n    }\n  };\n  DropDownTree.prototype.setLocale = function (unSelect) {\n    if (!this.selectAllSpan) {\n      return;\n    }\n    if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.unSelectAllText : this.selectAllText;\n      this.selectAllSpan.textContent = '';\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n      for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n    }\n  };\n  DropDownTree.prototype.setAttributes = function () {\n    this.inputEle.setAttribute('tabindex', '-1');\n    this.inputEle.setAttribute('aria-label', this.getModuleName());\n    var id = this.element.getAttribute('id');\n    this.hiddenElement.id = id + '_hidden';\n    this.inputWrapper.setAttribute('tabindex', this.inputWrapper.classList.contains('e-disabled') ? '-1' : '0');\n    this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n    attributes(this.inputWrapper, this.getAriaAttributes());\n  };\n  DropDownTree.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        if (htmlAttr === 'class') {\n          this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n        } else if (htmlAttr === 'disabled') {\n          this.setProperties({\n            enabled: false\n          }, true);\n          this.setEnable();\n        } else if (htmlAttr === 'readonly') {\n          this.setProperties({\n            readonly: true\n          }, true);\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.style.cssText = this.htmlAttributes[\"\" + htmlAttr];\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder', 'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n          if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder') {\n              Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n            } else {\n              this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n            }\n          } else {\n            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.updateDataAttribute = function () {\n    var value = this.htmlAttributes;\n    var invalidAttr = ['class', 'style', 'id', 'type'];\n    var attr = {};\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n  DropDownTree.prototype.showOverAllClear = function () {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    if (this.overAllClear) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n      if (isValue && this.showClearButton) {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      } else {\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    }\n  };\n  DropDownTree.prototype.setTreeValue = function () {\n    if (this.value !== null && this.value.length !== 0) {\n      var data = void 0;\n      if (this.showCheckBox || this.allowMultiSelection) {\n        for (var i = this.value.length - 1; i >= 0; i--) {\n          data = this.treeObj.getTreeData(this.value[i])[0];\n          if (isNOU(data)) {\n            this.value.splice(i, 1);\n          }\n        }\n        if (this.value.length !== 0) {\n          this.setValidValue();\n        }\n      } else {\n        data = this.treeObj.getTreeData(this.value[0])[0];\n        if (!isNOU(data)) {\n          this.setProperties({\n            text: data[this.fields.text]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            value: this.currentValue\n          }, true);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.setTreeText = function () {\n    if (this.value !== null && !this.isInitialized) {\n      return;\n    }\n    if (this.text !== null) {\n      var data = void 0;\n      var valArr = [];\n      if (this.showCheckBox || this.allowMultiSelection) {\n        var textArr = this.text.split(this.delimiterChar);\n        for (var i = 0; i < textArr.length; i++) {\n          data = this.getItems(textArr[i]);\n          if (!isNOU(data)) {\n            valArr.push(data[this.fields.value].toString());\n          }\n        }\n        if (valArr.length !== 0) {\n          this.setOldValue();\n          this.setProperties({\n            value: valArr\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      } else {\n        data = this.getItems(this.text);\n        if (!isNOU(data)) {\n          this.setOldValue();\n          this.setProperties({\n            value: [data[this.fields.value].toString()]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.setSelectedValue = function () {\n    if (this.value !== null && !(this.value.length === 0)) {\n      return;\n    }\n    if (!this.isInitialized) {\n      this.setOldValue();\n      if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n        this.setProperties({\n          value: this.treeObj.selectedNodes\n        }, true);\n        if (this.allowMultiSelection) {\n          this.updateMode();\n        }\n      } else if (this.showCheckBox && this.treeObj.checkedNodes) {\n        if (this.treeObj.checkedNodes.length > 0) {\n          this.setProperties({\n            value: this.treeObj.checkedNodes\n          }, true);\n          setValue('selectedNodes', [], this.treeObj);\n          this.treeObj.dataBind();\n          this.updateMode();\n        }\n      }\n      this.updateSelectedValues();\n      this.currentText = this.text;\n      this.currentValue = this.value;\n    }\n  };\n  DropDownTree.prototype.setValueTemplate = function () {\n    var _this = this;\n    if (this.valueTemplate) {\n      var compiledString = this.initializeValueTemplate();\n      this.getValueTemplateElement(this.value[0], compiledString);\n      if (this.hasTemplate && this.portals) {\n        if (this.treeObj.portals) {\n          this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n            return !_this.portals.includes(item);\n          }));\n        }\n        if (this.isReact) {\n          this.renderReactTemplates(this.reactCallBack);\n        }\n      }\n      this.showOrHideValueTemplate(true);\n    }\n  };\n  DropDownTree.prototype.getValueTemplateElement = function (value, compiledString) {\n    var selectedData = this.getNodeData(value, this.isFilteredData ? this.treeData : this.treeItems);\n    var templateElements = compiledString(selectedData, this, 'valueTemplate', this.element.id + \"valueTemplate\", this.isStringTemplate, undefined, this.valueTemplateContainer);\n    if (templateElements) {\n      templateElements = Array.prototype.slice.call(templateElements);\n      append(templateElements, this.valueTemplateContainer);\n    }\n  };\n  DropDownTree.prototype.setValidValue = function () {\n    var _this = this;\n    if (!this.showCheckBox && !this.allowMultiSelection) {\n      Input.setValue(this.text, this.inputEle, this.floatLabelType);\n      this.setValueTemplate();\n      var id = this.value[0].toString();\n      if (this.treeObj.selectedNodes[0] !== id) {\n        setValue('selectedNodes', [id], this.treeObj);\n        if (this.fields.dataSource instanceof DataManager) {\n          this.updateSelectedValues();\n        }\n      }\n    } else {\n      if (this.showCheckBox) {\n        var difference = this.value.length !== this.treeObj.checkedNodes.length || this.value.filter(function (e) {\n          return _this.treeObj.checkedNodes.indexOf(e) === -1;\n        }).length > 0;\n        if (difference || this.treeSettings.autoCheck) {\n          this.treeObj.checkedNodes = this.value.slice();\n          this.treeObj.dataBind();\n          this.setMultiSelect();\n        }\n      } else {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.selectedText = [];\n        this.updateSelectedValues();\n      }\n      this.treeObj.dataBind();\n    }\n    this.currentText = this.text;\n    this.currentValue = this.value;\n    if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n      this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n    }\n    if (this.isInitialized) {\n      this.triggerChangeEvent();\n    }\n  };\n  DropDownTree.prototype.getItems = function (givenText) {\n    var data;\n    if (this.treeDataType === 1) {\n      for (var i = 0; i < this.treeItems.length; i++) {\n        var text = getValue(this.fields.text, this.treeItems[parseInt(i.toString(), 10)]);\n        if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n          data = this.treeItems[i];\n          break;\n        }\n      }\n    } else {\n      data = this.getNestedItems(this.treeItems, this.fields, givenText);\n    }\n    return data;\n  };\n  DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n    var newData;\n    for (var i = 0, objlen = data.length; i < objlen; i++) {\n      var dataId = getValue(this.fields.text, data[parseInt(i.toString(), 10)]);\n      if (data[i] && dataId && dataId.toString() === givenText) {\n        return data[i];\n      } else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n        var childData = getValue(field.child, data[parseInt(i.toString(), 10)]);\n        newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n        if (newData !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n        var child = 'child';\n        newData = this.getNestedItems(getValue(child, data[parseInt(i.toString(), 10)]), this.getChildType(field), givenText);\n        if (newData !== undefined) {\n          break;\n        }\n      }\n    }\n    return newData;\n  };\n  DropDownTree.prototype.getChildType = function (mapper) {\n    return typeof mapper.child === 'string' || isNOU(mapper.child) ? mapper : mapper.child;\n  };\n  /* To render the treeview */\n  DropDownTree.prototype.renderTree = function () {\n    this.treeObj = new TreeView({\n      fields: this.getTreeFields(this.fields),\n      enableRtl: this.enableRtl,\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeChecked: this.onNodeChecked.bind(this),\n      nodeChecking: this.beforeCheck.bind(this),\n      nodeExpanded: this.onNodeExpanded.bind(this),\n      actionFailure: this.onActionFailure.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      dataBound: this.OnDataBound.bind(this),\n      allowMultiSelection: this.allowMultiSelection,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      showCheckBox: this.showCheckBox,\n      autoCheck: this.treeSettings.autoCheck,\n      sortOrder: this.sortOrder,\n      expandOn: this.treeSettings.expandOn,\n      loadOnDemand: this.treeSettings.loadOnDemand,\n      nodeSelecting: this.onBeforeSelect.bind(this),\n      nodeTemplate: this.itemTemplate,\n      checkDisabledChildren: this.treeSettings.checkDisabledChildren,\n      checkOnClick: true\n    });\n    this.treeObj.root = this.root ? this.root : this;\n    this.treeObj.appendTo(this.tree);\n  };\n  /* To render the popup element */\n  DropDownTree.prototype.renderPopup = function () {\n    var _this = this;\n    if (this.isFilteredData) {\n      this.treeObj.element.classList.remove('e-filtering');\n      this.filterObj.value = '';\n      this.treeObj.fields = this.getTreeFields(this.fields);\n      this.isFilterRestore = true;\n      this.isFilteredData = false;\n      this.hideCheckAll(false);\n    }\n    var isCancelled = false;\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        addClass([_this.inputWrapper], [ICONANIMATION]);\n        if (_this.isReact && _this.isFilterRestore) {\n          _this.treeObj.refresh();\n        }\n        if (_this.isFirstRender) {\n          _this.popupEle = _this.createElement('div', {\n            id: _this.element.id + '_options',\n            className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n          });\n          _this.popupEle.setAttribute('role', 'region');\n          _this.popupEle.setAttribute('aria-label', _this.element.id);\n          document.body.appendChild(_this.popupEle);\n          _this.createPopup(_this.popupEle);\n        } else {\n          _this.popupEle = _this.popupObj.element;\n          if (_this.isReact && _this.isFilterRestore) {\n            _this.isFilteredData = true;\n            _this.popupEle.removeChild(_this.filterContainer);\n          }\n        }\n      } else {\n        isCancelled = true;\n      }\n      if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n        _this.isFilteredData = false;\n        prepend([_this.popupDiv], _this.popupEle);\n        removeClass([_this.popupDiv], DDTHIDEICON);\n        if (_this.allowFiltering) {\n          _this.renderFilter();\n        }\n        if (_this.showCheckBox && _this.showSelectAll && !_this.popupDiv.classList.contains(NODATA)) {\n          _this.createSelectAllWrapper();\n          _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n        }\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate();\n        }\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate();\n        }\n        _this.isFirstRender = false;\n        if (_this.hasTemplate && _this.portals) {\n          if (_this.treeObj.portals) {\n            _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) {\n              return !_this.portals.includes(item);\n            }));\n          }\n          if (_this.isReact) {\n            _this.renderReactTemplates(_this.reactCallBack);\n          }\n        }\n      }\n      if (!isCancelled) {\n        attributes(_this.inputEle, {\n          'aria-expanded': 'true'\n        });\n        _this.popupObj.show(null, _this.zIndex === 1000 ? _this.inputEle : null);\n        removeClass([_this.popupEle], DDTHIDEICON);\n        _this.updatePopupHeight();\n        _this.popupObj.refreshPosition();\n        if (!(_this.showSelectAll || _this.allowFiltering) && !_this.popupDiv.classList.contains(NODATA) && _this.treeItems.length > 0) {\n          var focusedElement = _this.value != null && _this.text != null ? _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[_this.value.length - 1] + '\"]') : null;\n          if (focusedElement) {\n            _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n            focusedElement.setAttribute('tabindex', '0');\n          } else {\n            var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n            focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]:not(.e-disable)') || _this.treeObj.element.querySelector('li:not(.e-disable)');\n            _this.removeFocus(focusedElement, oldFocussedNode);\n          }\n          _this.updateFocus(focusedElement);\n        }\n        if (_this.treeObj.checkedNodes.length > 0 && !_this.isFilterRestore) {\n          var nodes = _this.treeObj.element.querySelectorAll('li:not(.e-disable)');\n          var checkedNodes = _this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n          if (checkedNodes.length === nodes.length && _this.checkBoxElement) {\n            var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n            _this.changeState(wrap, 'check');\n            _this.checkSelectAll = false;\n          }\n        }\n        if (_this.showSelectAll && !_this.allowFiltering) {\n          var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n          var focusedElement = _this.popupEle.querySelector('.e-selectall-parent');\n          _this.removeFocus(focusedElement, oldFocussedNode);\n          _this.updateFocus(focusedElement);\n        }\n        if (_this.allowFiltering) {\n          var focusedElement = _this.treeObj.element.querySelector('li.e-node-focus');\n          if (!isNOU(focusedElement)) {\n            removeClass([focusedElement], 'e-node-focus');\n          }\n          removeClass([_this.inputWrapper], [INPUTFOCUS]);\n          _this.filterObj.element.focus();\n        }\n        var eventArgs = {\n          popup: _this.popupObj\n        };\n        _this.trigger('open', eventArgs);\n      }\n    });\n  };\n  DropDownTree.prototype.removeFocus = function (focusedElement, oldFocusedElement) {\n    if (oldFocusedElement && oldFocusedElement !== focusedElement) {\n      oldFocusedElement.setAttribute('tabindex', '-1');\n      removeClass([oldFocusedElement], 'e-node-focus');\n    }\n  };\n  DropDownTree.prototype.updateFocus = function (focusedElement) {\n    if (!isNOU(focusedElement)) {\n      focusedElement.focus();\n      addClass([focusedElement], ['e-node-focus']);\n    }\n  };\n  DropDownTree.prototype.reactCallBack = function () {\n    if (!isNOU(this.popupObj)) {\n      this.updatePopupHeight();\n      this.popupObj.refreshPosition();\n    }\n  };\n  DropDownTree.prototype.updatePopupHeight = function () {\n    if (this.isFirstRender) {\n      return;\n    }\n    var popupHeight = this.getHeight();\n    this.popupEle.style.maxHeight = popupHeight;\n    if (this.allowFiltering) {\n      var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.headerTemplate) {\n      var height = Math.round(this.header.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.showCheckBox && this.showSelectAll && !this.popupDiv.classList.contains(NODATA)) {\n      var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    if (this.footerTemplate) {\n      var height = Math.round(this.footer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n    var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n    border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n    popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n    this.popupDiv.style.maxHeight = popupHeight;\n  };\n  DropDownTree.prototype.createPopup = function (element) {\n    var _this = this;\n    if (this.isFirstRender) {\n      this.popupObj = new Popup(element, {\n        width: this.setWidth(),\n        targetType: 'relative',\n        collision: {\n          X: 'flip',\n          Y: 'flip'\n        },\n        relateTo: this.inputWrapper,\n        zIndex: this.zIndex,\n        enableRtl: this.enableRtl,\n        position: {\n          X: 'left',\n          Y: 'bottom'\n        },\n        close: function () {\n          _this.isPopupOpen = false;\n        },\n        open: function () {\n          document.addEventListener('mousedown', _this.documentClickContext);\n          _this.isPopupOpen = true;\n        },\n        targetExitViewport: function () {\n          if (!Browser.isDevice) {\n            _this.hidePopup();\n          }\n        }\n      });\n    }\n  };\n  /* To calculate the width when change via set model */\n  DropDownTree.prototype.setElementWidth = function (inputWidth) {\n    var ddElement = this.inputWrapper;\n    if (!isNOU(inputWidth)) {\n      if (typeof inputWidth === 'number') {\n        ddElement.style.width = formatUnit(inputWidth);\n      } else if (typeof inputWidth === 'string') {\n        ddElement.style.width = inputWidth.match(/px|%|em/) ? inputWidth : formatUnit(inputWidth);\n      }\n    }\n  };\n  /* To calculate the width of the popup */\n  DropDownTree.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n    } else if (typeof this.popupWidth === 'string') {\n      width = this.popupWidth.match(/px|em/) ? this.popupWidth : width;\n    }\n    return width;\n  };\n  /* To calculate the height of the popup */\n  DropDownTree.prototype.getHeight = function () {\n    var height = formatUnit(this.popupHeight);\n    if (height.indexOf('%') > -1) {\n      // Will set the height of the popup according to the view port height\n      height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n    } else if (typeof this.popupHeight === 'string') {\n      height = this.popupHeight.match(/px|em/) ? this.popupHeight : height;\n    }\n    return height;\n  };\n  DropDownTree.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    var isTree = closest(target, '.' + PARENTITEM);\n    var isFilter = closest(target, '.' + FILTERWRAP);\n    var isHeader = closest(target, '.' + HEADER);\n    var isFooter = closest(target, '.' + FOOTER);\n    var isScroller = target.classList.contains(DROPDOWN) ? true : matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview');\n    if (this.isPopupOpen && (!isNOU(this.inputWrapper) && this.inputWrapper.contains(target) || isTree || isScroller || isHeader || isFooter) || (this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) || this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT) || target.classList.contains(CHECKBOXFRAME)))) {\n      this.isDocumentClick = false;\n      e.preventDefault();\n    } else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n      this.focusOut(e);\n    }\n  };\n  DropDownTree.prototype.onActionFailure = function (e) {\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    addClass([this.popupDiv], NODATA);\n  };\n  DropDownTree.prototype.OnDataBound = function (args) {\n    this.treeItems = args.data;\n    if (this.treeItems.length <= 0) {\n      this.l10nUpdate();\n      addClass([this.popupDiv], NODATA);\n      this.hideCheckAll(true);\n    } else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n      removeClass([this.popupDiv], NODATA);\n      this.hideCheckAll(false);\n    }\n    if (!this.isFilteredData) {\n      this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n    }\n    if (this.isFirstRender && this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n      if (!this.wrapText) {\n        this.updateView();\n      }\n      this.treeObj.element.focus();\n      this.isInitialized = true;\n    }\n    var eventArgs = {\n      data: args.data\n    };\n    this.trigger('dataBound', eventArgs);\n    if (this.filterObj === null) {\n      this.isFilteredData = false;\n    }\n    if (this.isFilteredData) {\n      this.treeObj.expandAll();\n    }\n    if (this.isFilterRestore) {\n      this.restoreFilterSelection();\n      if (!this.showSelectAll) {\n        this.isFilterRestore = false;\n      }\n    }\n  };\n  DropDownTree.prototype.restoreFilterSelection = function () {\n    if (this.showCheckBox) {\n      this.treeObj.checkedNodes = this.value ? this.value : [];\n    } else {\n      this.treeObj.selectedNodes = this.value ? this.value : [];\n    }\n  };\n  /* To set cssclass for the dropdowntree */\n  DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n    var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n    if (!isNOU(oldClass) && oldClass !== '') {\n      removeClass(elements, oldClass.split(' '));\n    }\n    if (!isNOU(newClass) && newClass !== '') {\n      addClass(elements, newClass.split(' '));\n    }\n  };\n  DropDownTree.prototype.setEnableRTL = function (state) {\n    if (state) {\n      this.inputWrapper.classList.add(RTL);\n    } else {\n      this.inputWrapper.classList.remove(RTL);\n    }\n    if (this.popupObj) {\n      this.popupObj.enableRtl = state;\n      this.popupObj.dataBind();\n    }\n    if (this.treeObj) {\n      this.treeObj.enableRtl = state;\n      this.treeObj.dataBind();\n    }\n  };\n  /* To set enable property */\n  DropDownTree.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputEle);\n    if (this.enabled) {\n      removeClass([this.inputWrapper], DISABLED);\n      this.inputEle.setAttribute('aria-disabled', 'false');\n      this.inputWrapper.setAttribute('aria-disabled', 'false');\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n      addClass([this.inputWrapper], DISABLED);\n      if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n      }\n      this.inputEle.setAttribute('aria-disabled', 'true');\n      this.inputWrapper.setAttribute('aria-disabled', 'true');\n    }\n  };\n  DropDownTree.prototype.cloneFields = function (fields) {\n    var clonedField = {\n      dataSource: fields.dataSource,\n      value: fields.value,\n      text: fields.text,\n      parentValue: fields.parentValue,\n      child: this.cloneChildField(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selected: fields.selected,\n      selectable: fields.selectable,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return clonedField;\n  };\n  DropDownTree.prototype.cloneChildField = function (fields) {\n    if (typeof fields === 'string') {\n      return fields;\n    } else {\n      var clonedField = {\n        dataSource: fields.dataSource,\n        value: fields.value,\n        text: fields.text,\n        parentValue: fields.parentValue,\n        child: fields.child ? this.cloneChildField(fields.child) : null,\n        hasChildren: fields.hasChildren,\n        expanded: fields.expanded,\n        iconCss: fields.iconCss,\n        imageUrl: fields.imageUrl,\n        htmlAttributes: fields.htmlAttributes,\n        query: fields.query,\n        selected: fields.selected,\n        selectable: fields.selectable,\n        tableName: fields.tableName,\n        tooltip: fields.tooltip\n      };\n      return clonedField;\n    }\n  };\n  DropDownTree.prototype.getTreeFields = function (fields) {\n    var treeFields = {\n      dataSource: fields.dataSource,\n      id: fields.value,\n      text: fields.text,\n      parentID: fields.parentValue,\n      child: this.getTreeChildren(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      isChecked: fields.selected,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selectable: fields.selectable,\n      selected: fields.selected,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return treeFields;\n  };\n  DropDownTree.prototype.getTreeChildren = function (mapper) {\n    if (typeof mapper === 'string') {\n      return mapper;\n    } else if (!isNOU(mapper)) {\n      mapper = this.getActualProperties(mapper);\n      var childFields = mapper;\n      if (mapper.value) {\n        childFields.id = mapper.value;\n      }\n      if (mapper.parentValue) {\n        childFields.parentID = mapper.parentValue;\n      }\n      if (mapper.child) {\n        childFields.child = this.getTreeChildren(mapper.child);\n      }\n      if (mapper.selected && this.showCheckBox) {\n        childFields.isChecked = mapper.selected;\n      }\n      return childFields;\n    }\n    return null;\n  };\n  DropDownTree.prototype.getTreeDataType = function (ds, field) {\n    if (this.fields.dataSource instanceof DataManager) {\n      for (var i = 0; i < ds.length; i++) {\n        if (typeof field.child === 'string' && isNOU(getValue(field.child, ds[i]))) {\n          return 1;\n        }\n      }\n      return 2;\n    }\n    if (isNOU(this.fields.dataSource)) {\n      this.fields.dataSource = [];\n    }\n    for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n      if (typeof field.child === 'string' && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n        return 2;\n      }\n      if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n        return 1;\n      }\n    }\n    return 1;\n  };\n  /* Triggers when the tree fields is changed dynamically */\n  DropDownTree.prototype.setFields = function () {\n    this.resetValue();\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n    this.treeObj.fields = this.getTreeFields(this.fields);\n    this.setProperties({\n      value: this.oldValue\n    }, true);\n    this.treeObj.dataBind();\n    this.updateValue(this.value);\n  };\n  DropDownTree.prototype.getEventArgs = function (args) {\n    var checkData = args.data;\n    var selectData = args.nodeData;\n    var state;\n    if (this.showCheckBox) {\n      if (args.action === 'check') {\n        state = 'select';\n      } else if (args.action === 'uncheck') {\n        state = 'un-select';\n      }\n    }\n    var eventArgs = {\n      action: this.showCheckBox ? state : args.action,\n      isInteracted: this.isClicked ? true : args.isInteracted,\n      item: args.node,\n      itemData: this.showCheckBox ? checkData[0] : selectData\n    };\n    return eventArgs;\n  };\n  DropDownTree.prototype.onBeforeSelect = function (args) {\n    if (args.isInteracted) {\n      this.setOldValue();\n      if (this.value === null) {\n        this.setProperties({\n          value: []\n        }, true);\n      }\n    }\n  };\n  DropDownTree.prototype.updateHiddenValue = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return;\n    }\n    if (this.value && this.value.length) {\n      this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /* Triggers when the tree node is selected */\n  DropDownTree.prototype.onNodeSelected = function (args) {\n    if (this.showCheckBox) {\n      return;\n    }\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n    var selectedText;\n    if (args.isInteracted) {\n      var id = getValue('id', args.nodeData).toString();\n      if (!this.allowMultiSelection) {\n        this.hiddenElement.innerHTML = '';\n        this.setProperties({\n          value: [id]\n        }, true);\n        if (this.itemTemplate) {\n          selectedText = getValue('text', this.treeObj.getNode(id));\n        } else {\n          selectedText = getValue('text', args.nodeData).toString();\n        }\n        Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n        this.setProperties({\n          text: selectedText\n        }, true);\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        this.setValueTemplate();\n        if (!isNOU(this.value) && this.value.length > 0) {\n          this.inputWrapper.setAttribute('aria-label', args.nodeData.text.toString());\n        }\n        attributes(this.inputWrapper, {\n          'aria-describedby': this.element.id\n        });\n        attributes(this.inputWrapper, {\n          'aria-activedescendant': id.toString()\n        });\n        this.updateHiddenValue();\n        this.showOverAllClear();\n        this.hidePopup();\n        this.isNodeSelected = true;\n      } else if (this.allowMultiSelection) {\n        this.setMultiSelect();\n      }\n    }\n    if (this.isValueChange && !this.changeOnBlur) {\n      this.triggerChangeEvent(this.keyEventArgs);\n      this.isValueChange = false;\n    }\n  };\n  DropDownTree.prototype.onNodeClicked = function (args) {\n    if (!this.changeOnBlur && this.isNodeSelected) {\n      this.triggerChangeEvent(args.event);\n      this.isNodeSelected = false;\n    }\n    var target = args.event.target;\n    if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n    if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n      this.triggerChangeEvent(args.event);\n    }\n  };\n  DropDownTree.prototype.onNodeChecked = function (args) {\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n    if (this.isFilteredData && args.action === 'uncheck') {\n      var id = getValue('id', args.data[0]).toString();\n      this.removeSelectedData(id, true);\n    }\n    if (!this.isChipDelete && args.isInteracted || !this.isFilteredData && args.action === 'check' && this.isFromFilterChange) {\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n    if (this.showSelectAll && this.checkBoxElement) {\n      var nodes = this.treeObj.element.querySelectorAll('li:not(.e-disable)');\n      var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n      var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n      if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 || !isNOU(args.data[0]) && args.data[0].isChecked === 'false') || !args.isInteracted && this.isFilterRestore) {\n        this.isFilterRestore = false;\n        this.isReverseUpdate = true;\n        this.changeState(wrap, 'uncheck');\n        this.isReverseUpdate = false;\n      } else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled || !isNOU(args.data[0]) && args.data[0].isChecked === 'true')) {\n        this.isReverseUpdate = true;\n        this.isCheckAllCalled = false;\n        this.changeState(wrap, 'check');\n        this.isReverseUpdate = false;\n      }\n    }\n    if (this.isValueChange && !this.changeOnBlur) {\n      this.triggerChangeEvent(this.keyEventArgs);\n      this.isValueChange = false;\n    }\n  };\n  DropDownTree.prototype.beforeCheck = function (args) {\n    if (args.isInteracted) {\n      this.setOldValue();\n    }\n  };\n  DropDownTree.prototype.onNodeExpanded = function () {\n    if (this.hasTemplate && this.portals && this.treeObj.portals) {\n      for (var i = 0; i < this.treeObj.portals.length; i++) {\n        if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n          this.portals.push(this.treeObj.portals[i]);\n        }\n      }\n      this.renderReactTemplates();\n    }\n  };\n  DropDownTree.prototype.updateClearButton = function (state) {\n    if (state) {\n      if (!this.inputWrapper.contains(this.overAllClear)) {\n        this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n      } else {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    } else {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n      for (var i = 0; i < chipClose.length; i++) {\n        if (!state) {\n          addClass([chipClose[i]], HIDEICON);\n        } else {\n          removeClass([chipClose[i]], HIDEICON);\n        }\n      }\n    }\n  };\n  DropDownTree.prototype.updateDropDownIconState = function (state) {\n    var spinIcon = select('.' + DDTICON, this.inputWrapper);\n    if (state) {\n      if (!spinIcon) {\n        Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n      } else {\n        removeClass([spinIcon], HIDEICON);\n      }\n      addClass([this.inputWrapper], SHOW_DD_ICON);\n    } else {\n      addClass([spinIcon], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_DD_ICON);\n    }\n  };\n  DropDownTree.prototype.updateMode = function () {\n    if (this.mode === 'Custom') {\n      return;\n    }\n    if (this.mode !== 'Delimiter') {\n      if (!this.inputWrapper.contains(this.chipWrapper)) {\n        this.createChip();\n      }\n      var isValid = this.getValidMode();\n      if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n        removeClass([this.chipWrapper], HIDEICON);\n        this.showOrHideValueTemplate(false, true);\n        addClass([this.inputWrapper], SHOW_CHIP);\n      } else if (!isValid) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n        this.showOrHideValueTemplate(true);\n      }\n      var isValue = this.value !== null ? this.value.length !== 0 ? true : false : false;\n      if (isValid && isValue) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else {\n        removeClass([this.inputEle], CHIP_INPUT);\n      }\n    } else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n        this.showOrHideValueTemplate(true);\n      }\n    }\n  };\n  DropDownTree.prototype.ensurePlaceHolder = function () {\n    if (isNOU(this.value) || this.value !== null && this.value.length === 0) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        this.showOrHideValueTemplate(true);\n      }\n    }\n  };\n  DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n    if (floatLabelType !== 'Never') {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n  DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n    var _this = this;\n    if (!this.isFilteredData) {\n      this.setProperties({\n        value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues\n      }, true);\n      this.isFromFilterChange = false;\n      if (newValues && newValues.length !== 0 && !this.showCheckBox && !this.ddtCompareValues(this.treeObj.selectedNodes, this.value.slice())) {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.treeObj.dataBind();\n      }\n    } else {\n      var selectedValues = isNOU(this.value) ? [] : this.value;\n      selectedValues = selectedValues.filter(function (selectedValue) {\n        var nodeData = _this.treeObj.getTreeData(selectedValue);\n        if (Array.isArray(nodeData)) {\n          return nodeData.every(function (nodeSelectedData) {\n            return nodeSelectedData.selected;\n          });\n        }\n        return true;\n      });\n      for (var i = 0; i < newValues.length; i++) {\n        if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n          selectedValues.push(newValues[i]);\n        }\n      }\n      this.setProperties({\n        value: selectedValues\n      }, true);\n    }\n  };\n  DropDownTree.prototype.setMultiSelect = function () {\n    if (this.showCheckBox && !this.isDynamicChange) {\n      this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n    } else {\n      var ddtValue = this.allowMultiSelection ? this.showCheckBox ? this.treeObj.checkedNodes : this.treeObj.selectedNodes : this.value ? this.showCheckBox ? this.value : [this.value[0]] : null;\n      this.setMultiSelectValue(ddtValue);\n      if (this.showCheckBox && this.value !== null) {\n        this.treeObj.checkedNodes = this.value;\n        this.treeObj.dataBind();\n      }\n    }\n    this.selectedText = [];\n    var checkSelection = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n    if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      detach(this.chipWrapper);\n    }\n    var isValid = this.getValidMode();\n    if (isValid && this.value !== null) {\n      addClass([this.inputEle], CHIP_INPUT);\n      if (this.chipWrapper) {\n        removeClass([this.chipWrapper], HIDEICON);\n        this.showOrHideValueTemplate(false, true);\n      }\n    }\n    var isValue = this.value ? this.value.length ? true : false : false;\n    if (this.chipWrapper && this.mode === 'Box' && !isValue) {\n      addClass([this.chipWrapper], HIDEICON);\n      removeClass([this.inputEle], CHIP_INPUT);\n      this.showOrHideValueTemplate(true);\n    }\n    this.updateSelectedValues();\n  };\n  DropDownTree.prototype.getSelectedData = function (value) {\n    var data = null;\n    if (this.isFilteredData) {\n      for (var i = 0; i < this.selectedData.length; i++) {\n        if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n          data = this.selectedData[i];\n          break;\n        }\n      }\n    }\n    if (isNOU(data)) {\n      if (this.treeSettings.loadOnDemand) {\n        data = this.getNodeData(value, this.treeItems);\n      } else {\n        data = this.treeObj.getNode(value);\n      }\n      if (!isNOU(data)) {\n        this.selectedData.push(data);\n      }\n    }\n    return data;\n  };\n  DropDownTree.prototype.getNodeData = function (id, dataSource) {\n    var childItems;\n    if (isNOU(id)) {\n      return childItems;\n    } else if (this.treeDataType === 1) {\n      for (var i = 0, objlen = dataSource.length; i < objlen; i++) {\n        var dataId = getValue(this.fields.value, dataSource[i]);\n        if (!isNOU(dataSource[i]) && !isNOU(dataId) && dataId.toString() === id) {\n          return dataSource[i];\n        }\n      }\n    } else {\n      return this.getChildNodeData(dataSource, this.fields, id);\n    }\n    return childItems;\n  };\n  DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n    var newChildItems;\n    if (isNOU(obj)) {\n      return newChildItems;\n    }\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var dataValue = getValue(mapper.value, obj[i]);\n      if (obj[i] && dataValue && dataValue.toString() === id) {\n        return obj[i];\n      } else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n        var childNodeData = getValue(mapper.child, obj[i]);\n        newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n        if (newChildItems !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n        var child = 'child';\n        newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n        if (newChildItems !== undefined) {\n          break;\n        }\n      }\n    }\n    return newChildItems;\n  };\n  DropDownTree.prototype.getChildMapperFields = function (mapper) {\n    return typeof mapper.child === 'string' || isNOU(mapper.child) ? mapper : mapper.child;\n  };\n  DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n    var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n    selectedValues.splice(selectedValues.indexOf(value), 1);\n    this.setProperties({\n      value: selectedValues\n    }, muteOnChange);\n    for (var i = 0; i < this.selectedData.length; i++) {\n      if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n        this.selectedData.splice(i, 1);\n        break;\n      }\n    }\n  };\n  DropDownTree.prototype.initializeValueTemplate = function () {\n    if (!this.valueTemplate) {\n      return null;\n    }\n    if (this.valueTemplateContainer) {\n      while (this.valueTemplateContainer.firstChild) {\n        this.valueTemplateContainer.removeChild(this.valueTemplateContainer.firstChild);\n      }\n    } else {\n      this.valueTemplateContainer = this.createElement('span', {\n        className: OVERFLOW_VIEW + ' ' + SHOW_TEXT + ' ' + 'e-input-value' + ' ' + HIDEICON\n      });\n    }\n    this.inputWrapper.insertBefore(this.valueTemplateContainer, this.inputEle);\n    return this.templateComplier(this.valueTemplate);\n  };\n  DropDownTree.prototype.showOrHideValueTemplate = function (show, showChip) {\n    if (showChip === void 0) {\n      showChip = false;\n    }\n    if (!this.valueTemplateContainer || this.mode === 'Box') {\n      return;\n    }\n    if (show) {\n      removeClass([this.valueTemplateContainer], HIDEICON);\n      addClass([this.inputWrapper], SHOW_CHIP);\n      addClass([this.inputEle], CHIP_INPUT);\n    } else {\n      addClass([this.valueTemplateContainer], HIDEICON);\n      if (!showChip) {\n        removeClass([this.inputWrapper], SHOW_CHIP);\n        removeClass([this.inputEle], CHIP_INPUT);\n      }\n    }\n  };\n  DropDownTree.prototype.updateSelectedValues = function () {\n    var _this = this;\n    this.dataValue = '';\n    var temp;\n    var text;\n    var textValue = '';\n    var selectedData;\n    this.hiddenElement.innerHTML = '';\n    var hiddenInputValue = '';\n    if ((!this.isChipDelete || this.treeSettings.autoCheck) && this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipCollection.innerHTML = '';\n    }\n    if (!this.isFilteredData) {\n      this.selectedData = [];\n    }\n    if (!isNOU(this.value)) {\n      var compiledString = this.initializeValueTemplate();\n      for (var i = 0, len = this.value.length; i < len; i++) {\n        selectedData = this.getSelectedData(this.value[i]);\n        text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n        this.selectedText.push(text);\n        temp = this.selectedText[this.selectedText.length - 1];\n        if (this.selectedText.length > 1) {\n          this.dataValue += this.delimiterChar + ' ' + temp;\n          textValue += ',' + temp;\n        } else {\n          this.dataValue += temp;\n          textValue += temp;\n        }\n        if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) && (this.allowMultiSelection || this.showCheckBox)) {\n          this.setChipValues(temp, this.value[i]);\n        }\n        hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' + this.selectedText[this.selectedText.length - 1] + '</option>';\n        if (this.valueTemplate) {\n          this.getValueTemplateElement(this.value[i], compiledString);\n        }\n      }\n      if (this.hasTemplate && this.portals) {\n        if (this.treeObj.portals) {\n          this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n            return !_this.portals.includes(item);\n          }));\n        }\n        if (this.isReact) {\n          this.renderReactTemplates(this.reactCallBack);\n        }\n      }\n      if (this.selectedText.length >= 1) {\n        this.setProperties({\n          text: textValue\n        }, true);\n      }\n      this.hiddenElement.innerHTML = hiddenInputValue;\n      if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n        this.setTagValues();\n      }\n    }\n    var isValid = this.getValidMode();\n    if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n      this.showOrHideValueTemplate(true);\n    }\n    Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n    if (textValue === '') {\n      this.setProperties({\n        text: null\n      }, true);\n    } else {\n      this.setProperties({\n        text: textValue\n      }, true);\n    }\n    if (this.showClearButton && this.inputFocus) {\n      this.showOverAllClear();\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n    this.currentText = this.text;\n    this.currentValue = this.value;\n    if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n      this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n    } else {\n      this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n    }\n  };\n  DropDownTree.prototype.setChipValues = function (text, value) {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n    var chip = this.createElement('span', {\n      className: CHIP,\n      attrs: {\n        'data-value': value\n      }\n    });\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var chipClose = this.createElement('span', {\n      className: CHIP_CLOSE + ' ' + ICONS\n    });\n    if (this.enableHtmlSanitizer) {\n      chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n    } else {\n      chipContent.innerHTML = text;\n    }\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n    if (this.showClearButton) {\n      chip.appendChild(chipClose);\n      EventHandler.add(chipClose, 'mouseup', this.removeChip, this);\n    }\n  };\n  DropDownTree.prototype.setTagValues = function () {\n    if (this.value === null || this.text == null || this.value.length === 0) {\n      if (this.inputWrapper.contains(this.chipWrapper)) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n      return;\n    }\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n    if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n    var chip = this.createElement('span', {\n      className: CHIP\n    });\n    if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n      addClass([this.inputEle], CHIP_INPUT);\n    }\n    if (this.chipWrapper.classList.contains(HIDEICON)) {\n      removeClass([this.chipWrapper], HIDEICON);\n      this.showOrHideValueTemplate(false, true);\n    }\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var template = this.customTemplate;\n    var templateId = this.customTemplateId;\n    var templatestring = 'customTemplate';\n    var compiledString = this.templateComplier(template);\n    var tempArr = compiledString({\n      'value': this.value,\n      'text': this.text\n    }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, chipContent);\n    }\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  DropDownTree.prototype.setSelectAllWrapper = function (state) {\n    if (this.isFirstRender) {\n      return;\n    }\n    if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n      this.createSelectAllWrapper();\n      this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n    } else if (this.popupEle.contains(this.checkAllParent)) {\n      detach(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n  DropDownTree.prototype.setHeaderTemplate = function () {\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], HEADER);\n    }\n    var compiledString = this.templateComplier(this.headerTemplate);\n    var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.header);\n    }\n    this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n  };\n  DropDownTree.prototype.templateComplier = function (template) {\n    if (template) {\n      try {\n        if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (e) {\n        return compile(template);\n      }\n    }\n    return compile(template);\n  };\n  DropDownTree.prototype.setFooterTemplate = function () {\n    if (this.footer) {\n      if (this.isReact && typeof this.footerTemplate === 'function') {\n        this.clearTemplate(['footerTemplate']);\n      } else {\n        this.footer.innerHTML = '';\n      }\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], FOOTER);\n    }\n    var compiledString = this.templateComplier(this.footerTemplate);\n    var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.footer);\n    }\n    append([this.footer], this.popupEle);\n  };\n  DropDownTree.prototype.clearAll = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    this.resetValue();\n    this.showOverAllClear();\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.popupObj) {\n        this.popupObj.refreshPosition();\n      }\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n    }\n    if (e) {\n      this.isClearButtonClick = true;\n    }\n    if (!this.changeOnBlur) {\n      this.triggerChangeEvent(e);\n    }\n  };\n  DropDownTree.prototype.removeChip = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n    if (e.target.classList.contains('e-chips-close') && !this.isPopupOpen) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    var element = e.target.parentElement;\n    var value = element.getAttribute('data-value');\n    if (this.chipCollection) {\n      if (element) {\n        remove(element);\n      }\n    }\n    this.isChipDelete = true;\n    this.isClearButtonClick = true;\n    this.removeSelectedData(value, true);\n    this.selectedText = [];\n    if (this.allowMultiSelection) {\n      this.treeObj.selectedNodes = this.value.slice();\n      this.updateSelectedValues();\n    }\n    if (this.showCheckBox) {\n      this.treeObj.uncheckAll([value]);\n      this.clearCheckAll();\n      this.setMultiSelect();\n    }\n    this.triggerChangeEvent(e);\n    this.isChipDelete = false;\n    this.ensurePlaceHolder();\n  };\n  DropDownTree.prototype.resetValue = function (isDynamicChange) {\n    if (Array.isArray(this.value) && this.value.length === 0 && this.text == null) {\n      return;\n    }\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n    if (!isDynamicChange) {\n      this.setOldValue();\n      this.setProperties({\n        value: []\n      }, true);\n      this.showOrHideValueTemplate(false);\n    }\n    if (isNOU(this.value) || this.value.length === 0) {\n      this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n    }\n    this.dataValue = null;\n    this.setProperties({\n      text: null\n    }, true);\n    this.selectedData = [];\n    setValue('selectedNodes', [], this.treeObj);\n    this.hiddenElement.innerHTML = '';\n    if (this.showCheckBox) {\n      this.treeObj.uncheckAll();\n      this.setMultiSelect();\n      this.clearCheckAll();\n    }\n    if (this.oldValue === null && !isDynamicChange) {\n      this.removeValue = true;\n    } else if (isDynamicChange) {\n      this.triggerChangeEvent();\n    }\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      this.chipCollection.innerHTML = '';\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n      this.ensurePlaceHolder();\n    }\n  };\n  DropDownTree.prototype.clearCheckAll = function () {\n    if (this.showSelectAll && this.value && this.value.length === 0) {\n      this.setLocale(false);\n    }\n  };\n  DropDownTree.prototype.setOldValue = function () {\n    this.oldValue = Array.isArray(this.value) ? this.value.slice() : this.value;\n  };\n  DropDownTree.prototype.selectAllItems = function (state) {\n    if (this.showCheckBox) {\n      if (state) {\n        this.isCheckAllCalled = true;\n        this.treeObj.checkAll();\n      } else {\n        this.treeObj.uncheckAll();\n      }\n      this.checkSelectAll = state;\n    } else if (this.allowMultiSelection) {\n      if (!state) {\n        this.treeObj.selectedNodes = [];\n      } else {\n        var li = selectAll('li', this.treeObj.element);\n        var id = void 0;\n        var arr = [];\n        for (var i = 0; i < li.length; i++) {\n          id = li[i].getAttribute('data-uid').toString();\n          arr.push(id);\n        }\n        this.treeObj.selectedNodes = arr;\n      }\n    }\n    this.updateMode();\n    this.setMultiSelect();\n    if (!this.wrapText) {\n      if (state) {\n        this.updateView();\n      } else {\n        this.updateOverflowWrapper(true);\n      }\n    }\n  };\n  DropDownTree.prototype.updateTreeSettings = function (prop) {\n    if (prop === 'autoCheck') {\n      this.treeObj.autoCheck = this.treeSettings.autoCheck;\n    } else if (prop === 'loadOnDemand') {\n      this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n    } else if (prop === 'expandOn') {\n      this.treeObj.expandOn = this.treeSettings.expandOn;\n      this.treeObj.dataBind();\n      return;\n    } else if (prop === 'checkDisabledChildren') {\n      this.treeObj.checkDisabledChildren = this.treeSettings.checkDisabledChildren;\n    }\n    this.treeObj.dataBind();\n    this.setMultiSelect();\n    this.updateValue(this.value);\n  };\n  DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n    this.treeObj.showCheckBox = checkBox;\n    this.treeObj.dataBind();\n    this.isDynamicChange = true;\n    this.setSelectAllWrapper(this.showSelectAll);\n    if (this.showSelectAll) {\n      this.setLocale();\n    }\n    if (this.showCheckBox) {\n      this.updateMode();\n    }\n    this.setMultiSelect();\n    this.isDynamicChange = false;\n  };\n  DropDownTree.prototype.updateTemplate = function () {\n    if (this.popupObj) {\n      this.clearTemplate();\n      this.portals = [];\n      this.popupObj.destroy();\n      if (this.isPopupOpen) {\n        this.hidePopup();\n        this.isFirstRender = true;\n        this.renderPopup();\n      } else {\n        this.isFirstRender = true;\n      }\n    }\n  };\n  DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n    if (this.noRecord) {\n      this.noRecord.innerHTML = '';\n    } else {\n      this.noRecord = this.createElement('div');\n    }\n    if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n      var compiledString = this.templateComplier(template);\n      var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n      if (tempArr) {\n        tempArr = Array.prototype.slice.call(tempArr);\n        append(tempArr, this.noRecord);\n      }\n    } else {\n      var l10nLocale = {\n        noRecordsTemplate: 'No Records Found',\n        actionFailureTemplate: 'The Request Failed'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      this.noRecord.innerHTML = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n    }\n    addClass([this.noRecord], NODATACONTAINER);\n    prepend([this.noRecord], this.popupDiv);\n    if (this.treeObj) {\n      this.treeObj.element.removeAttribute('aria-activedescendant');\n    }\n  };\n  DropDownTree.prototype.updateRecordTemplate = function (action) {\n    if (this.treeItems && this.treeItems.length <= 0) {\n      this.l10nUpdate(action);\n      if (this.hasTemplate) {\n        this.updateTemplate();\n      }\n    }\n  };\n  DropDownTree.prototype.updateOverflowWrapper = function (state) {\n    if (!state) {\n      if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n      }\n    } else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n      this.overFlowWrapper.innerHTML = '';\n    }\n  };\n  DropDownTree.prototype.updateMultiSelection = function (state) {\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n    this.treeObj.allowMultiSelection = state;\n    this.treeObj.dataBind();\n    this.updateOption();\n    if (this.allowMultiSelection) {\n      this.updateMode();\n    }\n    this.setMultiSelect();\n  };\n  DropDownTree.prototype.updateAllowFiltering = function (state) {\n    if (!this.isFirstRender) {\n      if (state) {\n        this.renderFilter();\n      } else {\n        this.destroyFilter();\n      }\n    }\n  };\n  DropDownTree.prototype.updateFilterPlaceHolder = function () {\n    if (this.filterObj) {\n      this.filterObj.placeholder = this.filterBarPlaceholder;\n      this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n    }\n  };\n  DropDownTree.prototype.updateValue = function (value) {\n    this.isDynamicChange = true;\n    if (isNOU(value) || value.length === 0) {\n      this.resetValue(true);\n    } else {\n      this.setTreeValue();\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n    this.updateHiddenValue();\n    this.isDynamicChange = false;\n  };\n  DropDownTree.prototype.updateText = function (text) {\n    if (isNOU(text)) {\n      this.resetValue();\n    } else {\n      this.setTreeText();\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n    this.updateHiddenValue();\n  };\n  DropDownTree.prototype.updateModelMode = function () {\n    var validMode = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n    if (!validMode) {\n      return;\n    }\n    if (!this.wrapText) {\n      var overFlow = select('.e-overflow:not(.e-input-value)', this.inputWrapper);\n      if (overFlow) {\n        overFlow.innerHTML = '';\n      }\n    }\n    this.updateMode();\n    this.setMultiSelect();\n    if (!this.wrapText && this.value && this.value.length !== 0) {\n      this.updateOverFlowView();\n      addClass([this.inputEle], CHIP_INPUT);\n      if (this.mode === 'Box') {\n        removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      } else {\n        addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      }\n    }\n  };\n  DropDownTree.prototype.updateOption = function () {\n    if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n      this.hiddenElement.setAttribute('multiple', '');\n    } else if (this.hiddenElement.hasAttribute('multiple') && !this.allowMultiSelection && !this.showCheckBox) {\n      this.hiddenElement.removeAttribute('multiple');\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {DropDownTreeModel} newProp - specifies the newProp value.\n   * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n   * @returns {void}\n   * @private\n   */\n  DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'width':\n          this.setElementWidth(newProp.width);\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n          break;\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputEle);\n          break;\n        case 'cssClass':\n          this.setCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n        case 'enableRtl':\n          this.setEnableRTL(this.enableRtl);\n          break;\n        case 'fields':\n          this.setFields();\n          break;\n        case 'readonly':\n          Input.setReadonly(newProp.readonly, this.inputEle);\n          break;\n        case 'enabled':\n          this.setEnable();\n          break;\n        case 'floatLabelType':\n          Input.removeFloating(this.inputObj);\n          Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n          this.ensureClearIconPosition(newProp.floatLabelType);\n          break;\n        case 'showClearButton':\n          this.updateClearButton(newProp.showClearButton);\n          break;\n        case 'allowFiltering':\n          this.updateAllowFiltering(newProp.allowFiltering);\n          break;\n        case 'filterBarPlaceholder':\n          this.updateFilterPlaceHolder();\n          break;\n        case 'value':\n          if (JSON.stringify(oldProp.value) !== JSON.stringify(newProp.value)) {\n            this.oldValue = oldProp.value;\n            this.updateValue(newProp.value);\n          }\n          break;\n        case 'text':\n          this.updateText(newProp.text);\n          break;\n        case 'allowMultiSelection':\n          this.updateMultiSelection(newProp.allowMultiSelection);\n          break;\n        case 'mode':\n          if (!this.showCheckBox && !this.allowMultiSelection) {\n            return;\n          }\n          if (this.mode === 'Custom') {\n            if (this.overFlowWrapper) {\n              detach(this.overFlowWrapper);\n            }\n            if (this.chipWrapper) {\n              detach(this.chipWrapper);\n            }\n            this.setTagValues();\n          } else {\n            if (oldProp.mode === 'Custom') {\n              this.updateOverflowWrapper(this.wrapText);\n            }\n            this.updateModelMode();\n          }\n          break;\n        case 'delimiterChar':\n          if (this.mode === 'Box') {\n            return;\n          }\n          if (this.showCheckBox || this.allowMultiSelection) {\n            this.setMultiSelect();\n          }\n          break;\n        case 'selectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale();\n          }\n          break;\n        case 'unSelectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale(false);\n          }\n          break;\n        case 'showSelectAll':\n          if (this.showCheckBox) {\n            this.setSelectAllWrapper(newProp.showSelectAll);\n            this.updatePopupHeight();\n          }\n          break;\n        case 'showCheckBox':\n          this.updateCheckBoxState(newProp.showCheckBox);\n          if (!this.wrapText) {\n            this.updateOverflowWrapper(true);\n          }\n          this.updatePopupHeight();\n          this.updateOption();\n          break;\n        case 'treeSettings':\n          for (var _b = 0, _c = Object.keys(newProp.treeSettings); _b < _c.length; _b++) {\n            var prop_1 = _c[_b];\n            this.updateTreeSettings(prop_1);\n          }\n          break;\n        case 'customTemplate':\n          if (this.mode !== 'Custom') {\n            return;\n          }\n          this.chipCollection.innerHTML = '';\n          this.setTagValues();\n          break;\n        case 'sortOrder':\n          if (this.hasTemplate) {\n            this.updateTemplate();\n          }\n          this.treeObj.sortOrder = newProp.sortOrder;\n          this.treeObj.dataBind();\n          this.updateValue(this.value);\n          break;\n        case 'showDropDownIcon':\n          this.updateDropDownIconState(newProp.showDropDownIcon);\n          break;\n        case 'popupWidth':\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n          break;\n        case 'popupHeight':\n          if (this.popupObj) {\n            this.updatePopupHeight();\n          }\n          break;\n        case 'zIndex':\n          if (this.popupObj) {\n            this.popupObj.zIndex = newProp.zIndex;\n            this.popupObj.dataBind();\n          }\n          break;\n        case 'headerTemplate':\n          this.updateTemplate();\n          break;\n        case 'footerTemplate':\n          this.updateTemplate();\n          break;\n        case 'itemTemplate':\n          this.updateTemplate();\n          this.treeObj.nodeTemplate = newProp.itemTemplate;\n          this.treeObj.dataBind();\n          break;\n        case 'noRecordsTemplate':\n          this.updateRecordTemplate();\n          break;\n        case 'actionFailureTemplate':\n          this.updateRecordTemplate(true);\n          break;\n        case 'htmlAttributes':\n          this.setHTMLAttributes();\n          break;\n        case 'wrapText':\n          this.updateOverflowWrapper(this.wrapText);\n          if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n            this.updateView();\n          } else {\n            addClass([this.overFlowWrapper], HIDEICON);\n            if (this.chipWrapper && this.mode === 'Box') {\n              removeClass([this.chipWrapper], HIDEICON);\n            } else {\n              removeClass([this.inputWrapper], SHOW_CHIP);\n              removeClass([this.inputEle], CHIP_INPUT);\n            }\n            this.ensurePlaceHolder();\n          }\n          break;\n      }\n    }\n  };\n  /**\n   * Allows you to clear the selected values from the Dropdown Tree component.\n   *\n   * @method clear\n   * @returns {void}\n   */\n  DropDownTree.prototype.clear = function () {\n    this.clearAll();\n    if (this.inputFocus) {\n      this.onFocusOut();\n    } else {\n      if (this.changeOnBlur) {\n        this.triggerChangeEvent();\n      }\n      this.removeValue = false;\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownTree.prototype.destroy = function () {\n    this.clearTemplate();\n    this.unWireEvents();\n    this.setCssClass(null, this.cssClass);\n    this.setProperties({\n      text: null\n    }, true);\n    this.treeObj.destroy();\n    this.destroyFilter();\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n    if (this.element.tagName !== this.getDirective()) {\n      this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n    }\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n    detach(this.inputWrapper);\n    detach(this.popupDiv);\n    detach(this.hiddenElement);\n    Input.setRipple(false, [this.inputObj]);\n    this.element.classList.remove('e-input');\n    if (this.showCheckBox || this.allowMultiSelection || this.value && this.valueTemplateContainer) {\n      this.element.classList.remove(CHIP_INPUT);\n    }\n    detach(this.inputObj.container);\n    if (this.inputObj.buttons.length) {\n      detach(this.inputObj.buttons[0]);\n    }\n    this.inputObj = null;\n    while (this.hiddenElement.options.length > 0) {\n      this.hiddenElement.remove(0);\n    }\n    this.hiddenElement.innerHTML = '';\n    this.hiddenElement = null;\n    this.inputWrapper.innerHTML = '';\n    this.inputWrapper = null;\n    this.popupDiv = null;\n    this.tree = null;\n    this.popupObj = null;\n    this.treeObj = null;\n    this.overAllClear = null;\n    if (this.chipCollection) {\n      var chipsIcons = selectAll('.e-chips-close', this.chipCollection);\n      for (var _i = 0, chipsIcons_1 = chipsIcons; _i < chipsIcons_1.length; _i++) {\n        var element = chipsIcons_1[_i];\n        EventHandler.remove(element, 'mouseup', this.removeChip);\n      }\n    }\n    this.chipWrapper = null;\n    this.chipCollection = null;\n    this.checkAllParent = null;\n    this.selectAllSpan = null;\n    this.checkBoxElement = null;\n    this.checkWrapper = null;\n    this.popupEle = null;\n    this.header = null;\n    this.footer = null;\n    this.overFlowWrapper = null;\n    this.keyboardModule = null;\n    _super.prototype.destroy.call(this);\n    this.setProperties({\n      value: []\n    }, true);\n  };\n  DropDownTree.prototype.destroyFilter = function () {\n    if (this.filterObj) {\n      this.filterObj.destroy();\n      detach(this.filterObj.element);\n      detach(this.filterContainer);\n      this.filterObj = null;\n    }\n  };\n  DropDownTree.prototype.destroyPopup = function () {\n    this.isPopupOpen = false;\n    if (this.isReact) {\n      this.clearTemplate(['headerTemplate', 'footerTemplate', 'itemTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n    }\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n  /**\n   * Ensures visibility of the Dropdown Tree item by using item value or item element.\n   * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n   * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n   * @returns {void}\n   */\n  DropDownTree.prototype.ensureVisible = function (item) {\n    this.treeObj.ensureVisible(item);\n  };\n  /**\n   * To get the updated data source of the Dropdown Tree.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n   * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n   */\n  DropDownTree.prototype.getData = function (item) {\n    return this.treeObj.getTreeData(item);\n  };\n  /**\n   * Close the Dropdown tree pop-up.\n   *\n   * @returns {void}\n   */\n  DropDownTree.prototype.hidePopup = function () {\n    var eventArgs = {\n      popup: this.popupObj,\n      cancel: false\n    };\n    this.trigger('close', eventArgs);\n    if (eventArgs.cancel) {\n      return;\n    }\n    this.inputWrapper.classList.remove(ICONANIMATION);\n    if (this.popupEle) {\n      addClass([this.popupEle], DDTHIDEICON);\n    }\n    attributes(this.inputEle, {\n      'aria-expanded': 'false'\n    });\n    if (this.popupObj && this.isPopupOpen) {\n      this.popupObj.hide();\n      if (this.inputFocus) {\n        this.inputWrapper.focus();\n        if (this.allowFiltering) {\n          addClass([this.inputWrapper], [INPUTFOCUS]);\n        }\n      }\n      if (this.isFilteredData) {\n        this.treeObj['treeData'] = this.treeData;\n      }\n      if (this.destroyPopupOnHide) {\n        this.isFirstRender = true;\n        this.destroyPopup();\n      }\n    }\n  };\n  /**\n   * Based on the state parameter, entire list item will be selected or deselected.\n   *\n   * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n   * @returns {void}\n   *\n   */\n  DropDownTree.prototype.selectAll = function (state) {\n    this.selectAllItems(state);\n  };\n  /**\n   * Opens the popup that displays the Dropdown Tree items.\n   *\n   * @returns {void}\n   */\n  DropDownTree.prototype.showPopup = function () {\n    if (!this.enabled || this.readonly || this.isPopupOpen) {\n      return;\n    }\n    this.renderPopup();\n    this.focusIn();\n  };\n  /**\n   * Return the module name.\n   *\n   * @private\n   * @returns {string} - returns the module name.\n   */\n  DropDownTree.prototype.getModuleName = function () {\n    return 'dropdowntree';\n  };\n  __decorate([Property('The Request Failed')], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"allowFiltering\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"changeOnBlur\", void 0);\n  __decorate([Property('')], DropDownTree.prototype, \"cssClass\", void 0);\n  __decorate([Property('${value.length} item(s) selected')], DropDownTree.prototype, \"customTemplate\", void 0);\n  __decorate([Property(',')], DropDownTree.prototype, \"delimiterChar\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"enabled\", void 0);\n  __decorate([Complex({}, Fields)], DropDownTree.prototype, \"fields\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate([Property('StartsWith')], DropDownTree.prototype, \"filterType\", void 0);\n  __decorate([Property('Never')], DropDownTree.prototype, \"floatLabelType\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"footerTemplate\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"ignoreAccent\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"ignoreCase\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"headerTemplate\", void 0);\n  __decorate([Property({})], DropDownTree.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"itemTemplate\", void 0);\n  __decorate([Property('Default')], DropDownTree.prototype, \"mode\", void 0);\n  __decorate([Property('No Records Found')], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"placeholder\", void 0);\n  __decorate([Property('300px')], DropDownTree.prototype, \"popupHeight\", void 0);\n  __decorate([Property('100%')], DropDownTree.prototype, \"popupWidth\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"readonly\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"showSelectAll\", void 0);\n  __decorate([Property('Select All')], DropDownTree.prototype, \"selectAllText\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"showCheckBox\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"showClearButton\", void 0);\n  __decorate([Property(true)], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n  __decorate([Property('None')], DropDownTree.prototype, \"sortOrder\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"text\", void 0);\n  __decorate([Complex({}, TreeSettings)], DropDownTree.prototype, \"treeSettings\", void 0);\n  __decorate([Property('Unselect All')], DropDownTree.prototype, \"unSelectAllText\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"value\", void 0);\n  __decorate([Property(null)], DropDownTree.prototype, \"valueTemplate\", void 0);\n  __decorate([Property('100%')], DropDownTree.prototype, \"width\", void 0);\n  __decorate([Property(1000)], DropDownTree.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], DropDownTree.prototype, \"wrapText\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"actionFailure\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"beforeOpen\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"change\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"close\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"blur\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"created\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"dataBound\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"destroyed\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"filtering\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"focus\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"keyPress\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"open\", void 0);\n  __decorate([Event()], DropDownTree.prototype, \"select\", void 0);\n  DropDownTree = __decorate([NotifyPropertyChanges], DropDownTree);\n  return DropDownTree;\n}(Component);\nexport { DropDownTree };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Input","TextBox","createCheckBox","NotifyPropertyChanges","Property","Event","SanitizeHtmlHelper","Component","EventHandler","attributes","formatUnit","ChildProperty","remove","L10n","extend","addClass","removeClass","detach","prepend","Complex","closest","setValue","getValue","compile","append","select","selectAll","isNullOrUndefined","isNOU","matches","Browser","KeyboardEvents","DataManager","DataUtil","Popup","TreeView","RTL","DROPDOWNTREE","HIDDENELEMENT","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","SHOW_DD_ICON","CHIP_INPUT","INPUTFOCUS","INPUTGROUP","ICONANIMATION","CLOSEICON_CLASS","CHIP_WRAPPER","CHIP_COLLECTION","CHIP","CHIP_CONTENT","CHIP_CLOSE","HIDEICON","DDTHIDEICON","POPUP_CLASS","PARENTITEM","CONTENT","DROPDOWN","DISABLED","ICONS","CHECKALLPARENT","CHECKALLHIDE","BIGGER","SMALL","ALLTEXT","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","FILTERWRAP","DDTICON","FOOTER","HEADER","NODATACONTAINER","NODATA","HEADERTEMPLATE","FOOTERTEMPLATE","NORECORDSTEMPLATE","ACTIONFAILURETEMPLATE","CUSTOMTEMPLATE","REMAIN_WRAPPER","OVERFLOW_VIEW","SHOW_TEXT","TOTAL_COUNT_WRAPPER","REMAIN_COUNT","Fields","_super","apply","TreeSettings","DropDownTree","options","element","_this","call","filterTimer","isFilteredData","isFilterRestore","selectedData","filterDelayTime","isClicked","documentClickContext","onDocumentClick","bind","isCheckAllCalled","isFromFilterChange","getPersistData","keyEntity","addOnPersist","getLocaleName","preRender","inputFocus","isPopupOpen","isFirstRender","isInitialized","currentText","currentValue","oldValue","removeValue","selectedText","treeItems","dataValue","isNodeSelected","isDynamicChange","clearIconWidth","headerTemplateId","id","footerTemplateId","actionFailureTemplateId","noRecordsTemplateId","customTemplateId","keyConfigs","escape","altUp","altDown","tab","shiftTab","end","enter","home","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","space","ctrlA","render","isTree","document","popupDiv","parentElement","tagName","inputEle","getAttribute","setAttribute","createElement","attrs","role","type","insertBefore","inputObj","createInput","floatLabelType","buttons","showDropDownIcon","properties","readonly","placeholder","enabled","cssClass","enableRtl","inputWrapper","container","classList","contains","add","getDirective","appendChild","createHiddenElement","createClearIcon","setElementWidth","width","updateDataAttribute","setHTMLAttributes","setAttributes","className","tree","destroyPopupOnHide","body","wireTreeEvents","renderTree","isRemoteData","fields","dataSource","allowMultiSelection","showCheckBox","mode","createChip","wrapText","overFlowWrapper","hiddenElement","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","removeAttribute","setOldValue","hasTemplate","itemTemplate","headerTemplate","footerTemplate","actionFailureTemplate","noRecordsTemplate","customTemplate","valueTemplate","renderComplete","hideCheckAll","flag","checkAllEle","popupEle","querySelector","renderFilter","filterContainer","filterInput","autocomplete","filterBarPlaceholder","filterObj","value","showClearButton","input","filterChangeHandler","appendTo","keyboardModule","keyAction","filterKeyAction","eventName","e","eventArgs","cancel","event","focusedElement","trigger","observedArgs","action","hidePopup","preventDefault","blur","focus","args","window","clearTimeout","setTimeout","filterHandler","isChildObject","child","expandedNodes","treeData","getTreeData","filterFields","cloneFields","preventDefaultAction","text","trim","treeDataType","selfReferencefilter","remoteDataFilter","getTreeFields","dataBind","nestedFilter","previousFilterText","indexOf","popupObj","refreshPosition","portals","push","isReact","renderReactTemplates","filteredFields","map","item","remoteChildFilter","filter","filteredChild","node","isChild","isChildFiltering","children","isMatchedNode","matchedChildren","filteredItems","assign","matchedDataSource","nestedChildFilter","parseInt","toString","matchedData","parentId","parentValue","parent_1","j","value_1","checkValue","isObjectValue","tempChild","ignoreCase","toLowerCase","ignoreAccent","ignoreDiacritics","filterType","slice","isIos","handleIosTouch","dropDownClick","focusIn","focusOut","mouseIn","onMouseLeave","overAllClear","clearAll","windowResize","formElement","resetValueHandler","keyActionHandler","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","destroy","showSelectAll","clickHandler","removeEventListener","isClearButtonClick","renderPopup","showOverAllClear","isIE","info","name","relatedTarget","onFocusOut","offsetWidth","isValue","chipWrapper","showOrHideValueTemplate","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","isEqual","ddtCompareValues","isChipDelete","isInteracted","newValue","isValid","isValueChange","keyEventArgs","stopImmediatePropagation","showPopup","setProperties","setWidth","resetValue","getAriaAttributes","data","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","innerHTML","l10nLocale","overflowCountTemplate","totalCountTemplate","l10n","locale","remainContent","getConstant","totalContent","remainElement","innerText","replace","remainSize","updateChipAndValueTemplate","checkRemainingTemplate","updateDelimMode","index","delimiterChar","getOverflowVal","enableHtmlSanitizer","sanitize","undefined","textArr","split","pop","join","updateRemainTemplate","isChip","currentHtmlContent","previousHtmlContent","previousData","wrapperLength","remainingItemsCount","valueTemplateContainer","clonedElement","cloneNode","valueElements","removeChild","lastChild","firstChild","nodeType","nodeValue","getSelectedData","treeSettings","loadOnDemand","getModuleName","validationAttribute","attr","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","textContent","ele","touchClass","checkBoxElement","setLocale","currentTarget","firstElementChild","lastElementChild","checkElement","changeState","wrapper","state","ariaState","frameSpan","getElementsByClassName","isReverseUpdate","checkAll","uncheckAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","template","compiledString","templateName","_i","_a","isStringTemplate","keys","htmlAttributes","htmlAttr","setEnable","style","cssText","defaultAttr","validateAttr","setPlaceholder","invalidAttr","a","splice","setValidValue","valArr","getItems","selectedNodes","updateMode","checkedNodes","updateSelectedValues","setValueTemplate","initializeValueTemplate","getValueTemplateElement","concat","includes","reactCallBack","getNodeData","templateElements","difference","autoCheck","givenText","getNestedItems","field","newData","objlen","dataId","childData","getChildType","mapper","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","actionFailure","onActionFailure","nodeClicked","onNodeClicked","dataBound","OnDataBound","sortOrder","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","checkDisabledChildren","checkOnClick","root","isCancelled","refresh","createPopup","allowFiltering","setHeaderTemplate","setFooterTemplate","show","zIndex","updatePopupHeight","oldFocussedNode","removeFocus","updateFocus","nodes","querySelectorAll","wrap","checkSelectAll","popup","oldFocusedElement","popupHeight","getHeight","maxHeight","height","Math","round","getBoundingClientRect","header","footer","border","getComputedStyle","borderTopWidth","borderBottomWidth","targetType","collision","X","Y","relateTo","position","close","open","addEventListener","targetExitViewport","isDevice","inputWidth","ddElement","match","popupWidth","parseFloat","documentElement","clientHeight","isFilter","isHeader","isFooter","isScroller","isDocumentClick","l10nUpdate","getTreeDataType","expandAll","restoreFilterSelection","setCssClass","newClass","oldClass","elements","setEnableRTL","setEnabled","clonedField","cloneChildField","hasChildren","expanded","iconCss","imageUrl","query","selected","selectable","tableName","tooltip","treeFields","parentID","getTreeChildren","isChecked","getActualProperties","childFields","ds","len","setFields","updateTemplate","updateValue","getEventArgs","checkData","selectData","nodeData","itemData","getNode","removeSelectedData","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","selectedValue","isArray","every","nodeSelectedData","ddtValue","checkSelection","childItems","getChildNodeData","obj","newChildItems","childNodeData","getChildMapperFields","muteOnChange","templateComplier","showChip","textValue","hiddenInputValue","setChipValues","setTagValues","chip","chipContent","removeChip","templateId","templatestring","tempArr","setSelectAllWrapper","clearTemplate","updateOverflowWrapper","stopPropagation","clearCheckAll","selectAllItems","li","arr","updateTreeSettings","prop","updateCheckBoxState","checkBox","noRecord","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","validMode","overFlow","hasAttribute","onPropertyChanged","newProp","oldProp","setReadonly","removeFloating","addFloating","JSON","stringify","_b","_c","prop_1","clear","setRipple","chipsIcons","chipsIcons_1","destroyPopup","ensureVisible","getData","hide"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-tree/drop-down-tree.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeSettings.prototype, \"checkDisabledChildren\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        _this.documentClickContext = _this.onDocumentClick.bind(_this);\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_options', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('aria-expanded', 'false');\n                this.inputEle.setAttribute('role', 'combobox');\n                this.inputEle.setAttribute('aria-haspopup', 'tree');\n                this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            if (!isNOU(this.element.id)) {\n                this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text', id: this.element.id + '_textbox' } });\n            }\n            else {\n                this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            }\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        if (!this.destroyPopupOnHide) {\n            document.body.appendChild(this.popupDiv);\n        }\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.setOldValue();\n        if (!this.isRemoteData) {\n            this.isInitialized = true;\n        }\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate || this.valueTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n        this.keyboardModule = new KeyboardEvents(this.filterObj.element, {\n            keyAction: this.filterKeyAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.filterKeyAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        var focusedElement;\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                        addClass([_this.inputWrapper], [INPUTFOCUS]);\n                        break;\n                    case 'moveDown':\n                        e.preventDefault();\n                        _this.filterObj.element.blur();\n                        focusedElement = _this.treeObj.element.querySelector('li');\n                        if (focusedElement) {\n                            focusedElement.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.isChildObject = function () {\n        if (typeof this.treeObj.fields.child === 'object') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            if (this.isRemoteData) {\n                this.treeObj.expandedNodes = [];\n            }\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value.trim(),\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (args.text === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    fields = _this.cloneFields(_this.fields);\n                    _this.treeObj.element.classList.remove('e-filtering');\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                    _this.treeObj.element.classList.add('e-filtering');\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(args.text, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            fields = _this.remoteDataFilter(args.text, args.fields);\n                            fields.child = _this.fields.child;\n                            _this.treeObj.fields = _this.getTreeFields(args.fields);\n                            _this.treeObj.dataBind();\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(args.text, args.fields);\n                        }\n                    }\n                    _this.treeObj.element.classList.add('e-filtering');\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                if (_this.isRemoteData) {\n                    if (_this.isChildObject()) {\n                        fields.child = _this.fields.child;\n                    }\n                    else {\n                        fields = args.fields;\n                    }\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                if ((_this.previousFilterText && _this.previousFilterText !== '' && args.text !== '' && _this.previousFilterText.indexOf(args.text) !== -1) ||\n                    (args.text && args.text !== '' && _this.previousFilterText !== '' && args.text.indexOf(_this.previousFilterText) !== -1)) {\n                    _this.isFilterRestore = true;\n                }\n                _this.previousFilterText = args.text;\n                _this.treeObj.dataBind();\n                if (_this.popupObj) {\n                    _this.popupObj.refreshPosition();\n                }\n                if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n                    for (var i = 0; i < _this.treeObj.portals.length; i++) {\n                        if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n                            _this.portals.push(_this.treeObj.portals[i]);\n                        }\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n        var _this = this;\n        filteredFields.dataSource = this.treeData.map(function (item) {\n            return _this.remoteChildFilter(value, item);\n        }).filter(function (filteredChild) {\n            return !isNOU(filteredChild);\n        });\n        return filteredFields;\n    };\n    DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n        var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node, isChild, isChildFiltering)) ? node : null;\n        }\n        var matchedChildren = [];\n        for (var i = 0; i < children.length; i++) {\n            var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n            if (!isNOU(filteredChild)) {\n                matchedChildren.push(filteredChild);\n            }\n        }\n        var filteredItems = Object.assign({}, node);\n        isChildFiltering = false;\n        if (matchedChildren.length !== 0) {\n            filteredItems.child = matchedChildren;\n        }\n        else {\n            filteredItems.child = null;\n            filteredItems = (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n        }\n        return filteredItems;\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            var filteredChild = this.nestedChildFilter(value, this.treeData[parseInt(i.toString(), 10)]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                var filteredChild = this.nestedChildFilter(value, children[parseInt(i.toString(), 10)]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        var matchedData = [];\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                var parentId = matchedData[parseInt(i.toString(), 10)][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        var value_1 = this.treeData[parseInt(j.toString(), 10)][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n        var checkValue;\n        var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n        checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n        if (!checkValue && !isNOU(this.fields.child.text)) {\n            var tempChild = this.fields.child;\n            while (!node[tempChild.text]) {\n                tempChild = tempChild.child;\n            }\n            checkValue = node[tempChild.text];\n        }\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        if (Browser.isIos) {\n            EventHandler.add(this.inputWrapper, 'touchstart', this.handleIosTouch, this);\n        }\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        if (Browser.isIos) {\n            EventHandler.remove(this.inputWrapper, 'touchstart', this.handleIosTouch);\n        }\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        this.keyboardModule.destroy();\n        if (this.showSelectAll && this.checkAllParent) {\n            EventHandler.remove(this.checkAllParent, 'mouseup', this.clickHandler);\n        }\n        document.removeEventListener('mousedown', this.documentClickContext);\n    };\n    /* Handles touch events specifically for iOS devices */\n    DropDownTree.prototype.handleIosTouch = function (e) {\n        e.preventDefault();\n        this.dropDownClick(e);\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (isValue && this.mode !== 'Custom') {\n                this.showOrHideValueTemplate(true);\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.setOldValue();\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n        }\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.setOldValue();\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                    this.showOrHideValueTemplate(false, true);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                    this.showOrHideValueTemplate(true);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                    case 'tab':\n                        if (!_this.isPopupOpen && _this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        var focusedElement;\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        e.preventDefault();\n                        focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]') || _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        return {};\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    if (this.valueTemplate) {\n                        remaining = this.updateChipAndValueTemplate(false, downIconWidth, remainSize);\n                        this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n                        this.updateDelimMode();\n                        return;\n                    }\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    remaining = this.updateChipAndValueTemplate(true, downIconWidth, remainSize);\n                }\n            }\n            this.checkRemainingTemplate(remaining, remainElement, remainContent, totalContent);\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.checkRemainingTemplate = function (remaining, remainElement, remainContent, totalContent) {\n        if (remaining > 0) {\n            this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n        }\n        if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n            addClass([remainElement], REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.updateChipAndValueTemplate = function (isChip, downIconWidth, remainSize) {\n        if (downIconWidth === void 0) { downIconWidth = 0; }\n        var currentHtmlContent = '';\n        var overAllContainer;\n        var previousHtmlContent;\n        var previousData;\n        var index = 1;\n        var wrapperLength;\n        var remainingItemsCount;\n        addClass([isChip ? this.chipWrapper : this.valueTemplateContainer], HIDEICON);\n        var clonedElement = (isChip ? this.chipWrapper :\n            this.valueTemplateContainer).cloneNode(true);\n        var valueElements = isChip ? selectAll('.' + CHIP, clonedElement) : Array.prototype.slice.call(clonedElement.children);\n        for (var i = 0; i < valueElements.length; i++) {\n            previousHtmlContent = this.overFlowWrapper.innerHTML;\n            this.overFlowWrapper.appendChild(valueElements[i]);\n            currentHtmlContent = this.overFlowWrapper.innerHTML;\n            wrapperLength = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n            if ((wrapperLength + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                if (previousData !== undefined && previousData !== '') {\n                    previousHtmlContent = previousData;\n                    i = index + 1;\n                }\n                this.overFlowWrapper.innerHTML = previousHtmlContent;\n                remainingItemsCount = this.value.length - i;\n                wrapperLength = this.overFlowWrapper.offsetWidth;\n                while (((wrapperLength + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                    && wrapperLength !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                    this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                    remainingItemsCount++;\n                    wrapperLength = this.overFlowWrapper.offsetWidth;\n                }\n                break;\n            }\n            else if ((wrapperLength + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                previousData = currentHtmlContent;\n                index = i;\n            }\n            else if (i === 0) {\n                previousData = '';\n                index = -1;\n            }\n        }\n        return remainingItemsCount;\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box' || this.valueTemplateContainer)) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        var selectedData = this.getSelectedData(this.value[parseInt(index.toString(), 10)]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '', 'aria-label': this.getModuleName() }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT, 'aria-label': this.getModuleName() }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.setOldValue();\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.parentElement.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        this.inputEle.setAttribute('aria-label', this.getModuleName());\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', this.inputWrapper.classList.contains('e-disabled') ? '-1' : '0');\n        this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly') {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.style.cssText = this.htmlAttributes[\"\" + htmlAttr];\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = this.value.length - 1; i >= 0; i--) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(i, 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.setOldValue();\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.setOldValue();\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value !== null && !(this.value.length === 0)) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.setOldValue();\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValueTemplate = function () {\n        var _this = this;\n        if (this.valueTemplate) {\n            var compiledString = this.initializeValueTemplate();\n            this.getValueTemplateElement(this.value[0], compiledString);\n            if (this.hasTemplate && this.portals) {\n                if (this.treeObj.portals) {\n                    this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n                        return !_this.portals.includes(item);\n                    }));\n                }\n                if (this.isReact) {\n                    this.renderReactTemplates(this.reactCallBack);\n                }\n            }\n            this.showOrHideValueTemplate(true);\n        }\n    };\n    DropDownTree.prototype.getValueTemplateElement = function (value, compiledString) {\n        var selectedData = this.getNodeData(value, this.isFilteredData ? this.treeData : this.treeItems);\n        var templateElements = compiledString(selectedData, this, 'valueTemplate', this.element.id + \"valueTemplate\", this.isStringTemplate, undefined, this.valueTemplateContainer);\n        if (templateElements) {\n            templateElements = Array.prototype.slice.call(templateElements);\n            append(templateElements, this.valueTemplateContainer);\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            this.setValueTemplate();\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n                if (this.fields.dataSource instanceof DataManager) {\n                    this.updateSelectedValues();\n                }\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.length !== this.treeObj.checkedNodes.length || this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                }).length > 0;\n                if (difference || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n            this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n        }\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    DropDownTree.prototype.getItems = function (givenText) {\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                var text = getValue(this.fields.text, this.treeItems[parseInt(i.toString(), 10)]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            var dataId = getValue(this.fields.text, data[parseInt(i.toString(), 10)]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                var childData = getValue(field.child, data[parseInt(i.toString(), 10)]);\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                newData = this.getNestedItems(getValue(child, data[parseInt(i.toString(), 10)]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate,\n            checkDisabledChildren: this.treeSettings.checkDisabledChildren,\n            checkOnClick: true\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo(this.tree);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.treeObj.element.classList.remove('e-filtering');\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isReact && _this.isFilterRestore) {\n                    _this.treeObj.refresh();\n                }\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_options', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    _this.popupEle.setAttribute('role', 'region');\n                    _this.popupEle.setAttribute('aria-label', _this.element.id);\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                    if (_this.isReact && _this.isFilterRestore) {\n                        _this.isFilteredData = true;\n                        _this.popupEle.removeChild(_this.filterContainer);\n                    }\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n                _this.isFilteredData = false;\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                if (_this.hasTemplate && _this.portals) {\n                    if (_this.treeObj.portals) {\n                        _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) {\n                            return !_this.portals.includes(item);\n                        }));\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates(_this.reactCallBack);\n                    }\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputEle, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showSelectAll || _this.allowFiltering) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = _this.value != null && _this.text != null ? _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[_this.value.length - 1] + '\"]') : null;\n                    if (focusedElement) {\n                        _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n                        focusedElement.setAttribute('tabindex', '0');\n                    }\n                    else {\n                        var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n                        focusedElement = _this.treeObj.element.querySelector('li[tabindex=\"0\"]:not(.e-disable)') ||\n                            _this.treeObj.element.querySelector('li:not(.e-disable)');\n                        _this.removeFocus(focusedElement, oldFocussedNode);\n                    }\n                    _this.updateFocus(focusedElement);\n                }\n                if (_this.treeObj.checkedNodes.length > 0 && !_this.isFilterRestore) {\n                    var nodes = _this.treeObj.element.querySelectorAll('li:not(.e-disable)');\n                    var checkedNodes = _this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n                    if ((checkedNodes.length === nodes.length) && _this.checkBoxElement) {\n                        var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                        _this.changeState(wrap, 'check');\n                        _this.checkSelectAll = false;\n                    }\n                }\n                if (_this.showSelectAll && !_this.allowFiltering) {\n                    var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n                    var focusedElement = _this.popupEle.querySelector('.e-selectall-parent');\n                    _this.removeFocus(focusedElement, oldFocussedNode);\n                    _this.updateFocus(focusedElement);\n                }\n                if (_this.allowFiltering) {\n                    var focusedElement = _this.treeObj.element.querySelector('li.e-node-focus');\n                    if (!isNOU(focusedElement)) {\n                        removeClass([focusedElement], 'e-node-focus');\n                    }\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.removeFocus = function (focusedElement, oldFocusedElement) {\n        if (oldFocusedElement && oldFocusedElement !== focusedElement) {\n            oldFocusedElement.setAttribute('tabindex', '-1');\n            removeClass([oldFocusedElement], 'e-node-focus');\n        }\n    };\n    DropDownTree.prototype.updateFocus = function (focusedElement) {\n        if (!isNOU(focusedElement)) {\n            focusedElement.focus();\n            addClass([focusedElement], ['e-node-focus']);\n        }\n    };\n    DropDownTree.prototype.reactCallBack = function () {\n        if (!isNOU(this.popupObj)) {\n            this.updatePopupHeight();\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    document.addEventListener('mousedown', _this.documentClickContext);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNOU(this.inputWrapper) &&\n            this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        if (!this.isFilteredData) {\n            this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        }\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n            this.isInitialized = true;\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            if (!this.showSelectAll) {\n                this.isFilterRestore = false;\n            }\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable,\n                tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNOU(this.fields.dataSource)) {\n            this.fields.dataSource = [];\n        }\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) ||\n                !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.setProperties({ value: this.oldValue }, true);\n        this.treeObj.dataBind();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        var checkData = args.data;\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.setOldValue();\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                this.setValueTemplate();\n                if (!isNOU(this.value) && this.value.length > 0) {\n                    this.inputWrapper.setAttribute('aria-label', args.nodeData.text.toString());\n                }\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted || (!this.isFilteredData && args.action === 'check' && this.isFromFilterChange)) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li:not(.e-disable)');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if ((wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 ||\n                (!isNOU(args.data[0]) && args.data[0].isChecked === 'false'))) || !args.isInteracted && this.isFilterRestore) {\n                this.isFilterRestore = false;\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check'\n                && checkedNodes.length === nodes.length\n                && (args.isInteracted || this.isCheckAllCalled || (!isNOU(args.data[0]) && args.data[0].isChecked === 'true'))) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.setOldValue();\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function () {\n        if (this.hasTemplate && this.portals && this.treeObj.portals) {\n            for (var i = 0; i < this.treeObj.portals.length; i++) {\n                if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n                    this.portals.push(this.treeObj.portals[i]);\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(false, true);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                this.showOrHideValueTemplate(true);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                this.showOrHideValueTemplate(true);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNOU(this.value) || (this.value !== null && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(true);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        var _this = this;\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox &&\n                !this.ddtCompareValues(this.treeObj.selectedNodes, this.value.slice())) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            selectedValues = selectedValues.filter(function (selectedValue) {\n                var nodeData = _this.treeObj.getTreeData(selectedValue);\n                if (Array.isArray(nodeData)) {\n                    return nodeData.every(function (nodeSelectedData) { return nodeSelectedData.selected; });\n                }\n                return true;\n            });\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n                this.showOrHideValueTemplate(false, true);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n            this.showOrHideValueTemplate(true);\n        }\n        this.updateSelectedValues();\n    };\n    DropDownTree.prototype.getSelectedData = function (value) {\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value, this.treeItems);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id, dataSource) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = dataSource.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, dataSource[i]);\n                if (!isNOU(dataSource[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return dataSource[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(dataSource, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.initializeValueTemplate = function () {\n        if (!this.valueTemplate) {\n            return null;\n        }\n        if (this.valueTemplateContainer) {\n            while (this.valueTemplateContainer.firstChild) {\n                this.valueTemplateContainer.removeChild(this.valueTemplateContainer.firstChild);\n            }\n        }\n        else {\n            this.valueTemplateContainer = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + SHOW_TEXT + ' ' + 'e-input-value' + ' ' + HIDEICON });\n        }\n        this.inputWrapper.insertBefore(this.valueTemplateContainer, this.inputEle);\n        return this.templateComplier(this.valueTemplate);\n    };\n    DropDownTree.prototype.showOrHideValueTemplate = function (show, showChip) {\n        if (showChip === void 0) { showChip = false; }\n        if (!this.valueTemplateContainer || this.mode === 'Box') {\n            return;\n        }\n        if (show) {\n            removeClass([this.valueTemplateContainer], HIDEICON);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        else {\n            addClass([this.valueTemplateContainer], HIDEICON);\n            if (!showChip) {\n                removeClass([this.inputWrapper], SHOW_CHIP);\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        var _this = this;\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            var compiledString = this.initializeValueTemplate();\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n                if (this.valueTemplate) {\n                    this.getValueTemplateElement(this.value[i], compiledString);\n                }\n            }\n            if (this.hasTemplate && this.portals) {\n                if (this.treeObj.portals) {\n                    this.portals = this.portals.concat(this.treeObj.portals.filter(function (item) {\n                        return !_this.portals.includes(item);\n                    }));\n                }\n                if (this.isReact) {\n                    this.renderReactTemplates(this.reactCallBack);\n                }\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            this.showOrHideValueTemplate(true);\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (!isNOU(this.value) && this.value.length > 0 && !isNOU(this.currentText)) {\n            this.inputWrapper.setAttribute('aria-label', this.currentText.replace(/,/g, ', '));\n        }\n        else {\n            this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        }\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mouseup', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null || this.value.length === 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n            this.showOrHideValueTemplate(false, true);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (e.target.classList.contains('e-chips-close') && !this.isPopupOpen) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (Array.isArray(this.value) && this.value.length === 0 && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.setOldValue();\n            this.setProperties({ value: [] }, true);\n            this.showOrHideValueTemplate(false);\n        }\n        if (isNOU(this.value) || this.value.length === 0) {\n            this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.setOldValue = function () {\n        this.oldValue = Array.isArray(this.value) ? this.value.slice() : this.value;\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = state;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        if (prop === 'autoCheck') {\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (prop === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (prop === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        else if (prop === 'checkDisabledChildren') {\n            this.treeObj.checkDisabledChildren = this.treeSettings.checkDisabledChildren;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            this.portals = [];\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n        if (this.treeObj) {\n            this.treeObj.element.removeAttribute('aria-activedescendant');\n        }\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.e-overflow:not(.e-input-value)', this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    if (JSON.stringify(oldProp.value) !== JSON.stringify(newProp.value)) {\n                        this.oldValue = oldProp.value;\n                        this.updateValue(newProp.value);\n                    }\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    for (var _b = 0, _c = Object.keys(newProp.treeSettings); _b < _c.length; _b++) {\n                        var prop_1 = _c[_b];\n                        this.updateTreeSettings(prop_1);\n                    }\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== 'Custom') {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = '';\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        Input.setRipple(false, [this.inputObj]);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection || (this.value && this.valueTemplateContainer)) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        detach(this.inputObj.container);\n        if (this.inputObj.buttons.length) {\n            detach(this.inputObj.buttons[0]);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper.innerHTML = '';\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        if (this.chipCollection) {\n            var chipsIcons = selectAll('.e-chips-close', this.chipCollection);\n            for (var _i = 0, chipsIcons_1 = chipsIcons; _i < chipsIcons_1.length; _i++) {\n                var element = chipsIcons_1[_i];\n                EventHandler.remove(element, 'mouseup', this.removeChip);\n            }\n        }\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n        this.setProperties({ value: [] }, true);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    DropDownTree.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'footerTemplate', 'itemTemplate', 'actionFailureTemplate',\n                'noRecordsTemplate']);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj, cancel: false };\n        this.trigger('close', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputEle, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            if (this.isFilteredData) {\n                this.treeObj['treeData'] = this.treeData;\n            }\n            if (this.destroyPopupOnHide) {\n                this.isFirstRender = true;\n                this.destroyPopup();\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('${value.length} item(s) selected')\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
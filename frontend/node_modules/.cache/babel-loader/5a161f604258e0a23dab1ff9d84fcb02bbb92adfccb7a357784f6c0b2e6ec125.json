{"ast":null,"code":"var _jsxFileName = \"D:\\\\weektable\\\\frontend\\\\src\\\\components\\\\AddTask.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddTask({\n  tasks,\n  onTasksReload\n}) {\n  _s();\n  const [name, setName] = useState('');\n\n  // 添加新任务\n  const submit = async () => {\n    if (!name.trim()) return;\n    await axios.post('/api/tasks', {\n      name: name.trim()\n    });\n    setName('');\n    onTasksReload();\n  };\n\n  // 删除一个任务\n  const handleDelete = async (id, taskName) => {\n    if (!window.confirm(`确认删除任务「${taskName}」？`)) return;\n    await axios.delete(`/api/tasks/${id}`);\n    onTasksReload();\n  };\n\n  // 清空所有打卡数据\n  const handleClearData = async () => {\n    if (!window.confirm('确认清空所有 Sample Data？此操作不可逆！')) return;\n    await axios.delete('/api/clear_data');\n    onTasksReload();\n    alert('已清空所有打卡记录。');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: '15px 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClearData,\n      style: {\n        marginBottom: 12,\n        color: 'white',\n        background: 'red',\n        padding: '6px 12px',\n        border: 'none',\n        cursor: 'pointer'\n      },\n      children: \"\\u6E05\\u7A7A\\u6240\\u6709\\u6253\\u5361\\u6570\\u636E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"\\u6DFB\\u52A0\\u65B0\\u4EFB\\u52A1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u65B0\\u4EFB\\u52A1\\u540D\\u79F0\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      style: {\n        padding: '6px',\n        width: 200,\n        marginRight: 8\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      style: {\n        padding: '6px 12px'\n      },\n      children: \"\\u6DFB\\u52A0\\u4EFB\\u52A1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginTop: 20\n      },\n      children: \"\\u5F53\\u524D\\u4EFB\\u52A1\\u5217\\u8868\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), tasks.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u6682\\u65E0\\u4EFB\\u52A1\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: 'none',\n        padding: 0\n      },\n      children: tasks.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: 6,\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            flex: 1\n          },\n          children: t.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(t.id, t.name),\n          style: {\n            marginLeft: 8,\n            color: 'white',\n            background: '#d33',\n            border: 'none',\n            padding: '4px 8px',\n            cursor: 'pointer'\n          },\n          children: \"\\u5220\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(AddTask, \"/PAWDgWx7+Y6BmsFMUKcdrcX5eM=\");\n_c = AddTask;\nvar _c;\n$RefreshReg$(_c, \"AddTask\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AddTask","tasks","onTasksReload","_s","name","setName","submit","trim","post","handleDelete","id","taskName","window","confirm","delete","handleClearData","alert","style","margin","children","onClick","marginBottom","color","background","padding","border","cursor","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","width","marginRight","marginTop","length","listStyle","map","t","display","alignItems","flex","marginLeft","_c","$RefreshReg$"],"sources":["D:/weektable/frontend/src/components/AddTask.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function AddTask({ tasks, onTasksReload }) {\r\n  const [name, setName] = useState('');\r\n\r\n  // 添加新任务\r\n  const submit = async () => {\r\n    if (!name.trim()) return;\r\n    await axios.post('/api/tasks', { name: name.trim() });\r\n    setName('');\r\n    onTasksReload();\r\n  };\r\n\r\n  // 删除一个任务\r\n  const handleDelete = async (id, taskName) => {\r\n    if (!window.confirm(`确认删除任务「${taskName}」？`)) return;\r\n    await axios.delete(`/api/tasks/${id}`);\r\n    onTasksReload();\r\n  };\r\n\r\n  // 清空所有打卡数据\r\n  const handleClearData = async () => {\r\n    if (!window.confirm('确认清空所有 Sample Data？此操作不可逆！')) return;\r\n    await axios.delete('/api/clear_data');\r\n    onTasksReload();\r\n    alert('已清空所有打卡记录。');\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: '15px 0' }}>\r\n      <button\r\n        onClick={handleClearData}\r\n        style={{ marginBottom: 12, color: 'white', background: 'red', padding: '6px 12px', border: 'none', cursor: 'pointer' }}\r\n      >\r\n        清空所有打卡数据\r\n      </button>\r\n\r\n      <h4>添加新任务</h4>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"新任务名称\"\r\n        value={name}\r\n        onChange={e => setName(e.target.value)}\r\n        style={{ padding: '6px', width: 200, marginRight: 8 }}\r\n      />\r\n      <button onClick={submit} style={{ padding: '6px 12px' }}>\r\n        添加任务\r\n      </button>\r\n\r\n      <h4 style={{ marginTop: 20 }}>当前任务列表</h4>\r\n      {tasks.length === 0 && <p>暂无任务。</p>}\r\n      <ul style={{ listStyle: 'none', padding: 0 }}>\r\n        {tasks.map(t => (\r\n          <li key={t.id} style={{ marginBottom: 6, display: 'flex', alignItems: 'center' }}>\r\n            <span style={{ flex: 1 }}>{t.name}</span>\r\n            <button\r\n              onClick={() => handleDelete(t.id, t.name)}\r\n              style={{ marginLeft: 8, color: 'white', background: '#d33', border: 'none', padding: '4px 8px', cursor: 'pointer' }}\r\n            >\r\n              删除\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
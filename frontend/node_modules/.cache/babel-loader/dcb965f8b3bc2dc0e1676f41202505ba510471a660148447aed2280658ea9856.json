{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Collection, Property, Event, formatUnit, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { ChildProperty, addClass, removeClass, setStyleAttribute, attributes, getUniqueID, compile, getInstance, L10n } from '@syncfusion/ej2-base';\nimport { append, closest, isNullOrUndefined, remove, classList, Touch, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n// Constant variables\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_RTL = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SWIPE = 'e-swipe';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_ICON = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/**\n * Specifies the action (touch & mouse) which enables the slide swiping action in carousel.\n * * Touch - Enables or disables the swiping action in touch interaction.\n * * Mouse - Enables or disables the swiping action in mouse interaction.\n *\n * @aspNumberEnum\n */\nexport var CarouselSwipeMode;\n(function (CarouselSwipeMode) {\n  /** Enables or disables the swiping action in touch interaction. */\n  CarouselSwipeMode[CarouselSwipeMode[\"Touch\"] = 1] = \"Touch\";\n  /** Enables or disables the swiping action in mouse interaction. */\n  CarouselSwipeMode[CarouselSwipeMode[\"Mouse\"] = 2] = \"Mouse\";\n})(CarouselSwipeMode || (CarouselSwipeMode = {}));\n/** Specifies the carousel individual item. */\nvar CarouselItem = /** @class */function (_super) {\n  __extends(CarouselItem, _super);\n  function CarouselItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property()], CarouselItem.prototype, \"cssClass\", void 0);\n  __decorate([Property()], CarouselItem.prototype, \"interval\", void 0);\n  __decorate([Property()], CarouselItem.prototype, \"template\", void 0);\n  __decorate([Property()], CarouselItem.prototype, \"htmlAttributes\", void 0);\n  return CarouselItem;\n}(ChildProperty);\nexport { CarouselItem };\nvar Carousel = /** @class */function (_super) {\n  __extends(Carousel, _super);\n  /**\n   * Constructor for creating the Carousel widget\n   *\n   * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n   * @param {string | HTMLElement} element Accepts the DOM element reference\n   */\n  function Carousel(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.isSwipe = false;\n    return _this;\n  }\n  Carousel.prototype.getModuleName = function () {\n    return CLS_CAROUSEL.replace('e-', '');\n  };\n  Carousel.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedIndex']);\n  };\n  Carousel.prototype.preRender = function () {\n    this.keyConfigs = {\n      home: 'home',\n      end: 'end',\n      space: 'space',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    var defaultLocale = {\n      nextSlide: 'Next slide',\n      of: 'of',\n      pauseSlideTransition: 'Pause slide transition',\n      playSlideTransition: 'Play slide transition',\n      previousSlide: 'Previous slide',\n      slide: 'Slide',\n      slideShow: 'Slide show'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  };\n  Carousel.prototype.render = function () {\n    this.initialize();\n    this.renderSlides();\n    this.renderNavigators();\n    this.renderPlayButton();\n    this.renderIndicators();\n    this.applyAnimation();\n    this.wireEvents();\n  };\n  Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var target;\n    var rtlElement;\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'animationEffect':\n          this.applyAnimation();\n          break;\n        case 'cssClass':\n          classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n          break;\n        case 'selectedIndex':\n          this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n          this.autoSlide();\n          break;\n        case 'htmlAttributes':\n          if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n          }\n          break;\n        case 'enableTouchSwipe':\n          if (!this.enableTouchSwipe && this.touchModule) {\n            this.touchModule.destroy();\n          }\n          if (this.element.querySelector(\".\" + CLS_ITEMS)) {\n            this.renderTouchActions();\n          }\n          break;\n        case 'loop':\n          if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n            this.applySlideInterval();\n          }\n          this.handleNavigatorsActions(this.selectedIndex);\n          if (this.partialVisible || !(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n            this.reRenderSlides();\n          }\n          break;\n        case 'allowKeyboardInteraction':\n          if (this.keyModule) {\n            this.keyModule.destroy();\n            this.keyModule = null;\n          }\n          if (newProp.allowKeyboardInteraction) {\n            this.renderKeyboardActions();\n          }\n          break;\n        case 'enableRtl':\n          rtlElement = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREV_BUTTON + \",\\n                .\" + CLS_NEXT_BUTTON + \", .\" + CLS_PLAY_BUTTON));\n          rtlElement.push(this.element);\n          if (this.enableRtl) {\n            addClass(rtlElement, CLS_RTL);\n          } else {\n            removeClass(rtlElement, CLS_RTL);\n          }\n          if (this.partialVisible || !(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n            var cloneCount = this.loop ? this.getNumOfItems() : 0;\n            var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n            this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n          }\n          break;\n        case 'buttonsVisibility':\n          target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n          if (target) {\n            switch (this.buttonsVisibility) {\n              case 'Hidden':\n                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                remove(target);\n                break;\n              case 'VisibleOnHover':\n                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n              case 'Visible':\n                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n            }\n          } else {\n            this.renderNavigators();\n            this.renderPlayButton();\n          }\n          break;\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(this.width)\n          });\n          break;\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(this.height)\n          });\n          break;\n        case 'autoPlay':\n          if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n            this.playButtonClickHandler(null, true);\n          }\n          this.autoSlide();\n          break;\n        case 'interval':\n          this.autoSlide();\n          break;\n        case 'showIndicators':\n        case 'indicatorsType':\n          target = this.element.querySelector(\".\" + CLS_INDICATORS);\n          if (target) {\n            this.resetTemplates(['indicatorsTemplate']);\n            remove(target);\n          }\n          this.renderIndicators();\n          break;\n        case 'showPlayButton':\n          target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n          if (!this.showPlayButton && target) {\n            remove(target);\n            this.resetTemplates(['playButtonTemplate']);\n          }\n          this.renderPlayButton();\n          break;\n        case 'items':\n        case 'dataSource':\n          {\n            var selectedData = prop === 'dataSource' ? this.dataSource : this.items;\n            if (!isNullOrUndefined(selectedData) && selectedData.length > 0 && this.selectedIndex >= selectedData.length) {\n              this.setActiveSlide(selectedData.length - 1, 'Previous');\n              this.autoSlide();\n            }\n            this.reRenderSlides();\n            this.reRenderIndicators();\n            break;\n          }\n        case 'partialVisible':\n          if (this.partialVisible) {\n            addClass([this.element], CLS_PARTIAL);\n          } else {\n            removeClass([this.element], CLS_PARTIAL);\n          }\n          this.reRenderSlides();\n          break;\n        case 'swipeMode':\n          EventHandler.remove(this.element, 'mousedown touchstart', this.swipeStart);\n          EventHandler.remove(this.element, 'mousemove touchmove', this.swiping);\n          EventHandler.remove(this.element, 'mouseup touchend', this.swipStop);\n          this.swipeModehandlers();\n          this.reRenderSlides();\n          break;\n      }\n    }\n  };\n  Carousel.prototype.reRenderSlides = function () {\n    var target = this.element.querySelector(\".\" + CLS_ITEMS);\n    if (target) {\n      this.resetTemplates(['itemTemplate']);\n      remove(target);\n    }\n    this.renderSlides();\n  };\n  Carousel.prototype.reRenderIndicators = function () {\n    var target = this.element.querySelector(\".\" + CLS_INDICATORS);\n    if (target) {\n      this.resetTemplates(['indicatorsTemplate']);\n      remove(target);\n    }\n    this.renderIndicators();\n  };\n  Carousel.prototype.initialize = function () {\n    var carouselClasses = [];\n    carouselClasses.push(CLS_CAROUSEL);\n    if (this.cssClass) {\n      carouselClasses.push(this.cssClass);\n    }\n    if (this.enableRtl) {\n      carouselClasses.push(CLS_RTL);\n    }\n    if (this.partialVisible) {\n      carouselClasses.push(CLS_PARTIAL);\n    }\n    if (!(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n      carouselClasses.push(CLS_SWIPE);\n    }\n    addClass([this.element], carouselClasses);\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    attributes(this.element, {\n      'role': 'group',\n      'aria-roledescription': 'carousel',\n      'aria-label': this.localeObj.getConstant('slideShow')\n    });\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      this.setHtmlAttributes(this.htmlAttributes, this.element);\n    }\n  };\n  Carousel.prototype.renderSlides = function () {\n    var _this = this;\n    var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n    if (!slideContainer) {\n      slideContainer = this.createElement('div', {\n        className: CLS_SLIDE_CONTAINER,\n        attrs: {\n          'tabindex': '0',\n          'role': 'tabpanel'\n        }\n      });\n      this.element.appendChild(slideContainer);\n    }\n    this.itemsContainer = this.createElement('div', {\n      className: CLS_ITEMS,\n      attrs: {\n        'aria-live': this.autoPlay ? 'off' : 'polite'\n      }\n    });\n    slideContainer.appendChild(this.itemsContainer);\n    var numOfItems = this.getNumOfItems();\n    if (numOfItems > 0 && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(-numOfItems).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, _this.itemsContainer, true);\n        });\n      } else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n        this.dataSource.slice(-numOfItems).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer, true);\n        });\n      }\n    }\n    if (this.items.length > 0) {\n      this.slideItems = this.items;\n      this.items.forEach(function (item, index) {\n        _this.renderSlide(item, item.template, index, _this.itemsContainer);\n      });\n    } else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n      this.slideItems = this.dataSource;\n      this.dataSource.forEach(function (item, index) {\n        _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer);\n      });\n    }\n    if (numOfItems > 0 && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(0, numOfItems).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, _this.itemsContainer, true);\n        });\n      } else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n        this.dataSource.slice(0, numOfItems).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer, true);\n        });\n      }\n    }\n    this.renderTemplates();\n    this.itemsContainer.style.setProperty('--carousel-items-count', \"\" + this.itemsContainer.children.length);\n    var slideWidth = isNullOrUndefined(this.itemsContainer.firstElementChild) ? 0 : this.itemsContainer.firstElementChild.clientWidth;\n    this.itemsContainer.style.transitionProperty = 'none';\n    var cloneCount = this.loop ? numOfItems : 0;\n    this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n    this.autoSlide();\n    this.renderTouchActions();\n    this.renderKeyboardActions();\n  };\n  Carousel.prototype.getTranslateX = function (slideWidth, count) {\n    if (count === void 0) {\n      count = 1;\n    }\n    return this.enableRtl ? \"translateX(\" + slideWidth * count + \"px)\" : \"translateX(\" + -slideWidth * count + \"px)\";\n  };\n  Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n    if (isClone === void 0) {\n      isClone = false;\n    }\n    var itemEle = this.createElement('div', {\n      id: getUniqueID('carousel_item'),\n      className: CLS_ITEM + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE : ''),\n      attrs: {\n        'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true',\n        'data-index': index.toString(),\n        'role': 'group',\n        'aria-roledescription': 'slide'\n      }\n    });\n    if (isClone) {\n      itemEle.classList.add(CLS_CLONED);\n    }\n    if (!(this.selectedIndex === index && !isClone)) {\n      itemEle.setAttribute('inert', 'true');\n    }\n    if (!isNullOrUndefined(item.htmlAttributes)) {\n      this.setHtmlAttributes(item.htmlAttributes, itemEle);\n    }\n    var templateId = this.element.id + '_template';\n    var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n    append(template, itemEle);\n    container.appendChild(itemEle);\n  };\n  Carousel.prototype.renderNavigators = function () {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n    var navigators = this.createElement('div', {\n      className: CLS_NAVIGATORS\n    });\n    var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n    itemsContainer.insertAdjacentElement('afterend', navigators);\n    if (!isNullOrUndefined(this.slideItems) && this.slideItems.length > 1) {\n      this.renderNavigatorButton('Previous');\n      this.renderNavigatorButton('Next');\n    }\n    this.renderTemplates();\n  };\n  Carousel.prototype.renderNavigatorButton = function (direction) {\n    var buttonContainer = this.createElement('div', {\n      className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n    if (direction === 'Previous' && this.previousButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE);\n      var templateId = this.element.id + '_previousButtonTemplate';\n      var template = this.templateParser(this.previousButtonTemplate)({\n        type: 'Previous'\n      }, this, 'previousButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else if (direction === 'Next' && this.nextButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE);\n      var templateId = this.element.id + '_nextButtonTemplate';\n      var template = this.templateParser(this.nextButtonTemplate)({\n        type: 'Next'\n      }, this, 'nextButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else {\n      var button = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide'),\n          'type': 'button'\n        }\n      });\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n        iconCss: CLS_ICON + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n        enableRtl: this.enableRtl,\n        disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n      });\n      buttonObj.appendTo(button);\n      buttonContainer.appendChild(button);\n    }\n    this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n    EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n  };\n  Carousel.prototype.renderPlayButton = function () {\n    if (isNullOrUndefined(this.slideItems) || this.buttonsVisibility === 'Hidden' || !this.showPlayButton || this.slideItems.length <= 1) {\n      return;\n    }\n    var playPauseWrap = this.createElement('div', {\n      className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n    if (this.playButtonTemplate) {\n      addClass([playPauseWrap], CLS_TEMPLATE);\n      var templateId = this.element.id + '_playButtonTemplate';\n      var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n      append(template, playPauseWrap);\n    } else {\n      var playButton = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'),\n          'type': 'button'\n        }\n      });\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n        iconCss: CLS_ICON + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n        isToggle: true,\n        enableRtl: this.enableRtl\n      });\n      if (isLastSlide) {\n        this.setProperties({\n          autoPlay: false\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n        this.itemsContainer.setAttribute('aria-live', 'polite');\n      }\n      buttonObj.appendTo(playButton);\n      playPauseWrap.appendChild(playButton);\n    }\n    var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n    navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n    this.renderTemplates();\n    EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n  };\n  Carousel.prototype.renderIndicators = function () {\n    var _this = this;\n    if (!this.showIndicators || isNullOrUndefined(this.indicatorsType)) {\n      return;\n    }\n    var indicatorClass = 'e-default';\n    if (!this.indicatorsTemplate) {\n      indicatorClass = \"e-\" + this.indicatorsType.toLowerCase();\n    }\n    var indicatorWrap = this.createElement('div', {\n      className: CLS_INDICATORS + \" \" + indicatorClass\n    });\n    var indicatorBars = this.createElement('div', {\n      className: CLS_INDICATOR_BARS\n    });\n    indicatorWrap.appendChild(indicatorBars);\n    var progress;\n    if (this.slideItems) {\n      switch (this.indicatorsType) {\n        case 'Fraction':\n          if (this.indicatorsTemplate) {\n            this.renderIndicatorTemplate(indicatorBars, this.selectedIndex + 1);\n          } else {\n            indicatorBars.innerText = this.selectedIndex + 1 + \" / \" + this.slideItems.length;\n          }\n          break;\n        case 'Progress':\n          if (this.indicatorsTemplate) {\n            this.renderIndicatorTemplate(indicatorBars, this.selectedIndex + 1);\n          } else {\n            progress = this.createElement('div', {\n              className: CLS_INDICATOR_BAR\n            });\n            progress.style.setProperty('--carousel-items-current', \"\" + (this.selectedIndex + 1));\n            progress.style.setProperty('--carousel-items-count', \"\" + this.slideItems.length);\n            indicatorBars.appendChild(progress);\n          }\n          break;\n        case 'Default':\n        case 'Dynamic':\n          this.slideItems.forEach(function (item, index) {\n            var indicatorBar = _this.createElement('div', {\n              className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE : _this.selectedIndex - 1 === index ? CLS_PREV_SLIDE : _this.selectedIndex + 1 === index ? CLS_NEXT_SLIDE : ''),\n              attrs: {\n                'data-index': index.toString(),\n                'aria-current': _this.selectedIndex === index ? 'true' : 'false'\n              }\n            });\n            indicatorBar.style.setProperty('--carousel-items-current', \"\" + _this.selectedIndex);\n            if (_this.indicatorsTemplate) {\n              _this.renderIndicatorTemplate(indicatorBar, index);\n            } else if (_this.indicatorsType === 'Default') {\n              var indicator = _this.createElement('button', {\n                className: CLS_INDICATOR,\n                attrs: {\n                  'type': 'button',\n                  'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length\n                }\n              });\n              indicatorBar.appendChild(indicator);\n              indicator.appendChild(_this.createElement('div', {}));\n              var buttonObj = new Button({\n                cssClass: 'e-flat e-small'\n              });\n              buttonObj.appendTo(indicator);\n            }\n            indicatorBars.appendChild(indicatorBar);\n            if (_this.indicatorsType === 'Default') {\n              EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n            }\n          });\n          break;\n      }\n    }\n    this.element.appendChild(indicatorWrap);\n  };\n  Carousel.prototype.renderIndicatorTemplate = function (indicatorBar, index) {\n    if (index === void 0) {\n      index = 0;\n    }\n    addClass([indicatorBar], CLS_TEMPLATE);\n    var templateId = this.element.id + '_indicatorsTemplate';\n    var template = this.templateParser(this.indicatorsTemplate)({\n      index: index,\n      selectedIndex: this.selectedIndex\n    }, this, 'indicatorsTemplate', templateId, false);\n    append(template, indicatorBar);\n  };\n  Carousel.prototype.renderKeyboardActions = function () {\n    if (!this.allowKeyboardInteraction) {\n      return;\n    }\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n  };\n  Carousel.prototype.renderTouchActions = function () {\n    if (!this.enableTouchSwipe) {\n      return;\n    }\n    this.touchModule = new Touch(this.element, {\n      swipe: this.swipeHandler.bind(this)\n    });\n  };\n  Carousel.prototype.applyAnimation = function () {\n    removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n    switch (this.animationEffect) {\n      case 'Slide':\n        addClass([this.element], CLS_SLIDE_ANIMATION);\n        break;\n      case 'Fade':\n        addClass([this.element], CLS_FADE_ANIMATION);\n        break;\n      case 'None':\n        addClass([this.element], CLS_ANIMATION_NONE);\n        break;\n      case 'Custom':\n        addClass([this.element], CLS_CUSTOM_ANIMATION);\n        break;\n    }\n  };\n  Carousel.prototype.autoSlide = function () {\n    if (isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n      return;\n    }\n    this.resetSlideInterval();\n    this.applySlideInterval();\n  };\n  Carousel.prototype.autoSlideChange = function () {\n    var activeSlide = this.element.querySelector(\".\" + CLS_ITEM + \".\" + CLS_ACTIVE) || this.element.querySelector(\".\" + CLS_INDICATORS + \" .\" + CLS_ACTIVE);\n    if (isNullOrUndefined(activeSlide)) {\n      return;\n    }\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n    if (!this.loop && activeIndex === this.slideItems.length - 1) {\n      this.resetSlideInterval();\n    } else {\n      var index = (activeIndex + 1) % this.slideItems.length;\n      if (!this.element.classList.contains(CLS_HOVER)) {\n        this.setActiveSlide(index, 'Next');\n      }\n      this.autoSlide();\n    }\n  };\n  Carousel.prototype.applySlideInterval = function () {\n    var _this = this;\n    if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n      return;\n    }\n    var itemInterval = this.interval;\n    if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex || 0].interval)) {\n      itemInterval = this.items[this.selectedIndex || 0].interval;\n    }\n    this.autoSlideInterval = setInterval(function () {\n      return _this.autoSlideChange();\n    }, itemInterval);\n  };\n  Carousel.prototype.resetSlideInterval = function () {\n    clearInterval(this.autoSlideInterval);\n    this.autoSlideInterval = null;\n  };\n  Carousel.prototype.getSlideIndex = function (direction) {\n    var currentIndex = this.selectedIndex || 0;\n    if (direction === 'Previous') {\n      currentIndex--;\n      if (currentIndex < 0) {\n        currentIndex = this.slideItems.length - 1;\n      }\n    } else {\n      currentIndex++;\n      if (currentIndex === this.slideItems.length) {\n        currentIndex = 0;\n      }\n    }\n    return currentIndex;\n  };\n  Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n    var _this = this;\n    if (isSwiped === void 0) {\n      isSwiped = false;\n    }\n    if (this.element.querySelectorAll(\".\" + CLS_ITEM + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM + \".\" + CLS_NEXT_SLIDE).length > 0) {\n      return;\n    }\n    currentIndex = isNullOrUndefined(currentIndex) ? 0 : currentIndex;\n    var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM + \":not(.e-cloned)\"));\n    var activeSlide = this.element.querySelector(\".\" + CLS_ITEM + \".\" + CLS_ACTIVE);\n    if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n      var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE);\n      var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n      addClass([allSlides[parseInt(activeIndex_1.toString(), 10)]], CLS_ACTIVE);\n      return;\n    } else if (isNullOrUndefined(activeSlide)) {\n      addClass([allSlides[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE);\n      return;\n    }\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n    var currentSlide = allSlides[parseInt(currentIndex.toString(), 10)];\n    var eventArgs = {\n      currentIndex: activeIndex,\n      nextIndex: currentIndex,\n      currentSlide: activeSlide,\n      nextSlide: currentSlide,\n      slideDirection: direction,\n      isSwiped: isSwiped,\n      cancel: false\n    };\n    this.trigger('slideChanging', eventArgs, function (args) {\n      if (args.cancel) {\n        return;\n      }\n      _this.setProperties({\n        selectedIndex: currentIndex\n      }, true);\n      attributes(args.currentSlide, {\n        'aria-hidden': 'true'\n      });\n      args.currentSlide.setAttribute('inert', 'true');\n      attributes(args.nextSlide, {\n        'aria-hidden': 'false'\n      });\n      args.nextSlide.removeAttribute('inert');\n      _this.refreshIndicators(activeIndex, currentIndex);\n      _this.slideChangedEventArgs = {\n        currentIndex: args.nextIndex,\n        previousIndex: args.currentIndex,\n        currentSlide: args.nextSlide,\n        previousSlide: args.currentSlide,\n        slideDirection: direction,\n        isSwiped: isSwiped\n      };\n      var slideWidth = allSlides[parseInt(currentIndex.toString(), 10)].clientWidth;\n      var numOfItems = _this.getNumOfItems();\n      if (!_this.isSwipe) {\n        _this.itemsContainer.style.transitionDuration = '0.6s';\n      }\n      _this.isSwipe = false;\n      if (_this.animationEffect === 'Fade') {\n        _this.itemsContainer.classList.add('e-fade-in-out');\n      } else {\n        _this.itemsContainer.style.transitionProperty = 'transform';\n      }\n      if (_this.loop) {\n        if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n          _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, allSlides.length + numOfItems);\n        } else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n          _this.itemsContainer.style.transform = _this.partialVisible ? _this.getTranslateX(slideWidth) : 'translateX(0px)';\n        } else {\n          _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, currentIndex + numOfItems);\n        }\n      } else {\n        _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, currentIndex);\n      }\n      if (_this.animationEffect === 'Slide') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_PREV_SLIDE);\n          args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n        } else {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n          args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n        }\n      } else if (_this.animationEffect === 'Fade') {\n        removeClass([args.currentSlide], CLS_ACTIVE);\n        addClass([args.nextSlide], CLS_ACTIVE);\n      } else if (_this.animationEffect === 'Custom') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n        } else {\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n        }\n      } else {\n        _this.onTransitionEnd();\n      }\n      _this.handleNavigatorsActions(currentIndex);\n    });\n  };\n  Carousel.prototype.onTransitionEnd = function () {\n    var _this = this;\n    removeClass(this.element.querySelectorAll(\".\" + CLS_ITEMS), 'e-fade-in-out');\n    var numOfItems = this.getNumOfItems();\n    if (this.slideChangedEventArgs) {\n      this.itemsContainer.style.transitionProperty = 'none';\n      if (this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' || this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n        var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n        this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.slideChangedEventArgs.currentIndex + numOfItems);\n      }\n      addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE);\n      removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE);\n      this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n        removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n        _this.slideChangedEventArgs = null;\n      });\n    }\n  };\n  Carousel.prototype.refreshIndicators = function (activeIndex, currentIndex) {\n    var _this = this;\n    var slideIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BARS);\n    if (isNullOrUndefined(slideIndicator)) {\n      return;\n    }\n    var indicators = [].slice.call(slideIndicator.childNodes);\n    switch (this.indicatorsType) {\n      case 'Default':\n      case 'Dynamic':\n        attributes(indicators[parseInt(activeIndex.toString(), 10)], {\n          'aria-current': 'false'\n        });\n        attributes(indicators[parseInt(currentIndex.toString(), 10)], {\n          'aria-current': 'true'\n        });\n        removeClass(indicators, [CLS_ACTIVE, CLS_PREV_SLIDE, CLS_NEXT_SLIDE]);\n        addClass([indicators[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE);\n        if (indicators[currentIndex - 1]) {\n          addClass([indicators[currentIndex - 1]], CLS_PREV_SLIDE);\n        }\n        if (indicators[currentIndex + 1]) {\n          addClass([indicators[currentIndex + 1]], CLS_NEXT_SLIDE);\n        }\n        indicators.forEach(function (item) {\n          return item.style.setProperty('--carousel-items-current', \"\" + _this.selectedIndex);\n        });\n        break;\n      case 'Fraction':\n        if (this.indicatorsTemplate) {\n          if (slideIndicator.children.length > 0) {\n            slideIndicator.removeChild(slideIndicator.firstElementChild);\n          }\n          this.renderIndicatorTemplate(slideIndicator, currentIndex + 1);\n        } else {\n          slideIndicator.innerText = this.selectedIndex + 1 + \" / \" + this.slideItems.length;\n        }\n        break;\n      case 'Progress':\n        if (this.indicatorsTemplate) {\n          if (slideIndicator.children.length > 0) {\n            slideIndicator.removeChild(slideIndicator.firstElementChild);\n          }\n          this.renderIndicatorTemplate(slideIndicator, currentIndex + 1);\n        } else {\n          slideIndicator.firstElementChild.style.setProperty('--carousel-items-current', \"\" + (this.selectedIndex + 1));\n        }\n        break;\n    }\n  };\n  Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n    var keys = Object.keys(attribute);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n      var key = keys_1[_i];\n      if (key === 'class') {\n        addClass([element], attribute[\"\" + key]);\n      } else {\n        element.setAttribute(key, attribute[\"\" + key]);\n      }\n    }\n  };\n  Carousel.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n    return undefined;\n  };\n  Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n    var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n    if (button) {\n      var buttonObj = getInstance(button, Button);\n      return buttonObj.disabled;\n    }\n    return false;\n  };\n  Carousel.prototype.navigatorClickHandler = function (e) {\n    var target = e.currentTarget;\n    var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n    if (isDisabled) {\n      return;\n    }\n    var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n    this.setActiveSlide(this.getSlideIndex(direction), direction);\n    this.autoSlide();\n  };\n  Carousel.prototype.indicatorClickHandler = function (e) {\n    var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n    var index = parseInt(target.dataset.index, 10);\n    if (this.selectedIndex !== index) {\n      this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n      this.autoSlide();\n    }\n  };\n  Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n    if (isPropertyChange === void 0) {\n      isPropertyChange = false;\n    }\n    var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n    if (playButton) {\n      var buttonObj = getInstance(playButton, Button);\n      if (!isPropertyChange) {\n        this.setProperties({\n          autoPlay: !this.autoPlay\n        }, true);\n      }\n      playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n      buttonObj.iconCss = CLS_ICON + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n      buttonObj.dataBind();\n      this.itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n      if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n        this.setActiveSlide(0, 'Next');\n      }\n      this.autoSlide();\n    }\n  };\n  Carousel.prototype.keyHandler = function (e) {\n    if (!this.allowKeyboardInteraction) {\n      return;\n    }\n    var direction;\n    var slideIndex;\n    var isSlideTransition = false;\n    var target = e.target;\n    e.preventDefault();\n    switch (e.action) {\n      case 'space':\n        if (this.showIndicators && target.classList.contains(CLS_INDICATOR)) {\n          target.click();\n        } else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n          this.playButtonClickHandler(e);\n        } else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n          this.next();\n        } else if (target.classList.contains(CLS_PREV_BUTTON)) {\n          this.prev();\n        }\n        break;\n      case 'end':\n        slideIndex = this.slideItems.length - 1;\n        direction = 'Next';\n        isSlideTransition = true;\n        break;\n      case 'home':\n        slideIndex = 0;\n        direction = 'Previous';\n        isSlideTransition = true;\n        break;\n      case 'moveUp':\n      case 'moveLeft':\n      case 'moveDown':\n      case 'moveRight':\n        if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n          this.element.focus();\n        }\n        direction = e.action === 'moveUp' || e.action === 'moveLeft' ? 'Previous' : 'Next';\n        slideIndex = this.getSlideIndex(direction);\n        isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n        break;\n    }\n    if (isSlideTransition) {\n      this.setActiveSlide(slideIndex, direction);\n      this.autoSlide();\n      isSlideTransition = false;\n    }\n  };\n  Carousel.prototype.swipeHandler = function (e) {\n    if (this.element.classList.contains(CLS_HOVER) || isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n      return;\n    }\n    if (this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse)) {\n      return;\n    }\n    var eventType = e.startEvents ? e.startEvents.toString() : null;\n    if (eventType && (this.swipeMode === CarouselSwipeMode.Mouse && eventType.includes('Touch') || this.swipeMode === CarouselSwipeMode.Touch && eventType.includes('Mouse'))) {\n      return;\n    }\n    var direction = e.swipeDirection === 'Right' ? 'Previous' : 'Next';\n    var slideIndex = this.getSlideIndex(direction);\n    if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n      this.setActiveSlide(slideIndex, direction, true);\n      this.autoSlide();\n    }\n  };\n  Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n    return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n  };\n  Carousel.prototype.handleNavigatorsActions = function (index) {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n    if (this.showPlayButton) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n      if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n        isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE);\n      }\n      if (isButtonUpdate) {\n        this.setProperties({\n          autoPlay: !isLastSlide\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n        this.itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n        var buttonObj = getInstance(playButton, Button);\n        buttonObj.iconCss = CLS_ICON + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n        buttonObj.dataBind();\n      }\n    }\n    var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n    if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n      var buttonObj = getInstance(prevButton, Button);\n      buttonObj.disabled = !this.loop && index === 0;\n      buttonObj.dataBind();\n    }\n    var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n    if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n      var buttonObj = getInstance(nextButton, Button);\n      buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n      buttonObj.dataBind();\n    }\n  };\n  Carousel.prototype.onHoverActions = function (e) {\n    var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n    switch (e.type) {\n      case 'mouseenter':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n        if (this.pauseOnHover) {\n          addClass([this.element], CLS_HOVER);\n        }\n        break;\n      case 'mouseleave':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n        removeClass([this.element], CLS_HOVER);\n        if (this.isSwipe) {\n          this.swipStop();\n        }\n        break;\n    }\n    this.autoSlide();\n  };\n  Carousel.prototype.onFocusActions = function (e) {\n    switch (e.type) {\n      case 'focusin':\n        addClass([this.element], CLS_HOVER);\n        break;\n      case 'focusout':\n        removeClass([this.element], CLS_HOVER);\n        break;\n    }\n    this.autoSlide();\n  };\n  Carousel.prototype.destroyButtons = function () {\n    var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n    for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n      var button = buttonCollections_1[_i];\n      var instance = getInstance(button, Button);\n      if (instance) {\n        instance.destroy();\n      }\n    }\n  };\n  Carousel.prototype.getNumOfItems = function () {\n    return this.partialVisible ? 2 : 1;\n  };\n  Carousel.prototype.getTranslateValue = function (element) {\n    var style = getComputedStyle(element);\n    return window.WebKitCSSMatrix ? new WebKitCSSMatrix(style.webkitTransform).m41 : 0;\n  };\n  Carousel.prototype.swipeStart = function (e) {\n    if (!this.timeStampStart) {\n      this.timeStampStart = Date.now();\n    }\n    e.preventDefault();\n    this.isSwipe = false;\n    this.itemsContainer.classList.add('e-swipe-start');\n    this.prevPageX = e.touches ? e.touches[0].pageX : e.pageX;\n    this.initialTranslate = this.getTranslateValue(this.itemsContainer);\n  };\n  Carousel.prototype.swiping = function (e) {\n    if (!this.itemsContainer.classList.contains('e-swipe-start')) {\n      return;\n    }\n    this.isSwipe = true;\n    e.preventDefault();\n    var pageX = e.touches ? e.touches[0].pageX : e.pageX;\n    var positionDiff = this.prevPageX - pageX;\n    if (!this.loop && (this.enableRtl && (this.selectedIndex === 0 && positionDiff > 0 || this.selectedIndex === this.itemsContainer.childElementCount - 1 && positionDiff < 0) || !this.enableRtl && (this.selectedIndex === 0 && positionDiff < 0 || this.selectedIndex === this.itemsContainer.childElementCount - 1 && positionDiff > 0))) {\n      return;\n    }\n    this.itemsContainer.style.transform = \"translateX(\" + (this.initialTranslate + (this.enableRtl ? positionDiff : -positionDiff)) + \"px)\";\n  };\n  Carousel.prototype.swipStop = function () {\n    var time = Date.now() - this.timeStampStart;\n    var distanceX = this.getTranslateValue(this.itemsContainer) - this.initialTranslate;\n    distanceX = distanceX < 0 ? distanceX * -1 : distanceX;\n    if (this.isSwipe) {\n      var offsetDist = distanceX * (Browser.isDevice ? 6 : 1.66);\n      this.itemsContainer.style.transitionDuration = (Browser.isDevice ? distanceX : offsetDist) / time / 10 + 's';\n    }\n    var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n    var threshold = slideWidth / 2;\n    this.itemsContainer.classList.remove('e-swipe-start');\n    var value = this.getTranslateValue(this.itemsContainer);\n    if (value - this.initialTranslate < -threshold) {\n      this.swipeNavigation(!this.enableRtl);\n    } else if (value - this.initialTranslate > threshold) {\n      this.swipeNavigation(this.enableRtl);\n    } else {\n      this.itemsContainer.style.transform = \"translateX(\" + this.initialTranslate + \"px)\";\n      if (this.animationEffect === 'Fade') {\n        this.itemsContainer.classList.add('e-fade-in-out');\n      }\n    }\n  };\n  Carousel.prototype.swipeNavigation = function (isRtl) {\n    if (isRtl) {\n      this.next();\n    } else {\n      this.prev();\n    }\n  };\n  Carousel.prototype.swipeModehandlers = function () {\n    if ((this.swipeMode & CarouselSwipeMode.Touch) === CarouselSwipeMode.Touch) {\n      EventHandler.add(this.itemsContainer, 'touchstart', this.swipeStart, this);\n      EventHandler.add(this.itemsContainer, 'touchmove', this.swiping, this);\n      EventHandler.add(this.itemsContainer, 'touchend', this.swipStop, this);\n    }\n    if ((this.swipeMode & CarouselSwipeMode.Mouse) === CarouselSwipeMode.Mouse) {\n      EventHandler.add(this.itemsContainer, 'mousedown', this.swipeStart, this);\n      EventHandler.add(this.itemsContainer, 'mousemove', this.swiping, this);\n      EventHandler.add(this.itemsContainer, 'mouseup', this.swipStop, this);\n    }\n    if (this.swipeMode === 0 && (this.swipeMode & CarouselSwipeMode.Mouse & CarouselSwipeMode.Touch) === (CarouselSwipeMode.Mouse & CarouselSwipeMode.Touch)) {\n      EventHandler.add(this.itemsContainer, 'mousedown touchstart', this.swipeStart, this);\n      EventHandler.add(this.itemsContainer, 'mousemove touchmove', this.swiping, this);\n      EventHandler.add(this.itemsContainer, 'mouseup touchend', this.swipStop, this);\n    }\n  };\n  Carousel.prototype.resizeHandler = function () {\n    if (this.itemsContainer && this.itemsContainer.firstElementChild) {\n      var numOfItems = this.getNumOfItems();\n      var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n      if (this.loop) {\n        this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + numOfItems);\n      } else {\n        this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex);\n      }\n    }\n  };\n  Carousel.prototype.wireEvents = function () {\n    if (this.animationEffect !== 'Custom' && this.enableTouchSwipe) {\n      this.swipeModehandlers();\n    }\n    EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n    EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n    EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n    EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n    EventHandler.add(window, 'resize', this.resizeHandler, this);\n  };\n  Carousel.prototype.unWireEvents = function () {\n    var _this = this;\n    var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n    indicators.forEach(function (indicator) {\n      EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n    });\n    var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n    navigators.forEach(function (navigator) {\n      EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n    });\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n    if (playIcon) {\n      EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n    }\n    EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n    EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n    EventHandler.clearEvents(this.element);\n    EventHandler.clearEvents(this.itemsContainer);\n    EventHandler.remove(window, 'resize', this.resizeHandler);\n  };\n  /**\n   * Method to transit from the current slide to the previous slide.\n   *\n   * @returns {void}\n   */\n  Carousel.prototype.prev = function () {\n    if (!this.loop && this.selectedIndex === 0) {\n      return;\n    }\n    var index = this.selectedIndex === 0 ? this.slideItems.length - 1 : this.selectedIndex - 1;\n    this.setActiveSlide(index, 'Previous');\n    this.autoSlide();\n  };\n  /**\n   * Method to transit from the current slide to the next slide.\n   *\n   * @returns {void}\n   */\n  Carousel.prototype.next = function () {\n    if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n      return;\n    }\n    var index = this.selectedIndex === this.slideItems.length - 1 ? 0 : this.selectedIndex + 1;\n    this.setActiveSlide(index, 'Next');\n    this.autoSlide();\n  };\n  /**\n   * Method to play the slides programmatically.\n   *\n   * @returns {void}\n   */\n  Carousel.prototype.play = function () {\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n    if (this.showPlayButton && playIcon) {\n      classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n    }\n    this.setProperties({\n      autoPlay: true\n    }, true);\n    this.itemsContainer.setAttribute('aria-live', 'off');\n    this.applySlideInterval();\n  };\n  /**\n   * Method to pause the slides programmatically.\n   *\n   * @returns {void}\n   */\n  Carousel.prototype.pause = function () {\n    var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n    if (this.showPlayButton && pauseIcon) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n      classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n    }\n    this.setProperties({\n      autoPlay: false\n    }, true);\n    this.itemsContainer.setAttribute('aria-live', 'off');\n    this.resetSlideInterval();\n  };\n  /**\n   * Method to render react and angular templates\n   *\n   * @returns {void}\n   * @private\n   */\n  Carousel.prototype.renderTemplates = function () {\n    if (this.isAngular || this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Method to reset react and angular templates\n   *\n   * @param {string[]} templates Accepts the template ID\n   * @returns {void}\n   * @private\n   */\n  Carousel.prototype.resetTemplates = function (templates) {\n    if (this.isAngular || this.isReact) {\n      this.clearTemplate(templates);\n    }\n  };\n  /**\n   * Method for destroy the carousel component.\n   *\n   * @returns {void}\n   */\n  Carousel.prototype.destroy = function () {\n    var _this = this;\n    this.resetTemplates();\n    if (this.touchModule) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n    if (this.keyModule) {\n      this.keyModule.destroy();\n      this.keyModule = null;\n    }\n    this.resetSlideInterval();\n    this.destroyButtons();\n    this.unWireEvents();\n    [].slice.call(this.element.children).forEach(function (ele) {\n      _this.element.removeChild(ele);\n    });\n    removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL, CLS_SWIPE]);\n    ['role', 'style'].forEach(function (attr) {\n      _this.element.removeAttribute(attr);\n    });\n    this.itemsContainer = null;\n    _super.prototype.destroy.call(this);\n  };\n  __decorate([Collection([], CarouselItem)], Carousel.prototype, \"items\", void 0);\n  __decorate([Property('Slide')], Carousel.prototype, \"animationEffect\", void 0);\n  __decorate([Property()], Carousel.prototype, \"previousButtonTemplate\", void 0);\n  __decorate([Property()], Carousel.prototype, \"nextButtonTemplate\", void 0);\n  __decorate([Property()], Carousel.prototype, \"indicatorsTemplate\", void 0);\n  __decorate([Property()], Carousel.prototype, \"playButtonTemplate\", void 0);\n  __decorate([Property()], Carousel.prototype, \"cssClass\", void 0);\n  __decorate([Property([])], Carousel.prototype, \"dataSource\", void 0);\n  __decorate([Property()], Carousel.prototype, \"itemTemplate\", void 0);\n  __decorate([Property(0)], Carousel.prototype, \"selectedIndex\", void 0);\n  __decorate([Property('100%')], Carousel.prototype, \"width\", void 0);\n  __decorate([Property('100%')], Carousel.prototype, \"height\", void 0);\n  __decorate([Property(5000)], Carousel.prototype, \"interval\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"autoPlay\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"pauseOnHover\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"loop\", void 0);\n  __decorate([Property(false)], Carousel.prototype, \"showPlayButton\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"enableTouchSwipe\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"allowKeyboardInteraction\", void 0);\n  __decorate([Property(true)], Carousel.prototype, \"showIndicators\", void 0);\n  __decorate([Property('Default')], Carousel.prototype, \"indicatorsType\", void 0);\n  __decorate([Property('Visible')], Carousel.prototype, \"buttonsVisibility\", void 0);\n  __decorate([Property(false)], Carousel.prototype, \"partialVisible\", void 0);\n  __decorate([Property(CarouselSwipeMode.Touch)], Carousel.prototype, \"swipeMode\", void 0);\n  __decorate([Property()], Carousel.prototype, \"htmlAttributes\", void 0);\n  __decorate([Event()], Carousel.prototype, \"slideChanging\", void 0);\n  __decorate([Event()], Carousel.prototype, \"slideChanged\", void 0);\n  Carousel = __decorate([NotifyPropertyChanges], Carousel);\n  return Carousel;\n}(Component);\nexport { Carousel };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Collection","Property","Event","formatUnit","NotifyPropertyChanges","Browser","ChildProperty","addClass","removeClass","setStyleAttribute","attributes","getUniqueID","compile","getInstance","L10n","append","closest","isNullOrUndefined","remove","classList","Touch","KeyboardEvents","Button","CLS_CAROUSEL","CLS_ACTIVE","CLS_RTL","CLS_PARTIAL","CLS_SWIPE","CLS_SLIDE_CONTAINER","CLS_ITEMS","CLS_CLONED","CLS_ITEM","CLS_PREVIOUS","CLS_NEXT","CLS_PREV_ICON","CLS_NEXT_ICON","CLS_NAVIGATORS","CLS_INDICATORS","CLS_INDICATOR_BARS","CLS_INDICATOR_BAR","CLS_INDICATOR","CLS_ICON","CLS_PLAY_PAUSE","CLS_PLAY_ICON","CLS_PAUSE_ICON","CLS_PREV_BUTTON","CLS_NEXT_BUTTON","CLS_PLAY_BUTTON","CLS_FLAT","CLS_ROUND","CLS_HOVER_ARROWS","CLS_HOVER","CLS_TEMPLATE","CLS_SLIDE_ANIMATION","CLS_FADE_ANIMATION","CLS_CUSTOM_ANIMATION","CLS_ANIMATION_NONE","CLS_PREV_SLIDE","CLS_NEXT_SLIDE","CLS_TRANSITION_START","CLS_TRANSITION_END","CarouselSwipeMode","CarouselItem","_super","apply","Carousel","options","element","_this","call","isSwipe","getModuleName","replace","getPersistData","addOnPersist","preRender","keyConfigs","home","end","space","moveLeft","moveRight","moveUp","moveDown","defaultLocale","nextSlide","of","pauseSlideTransition","playSlideTransition","previousSlide","slide","slideShow","localeObj","locale","render","initialize","renderSlides","renderNavigators","renderPlayButton","renderIndicators","applyAnimation","wireEvents","onPropertyChanged","newProp","oldProp","rtlElement","_i","_a","keys","prop","cssClass","setActiveSlide","selectedIndex","autoSlide","htmlAttributes","setHtmlAttributes","enableTouchSwipe","touchModule","destroy","querySelector","renderTouchActions","loop","autoSlideInterval","applySlideInterval","handleNavigatorsActions","partialVisible","swipeMode","Mouse","reRenderSlides","keyModule","allowKeyboardInteraction","renderKeyboardActions","slice","querySelectorAll","push","enableRtl","cloneCount","getNumOfItems","slideWidth","itemsContainer","firstElementChild","clientWidth","style","transform","getTranslateX","buttonsVisibility","resetTemplates","childNodes","width","height","showPlayButton","playButtonTemplate","playButtonClickHandler","selectedData","dataSource","items","reRenderIndicators","swipeStart","swiping","swipStop","swipeModehandlers","carouselClasses","getConstant","slideContainer","createElement","className","attrs","appendChild","autoPlay","numOfItems","forEach","item","index","renderSlide","template","itemTemplate","slideItems","renderTemplates","setProperty","children","transitionProperty","count","container","isClone","itemEle","id","toString","add","setAttribute","templateId","templateParser","navigators","insertAdjacentElement","renderNavigatorButton","direction","buttonContainer","previousButtonTemplate","type","nextButtonTemplate","button","buttonObj","iconCss","disabled","appendTo","navigatorClickHandler","playPauseWrap","playButton","isLastSlide","isToggle","setProperties","insertBefore","lastElementChild","showIndicators","indicatorsType","indicatorClass","indicatorsTemplate","toLowerCase","indicatorWrap","indicatorBars","progress","renderIndicatorTemplate","innerText","indicatorBar","indicator","indicatorClickHandler","keyAction","keyHandler","bind","swipe","swipeHandler","animationEffect","resetSlideInterval","autoSlideChange","activeSlide","activeIndex","parseInt","dataset","contains","itemInterval","interval","setInterval","clearInterval","getSlideIndex","currentIndex","isSwiped","allSlides","activeIndicator","activeIndex_1","currentSlide","eventArgs","nextIndex","slideDirection","cancel","trigger","args","removeAttribute","refreshIndicators","slideChangedEventArgs","previousIndex","transitionDuration","offsetHeight","onTransitionEnd","slideIndicator","indicators","removeChild","attribute","keys_1","document","innerHTML","trim","error","undefined","getNavigatorState","isPrevious","e","currentTarget","isDisabled","isPropertyChange","dataBind","slideIndex","isSlideTransition","preventDefault","action","click","next","prev","focus","isSuspendSlideTransition","eventType","startEvents","includes","swipeDirection","isButtonUpdate","prevButton","nextButton","onHoverActions","navigator","pauseOnHover","onFocusActions","destroyButtons","buttonCollections","buttonCollections_1","instance","getTranslateValue","getComputedStyle","window","WebKitCSSMatrix","webkitTransform","m41","timeStampStart","Date","now","prevPageX","touches","pageX","initialTranslate","positionDiff","childElementCount","time","distanceX","offsetDist","isDevice","threshold","value","swipeNavigation","isRtl","resizeHandler","unWireEvents","playIcon","clearEvents","play","pause","pauseIcon","isAngular","isReact","renderReactTemplates","templates","clearTemplate","ele","attr"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-navigations/src/carousel/carousel.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Collection, Property, Event, formatUnit, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { ChildProperty, addClass, removeClass, setStyleAttribute, attributes, getUniqueID, compile, getInstance, L10n } from '@syncfusion/ej2-base';\nimport { append, closest, isNullOrUndefined, remove, classList, Touch, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n// Constant variables\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_RTL = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SWIPE = 'e-swipe';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_ICON = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/**\n * Specifies the action (touch & mouse) which enables the slide swiping action in carousel.\n * * Touch - Enables or disables the swiping action in touch interaction.\n * * Mouse - Enables or disables the swiping action in mouse interaction.\n *\n * @aspNumberEnum\n */\nexport var CarouselSwipeMode;\n(function (CarouselSwipeMode) {\n    /** Enables or disables the swiping action in touch interaction. */\n    CarouselSwipeMode[CarouselSwipeMode[\"Touch\"] = 1] = \"Touch\";\n    /** Enables or disables the swiping action in mouse interaction. */\n    CarouselSwipeMode[CarouselSwipeMode[\"Mouse\"] = 2] = \"Mouse\";\n})(CarouselSwipeMode || (CarouselSwipeMode = {}));\n/** Specifies the carousel individual item. */\nvar CarouselItem = /** @class */ (function (_super) {\n    __extends(CarouselItem, _super);\n    function CarouselItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], CarouselItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property()\n    ], CarouselItem.prototype, \"interval\", void 0);\n    __decorate([\n        Property()\n    ], CarouselItem.prototype, \"template\", void 0);\n    __decorate([\n        Property()\n    ], CarouselItem.prototype, \"htmlAttributes\", void 0);\n    return CarouselItem;\n}(ChildProperty));\nexport { CarouselItem };\nvar Carousel = /** @class */ (function (_super) {\n    __extends(Carousel, _super);\n    /**\n     * Constructor for creating the Carousel widget\n     *\n     * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function Carousel(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isSwipe = false;\n        return _this;\n    }\n    Carousel.prototype.getModuleName = function () {\n        return CLS_CAROUSEL.replace('e-', '');\n    };\n    Carousel.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedIndex']);\n    };\n    Carousel.prototype.preRender = function () {\n        this.keyConfigs = {\n            home: 'home',\n            end: 'end',\n            space: 'space',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        var defaultLocale = {\n            nextSlide: 'Next slide',\n            of: 'of',\n            pauseSlideTransition: 'Pause slide transition',\n            playSlideTransition: 'Play slide transition',\n            previousSlide: 'Previous slide',\n            slide: 'Slide',\n            slideShow: 'Slide show'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    };\n    Carousel.prototype.render = function () {\n        this.initialize();\n        this.renderSlides();\n        this.renderNavigators();\n        this.renderPlayButton();\n        this.renderIndicators();\n        this.applyAnimation();\n        this.wireEvents();\n    };\n    Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var target;\n        var rtlElement;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'animationEffect':\n                    this.applyAnimation();\n                    break;\n                case 'cssClass':\n                    classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n                    break;\n                case 'selectedIndex':\n                    this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n                    this.autoSlide();\n                    break;\n                case 'htmlAttributes':\n                    if (!isNullOrUndefined(this.htmlAttributes)) {\n                        this.setHtmlAttributes(this.htmlAttributes, this.element);\n                    }\n                    break;\n                case 'enableTouchSwipe':\n                    if (!this.enableTouchSwipe && this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    if (this.element.querySelector(\".\" + CLS_ITEMS)) {\n                        this.renderTouchActions();\n                    }\n                    break;\n                case 'loop':\n                    if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n                        this.applySlideInterval();\n                    }\n                    this.handleNavigatorsActions(this.selectedIndex);\n                    if (this.partialVisible || !(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n                        this.reRenderSlides();\n                    }\n                    break;\n                case 'allowKeyboardInteraction':\n                    if (this.keyModule) {\n                        this.keyModule.destroy();\n                        this.keyModule = null;\n                    }\n                    if (newProp.allowKeyboardInteraction) {\n                        this.renderKeyboardActions();\n                    }\n                    break;\n                case 'enableRtl':\n                    rtlElement = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREV_BUTTON + \",\\n                .\" + CLS_NEXT_BUTTON + \", .\" + CLS_PLAY_BUTTON));\n                    rtlElement.push(this.element);\n                    if (this.enableRtl) {\n                        addClass(rtlElement, CLS_RTL);\n                    }\n                    else {\n                        removeClass(rtlElement, CLS_RTL);\n                    }\n                    if (this.partialVisible || !(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n                        var cloneCount = this.loop ? this.getNumOfItems() : 0;\n                        var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n                        this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n                    }\n                    break;\n                case 'buttonsVisibility':\n                    target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n                    if (target) {\n                        switch (this.buttonsVisibility) {\n                            case 'Hidden':\n                                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                                remove(target);\n                                break;\n                            case 'VisibleOnHover':\n                                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                            case 'Visible':\n                                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                        }\n                    }\n                    else {\n                        this.renderNavigators();\n                        this.renderPlayButton();\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(this.height) });\n                    break;\n                case 'autoPlay':\n                    if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n                        this.playButtonClickHandler(null, true);\n                    }\n                    this.autoSlide();\n                    break;\n                case 'interval':\n                    this.autoSlide();\n                    break;\n                case 'showIndicators':\n                case 'indicatorsType':\n                    target = this.element.querySelector(\".\" + CLS_INDICATORS);\n                    if (target) {\n                        this.resetTemplates(['indicatorsTemplate']);\n                        remove(target);\n                    }\n                    this.renderIndicators();\n                    break;\n                case 'showPlayButton':\n                    target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n                    if (!this.showPlayButton && target) {\n                        remove(target);\n                        this.resetTemplates(['playButtonTemplate']);\n                    }\n                    this.renderPlayButton();\n                    break;\n                case 'items':\n                case 'dataSource': {\n                    var selectedData = prop === 'dataSource' ? this.dataSource : this.items;\n                    if (!isNullOrUndefined(selectedData) && selectedData.length > 0 && this.selectedIndex >= selectedData.length) {\n                        this.setActiveSlide(selectedData.length - 1, 'Previous');\n                        this.autoSlide();\n                    }\n                    this.reRenderSlides();\n                    this.reRenderIndicators();\n                    break;\n                }\n                case 'partialVisible':\n                    if (this.partialVisible) {\n                        addClass([this.element], CLS_PARTIAL);\n                    }\n                    else {\n                        removeClass([this.element], CLS_PARTIAL);\n                    }\n                    this.reRenderSlides();\n                    break;\n                case 'swipeMode':\n                    EventHandler.remove(this.element, 'mousedown touchstart', this.swipeStart);\n                    EventHandler.remove(this.element, 'mousemove touchmove', this.swiping);\n                    EventHandler.remove(this.element, 'mouseup touchend', this.swipStop);\n                    this.swipeModehandlers();\n                    this.reRenderSlides();\n                    break;\n            }\n        }\n    };\n    Carousel.prototype.reRenderSlides = function () {\n        var target = this.element.querySelector(\".\" + CLS_ITEMS);\n        if (target) {\n            this.resetTemplates(['itemTemplate']);\n            remove(target);\n        }\n        this.renderSlides();\n    };\n    Carousel.prototype.reRenderIndicators = function () {\n        var target = this.element.querySelector(\".\" + CLS_INDICATORS);\n        if (target) {\n            this.resetTemplates(['indicatorsTemplate']);\n            remove(target);\n        }\n        this.renderIndicators();\n    };\n    Carousel.prototype.initialize = function () {\n        var carouselClasses = [];\n        carouselClasses.push(CLS_CAROUSEL);\n        if (this.cssClass) {\n            carouselClasses.push(this.cssClass);\n        }\n        if (this.enableRtl) {\n            carouselClasses.push(CLS_RTL);\n        }\n        if (this.partialVisible) {\n            carouselClasses.push(CLS_PARTIAL);\n        }\n        if (!(this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse))) {\n            carouselClasses.push(CLS_SWIPE);\n        }\n        addClass([this.element], carouselClasses);\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        attributes(this.element, { 'role': 'group', 'aria-roledescription': 'carousel', 'aria-label': this.localeObj.getConstant('slideShow') });\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n        }\n    };\n    Carousel.prototype.renderSlides = function () {\n        var _this = this;\n        var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n        if (!slideContainer) {\n            slideContainer = this.createElement('div', { className: CLS_SLIDE_CONTAINER, attrs: { 'tabindex': '0', 'role': 'tabpanel' } });\n            this.element.appendChild(slideContainer);\n        }\n        this.itemsContainer = this.createElement('div', { className: CLS_ITEMS, attrs: { 'aria-live': this.autoPlay ? 'off' : 'polite' } });\n        slideContainer.appendChild(this.itemsContainer);\n        var numOfItems = this.getNumOfItems();\n        if (numOfItems > 0 && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(-numOfItems).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, _this.itemsContainer, true);\n                });\n            }\n            else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n                this.dataSource.slice(-numOfItems).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer, true);\n                });\n            }\n        }\n        if (this.items.length > 0) {\n            this.slideItems = this.items;\n            this.items.forEach(function (item, index) {\n                _this.renderSlide(item, item.template, index, _this.itemsContainer);\n            });\n        }\n        else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n            this.slideItems = this.dataSource;\n            this.dataSource.forEach(function (item, index) {\n                _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer);\n            });\n        }\n        if (numOfItems > 0 && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(0, numOfItems).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, _this.itemsContainer, true);\n                });\n            }\n            else if (!isNullOrUndefined(this.dataSource) && this.dataSource.length > 0) {\n                this.dataSource.slice(0, numOfItems).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, _this.itemsContainer, true);\n                });\n            }\n        }\n        this.renderTemplates();\n        this.itemsContainer.style.setProperty('--carousel-items-count', \"\" + this.itemsContainer.children.length);\n        var slideWidth = isNullOrUndefined(this.itemsContainer.firstElementChild) ? 0 :\n            this.itemsContainer.firstElementChild.clientWidth;\n        this.itemsContainer.style.transitionProperty = 'none';\n        var cloneCount = this.loop ? numOfItems : 0;\n        this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n        this.autoSlide();\n        this.renderTouchActions();\n        this.renderKeyboardActions();\n    };\n    Carousel.prototype.getTranslateX = function (slideWidth, count) {\n        if (count === void 0) { count = 1; }\n        return this.enableRtl ? \"translateX(\" + (slideWidth) * (count) + \"px)\" :\n            \"translateX(\" + -(slideWidth) * (count) + \"px)\";\n    };\n    Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n        if (isClone === void 0) { isClone = false; }\n        var itemEle = this.createElement('div', {\n            id: getUniqueID('carousel_item'),\n            className: CLS_ITEM + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE : ''),\n            attrs: {\n                'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true', 'data-index': index.toString(),\n                'role': 'group', 'aria-roledescription': 'slide'\n            }\n        });\n        if (isClone) {\n            itemEle.classList.add(CLS_CLONED);\n        }\n        if (!(this.selectedIndex === index && !isClone)) {\n            itemEle.setAttribute('inert', 'true');\n        }\n        if (!isNullOrUndefined(item.htmlAttributes)) {\n            this.setHtmlAttributes(item.htmlAttributes, itemEle);\n        }\n        var templateId = this.element.id + '_template';\n        var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n        append(template, itemEle);\n        container.appendChild(itemEle);\n    };\n    Carousel.prototype.renderNavigators = function () {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        var navigators = this.createElement('div', { className: CLS_NAVIGATORS });\n        var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n        itemsContainer.insertAdjacentElement('afterend', navigators);\n        if (!isNullOrUndefined(this.slideItems) && this.slideItems.length > 1) {\n            this.renderNavigatorButton('Previous');\n            this.renderNavigatorButton('Next');\n        }\n        this.renderTemplates();\n    };\n    Carousel.prototype.renderNavigatorButton = function (direction) {\n        var buttonContainer = this.createElement('div', {\n            className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (direction === 'Previous' && this.previousButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE);\n            var templateId = this.element.id + '_previousButtonTemplate';\n            var template = this.templateParser(this.previousButtonTemplate)({ type: 'Previous' }, this, 'previousButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else if (direction === 'Next' && this.nextButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE);\n            var templateId = this.element.id + '_nextButtonTemplate';\n            var template = this.templateParser(this.nextButtonTemplate)({ type: 'Next' }, this, 'nextButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else {\n            var button = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide'), 'type': 'button' }\n            });\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n                iconCss: CLS_ICON + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n                enableRtl: this.enableRtl,\n                disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n            });\n            buttonObj.appendTo(button);\n            buttonContainer.appendChild(button);\n        }\n        this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n        EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n    };\n    Carousel.prototype.renderPlayButton = function () {\n        if (isNullOrUndefined(this.slideItems) || this.buttonsVisibility === 'Hidden' || !this.showPlayButton || this.slideItems.length <= 1) {\n            return;\n        }\n        var playPauseWrap = this.createElement('div', {\n            className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (this.playButtonTemplate) {\n            addClass([playPauseWrap], CLS_TEMPLATE);\n            var templateId = this.element.id + '_playButtonTemplate';\n            var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n            append(template, playPauseWrap);\n        }\n        else {\n            var playButton = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'), 'type': 'button' }\n            });\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n                iconCss: CLS_ICON + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n                isToggle: true,\n                enableRtl: this.enableRtl\n            });\n            if (isLastSlide) {\n                this.setProperties({ autoPlay: false }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n                this.itemsContainer.setAttribute('aria-live', 'polite');\n            }\n            buttonObj.appendTo(playButton);\n            playPauseWrap.appendChild(playButton);\n        }\n        var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n        this.renderTemplates();\n        EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n    };\n    Carousel.prototype.renderIndicators = function () {\n        var _this = this;\n        if (!this.showIndicators || isNullOrUndefined(this.indicatorsType)) {\n            return;\n        }\n        var indicatorClass = 'e-default';\n        if (!this.indicatorsTemplate) {\n            indicatorClass = \"e-\" + this.indicatorsType.toLowerCase();\n        }\n        var indicatorWrap = this.createElement('div', { className: CLS_INDICATORS + \" \" + indicatorClass });\n        var indicatorBars = this.createElement('div', { className: CLS_INDICATOR_BARS });\n        indicatorWrap.appendChild(indicatorBars);\n        var progress;\n        if (this.slideItems) {\n            switch (this.indicatorsType) {\n                case 'Fraction':\n                    if (this.indicatorsTemplate) {\n                        this.renderIndicatorTemplate(indicatorBars, this.selectedIndex + 1);\n                    }\n                    else {\n                        indicatorBars.innerText = this.selectedIndex + 1 + \" / \" + this.slideItems.length;\n                    }\n                    break;\n                case 'Progress':\n                    if (this.indicatorsTemplate) {\n                        this.renderIndicatorTemplate(indicatorBars, this.selectedIndex + 1);\n                    }\n                    else {\n                        progress = this.createElement('div', { className: CLS_INDICATOR_BAR });\n                        progress.style.setProperty('--carousel-items-current', \"\" + (this.selectedIndex + 1));\n                        progress.style.setProperty('--carousel-items-count', \"\" + this.slideItems.length);\n                        indicatorBars.appendChild(progress);\n                    }\n                    break;\n                case 'Default':\n                case 'Dynamic':\n                    this.slideItems.forEach(function (item, index) {\n                        var indicatorBar = _this.createElement('div', {\n                            className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE : _this.selectedIndex - 1 === index ? CLS_PREV_SLIDE : _this.selectedIndex + 1 === index ? CLS_NEXT_SLIDE : ''),\n                            attrs: { 'data-index': index.toString(), 'aria-current': _this.selectedIndex === index ? 'true' : 'false' }\n                        });\n                        indicatorBar.style.setProperty('--carousel-items-current', \"\" + _this.selectedIndex);\n                        if (_this.indicatorsTemplate) {\n                            _this.renderIndicatorTemplate(indicatorBar, index);\n                        }\n                        else if (_this.indicatorsType === 'Default') {\n                            var indicator = _this.createElement('button', { className: CLS_INDICATOR, attrs: { 'type': 'button', 'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length } });\n                            indicatorBar.appendChild(indicator);\n                            indicator.appendChild(_this.createElement('div', {}));\n                            var buttonObj = new Button({ cssClass: 'e-flat e-small' });\n                            buttonObj.appendTo(indicator);\n                        }\n                        indicatorBars.appendChild(indicatorBar);\n                        if (_this.indicatorsType === 'Default') {\n                            EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n                        }\n                    });\n                    break;\n            }\n        }\n        this.element.appendChild(indicatorWrap);\n    };\n    Carousel.prototype.renderIndicatorTemplate = function (indicatorBar, index) {\n        if (index === void 0) { index = 0; }\n        addClass([indicatorBar], CLS_TEMPLATE);\n        var templateId = this.element.id + '_indicatorsTemplate';\n        var template = this.templateParser(this.indicatorsTemplate)({ index: index, selectedIndex: this.selectedIndex }, this, 'indicatorsTemplate', templateId, false);\n        append(template, indicatorBar);\n    };\n    Carousel.prototype.renderKeyboardActions = function () {\n        if (!this.allowKeyboardInteraction) {\n            return;\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n    };\n    Carousel.prototype.renderTouchActions = function () {\n        if (!this.enableTouchSwipe) {\n            return;\n        }\n        this.touchModule = new Touch(this.element, { swipe: this.swipeHandler.bind(this) });\n    };\n    Carousel.prototype.applyAnimation = function () {\n        removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n        switch (this.animationEffect) {\n            case 'Slide':\n                addClass([this.element], CLS_SLIDE_ANIMATION);\n                break;\n            case 'Fade':\n                addClass([this.element], CLS_FADE_ANIMATION);\n                break;\n            case 'None':\n                addClass([this.element], CLS_ANIMATION_NONE);\n                break;\n            case 'Custom':\n                addClass([this.element], CLS_CUSTOM_ANIMATION);\n                break;\n        }\n    };\n    Carousel.prototype.autoSlide = function () {\n        if (isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n            return;\n        }\n        this.resetSlideInterval();\n        this.applySlideInterval();\n    };\n    Carousel.prototype.autoSlideChange = function () {\n        var activeSlide = this.element.querySelector(\".\" + CLS_ITEM + \".\" + CLS_ACTIVE)\n            || this.element.querySelector(\".\" + CLS_INDICATORS + \" .\" + CLS_ACTIVE);\n        if (isNullOrUndefined(activeSlide)) {\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        if (!this.loop && activeIndex === this.slideItems.length - 1) {\n            this.resetSlideInterval();\n        }\n        else {\n            var index = (activeIndex + 1) % this.slideItems.length;\n            if (!this.element.classList.contains(CLS_HOVER)) {\n                this.setActiveSlide(index, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.applySlideInterval = function () {\n        var _this = this;\n        if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n            return;\n        }\n        var itemInterval = this.interval;\n        if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex || 0].interval)) {\n            itemInterval = this.items[this.selectedIndex || 0].interval;\n        }\n        this.autoSlideInterval = setInterval(function () { return _this.autoSlideChange(); }, itemInterval);\n    };\n    Carousel.prototype.resetSlideInterval = function () {\n        clearInterval(this.autoSlideInterval);\n        this.autoSlideInterval = null;\n    };\n    Carousel.prototype.getSlideIndex = function (direction) {\n        var currentIndex = this.selectedIndex || 0;\n        if (direction === 'Previous') {\n            currentIndex--;\n            if (currentIndex < 0) {\n                currentIndex = this.slideItems.length - 1;\n            }\n        }\n        else {\n            currentIndex++;\n            if (currentIndex === this.slideItems.length) {\n                currentIndex = 0;\n            }\n        }\n        return currentIndex;\n    };\n    Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n        var _this = this;\n        if (isSwiped === void 0) { isSwiped = false; }\n        if (this.element.querySelectorAll(\".\" + CLS_ITEM + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM + \".\" + CLS_NEXT_SLIDE).length > 0) {\n            return;\n        }\n        currentIndex = isNullOrUndefined(currentIndex) ? 0 : currentIndex;\n        var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM + \":not(.e-cloned)\"));\n        var activeSlide = this.element.querySelector(\".\" + CLS_ITEM + \".\" + CLS_ACTIVE);\n        if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n            var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE);\n            var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n            addClass([allSlides[parseInt(activeIndex_1.toString(), 10)]], CLS_ACTIVE);\n            return;\n        }\n        else if (isNullOrUndefined(activeSlide)) {\n            addClass([allSlides[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE);\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        var currentSlide = allSlides[parseInt(currentIndex.toString(), 10)];\n        var eventArgs = {\n            currentIndex: activeIndex,\n            nextIndex: currentIndex,\n            currentSlide: activeSlide,\n            nextSlide: currentSlide,\n            slideDirection: direction,\n            isSwiped: isSwiped,\n            cancel: false\n        };\n        this.trigger('slideChanging', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ selectedIndex: currentIndex }, true);\n            attributes(args.currentSlide, { 'aria-hidden': 'true' });\n            args.currentSlide.setAttribute('inert', 'true');\n            attributes(args.nextSlide, { 'aria-hidden': 'false' });\n            args.nextSlide.removeAttribute('inert');\n            _this.refreshIndicators(activeIndex, currentIndex);\n            _this.slideChangedEventArgs = {\n                currentIndex: args.nextIndex,\n                previousIndex: args.currentIndex,\n                currentSlide: args.nextSlide,\n                previousSlide: args.currentSlide,\n                slideDirection: direction,\n                isSwiped: isSwiped\n            };\n            var slideWidth = allSlides[parseInt(currentIndex.toString(), 10)].clientWidth;\n            var numOfItems = _this.getNumOfItems();\n            if (!_this.isSwipe) {\n                _this.itemsContainer.style.transitionDuration = '0.6s';\n            }\n            _this.isSwipe = false;\n            if ((_this.animationEffect === 'Fade')) {\n                _this.itemsContainer.classList.add('e-fade-in-out');\n            }\n            else {\n                _this.itemsContainer.style.transitionProperty = 'transform';\n            }\n            if (_this.loop) {\n                if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n                    _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, allSlides.length + numOfItems);\n                }\n                else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n                    _this.itemsContainer.style.transform = _this.partialVisible ? _this.getTranslateX(slideWidth) : 'translateX(0px)';\n                }\n                else {\n                    _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, currentIndex + numOfItems);\n                }\n            }\n            else {\n                _this.itemsContainer.style.transform = _this.getTranslateX(slideWidth, currentIndex);\n            }\n            if (_this.animationEffect === 'Slide') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_PREV_SLIDE);\n                    args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n                }\n                else {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n                }\n            }\n            else if (_this.animationEffect === 'Fade') {\n                removeClass([args.currentSlide], CLS_ACTIVE);\n                addClass([args.nextSlide], CLS_ACTIVE);\n            }\n            else if (_this.animationEffect === 'Custom') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                }\n                else {\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                }\n            }\n            else {\n                _this.onTransitionEnd();\n            }\n            _this.handleNavigatorsActions(currentIndex);\n        });\n    };\n    Carousel.prototype.onTransitionEnd = function () {\n        var _this = this;\n        removeClass(this.element.querySelectorAll(\".\" + CLS_ITEMS), 'e-fade-in-out');\n        var numOfItems = this.getNumOfItems();\n        if (this.slideChangedEventArgs) {\n            this.itemsContainer.style.transitionProperty = 'none';\n            if (this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' ||\n                this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n                var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n                this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.slideChangedEventArgs.currentIndex + numOfItems);\n            }\n            addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE);\n            removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE);\n            this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n                removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n                _this.slideChangedEventArgs = null;\n            });\n        }\n    };\n    Carousel.prototype.refreshIndicators = function (activeIndex, currentIndex) {\n        var _this = this;\n        var slideIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BARS);\n        if (isNullOrUndefined(slideIndicator)) {\n            return;\n        }\n        var indicators = [].slice.call(slideIndicator.childNodes);\n        switch (this.indicatorsType) {\n            case 'Default':\n            case 'Dynamic':\n                attributes(indicators[parseInt(activeIndex.toString(), 10)], { 'aria-current': 'false' });\n                attributes(indicators[parseInt(currentIndex.toString(), 10)], { 'aria-current': 'true' });\n                removeClass(indicators, [CLS_ACTIVE, CLS_PREV_SLIDE, CLS_NEXT_SLIDE]);\n                addClass([indicators[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE);\n                if (indicators[currentIndex - 1]) {\n                    addClass([indicators[currentIndex - 1]], CLS_PREV_SLIDE);\n                }\n                if (indicators[currentIndex + 1]) {\n                    addClass([indicators[currentIndex + 1]], CLS_NEXT_SLIDE);\n                }\n                indicators.forEach(function (item) { return item.style.setProperty('--carousel-items-current', \"\" + _this.selectedIndex); });\n                break;\n            case 'Fraction':\n                if (this.indicatorsTemplate) {\n                    if (slideIndicator.children.length > 0) {\n                        slideIndicator.removeChild(slideIndicator.firstElementChild);\n                    }\n                    this.renderIndicatorTemplate(slideIndicator, currentIndex + 1);\n                }\n                else {\n                    slideIndicator.innerText = this.selectedIndex + 1 + \" / \" + this.slideItems.length;\n                }\n                break;\n            case 'Progress':\n                if (this.indicatorsTemplate) {\n                    if (slideIndicator.children.length > 0) {\n                        slideIndicator.removeChild(slideIndicator.firstElementChild);\n                    }\n                    this.renderIndicatorTemplate(slideIndicator, currentIndex + 1);\n                }\n                else {\n                    slideIndicator.firstElementChild.style.setProperty('--carousel-items-current', \"\" + (this.selectedIndex + 1));\n                }\n                break;\n        }\n    };\n    Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n        var keys = Object.keys(attribute);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (key === 'class') {\n                addClass([element], attribute[\"\" + key]);\n            }\n            else {\n                element.setAttribute(key, attribute[\"\" + key]);\n            }\n        }\n    };\n    Carousel.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n        var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n        if (button) {\n            var buttonObj = getInstance(button, Button);\n            return buttonObj.disabled;\n        }\n        return false;\n    };\n    Carousel.prototype.navigatorClickHandler = function (e) {\n        var target = e.currentTarget;\n        var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n        if (isDisabled) {\n            return;\n        }\n        var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n        this.setActiveSlide(this.getSlideIndex(direction), direction);\n        this.autoSlide();\n    };\n    Carousel.prototype.indicatorClickHandler = function (e) {\n        var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n        var index = parseInt(target.dataset.index, 10);\n        if (this.selectedIndex !== index) {\n            this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n        if (isPropertyChange === void 0) { isPropertyChange = false; }\n        var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n        if (playButton) {\n            var buttonObj = getInstance(playButton, Button);\n            if (!isPropertyChange) {\n                this.setProperties({ autoPlay: !this.autoPlay }, true);\n            }\n            playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n            buttonObj.iconCss = CLS_ICON + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n            buttonObj.dataBind();\n            this.itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n            if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n                this.setActiveSlide(0, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.keyHandler = function (e) {\n        if (!this.allowKeyboardInteraction) {\n            return;\n        }\n        var direction;\n        var slideIndex;\n        var isSlideTransition = false;\n        var target = e.target;\n        e.preventDefault();\n        switch (e.action) {\n            case 'space':\n                if (this.showIndicators && target.classList.contains(CLS_INDICATOR)) {\n                    target.click();\n                }\n                else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n                    this.playButtonClickHandler(e);\n                }\n                else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n                    this.next();\n                }\n                else if (target.classList.contains(CLS_PREV_BUTTON)) {\n                    this.prev();\n                }\n                break;\n            case 'end':\n                slideIndex = this.slideItems.length - 1;\n                direction = 'Next';\n                isSlideTransition = true;\n                break;\n            case 'home':\n                slideIndex = 0;\n                direction = 'Previous';\n                isSlideTransition = true;\n                break;\n            case 'moveUp':\n            case 'moveLeft':\n            case 'moveDown':\n            case 'moveRight':\n                if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n                    this.element.focus();\n                }\n                direction = (e.action === 'moveUp' || e.action === 'moveLeft') ? 'Previous' : 'Next';\n                slideIndex = this.getSlideIndex(direction);\n                isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n                break;\n        }\n        if (isSlideTransition) {\n            this.setActiveSlide(slideIndex, direction);\n            this.autoSlide();\n            isSlideTransition = false;\n        }\n    };\n    Carousel.prototype.swipeHandler = function (e) {\n        if (this.element.classList.contains(CLS_HOVER) || isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n            return;\n        }\n        if (this.swipeMode === (~CarouselSwipeMode.Touch & ~CarouselSwipeMode.Mouse)) {\n            return;\n        }\n        var eventType = e.startEvents ? e.startEvents.toString() : null;\n        if (eventType && ((this.swipeMode === CarouselSwipeMode.Mouse && eventType.includes('Touch')) ||\n            (this.swipeMode === CarouselSwipeMode.Touch && eventType.includes('Mouse')))) {\n            return;\n        }\n        var direction = (e.swipeDirection === 'Right') ? 'Previous' : 'Next';\n        var slideIndex = this.getSlideIndex(direction);\n        if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n            this.setActiveSlide(slideIndex, direction, true);\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n        return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n    };\n    Carousel.prototype.handleNavigatorsActions = function (index) {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        if (this.showPlayButton) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n            if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n                isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE);\n            }\n            if (isButtonUpdate) {\n                this.setProperties({ autoPlay: !isLastSlide }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n                this.itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n                var buttonObj = getInstance(playButton, Button);\n                buttonObj.iconCss = CLS_ICON + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n                buttonObj.dataBind();\n            }\n        }\n        var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n        if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n            var buttonObj = getInstance(prevButton, Button);\n            buttonObj.disabled = !this.loop && index === 0;\n            buttonObj.dataBind();\n        }\n        var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n        if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n            var buttonObj = getInstance(nextButton, Button);\n            buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n            buttonObj.dataBind();\n        }\n    };\n    Carousel.prototype.onHoverActions = function (e) {\n        var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        switch (e.type) {\n            case 'mouseenter':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                if (this.pauseOnHover) {\n                    addClass([this.element], CLS_HOVER);\n                }\n                break;\n            case 'mouseleave':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                removeClass([this.element], CLS_HOVER);\n                if (this.isSwipe) {\n                    this.swipStop();\n                }\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.onFocusActions = function (e) {\n        switch (e.type) {\n            case 'focusin':\n                addClass([this.element], CLS_HOVER);\n                break;\n            case 'focusout':\n                removeClass([this.element], CLS_HOVER);\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.destroyButtons = function () {\n        var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n        for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n            var button = buttonCollections_1[_i];\n            var instance = getInstance(button, Button);\n            if (instance) {\n                instance.destroy();\n            }\n        }\n    };\n    Carousel.prototype.getNumOfItems = function () {\n        return this.partialVisible ? 2 : 1;\n    };\n    Carousel.prototype.getTranslateValue = function (element) {\n        var style = getComputedStyle(element);\n        return window.WebKitCSSMatrix ?\n            new WebKitCSSMatrix(style.webkitTransform).m41 : 0;\n    };\n    Carousel.prototype.swipeStart = function (e) {\n        if (!this.timeStampStart) {\n            this.timeStampStart = Date.now();\n        }\n        e.preventDefault();\n        this.isSwipe = false;\n        this.itemsContainer.classList.add('e-swipe-start');\n        this.prevPageX = e.touches ? e.touches[0].pageX : e.pageX;\n        this.initialTranslate = this.getTranslateValue(this.itemsContainer);\n    };\n    Carousel.prototype.swiping = function (e) {\n        if (!this.itemsContainer.classList.contains('e-swipe-start')) {\n            return;\n        }\n        this.isSwipe = true;\n        e.preventDefault();\n        var pageX = e.touches ? e.touches[0].pageX : e.pageX;\n        var positionDiff = this.prevPageX - (pageX);\n        if (!this.loop && ((this.enableRtl && ((this.selectedIndex === 0 && positionDiff > 0) ||\n            (this.selectedIndex === this.itemsContainer.childElementCount - 1 && positionDiff < 0))) ||\n            (!this.enableRtl && ((this.selectedIndex === 0 && positionDiff < 0) ||\n                (this.selectedIndex === this.itemsContainer.childElementCount - 1 && positionDiff > 0))))) {\n            return;\n        }\n        this.itemsContainer.style.transform = \"translateX(\" + (this.initialTranslate + (this.enableRtl ? positionDiff : -positionDiff)) + \"px)\";\n    };\n    Carousel.prototype.swipStop = function () {\n        var time = Date.now() - this.timeStampStart;\n        var distanceX = this.getTranslateValue(this.itemsContainer) - this.initialTranslate;\n        distanceX = distanceX < 0 ? distanceX * -1 : distanceX;\n        if (this.isSwipe) {\n            var offsetDist = distanceX * (Browser.isDevice ? 6 : 1.66);\n            this.itemsContainer.style.transitionDuration = (((Browser.isDevice ? distanceX : offsetDist) / time) / 10) + 's';\n        }\n        var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n        var threshold = slideWidth / 2;\n        this.itemsContainer.classList.remove('e-swipe-start');\n        var value = this.getTranslateValue(this.itemsContainer);\n        if (value - this.initialTranslate < -threshold) {\n            this.swipeNavigation(!this.enableRtl);\n        }\n        else if (value - this.initialTranslate > threshold) {\n            this.swipeNavigation(this.enableRtl);\n        }\n        else {\n            this.itemsContainer.style.transform = \"translateX(\" + this.initialTranslate + \"px)\";\n            if (this.animationEffect === 'Fade') {\n                this.itemsContainer.classList.add('e-fade-in-out');\n            }\n        }\n    };\n    Carousel.prototype.swipeNavigation = function (isRtl) {\n        if (isRtl) {\n            this.next();\n        }\n        else {\n            this.prev();\n        }\n    };\n    Carousel.prototype.swipeModehandlers = function () {\n        if ((this.swipeMode & CarouselSwipeMode.Touch) === CarouselSwipeMode.Touch) {\n            EventHandler.add(this.itemsContainer, 'touchstart', this.swipeStart, this);\n            EventHandler.add(this.itemsContainer, 'touchmove', this.swiping, this);\n            EventHandler.add(this.itemsContainer, 'touchend', this.swipStop, this);\n        }\n        if ((this.swipeMode & CarouselSwipeMode.Mouse) === CarouselSwipeMode.Mouse) {\n            EventHandler.add(this.itemsContainer, 'mousedown', this.swipeStart, this);\n            EventHandler.add(this.itemsContainer, 'mousemove', this.swiping, this);\n            EventHandler.add(this.itemsContainer, 'mouseup', this.swipStop, this);\n        }\n        if ((this.swipeMode === 0) && (this.swipeMode & CarouselSwipeMode.Mouse & CarouselSwipeMode.Touch) ===\n            (CarouselSwipeMode.Mouse & CarouselSwipeMode.Touch)) {\n            EventHandler.add(this.itemsContainer, 'mousedown touchstart', this.swipeStart, this);\n            EventHandler.add(this.itemsContainer, 'mousemove touchmove', this.swiping, this);\n            EventHandler.add(this.itemsContainer, 'mouseup touchend', this.swipStop, this);\n        }\n    };\n    Carousel.prototype.resizeHandler = function () {\n        if (this.itemsContainer && this.itemsContainer.firstElementChild) {\n            var numOfItems = this.getNumOfItems();\n            var slideWidth = this.itemsContainer.firstElementChild.clientWidth;\n            if (this.loop) {\n                this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + numOfItems);\n            }\n            else {\n                this.itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex);\n            }\n        }\n    };\n    Carousel.prototype.wireEvents = function () {\n        if (this.animationEffect !== 'Custom' && this.enableTouchSwipe) {\n            this.swipeModehandlers();\n        }\n        EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n        EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n        EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n        EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n    };\n    Carousel.prototype.unWireEvents = function () {\n        var _this = this;\n        var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n        indicators.forEach(function (indicator) {\n            EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n        });\n        var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n        navigators.forEach(function (navigator) {\n            EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n        });\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n        if (playIcon) {\n            EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n        }\n        EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n        EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n        EventHandler.clearEvents(this.element);\n        EventHandler.clearEvents(this.itemsContainer);\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n    };\n    /**\n     * Method to transit from the current slide to the previous slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.prev = function () {\n        if (!this.loop && this.selectedIndex === 0) {\n            return;\n        }\n        var index = (this.selectedIndex === 0) ? this.slideItems.length - 1 : this.selectedIndex - 1;\n        this.setActiveSlide(index, 'Previous');\n        this.autoSlide();\n    };\n    /**\n     * Method to transit from the current slide to the next slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.next = function () {\n        if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n            return;\n        }\n        var index = (this.selectedIndex === this.slideItems.length - 1) ? 0 : this.selectedIndex + 1;\n        this.setActiveSlide(index, 'Next');\n        this.autoSlide();\n    };\n    /**\n     * Method to play the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.play = function () {\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n        if (this.showPlayButton && playIcon) {\n            classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n        }\n        this.setProperties({ autoPlay: true }, true);\n        this.itemsContainer.setAttribute('aria-live', 'off');\n        this.applySlideInterval();\n    };\n    /**\n     * Method to pause the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.pause = function () {\n        var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n        if (this.showPlayButton && pauseIcon) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n            classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n        }\n        this.setProperties({ autoPlay: false }, true);\n        this.itemsContainer.setAttribute('aria-live', 'off');\n        this.resetSlideInterval();\n    };\n    /**\n     * Method to render react and angular templates\n     *\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.renderTemplates = function () {\n        if (this.isAngular || this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Method to reset react and angular templates\n     *\n     * @param {string[]} templates Accepts the template ID\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.resetTemplates = function (templates) {\n        if (this.isAngular || this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    /**\n     * Method for destroy the carousel component.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.destroy = function () {\n        var _this = this;\n        this.resetTemplates();\n        if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        if (this.keyModule) {\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n        this.resetSlideInterval();\n        this.destroyButtons();\n        this.unWireEvents();\n        [].slice.call(this.element.children).forEach(function (ele) { _this.element.removeChild(ele); });\n        removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL, CLS_SWIPE]);\n        ['role', 'style'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        this.itemsContainer = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Collection([], CarouselItem)\n    ], Carousel.prototype, \"items\", void 0);\n    __decorate([\n        Property('Slide')\n    ], Carousel.prototype, \"animationEffect\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"previousButtonTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"nextButtonTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"indicatorsTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"playButtonTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], Carousel.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(0)\n    ], Carousel.prototype, \"selectedIndex\", void 0);\n    __decorate([\n        Property('100%')\n    ], Carousel.prototype, \"width\", void 0);\n    __decorate([\n        Property('100%')\n    ], Carousel.prototype, \"height\", void 0);\n    __decorate([\n        Property(5000)\n    ], Carousel.prototype, \"interval\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"autoPlay\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"pauseOnHover\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"loop\", void 0);\n    __decorate([\n        Property(false)\n    ], Carousel.prototype, \"showPlayButton\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"enableTouchSwipe\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"allowKeyboardInteraction\", void 0);\n    __decorate([\n        Property(true)\n    ], Carousel.prototype, \"showIndicators\", void 0);\n    __decorate([\n        Property('Default')\n    ], Carousel.prototype, \"indicatorsType\", void 0);\n    __decorate([\n        Property('Visible')\n    ], Carousel.prototype, \"buttonsVisibility\", void 0);\n    __decorate([\n        Property(false)\n    ], Carousel.prototype, \"partialVisible\", void 0);\n    __decorate([\n        Property(CarouselSwipeMode.Touch)\n    ], Carousel.prototype, \"swipeMode\", void 0);\n    __decorate([\n        Property()\n    ], Carousel.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Event()\n    ], Carousel.prototype, \"slideChanging\", void 0);\n    __decorate([\n        Event()\n    ], Carousel.prototype, \"slideChanged\", void 0);\n    Carousel = __decorate([\n        NotifyPropertyChanges\n    ], Carousel);\n    return Carousel;\n}(Component));\nexport { Carousel };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
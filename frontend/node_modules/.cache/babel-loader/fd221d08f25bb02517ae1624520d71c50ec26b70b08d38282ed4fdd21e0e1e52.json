{"ast":null,"code":"import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */function () {\n  function CheckBoxSelection(parent) {\n    this.activeLi = [];\n    this.activeEle = [];\n    this.parent = parent;\n    this.removeEventListener();\n    this.addEventListener();\n  }\n  CheckBoxSelection.prototype.getModuleName = function () {\n    return 'CheckBoxSelection';\n  };\n  CheckBoxSelection.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on('updatelist', this.listSelection, this);\n    this.parent.on('listoption', this.listOption, this);\n    this.parent.on('selectAll', this.setSelectAll, this);\n    this.parent.on('checkSelectAll', this.checkSelectAll, this);\n    this.parent.on('searchBox', this.setSearchBox, this);\n    this.parent.on('blur', this.onBlurHandler, this);\n    this.parent.on('targetElement', this.targetElement, this);\n    this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n    this.parent.on('inputFocus', this.getFocus, this);\n    this.parent.on('reOrder', this.setReorder, this);\n    this.parent.on('activeList', this.getActiveList, this);\n    this.parent.on('selectAllText', this.setLocale, this);\n    this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n    EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n    this.parent.on('addItem', this.checboxCreate, this);\n    this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n  };\n  CheckBoxSelection.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off('updatelist', this.listSelection);\n    this.parent.off('listoption', this.listOption);\n    this.parent.off('selectAll', this.setSelectAll);\n    this.parent.off('checkSelectAll', this.checkSelectAll);\n    this.parent.off('searchBox', this.setSearchBox);\n    this.parent.off('blur', this.onBlurHandler);\n    this.parent.off('targetElement', this.targetElement);\n    this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n    this.parent.off('inputFocus', this.getFocus);\n    this.parent.off('reOrder', this.setReorder);\n    this.parent.off('activeList', this.getActiveList);\n    this.parent.off('selectAllText', this.setLocale);\n    this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n    this.parent.off('addItem', this.checboxCreate);\n    this.parent.off('popupFullScreen', this.setPopupFullScreen);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.listOption = function (args) {\n    var _this = this;\n    if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n      };\n    } else {\n      var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n        itemCreated_1.apply(_this, [e]);\n      };\n    }\n  };\n  CheckBoxSelection.prototype.setPlaceholder = function (props) {\n    Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n  };\n  CheckBoxSelection.prototype.checboxCreate = function (e) {\n    var item;\n    if (!isNullOrUndefined(e.item)) {\n      item = e.item;\n    } else {\n      item = e;\n    }\n    if (this.parent.enableGroupCheckBox || item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n      var checkboxEle = createCheckBox(this.parent.createElement, true);\n      var icon = select('div.' + ICON, item);\n      item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      select('.' + CHECKBOXFRAME, checkboxEle);\n      if (this.parent.enableGroupCheckBox) {\n        this.parent.popupWrapper.classList.add('e-multiselect-group');\n      }\n      return item;\n    } else {\n      return item;\n    }\n  };\n  CheckBoxSelection.prototype.setSelectAll = function () {\n    if (this.parent.showSelectAll) {\n      if (isNullOrUndefined(this.checkAllParent)) {\n        this.checkAllParent = this.parent.createElement('div', {\n          className: checkAllParent\n        });\n        this.selectAllSpan = this.parent.createElement('span', {\n          className: 'e-all-text'\n        });\n        this.selectAllSpan.textContent = '';\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        this.checboxCreate(this.checkAllParent);\n        if (this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            append([this.checkAllParent], this.parent.filterParent);\n          } else {\n            append([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        if (!this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n          } else {\n            prepend([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n      }\n      if (this.parent.list.classList.contains('e-nodata') || this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization && !this.parent.isDynamicDataChange || this.parent.isDynamicDataChange && this.parent.listData && this.parent.listData.length <= 1) {\n        this.checkAllParent.style.display = 'none';\n      } else {\n        this.checkAllParent.style.display = 'block';\n      }\n      this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    } else if (!isNullOrUndefined(this.checkAllParent)) {\n      this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n  CheckBoxSelection.prototype.destroy = function () {\n    this.removeEventListener();\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.checkAllParent = null;\n    this.clearIconElement = null;\n    this.filterInput = null;\n    this.filterInputObj = null;\n    this.checkWrapper = null;\n    this.selectAllSpan = null;\n  };\n  CheckBoxSelection.prototype.listSelection = function (args) {\n    var target;\n    if (!isNullOrUndefined(args.e)) {\n      var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n      target = !isNullOrUndefined(args.e.target) ? args.e.target.classList.contains('e-frame') && (!this.parent.showSelectAll || this.checkAllParent && !this.checkAllParent.contains(args.e.target)) ? args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1] : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n    } else {\n      var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n      target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n    }\n    if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n      target = args.li.firstElementChild.childNodes[1];\n    }\n    if (!isNullOrUndefined(target)) {\n      this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    }\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      var selectAll = false;\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n    }\n  };\n  CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n  };\n  CheckBoxSelection.prototype.clickHandler = function (e) {\n    var target;\n    if (e.currentTarget.classList.contains(this.checkAllParent.className) || e.currentTarget.classList.value === this.checkAllParent.className) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.currentTarget;\n    }\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    var selectAll = true;\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n    }\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n      if (selectAll) {\n        this.parent.selectAllItems(true, e);\n        this.setLocale(true);\n      }\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK, INDETERMINATE]);\n      ariaState = 'false';\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    } else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n      removeClass([frameSpan], [CHECK]);\n      frameSpan.classList.add(INDETERMINATE);\n      ariaState = 'false';\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.setSearchBox = function (args) {\n    if (isNullOrUndefined(this.parent.filterParent)) {\n      this.parent.filterParent = this.parent.createElement('span', {\n        className: filterParent\n      });\n      this.filterInput = this.parent.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: filterInput\n      });\n      this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n      var backIcon = false;\n      if (Browser.isDevice && this.parent.isDeviceFullScreen) {\n        backIcon = true;\n        this.parent.mobFilter = false;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n        properties: {\n          placeholder: this.parent.filterBarPlaceholder\n        }\n      }, this.parent.createElement);\n      if (!isNullOrUndefined(this.parent.cssClass)) {\n        if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], this.parent.filterParent);\n      prepend([this.parent.filterParent], args.popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-label': 'multiselect',\n        'aria-expanded': 'true',\n        'aria-controls': args.popupElement.id\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n      EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n      EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n      this.parent.searchBoxHeight = this.filterInputObj.container.parentElement.getBoundingClientRect().height;\n      return this.filterInputObj;\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n    this.parent.hidePopup();\n    removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    this.parent.inputElement.focus();\n  };\n  CheckBoxSelection.prototype.clearText = function (e) {\n    this.parent.targetInputElement.value = '';\n    if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n      this.parent.search(null);\n    }\n    this.parent.refreshListItems(null);\n    this.parent.refreshPopup();\n    this.clearIconElement.style.visibility = 'hidden';\n    this.filterInput.focus();\n    if (!this.parent.enableVirtualization || this.parent.enableVirtualization && (isNullOrUndefined(this.parent.value) || this.parent.value && this.parent.value.length === 0)) {\n      this.setReorder(e);\n    }\n    this.boundPreventListSelection = this.preventListSelection.bind(this);\n    this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.preventListSelection = function (e) {\n    e.stopPropagation();\n    this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n    this.boundPreventListSelection = null;\n  };\n  CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n    this.parent.popupObj.element.classList.add(device);\n    this.parent.popupObj.element.classList.add(mobileFilter);\n    this.parent.popupObj.position = {\n      X: 0,\n      Y: 0\n    };\n    this.parent.popupObj.dataBind();\n    this.setSearchBoxPosition();\n    this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n    this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n    this.clearIconElement.style.visibility = 'hidden';\n    EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n    EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n  };\n  CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    var selectAllHeight = 0;\n    var footerHeight = 0;\n    var headerHeight = 0;\n    if (this.checkAllParent) {\n      selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    }\n    if (this.parent.header) {\n      headerHeight = this.parent.header.getBoundingClientRect().height;\n    }\n    if (this.parent.footer) {\n      footerHeight = this.parent.footer.getBoundingClientRect().height;\n    }\n    this.parent.popupObj.element.style.maxHeight = '100%';\n    this.parent.popupObj.element.style.width = '100%';\n    this.parent.list.style.maxHeight = window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight + 'px';\n    this.parent.list.style.height = window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  CheckBoxSelection.prototype.setPopupFullScreen = function () {\n    if (this.parent && this.parent.popupObj) {\n      attributes(this.parent.popupObj.element, {\n        style: 'left:0px;right:0px;top:0px;bottom:0px;'\n      });\n      addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n      this.parent.popupObj.element.style.maxHeight = '100%';\n      this.parent.popupObj.element.style.width = '100%';\n    }\n  };\n  CheckBoxSelection.prototype.targetElement = function () {\n    if (!isNullOrUndefined(this.clearIconElement)) {\n      this.parent.targetInputElement = this.filterInput;\n      this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n    }\n    return this.parent.targetInputElement.value;\n  };\n  CheckBoxSelection.prototype.onBlurHandler = function (e) {\n    if (!this.parent.element.classList.contains('e-listbox')) {\n      var target = void 0;\n      if (this.parent.keyAction) {\n        return;\n      }\n      if (Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.target;\n      }\n      if (!Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.relatedTarget;\n      }\n      // eslint-disable-next-line max-len\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE && this.filterInput) {\n        this.filterInput.focus();\n        return;\n      }\n      if (this.parent.scrollFocusStatus && this.filterInput) {\n        e.preventDefault();\n        this.filterInput.focus();\n        this.parent.scrollFocusStatus = false;\n        return;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n        this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        this.parent.trigger('blur');\n        this.parent.focused = true;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n        this.parent.hidePopup();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.onDocumentClick = function (e) {\n    if (this.parent.getLocaleName() !== 'listbox') {\n      var target = e.target;\n      if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n        if (!(this.filterInput && this.filterInput.value !== '')) {\n          e.preventDefault();\n        }\n      }\n      if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n        if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n          this.parent.inputFocus = false;\n          this.parent.scrollFocusStatus = false;\n          this.parent.hidePopup();\n          this.parent.onBlurHandler(e, true);\n          this.parent.focused = true;\n        }\n      } else {\n        this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.filterInput;\n      }\n      if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') && !this.parent.isPopupOpen()) {\n        if (Browser.isIE) {\n          this.parent.onBlurHandler();\n        } else {\n          this.parent.onBlurHandler(e);\n        }\n      }\n      if (this.filterInput === target) {\n        this.filterInput.focus();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.getFocus = function (e) {\n    this.parent.overAllWrapper.classList.remove(FOCUS);\n    if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n      this.parent.keyAction = false;\n      return;\n    }\n    if (e.value === 'focus') {\n      this.filterInput.focus();\n      this.parent.removeFocus();\n      EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n    }\n    if (e.value === 'clear') {\n      this.filterInput.value = '';\n      this.clearIconElement.style.visibility = 'hidden';\n    }\n  };\n  CheckBoxSelection.prototype.checkSelectAll = function (e) {\n    if (e.value === 'check') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale(true);\n    }\n    if (e.value === 'uncheck') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n    if (e.value === 'indeterminate') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n  };\n  CheckBoxSelection.prototype.setLocale = function (unSelect) {\n    if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n      this.selectAllSpan.textContent = '';\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n      for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      var l10nLocale = {\n        selectAllText: 'Select All',\n        unSelectAllText: 'Unselect All'\n      };\n      var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n      if (l10n.getConstant('selectAllText') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n      }\n      if (!isNullOrUndefined(this.selectAllSpan)) {\n        this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n      }\n    }\n  };\n  CheckBoxSelection.prototype.getActiveList = function (args) {\n    if (args.li.classList.contains('e-active')) {\n      this.activeLi.push(args.li.cloneNode(true));\n    } else {\n      this.activeLi.splice(args.index, 1);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.setReorder = function (args) {\n    if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n      var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n      var remLi = void 0;\n      var ulEle_1 = this.parent.createElement('ul', {\n        className: 'e-list-parent e-ul e-reorder'\n      });\n      if (activeLiCount > 0) {\n        var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n        activeListItems.forEach(function (item) {\n          ulEle_1.appendChild(item);\n        });\n        remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n        addClass(remLi, 'e-reorder-hide');\n        if (this.parent.enableVirtualization) {\n          var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n          prepend([ulEle_1], virtualUlElement);\n        } else {\n          prepend([ulEle_1], this.parent.list);\n        }\n      }\n      this.parent.focusAtFirstListItem();\n    }\n  };\n  return CheckBoxSelection;\n}();\nexport { CheckBoxSelection };","map":{"version":3,"names":["createCheckBox","Input","EventHandler","select","removeClass","addClass","detach","compile","L10n","Browser","attributes","isNullOrUndefined","append","closest","prepend","dropDownBaseClasses","ICON","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","INDETERMINATE","checkAllParent","searchBackIcon","filterBarClearIcon","filterInput","filterParent","mobileFilter","clearIcon","popupFullScreen","device","FOCUS","CheckBoxSelection","parent","activeLi","activeEle","removeEventListener","addEventListener","prototype","getModuleName","isDestroyed","on","listSelection","listOption","setSelectAll","checkSelectAll","setSearchBox","onBlurHandler","targetElement","setDeviceSearchBox","getFocus","setReorder","getActiveList","setLocale","setPlaceholder","add","document","onDocumentClick","checboxCreate","setPopupFullScreen","off","args","_this","listCurrentOptions","itemCreated","e","itemCreated_1","apply","props","filterBarPlaceholder","item","enableGroupCheckBox","className","checkboxEle","createElement","icon","insertBefore","childNodes","popupWrapper","classList","showSelectAll","selectAllSpan","textContent","appendChild","headerTemplate","parentNode","nextSibling","clickHandler","list","contains","listData","length","enableVirtualization","isDynamicDataChange","style","display","selectAllHeight","getBoundingClientRect","height","parentElement","removeChild","destroy","remove","clearIconElement","filterInputObj","checkWrapper","target","frameElm","li","querySelector","checkboxWrapper","lastElementChild","itemTemplate","firstElementChild","checkElement","selectAll","validateCheckNode","checkWrap","isCheck","changeState","currentTarget","value","preventDefault","wrapper","state","isPrevent","ariaState","frameSpan","getElementsByClassName","selectAllItems","attrs","type","element","backIcon","isDevice","isDeviceFullScreen","mobFilter","createInput","buttons","properties","placeholder","cssClass","split","indexOf","container","popupElement","id","clearText","visibility","onInput","keyUp","onKeyDown","pasteHandler","searchBoxHeight","clickOnBackIcon","hidePopup","body","popupObj","inputElement","focus","targetInputElement","allowFiltering","search","refreshListItems","refreshPopup","boundPreventListSelection","preventListSelection","bind","stopPropagation","position","X","Y","dataBind","setSearchBoxPosition","backIconElement","footerHeight","headerHeight","header","footer","maxHeight","width","window","innerHeight","clearElement","keyAction","isIE","relatedTarget","scrollFocusStatus","inputFocus","updateValueState","tempValues","dispatchEvent","hiddenElement","overAllWrapper","trigger","focused","getLocaleName","isPopupOpen","info","name","activeElement","removeFocus","unSelect","selectAllText","unSelectAllText","template","compiledString","templateName","_i","_a","isStringTemplate","l10nLocale","l10n","locale","getConstant","push","cloneNode","splice","index","enableSelectionOrder","activeLiCount","ulElement","querySelectorAll","remLi","ulEle_1","activeListItems","forEach","virtualUlElement","focusAtFirstListItem"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-dropdowns/src/multi-select/checkbox-selection.js"],"sourcesContent":["import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) ||\n            (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK]);\n            frameSpan.classList.add(INDETERMINATE);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice && this.parent.isDeviceFullScreen) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'aria-label': 'multiselect',\n                'aria-expanded': 'true',\n                'aria-controls': args.popupElement.id\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshListItems(null);\n        this.parent.refreshPopup();\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        if (!this.parent.enableVirtualization || (this.parent.enableVirtualization && (isNullOrUndefined(this.parent.value)\n            || (this.parent.value && this.parent.value.length === 0)))) {\n            this.setReorder(e);\n        }\n        this.boundPreventListSelection = this.preventListSelection.bind(this);\n        this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.preventListSelection = function (e) {\n        e.stopPropagation();\n        this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n        this.boundPreventListSelection = null;\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        var footerHeight = 0;\n        var headerHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        if (this.parent.header) {\n            headerHeight = this.parent.header.getBoundingClientRect().height;\n        }\n        if (this.parent.footer) {\n            footerHeight = this.parent.footer.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight - headerHeight - footerHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            if (!isNullOrUndefined(this.selectAllSpan)) {\n                this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                if (this.parent.enableVirtualization) {\n                    var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n                    prepend([ulEle_1], virtualUlElement);\n                }\n                else {\n                    prepend([ulEle_1], this.parent.list);\n                }\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide, destroy as collisionDestroy, getTransformElement, getZoomValue } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */function (_super) {\n  __extends(PositionData, _super);\n  function PositionData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('left')], PositionData.prototype, \"X\", void 0);\n  __decorate([Property('top')], PositionData.prototype, \"Y\", void 0);\n  return PositionData;\n}(ChildProperty);\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n  ROOT: 'e-popup',\n  RTL: 'e-rtl',\n  OPEN: 'e-popup-open',\n  CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */function (_super) {\n  __extends(Popup, _super);\n  function Popup(element, options) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {PopupModel} newProp - specifies the new property\n   * @param {PopupModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n  Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n        case 'zIndex':\n          setStyleAttribute(this.element, {\n            'zIndex': newProp.zIndex\n          });\n          break;\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n        case 'position':\n        case 'relateTo':\n          this.refreshPosition();\n          break;\n        case 'offsetX':\n          {\n            var x = newProp.offsetX - oldProp.offsetX;\n            this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + 'px';\n            break;\n          }\n        case 'offsetY':\n          {\n            var y = newProp.offsetY - oldProp.offsetY;\n            this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + 'px';\n            break;\n          }\n        case 'content':\n          this.setContent();\n          break;\n        case 'actionOnScroll':\n          if (newProp.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n          } else {\n            this.unwireScrollEvents();\n          }\n          break;\n      }\n    }\n  };\n  /**\n   * gets the Component module name.\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.getModuleName = function () {\n    return 'popup';\n  };\n  /**\n   * To resolve if any collision occurs.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.resolveCollision = function () {\n    this.checkCollision();\n  };\n  /**\n   * gets the persisted state properties of the Component.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the control.\n   *\n   * @returns {void}\n   */\n  Popup.prototype.destroy = function () {\n    if (this.element.classList.contains('e-popup-open')) {\n      this.unwireEvents();\n    }\n    this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n    this.content = null;\n    this.relateTo = null;\n    collisionDestroy();\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.render = function () {\n    this.element.classList.add(CLASSNAMES.ROOT);\n    var styles = {};\n    if (this.zIndex !== 1000) {\n      styles.zIndex = this.zIndex;\n    }\n    if (this.width !== 'auto') {\n      styles.width = formatUnit(this.width);\n    }\n    if (this.height !== 'auto') {\n      styles.height = formatUnit(this.height);\n    }\n    setStyleAttribute(this.element, styles);\n    this.fixedParent = false;\n    this.setEnableRtl();\n    this.setContent();\n  };\n  Popup.prototype.wireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n    }\n    if (this.actionOnScroll !== 'none') {\n      this.wireScrollEvents();\n    }\n  };\n  Popup.prototype.wireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_1 = _a[_i];\n        EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n      }\n    }\n  };\n  Popup.prototype.unwireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n    }\n    if (this.actionOnScroll !== 'none') {\n      this.unwireScrollEvents();\n    }\n  };\n  Popup.prototype.unwireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_2 = _a[_i];\n        EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n      }\n    }\n  };\n  Popup.prototype.getRelateToElement = function () {\n    var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ? document.body : this.relateTo;\n    this.setProperties({\n      relateTo: relateToElement\n    }, true);\n    return typeof this.relateTo === 'string' ? document.querySelector(this.relateTo) : this.relateTo;\n  };\n  Popup.prototype.scrollRefresh = function (e) {\n    if (this.actionOnScroll === 'reposition') {\n      if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target || this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && e.target.parentElement == null)) {\n        this.refreshPosition();\n      }\n    } else if (this.actionOnScroll === 'hide') {\n      this.hide();\n    }\n    if (this.actionOnScroll !== 'none') {\n      if (this.getRelateToElement()) {\n        var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n        if (!targetVisible && !this.targetInvisibleStatus) {\n          this.trigger('targetExitViewport');\n          this.targetInvisibleStatus = true;\n        } else if (targetVisible) {\n          this.targetInvisibleStatus = false;\n        }\n      }\n    }\n  };\n  /**\n   * This method is to get the element visibility on viewport when scroll\n   * the page. This method will returns true even though 1 px of element\n   * part is in visible.\n   *\n   * @param {HTMLElement} relateToElement - specifies the element\n   * @param {HTMLElement} scrollElement - specifies the scroll element\n   * @returns {boolean} - retruns the boolean\n   */\n  // eslint-disable-next-line\n  Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n    var scrollParents = this.getScrollableParent(relateToElement);\n    for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n      if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n    return true;\n  };\n  Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n    var rect = this.checkGetBoundingClientRect(relateToElement);\n    if (!rect.height || !rect.width) {\n      return false;\n    }\n    if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n      var parent_4 = scrollElement.getBoundingClientRect();\n      return !(rect.bottom < parent_4.top) && !(rect.bottom > parent_4.bottom) && !(rect.right > parent_4.right) && !(rect.left < parent_4.left);\n    } else {\n      var win = window;\n      var windowView = {\n        top: win.scrollY,\n        left: win.scrollX,\n        right: win.scrollX + win.outerWidth,\n        bottom: win.scrollY + win.outerHeight\n      };\n      var off = calculatePosition(relateToElement);\n      var ele = {\n        top: off.top,\n        left: off.left,\n        right: off.left + rect.width,\n        bottom: off.top + rect.height\n      };\n      var elementView = {\n        top: windowView.bottom - ele.top,\n        left: windowView.right - ele.left,\n        bottom: ele.bottom - windowView.top,\n        right: ele.right - windowView.left\n      };\n      return elementView.top > 0 && elementView.left > 0 && elementView.right > 0 && elementView.bottom > 0;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Popup.prototype.preRender = function () {\n    //There is no event handler\n  };\n  Popup.prototype.setEnableRtl = function () {\n    this.reposition();\n    if (this.enableRtl) {\n      this.element.classList.add(CLASSNAMES.RTL);\n    } else {\n      this.element.classList.remove(CLASSNAMES.RTL);\n    }\n  };\n  Popup.prototype.setContent = function () {\n    if (!isNullOrUndefined(this.content)) {\n      this.element.innerHTML = '';\n      if (typeof this.content === 'string') {\n        this.element.textContent = this.content;\n      } else {\n        var relateToElem = this.getRelateToElement();\n        // eslint-disable-next-line\n        var props = this.content.props;\n        if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n          this.element.appendChild(this.content);\n        }\n      }\n    }\n  };\n  Popup.prototype.orientationOnChange = function () {\n    var _this = this;\n    setTimeout(function () {\n      _this.refreshPosition();\n    }, 200);\n  };\n  /**\n   * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n   *\n   * @param {HTMLElement} target - The target element.\n   * @param {boolean} collision - Specifies whether to check for collision.\n   * @returns {void}\n   */\n  Popup.prototype.refreshPosition = function (target, collision) {\n    if (!isNullOrUndefined(target)) {\n      this.checkFixedParent(target);\n    }\n    this.reposition();\n    if (!collision) {\n      this.checkCollision();\n    }\n  };\n  Popup.prototype.reposition = function () {\n    var pos;\n    var position;\n    var relateToElement = this.getRelateToElement();\n    if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n      pos = {\n        left: this.position.X,\n        top: this.position.Y\n      };\n    } else if (typeof this.position.X === 'string' && typeof this.position.Y === 'number' || typeof this.position.X === 'number' && typeof this.position.Y === 'string') {\n      var parentDisplay = void 0;\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      if (this.element.classList.contains('e-dlg-modal')) {\n        parentDisplay = this.element.parentElement.style.display;\n        this.element.parentElement.style.display = 'block';\n      }\n      position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      if (typeof this.position.X === 'string') {\n        pos = {\n          left: position.left,\n          top: this.position.Y\n        };\n      } else {\n        pos = {\n          left: this.position.X,\n          top: position.top\n        };\n      }\n      this.element.style.display = display;\n      if (this.element.classList.contains('e-dlg-modal')) {\n        this.element.parentElement.style.display = parentDisplay;\n      }\n    } else if (relateToElement) {\n      var height = this.element.clientHeight;\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY, height);\n      this.element.style.display = display;\n    } else {\n      pos = {\n        left: 0,\n        top: 0\n      };\n    }\n    if (!isNullOrUndefined(pos)) {\n      this.element.style.left = pos.left + 'px';\n      this.element.style.top = pos.top + 'px';\n    }\n  };\n  Popup.prototype.checkGetBoundingClientRect = function (ele) {\n    var eleRect;\n    try {\n      eleRect = ele.getBoundingClientRect();\n      return eleRect;\n    } catch (error) {\n      return null;\n    }\n  };\n  Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY, height) {\n    if (height === void 0) {\n      height = 0;\n    }\n    var eleRect = this.checkGetBoundingClientRect(ele);\n    var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n    if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n      return null;\n    }\n    var anchor = anchorEle;\n    var anchorPos = {\n      left: 0,\n      top: 0\n    };\n    if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n      anchorPos = calculatePosition(anchorEle);\n    } else {\n      if (ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY') {\n        ele = ele.parentElement;\n      }\n      anchorPos = calculateRelativeBasedPosition(anchor, ele);\n    }\n    switch (position.X) {\n      default:\n      case 'left':\n        break;\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth / 2 - eleRect.width / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width / 2 - eleRect.width / 2;\n        } else {\n          anchorPos.left += anchorRect.width / 2;\n        }\n        break;\n      case 'right':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth - eleRect.width;\n        } else if (this.targetType === 'container') {\n          var scaleX = 1;\n          var tranformElement = getTransformElement(ele);\n          if (tranformElement) {\n            var transformStyle = getComputedStyle(tranformElement).transform;\n            if (transformStyle !== 'none') {\n              var matrix = new DOMMatrix(transformStyle);\n              scaleX = matrix.a;\n            }\n            var zoomStyle = getComputedStyle(tranformElement).zoom;\n            if (zoomStyle !== 'none') {\n              var bodyZoom = getZoomValue(document.body);\n              scaleX = bodyZoom * scaleX;\n            }\n          }\n          anchorPos.left += (anchorRect.width - eleRect.width) / scaleX;\n        } else {\n          anchorPos.left += anchorRect.width;\n        }\n        break;\n    }\n    switch (position.Y) {\n      default:\n      case 'top':\n        break;\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight / 2 - eleRect.height / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height / 2 - eleRect.height / 2;\n        } else {\n          anchorPos.top += anchorRect.height / 2;\n        }\n        break;\n      case 'bottom':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight - eleRect.height;\n        } else if (this.targetType === 'container' && !ele.classList.contains('e-dialog')) {\n          anchorPos.top += anchorRect.height - eleRect.height;\n        } else if (this.targetType === 'container' && ele.classList.contains('e-dialog')) {\n          anchorPos.top += anchorRect.height - height;\n        } else {\n          anchorPos.top += anchorRect.height;\n        }\n        break;\n    }\n    anchorPos.left += offsetX;\n    anchorPos.top += offsetY;\n    return anchorPos;\n  };\n  Popup.prototype.callFlip = function (param) {\n    var relateToElement = this.getRelateToElement();\n    flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n  };\n  Popup.prototype.callFit = function (param) {\n    if (isCollide(this.element, this.viewPortElement).length !== 0) {\n      if (isNullOrUndefined(this.viewPortElement)) {\n        var data = fit(this.element, this.viewPortElement, param);\n        if (param.X) {\n          this.element.style.left = data.left + 'px';\n        }\n        if (param.Y) {\n          this.element.style.top = data.top + 'px';\n        }\n      } else {\n        var elementRect = this.checkGetBoundingClientRect(this.element);\n        var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n        if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n          return null;\n        }\n        if (param && param.Y === true) {\n          if (viewPortRect.top > elementRect.top) {\n            this.element.style.top = '0px';\n          } else if (viewPortRect.bottom < elementRect.bottom) {\n            this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n          }\n        }\n        if (param && param.X === true) {\n          if (viewPortRect.right < elementRect.right) {\n            this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n          } else if (viewPortRect.left > elementRect.left) {\n            this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n          }\n        }\n      }\n    }\n  };\n  Popup.prototype.checkCollision = function () {\n    var horz = this.collision.X;\n    var vert = this.collision.Y;\n    if (horz === 'none' && vert === 'none') {\n      return;\n    }\n    if (horz === 'flip' && vert === 'flip') {\n      this.callFlip({\n        X: true,\n        Y: true\n      });\n    } else if (horz === 'fit' && vert === 'fit') {\n      this.callFit({\n        X: true,\n        Y: true\n      });\n    } else {\n      if (horz === 'flip') {\n        this.callFlip({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'flip') {\n        this.callFlip({\n          Y: true,\n          X: false\n        });\n      }\n      if (horz === 'fit') {\n        this.callFit({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'fit') {\n        this.callFit({\n          X: false,\n          Y: true\n        });\n      }\n    }\n  };\n  /**\n   * Shows the popup element from screen.\n   *\n   * @returns {void}\n   * @param {AnimationModel} animationOptions - specifies the model\n   * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n   */\n  Popup.prototype.show = function (animationOptions, relativeElement) {\n    var _this = this;\n    this.wireEvents();\n    this.getRelateToElement();\n    if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n      var zIndexElement = isNullOrUndefined(relativeElement) ? this.element : relativeElement;\n      this.zIndex = getZindexPartial(zIndexElement);\n      setStyleAttribute(this.element, {\n        'zIndex': this.zIndex\n      });\n    }\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.showAnimation;\n    if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.checkCollision();\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n    }\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.begin = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.CLOSE);\n          addClass([_this.element], CLASSNAMES.OPEN);\n        }\n      };\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          _this.trigger('open');\n        }\n      };\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.trigger('open');\n    }\n  };\n  /**\n   * Hides the popup element from screen.\n   *\n   * @param {AnimationModel} animationOptions - To give the animation options.\n   * @returns {void}\n   */\n  Popup.prototype.hide = function (animationOptions) {\n    var _this = this;\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.hideAnimation;\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.OPEN);\n          addClass([_this.element], CLASSNAMES.CLOSE);\n          _this.trigger('close');\n        }\n      };\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n      this.trigger('close');\n    }\n    this.unwireEvents();\n  };\n  /**\n   * Gets scrollable parent elements for the given element.\n   *\n   * @returns {void}\n   * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n   */\n  Popup.prototype.getScrollableParent = function (element) {\n    this.checkFixedParent(element);\n    return getScrollableParent(element, this.fixedParent);\n  };\n  Popup.prototype.checkFixedParent = function (element) {\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n      var parentStyle = getComputedStyle(parent);\n      if ((parentStyle.position === 'fixed' || parentStyle.position === 'sticky') && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && getComputedStyle(this.element.offsetParent).overflow !== 'hidden') {\n        this.element.style.top = window.scrollY > parseInt(this.element.style.top, 10) ? formatUnit(window.scrollY - parseInt(this.element.style.top, 10)) : formatUnit(parseInt(this.element.style.top, 10) - window.scrollY);\n        this.element.style.position = 'fixed';\n        this.fixedParent = true;\n      }\n      parent = parent.parentElement;\n      if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed' && this.element.style.position === 'fixed') {\n        this.fixedParent = true;\n      }\n    }\n  };\n  __decorate([Property('auto')], Popup.prototype, \"height\", void 0);\n  __decorate([Property('auto')], Popup.prototype, \"width\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"content\", void 0);\n  __decorate([Property('container')], Popup.prototype, \"targetType\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"viewPortElement\", void 0);\n  __decorate([Property({\n    X: 'none',\n    Y: 'none'\n  })], Popup.prototype, \"collision\", void 0);\n  __decorate([Property('')], Popup.prototype, \"relateTo\", void 0);\n  __decorate([Complex({}, PositionData)], Popup.prototype, \"position\", void 0);\n  __decorate([Property(0)], Popup.prototype, \"offsetX\", void 0);\n  __decorate([Property(0)], Popup.prototype, \"offsetY\", void 0);\n  __decorate([Property(1000)], Popup.prototype, \"zIndex\", void 0);\n  __decorate([Property(false)], Popup.prototype, \"enableRtl\", void 0);\n  __decorate([Property('reposition')], Popup.prototype, \"actionOnScroll\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"showAnimation\", void 0);\n  __decorate([Property(null)], Popup.prototype, \"hideAnimation\", void 0);\n  __decorate([Event()], Popup.prototype, \"open\", void 0);\n  __decorate([Event()], Popup.prototype, \"close\", void 0);\n  __decorate([Event()], Popup.prototype, \"targetExitViewport\", void 0);\n  Popup = __decorate([NotifyPropertyChanges], Popup);\n  return Popup;\n}(Component);\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n  var eleStyle = getComputedStyle(element);\n  var scrollParents = [];\n  var overflowRegex = /(auto|scroll)/;\n  var parent = element.parentElement;\n  while (parent && parent.tagName !== 'HTML') {\n    var parentStyle = getComputedStyle(parent);\n    if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n      scrollParents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  if (!fixedParent) {\n    scrollParents.push(document);\n  }\n  return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n  // upto body traversal\n  var parent = element.parentElement;\n  var parentZindex = [];\n  while (parent) {\n    if (parent.tagName !== 'BODY') {\n      var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        parentZindex.push(index);\n      }\n      parent = parent.parentElement;\n    } else {\n      break;\n    }\n  }\n  var childrenZindex = [];\n  for (var i = 0; i < document.body.children.length; i++) {\n    if (!element.isEqualNode(document.body.children[i])) {\n      var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        childrenZindex.push(index);\n      }\n    }\n  }\n  childrenZindex.push('999');\n  var siblingsZindex = [];\n  if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n    var childNodes = [].slice.call(element.parentElement.children);\n    for (var i = 0; i < childNodes.length; i++) {\n      if (!element.isEqualNode(childNodes[i])) {\n        var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n        var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n        if (index !== 'auto' && position !== 'static') {\n          siblingsZindex.push(index);\n        }\n      }\n    }\n  }\n  var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n  // eslint-disable-next-line\n  var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n  if (tagName === void 0) {\n    tagName = ['*'];\n  }\n  var maxZindex = [];\n  for (var i = 0; i < tagName.length; i++) {\n    var elements = document.getElementsByTagName(tagName[i]);\n    for (var i_1 = 0; i_1 < elements.length; i_1++) {\n      var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n      if (index !== 'auto' && position !== 'static') {\n        maxZindex.push(index);\n      }\n    }\n  }\n  // eslint-disable-next-line\n  var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","setStyleAttribute","addClass","removeClass","ChildProperty","Complex","isNullOrUndefined","formatUnit","Browser","calculatePosition","calculateRelativeBasedPosition","Animation","Property","Event","Component","NotifyPropertyChanges","EventHandler","flip","fit","isCollide","destroy","collisionDestroy","getTransformElement","getZoomValue","PositionData","_super","apply","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","element","options","call","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","width","height","zIndex","setEnableRtl","refreshPosition","x","offsetX","style","left","parseInt","toString","y","offsetY","top","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","resolveCollision","checkCollision","getPersistData","addOnPersist","classList","contains","unwireEvents","remove","content","relateTo","render","add","styles","fixedParent","wireEvents","isDevice","window","orientationOnChange","getRelateToElement","getScrollableParent","parent_1","scrollRefresh","parent_2","relateToElement","document","body","setProperties","querySelector","e","offsetParent","tagName","parentElement","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","scrollParents","parent_3","isElementVisible","rect","checkGetBoundingClientRect","parent_4","getBoundingClientRect","bottom","right","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","elementView","preRender","reposition","enableRtl","innerHTML","textContent","relateToElem","props","appendChild","_this","setTimeout","collision","checkFixedParent","pos","position","X","Y","parentDisplay","display","getAnchorPosition","clientHeight","eleRect","error","anchorEle","anchorRect","anchor","anchorPos","targetType","innerWidth","scaleX","tranformElement","transformStyle","getComputedStyle","transform","matrix","DOMMatrix","a","zoomStyle","zoom","bodyZoom","innerHeight","callFlip","param","viewPortElement","callFit","data","elementRect","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","getZindexPartial","showAnimation","begin","isDestroyed","end","animate","hideAnimation","parent","parentStyle","overflow","eleStyle","overflowRegex","test","overflowY","overflowX","push","parentZindex","index","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","siblingsZindex","childNodes","slice","finalValue","concat","currentZindexValue","Math","max","getMaxZindex","maxZindex","elements","getElementsByTagName","i_1"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-popups/src/popup/popup.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide, destroy as collisionDestroy, getTransformElement, getZoomValue } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX': {\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                }\n                case 'offsetY': {\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                }\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        if (this.element.classList.contains('e-popup-open')) {\n            this.unwireEvents();\n        }\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        this.content = null;\n        this.relateTo = null;\n        collisionDestroy();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        if (this.enableRtl) {\n            this.element.classList.add(CLASSNAMES.RTL);\n        }\n        else {\n            this.element.classList.remove(CLASSNAMES.RTL);\n        }\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @param {HTMLElement} target - The target element.\n     * @param {boolean} collision - Specifies whether to check for collision.\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var height = this.element.clientHeight;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY, height);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY, height) {\n        if (height === void 0) { height = 0; }\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    var scaleX = 1;\n                    var tranformElement = getTransformElement(ele);\n                    if (tranformElement) {\n                        var transformStyle = getComputedStyle(tranformElement).transform;\n                        if (transformStyle !== 'none') {\n                            var matrix = new DOMMatrix(transformStyle);\n                            scaleX = matrix.a;\n                        }\n                        var zoomStyle = getComputedStyle(tranformElement).zoom;\n                        if (zoomStyle !== 'none') {\n                            var bodyZoom = getZoomValue(document.body);\n                            scaleX = bodyZoom * scaleX;\n                        }\n                    }\n                    anchorPos.left += ((anchorRect.width - eleRect.width) / scaleX);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container' && !ele.classList.contains('e-dialog')) {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else if (this.targetType === 'container' && ele.classList.contains('e-dialog')) {\n                    anchorPos.top += (anchorRect.height - height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        this.wireEvents();\n        this.getRelateToElement();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if ((parentStyle.position === 'fixed' || parentStyle.position === 'sticky') && !isNullOrUndefined(this.element) && this.element.offsetParent &&\n                this.element.offsetParent.tagName === 'BODY' && getComputedStyle(this.element.offsetParent).overflow !== 'hidden') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top, 10) ?\n                    formatUnit(window.scrollY - parseInt(this.element.style.top, 10))\n                    : formatUnit(parseInt(this.element.style.top, 10) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames\nexport var dropDownListClasses = {\n  root: 'e-dropdownlist',\n  hover: dropDownBaseClasses.hover,\n  selected: dropDownBaseClasses.selected,\n  rtl: dropDownBaseClasses.rtl,\n  li: dropDownBaseClasses.li,\n  disable: dropDownBaseClasses.disabled,\n  base: dropDownBaseClasses.root,\n  focus: dropDownBaseClasses.focus,\n  content: dropDownBaseClasses.content,\n  input: 'e-input-group',\n  inputFocus: 'e-input-focus',\n  icon: 'e-input-group-icon e-ddl-icon',\n  iconAnimation: 'e-icon-anim',\n  value: 'e-input-value',\n  device: 'e-ddl-device',\n  backIcon: 'e-input-group-icon e-back-icon e-icons',\n  filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n  filterInput: 'e-input-filter',\n  resizeIcon: 'e-resizer-right e-icons',\n  filterParent: 'e-filter-parent',\n  mobileFilter: 'e-ddl-device-filter',\n  footer: 'e-ddl-footer',\n  header: 'e-ddl-header',\n  clearIcon: 'e-clear-icon',\n  clearIconHide: 'e-clear-icon-hide',\n  popupFullScreen: 'e-popup-full-page',\n  disableIcon: 'e-ddl-disable-icon',\n  hiddenElement: 'e-ddl-hidden',\n  virtualList: 'e-list-item e-virtual-list'\n};\nvar inputObject = {\n  container: null,\n  buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */function (_super) {\n  __extends(DropDownList, _super);\n  /**\n   * * Constructor for creating the DropDownList component.\n   *\n   * @param {DropDownListModel} options - Specifies the DropDownList model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DropDownList(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.isListSearched = false;\n    _this.preventChange = false;\n    _this.isTouched = false;\n    _this.isFocused = false;\n    _this.autoFill = false;\n    _this.isUpdateHeaderHeight = false;\n    _this.isUpdateFooterHeight = false;\n    _this.isReactTemplateUpdate = false;\n    return _this;\n  }\n  /**\n   * Initialize the event handler.\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.preRender = function () {\n    this.valueTempElement = null;\n    this.element.style.opacity = '0';\n    this.initializeData();\n    _super.prototype.preRender.call(this);\n    this.activeIndex = this.index;\n    this.queryString = '';\n  };\n  DropDownList.prototype.initializeData = function () {\n    this.isPopupOpen = false;\n    this.isDocumentClick = false;\n    this.isInteracted = false;\n    this.isFilterFocus = false;\n    this.beforePopupOpen = false;\n    this.initial = true;\n    this.initialRemoteRender = false;\n    this.isNotSearchList = false;\n    this.isTyped = false;\n    this.isSelected = false;\n    this.preventFocus = false;\n    this.preventAutoFill = false;\n    this.isValidKey = false;\n    this.typedString = '';\n    this.isEscapeKey = false;\n    this.isPreventBlur = false;\n    this.isTabKey = false;\n    this.actionCompleteData = {\n      isUpdated: false\n    };\n    this.actionData = {\n      isUpdated: false\n    };\n    this.prevSelectPoints = {};\n    this.isSelectCustom = false;\n    this.isDropDownClick = false;\n    this.preventAltUp = false;\n    this.isCustomFilter = false;\n    this.isSecondClick = false;\n    this.previousValue = null;\n    this.keyConfigure = {\n      tab: 'tab',\n      enter: '13',\n      escape: '27',\n      end: '35',\n      home: '36',\n      down: '40',\n      up: '38',\n      pageUp: '33',\n      pageDown: '34',\n      open: 'alt+40',\n      close: 'shift+tab',\n      hide: 'alt+38',\n      space: '32'\n    };\n    this.viewPortInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: this.itemCount\n    };\n  };\n  DropDownList.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        'zIndex': this.zIndex\n      });\n    }\n  };\n  DropDownList.prototype.requiredModules = function () {\n    var modules = [];\n    if (this.enableVirtualization) {\n      modules.push({\n        args: [this],\n        member: 'VirtualScroll'\n      });\n    }\n    return modules;\n  };\n  DropDownList.prototype.renderList = function (e, isEmptyData) {\n    _super.prototype.render.call(this, e, isEmptyData);\n    if (!(this.dataSource instanceof DataManager)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    }\n    if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n      this.UpdateSkeleton();\n      this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n      this.ulElement = this.list.querySelector('ul');\n    }\n    this.unWireListEvents();\n    this.wireListEvents();\n  };\n  DropDownList.prototype.floatLabelChange = function () {\n    if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n      var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n      if (this.inputElement.value !== '' || this.isInteracted) {\n        classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n      } else {\n        classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n      }\n    }\n  };\n  DropDownList.prototype.resetHandler = function (e) {\n    e.preventDefault();\n    this.clearAll(e);\n    if (this.enableVirtualization) {\n      this.list.scrollTop = 0;\n      this.virtualListInfo = null;\n      this.previousStartIndex = 0;\n      this.previousEndIndex = 0;\n    }\n  };\n  DropDownList.prototype.resetFocusElement = function () {\n    this.removeHover();\n    this.removeSelection();\n    this.removeFocus();\n    this.list.scrollTop = 0;\n    if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n      var li = this.fields.disabled ? this.ulElement.querySelector('.' + dropDownListClasses.li + ':not(.e-disabled)') : this.ulElement.querySelector('.' + dropDownListClasses.li);\n      if (this.enableVirtualization) {\n        li = this.liCollections[this.skeletonCount];\n      }\n      if (li) {\n        li.classList.add(dropDownListClasses.focus);\n      }\n    }\n  };\n  DropDownList.prototype.clearAll = function (e, properties) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    if (isNullOrUndefined(properties) || !isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n      this.isActive = true;\n      this.resetSelection(properties);\n    }\n    var dataItem = this.getItemData();\n    if (!this.allowObjectBinding && this.previousValue === dataItem.value || this.allowObjectBinding && this.previousValue && this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem])) {\n      this.checkAndResetCache();\n      if (this.enableVirtualization && this.list) {\n        this.updateInitialData();\n      }\n      return;\n    }\n    this.onChangeEvent(e);\n    this.checkAndResetCache();\n    if (this.enableVirtualization) {\n      this.updateInitialData();\n    }\n  };\n  DropDownList.prototype.resetSelection = function (properties) {\n    if (this.list) {\n      if (!isNullOrUndefined(properties) && (isNullOrUndefined(properties.dataSource) || !(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)) {\n        this.selectedLI = null;\n        this.actionCompleteData.isUpdated = false;\n        this.actionCompleteData.ulElement = null;\n        this.actionCompleteData.list = null;\n        this.resetList(properties.dataSource);\n      } else {\n        if (this.allowFiltering && this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) && this.actionCompleteData.list.length > 0) {\n          this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n        }\n        this.resetFocusElement();\n      }\n    }\n    if (!isNullOrUndefined(this.hiddenElement)) {\n      this.hiddenElement.innerHTML = '';\n    }\n    if (!isNullOrUndefined(this.inputElement)) {\n      this.inputElement.value = '';\n    }\n    this.value = null;\n    this.itemData = null;\n    this.text = null;\n    this.index = null;\n    this.activeIndex = null;\n    this.item = null;\n    this.queryString = '';\n    if (this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n      this.valueTempElement = null;\n    }\n    this.setSelection(null, null);\n    this.isSelectCustom = false;\n    this.updateIconState();\n    this.cloneElements();\n  };\n  DropDownList.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n        if (htmlAttr === 'class') {\n          var updatedClassValue = this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ').trim();\n          if (updatedClassValue !== '') {\n            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n          }\n        } else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n          this.enabled = false;\n          this.setEnable();\n        } else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n          this.readonly = true;\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n        } else if (htmlAttr === 'aria-label') {\n          if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (this.getModuleName() === 'dropdownlist') {\n            this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n          if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            defaultAttr.push('tabindex');\n          }\n          if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder' && this.element.getAttribute('placeholder') !== this.htmlAttributes[\"\" + htmlAttr]) {\n              Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n            } else if (htmlAttr !== 'placeholder') {\n              this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n            }\n          } else {\n            this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n          }\n        }\n      }\n    }\n    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n      this.inputWrapper.container.removeAttribute('tabindex');\n    }\n  };\n  DropDownList.prototype.getAriaAttributes = function () {\n    return {\n      'aria-disabled': 'false',\n      'role': 'combobox',\n      'aria-expanded': 'false',\n      'aria-live': 'polite',\n      'aria-labelledby': this.hiddenElement.id\n    };\n  };\n  DropDownList.prototype.setEnableRtl = function () {\n    if (!isNullOrUndefined(this.inputElement) && !isNullOrUndefined(this.inputElement.parentElement)) {\n      Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n    }\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n  DropDownList.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement);\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.targetElement().setAttribute('tabindex', this.tabIndex);\n      if (this.inputWrapper && this.inputWrapper.container) {\n        this.inputWrapper.container.setAttribute('aria-disabled', 'false');\n        this.inputWrapper.container.removeAttribute('disabled');\n      }\n    } else {\n      this.hidePopup();\n      addClass([this.inputWrapper.container], dropDownListClasses.disable);\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.targetElement().tabIndex = -1;\n      if (this.inputWrapper && this.inputWrapper.container) {\n        this.inputWrapper.container.setAttribute('aria-disabled', 'true');\n        this.inputWrapper.container.setAttribute('disabled', '');\n      }\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} Returns the persisted data of the component.\n   */\n  DropDownList.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  DropDownList.prototype.getLocaleName = function () {\n    return 'drop-down-list';\n  };\n  DropDownList.prototype.preventTabIndex = function (element) {\n    if (this.getModuleName() === 'dropdownlist') {\n      element.tabIndex = -1;\n    }\n  };\n  DropDownList.prototype.targetElement = function () {\n    return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n  };\n  DropDownList.prototype.getNgDirective = function () {\n    return 'EJS-DROPDOWNLIST';\n  };\n  DropDownList.prototype.getElementByText = function (text) {\n    return this.getElementByValue(this.getValueByText(text));\n  };\n  DropDownList.prototype.getElementByValue = function (value) {\n    var item;\n    var listItems = this.getItems();\n    for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n      var liItem = listItems_1[_i];\n      if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n        item = liItem;\n        break;\n      }\n    }\n    return item;\n  };\n  DropDownList.prototype.initValue = function () {\n    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n    this.renderList();\n    if (this.dataSource instanceof DataManager) {\n      this.initialRemoteRender = true;\n    } else {\n      this.updateValues();\n    }\n  };\n  /**\n   * Checks if the given value is disabled.\n   *\n   * @param { string | number | boolean | object } value - The value to check for disablement. Can be a string, number, boolean, or object.\n   * @returns { boolean } A boolean indicating whether the value is disabled.\n   */\n  DropDownList.prototype.isDisableItemValue = function (value) {\n    if (typeof value === 'object') {\n      var objectValue = JSON.parse(JSON.stringify(value))[this.fields.value];\n      return this.isDisabledItemByIndex(this.getIndexByValue(objectValue));\n    }\n    return this.isDisabledItemByIndex(this.getIndexByValue(value));\n  };\n  DropDownList.prototype.updateValues = function () {\n    if (this.fields.disabled) {\n      if (this.value != null) {\n        this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n      }\n      if (this.text != null) {\n        this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n      }\n      if (this.index != null) {\n        this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n        this.activeIndex = this.index;\n      }\n    }\n    this.selectedValueInfo = this.viewPortInfo;\n    if (!isNullOrUndefined(this.value)) {\n      var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n      this.setSelection(this.getElementByValue(value), null);\n    } else if (this.text && isNullOrUndefined(this.value)) {\n      var element = this.getElementByText(this.text);\n      if (isNullOrUndefined(element)) {\n        this.setProperties({\n          text: null\n        });\n        return;\n      } else {\n        this.setSelection(element, null);\n      }\n    } else {\n      this.setSelection(this.liCollections[this.activeIndex], null);\n    }\n    this.setHiddenValue();\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n  DropDownList.prototype.onBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    var target = e.relatedTarget;\n    var currentTarget = e.target;\n    var isPreventBlur = this.isPreventBlur;\n    this.isPreventBlur = false;\n    //IE 11 - issue\n    if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) || !this.isFilterLayout() && isNullOrUndefined(target))) {\n      if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n        this.filterInput.focus();\n      } else {\n        this.targetElement().focus();\n      }\n      return;\n    }\n    if (this.isDocumentClick || !isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter)) {\n      if (!this.beforePopupOpen) {\n        this.isDocumentClick = false;\n      }\n      return;\n    }\n    if (this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement && (document.activeElement !== target || document.activeElement === target && currentTarget.classList.contains(dropDownListClasses.inputFocus)) || isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering && currentTarget !== this.inputWrapper.container || this.getModuleName() !== 'dropdownlist' && !this.inputWrapper.container.contains(target) || this.isTabKey) {\n      this.isDocumentClick = this.isPopupOpen ? true : false;\n      this.focusOutAction(e);\n      this.isTabKey = false;\n    }\n    if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n      this.isActive = false;\n      this.beforePopupOpen = false;\n    }\n    this.isFocused = false;\n  };\n  DropDownList.prototype.focusOutAction = function (e) {\n    this.isInteracted = false;\n    this.focusOut(e);\n    this.onFocusOut(e);\n  };\n  DropDownList.prototype.onFocusOut = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isSelected) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(e);\n    }\n    this.floatLabelChange();\n    this.dispatchEvent(this.hiddenElement, 'change');\n    if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n      this.dispatchEvent(this.inputElement, 'blur');\n    }\n    if (this.inputWrapper.clearButton) {\n      addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n    }\n    this.trigger('blur');\n  };\n  DropDownList.prototype.onFocus = function (e) {\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      var args = {\n        isInteracted: e ? true : false,\n        event: e\n      };\n      this.trigger('focus', args);\n    }\n    this.updateIconState();\n    this.isFocused = true;\n  };\n  DropDownList.prototype.resizingWireEvent = function () {\n    // Mouse events\n    EventHandler.add(document, 'mousemove', this.resizePopup, this);\n    EventHandler.add(document, 'mouseup', this.stopResizing, this);\n    // Touch events\n    EventHandler.add(document, 'touchmove', this.resizePopup, this);\n    EventHandler.add(document, 'touchend', this.stopResizing, this);\n  };\n  DropDownList.prototype.resizingUnWireEvent = function () {\n    // Mouse events\n    EventHandler.remove(document, 'mousemove', this.resizePopup);\n    EventHandler.remove(document, 'mouseup', this.stopResizing);\n    // Touch events\n    EventHandler.remove(document, 'touchmove', this.resizePopup);\n    EventHandler.remove(document, 'touchend', this.stopResizing);\n  };\n  DropDownList.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement && e.target === formElement) {\n      var val = this.element.tagName === this.getNgDirective() ? null : this.inputElement.getAttribute('value');\n      this.text = val;\n    }\n  };\n  DropDownList.prototype.wireEvent = function () {\n    EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    this.bindCommonEvent();\n  };\n  DropDownList.prototype.bindCommonEvent = function () {\n    EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n    var formElement = closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n        keyAction: this.mobileKeyActionHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n    }\n    this.bindClearEvent();\n  };\n  DropDownList.prototype.windowResize = function () {\n    if (this.isPopupOpen) {\n      this.popupObj.refreshPosition(this.inputWrapper.container);\n    }\n  };\n  DropDownList.prototype.bindClearEvent = function () {\n    if (this.showClearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n  DropDownList.prototype.unBindCommonEvent = function () {\n    if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n      EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n    }\n    var formElement = this.inputElement && closest(this.inputElement, 'form');\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n    if (!Browser.isDevice) {\n      this.keyboardModule.destroy();\n    }\n    if (this.showClearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n    }\n  };\n  DropDownList.prototype.updateIconState = function () {\n    if (this.showClearButton) {\n      if (this.inputElement.value !== '' && !this.readonly) {\n        removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      } else {\n        addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      }\n    }\n  };\n  /**\n   * Event binding for list\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.wireListEvents = function () {\n    if (!isNullOrUndefined(this.list)) {\n      EventHandler.add(this.list, 'click', this.onMouseClick, this);\n      EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n  DropDownList.prototype.onSearch = function (e) {\n    if (e.charCode !== 32 && e.charCode !== 13) {\n      if (this.list === undefined) {\n        this.renderList();\n      }\n      this.searchKeyEvent = e;\n      this.onServerIncrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.onServerIncrementalSearch = function (e) {\n    if (!this.isRequested && !isNullOrUndefined(this.list) && !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n      this.incrementalSearch(e);\n    }\n  };\n  DropDownList.prototype.startResizing = function (event) {\n    this.isResizing = true;\n    this.trigger('resizeStart', event);\n    // Get initial touch or mouse coordinates\n    var clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n    var clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n    // Store the initial dimensions of the popup\n    if (this.list && this.list.parentElement) {\n      this.originalWidth = this.list.parentElement.offsetWidth;\n      this.originalHeight = this.list.parentElement.offsetHeight;\n      this.originalMouseX = clientX;\n      this.originalMouseY = clientY;\n    }\n    // Wire up events for resizing\n    this.resizingWireEvent();\n    if (event) {\n      event.preventDefault(); // Prevent selection behavior if event exists\n    }\n  };\n  DropDownList.prototype.resizePopup = function (event) {\n    if (!this.isResizing) {\n      return;\n    }\n    this.trigger('resizing', event);\n    // Get the current touch or mouse position\n    var clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n    var clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n    // Calculate the new width and height based on drag\n    var dx = clientX - this.originalMouseX;\n    var dy = clientY - this.originalMouseY;\n    if (this.list && this.list.parentElement) {\n      // Minimum width and height (100px)\n      var minWidth = parseInt(window.getComputedStyle(this.list.parentElement).minWidth, 10);\n      var minHeight = parseInt(window.getComputedStyle(this.list.parentElement).minHeight, 10);\n      minWidth = minWidth || 100;\n      minHeight = minHeight || 120;\n      // Ensure the new width and height are not less than the minimum\n      this.resizeWidth = Math.max(this.originalWidth + dx, minWidth);\n      this.resizeHeight = Math.max(this.originalHeight + dy, minHeight);\n      this.list.parentElement.style.width = this.resizeWidth + \"px\";\n      this.list.parentElement.style.height = this.resizeHeight + \"px\";\n      this.list.parentElement.style.maxHeight = this.resizeHeight + \"px\";\n      this.list.style.maxHeight = this.resizeHeight + \"px\";\n      if (this.fixedHeaderElement && this.ulElement) {\n        this.fixedHeaderElement.style.width = this.ulElement.offsetWidth + \"px\";\n      }\n    }\n    if (event) {\n      event.preventDefault(); // Prevent selection behavior if event exists\n    }\n  };\n  DropDownList.prototype.stopResizing = function (event) {\n    if (this.isResizing) {\n      this.isResizing = false;\n      this.trigger('resizeStop', event);\n      // Unwire the resize event listeners\n      this.resizingUnWireEvent();\n    }\n    if (event) {\n      event.preventDefault(); // Prevent selection behavior if event exists\n    }\n  };\n  DropDownList.prototype.onMouseClick = function (e) {\n    var target = e.target;\n    this.keyboardEvent = null;\n    var li = closest(target, '.' + dropDownBaseClasses.li);\n    if (!this.isValidLI(li) || this.isDisabledElement(li)) {\n      return;\n    }\n    this.setSelection(li, e);\n    if (Browser.isDevice && this.isFilterLayout()) {\n      history.back();\n    } else {\n      var delay = 100;\n      this.closePopup(delay, e);\n    }\n  };\n  DropDownList.prototype.onMouseOver = function (e) {\n    var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n    this.setHover(currentLi);\n  };\n  DropDownList.prototype.setHover = function (li) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n      this.removeHover();\n      addClass([li], dropDownBaseClasses.hover);\n    }\n  };\n  DropDownList.prototype.onMouseLeave = function () {\n    this.removeHover();\n  };\n  DropDownList.prototype.removeHover = function () {\n    if (this.list) {\n      var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, dropDownBaseClasses.hover);\n      }\n    }\n  };\n  DropDownList.prototype.isValidLI = function (li) {\n    return li && li.hasAttribute('role') && li.getAttribute('role') === 'option';\n  };\n  DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n    this.incrementalStartIndex = startIndex;\n    this.incrementalEndIndex = endIndex;\n  };\n  DropDownList.prototype.incrementalSearch = function (e) {\n    if (this.liCollections.length > 0) {\n      if (this.enableVirtualization) {\n        var updatingincrementalindex = false;\n        var queryStringUpdated = false;\n        var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n        var currentValue = activeElement ? activeElement.textContent : null;\n        if (this.incrementalQueryString === '') {\n          this.incrementalQueryString = String.fromCharCode(e.charCode);\n          this.incrementalPreQueryString = this.incrementalQueryString;\n        } else if (String.fromCharCode(e.charCode).toLocaleLowerCase() === this.incrementalPreQueryString.toLocaleLowerCase()) {\n          queryStringUpdated = true;\n        } else {\n          this.incrementalQueryString = String.fromCharCode(e.charCode);\n        }\n        if (this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount || this.incrementalEndIndex === 0) {\n          updatingincrementalindex = true;\n          this.incrementalStartIndex = this.incrementalEndIndex;\n          if (this.incrementalEndIndex === 0) {\n            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n          } else {\n            this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n          }\n          this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n          updatingincrementalindex = true;\n        }\n        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n          this.updateIncrementalView(0, this.itemCount);\n        }\n        var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n        while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n          this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100);\n          this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n          updatingincrementalindex = true;\n          if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n            this.updateIncrementalView(0, this.itemCount);\n          }\n          li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n          if (!isNullOrUndefined(li)) {\n            break;\n          }\n          if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n            this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n            break;\n          }\n        }\n        if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n          this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n          this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n          updatingincrementalindex = true;\n          if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n            this.updateIncrementalView(0, this.itemCount);\n          }\n          li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n        }\n        var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n        if (!index) {\n          for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n            if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) && this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n              index = i;\n              index = this.incrementalStartIndex + index;\n              break;\n            }\n          }\n        } else {\n          index = index - this.skeletonCount;\n        }\n        if (index) {\n          if (!(this.viewPortInfo.startIndex >= index) || !(index >= this.viewPortInfo.endIndex)) {\n            var startIndex = index - (this.itemCount / 2 - 2) > 0 ? index - (this.itemCount / 2 - 2) : 0;\n            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n            this.updateIncrementalView(startIndex, endIndex);\n          }\n        }\n        if (!isNullOrUndefined(li)) {\n          var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n          if (index_1 > this.itemCount / 2) {\n            var startIndex = this.viewPortInfo.startIndex + (this.itemCount / 2 - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + (this.itemCount / 2 - 2) : this.totalItemCount;\n            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n            this.updateIncrementalView(startIndex, endIndex);\n          }\n          li = this.getElementByValue(li.getAttribute('data-value'));\n          this.setSelection(li, e);\n          this.setScrollPosition();\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n          if (this.enableVirtualization && !this.fields.groupBy) {\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n            this.list.scrollTop = selectedLiOffsetTop - this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight;\n          }\n          this.incrementalPreQueryString = this.incrementalQueryString;\n        } else {\n          this.updateIncrementalView(0, this.itemCount);\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n          this.list.scrollTop = 0;\n        }\n      } else {\n        var li = void 0;\n        if (this.fields.disabled) {\n          var enableLiCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li + ':not(.e-disabled)');\n          li = incrementalSearch(e.charCode, enableLiCollections, this.activeIndex, true, this.element.id);\n        } else {\n          li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n        }\n        if (!isNullOrUndefined(li)) {\n          this.setSelection(li, e);\n          this.setScrollPosition();\n        }\n      }\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      this.spinnerElement.innerHTML = '';\n      this.spinnerElement = null;\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] || !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n      addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  DropDownList.prototype.keyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    this.keyboardEvent = e;\n    if (this.isPreventKeyAction && this.enableVirtualization) {\n      e.preventDefault();\n    }\n    var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n    var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n    this.isEscapeKey = e.action === 'escape';\n    this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n    var isNavigation = e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown' || e.action === 'home' || e.action === 'end';\n    if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      var isTabAction = e.action === 'tab' || e.action === 'close';\n      if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n        this.searchKeyEvent = e;\n        if (!this.enableVirtualization || this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n          this.renderList(e);\n          this.UpdateSkeleton();\n          this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          this.ulElement = this.list.querySelector('ul');\n        }\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && isNavigation && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (isTabAction && this.getModuleName() !== 'autocomplete' && this.isPopupOpen || e.action === 'escape') {\n        e.preventDefault();\n      }\n      this.isSelected = e.action === 'escape' ? false : this.isSelected;\n      this.isTyped = isNavigation || e.action === 'escape' ? false : this.isTyped;\n      switch (e.action) {\n        case 'down':\n        case 'up':\n          this.updateUpDownAction(e);\n          break;\n        case 'pageUp':\n          this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'pageDown':\n          this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n          e.preventDefault();\n          break;\n        case 'home':\n          this.isMouseScrollAction = true;\n          this.updateHomeEndAction(e);\n          break;\n        case 'end':\n          this.isMouseScrollAction = true;\n          this.updateHomeEndAction(e);\n          break;\n        case 'space':\n          if (this.getModuleName() === 'dropdownlist') {\n            if (!this.beforePopupOpen) {\n              this.showPopup();\n              e.preventDefault();\n            }\n          }\n          break;\n        case 'open':\n          this.showPopup(e);\n          break;\n        case 'hide':\n          this.preventAltUp = this.isPopupOpen;\n          this.hidePopup(e);\n          this.focusDropDown(e);\n          break;\n        case 'enter':\n          this.selectCurrentItem(e);\n          break;\n        case 'tab':\n          this.selectCurrentValueOnTab(e);\n          break;\n        case 'escape':\n        case 'close':\n          if (this.isPopupOpen) {\n            this.hidePopup(e);\n            this.focusDropDown(e);\n          }\n          break;\n      }\n    }\n  };\n  DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n    if (this.fields.disabled && this.list && this.list.querySelectorAll('.e-list-item:not(.e-disabled)').length === 0) {\n      return;\n    }\n    if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n      var value = this.getItemData().value;\n      if (isNullOrUndefined(value)) {\n        value = 'null';\n      }\n      var filterIndex = this.getIndexByValue(value);\n      if (!isNullOrUndefined(filterIndex)) {\n        this.activeIndex = filterIndex;\n      }\n    }\n    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n    if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n      this.setSelection(focusEle, e);\n      if (this.enableVirtualization) {\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n        if (this.fields.groupBy) {\n          selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 ? this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n        }\n        this.list.scrollTop = selectedLiOffsetTop - this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight;\n      }\n    } else if (!isNullOrUndefined(this.liCollections)) {\n      var virtualIndex = this.activeIndex;\n      var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n      index = isVirtualKeyAction ? virtualIndex : index;\n      var startIndex = 0;\n      if (this.getModuleName() === 'autocomplete') {\n        startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n        index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n      }\n      var nextItem = void 0;\n      if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n        if (!this.enableVirtualization) {\n          nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n        } else {\n          if (!isVirtualKeyAction) {\n            nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount] : this.liCollections[index];\n            nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n          } else {\n            if (this.getModuleName() === 'autocomplete') {\n              var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n              nextItem = this.getElementByValue(value);\n            } else {\n              nextItem = this.getElementByValue(this.getItemData().value);\n            }\n          }\n        }\n      }\n      if (!isNullOrUndefined(nextItem)) {\n        var focusAtFirstElement = this.liCollections[this.skeletonCount] && this.liCollections[this.skeletonCount].classList.contains('e-item-focus');\n        this.setSelection(nextItem, e);\n        if (focusAtFirstElement && this.enableVirtualization && this.getModuleName() === 'autocomplete' && !isVirtualKeyAction) {\n          var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * this.selectedLI.offsetHeight : this.selectedLI.offsetTop;\n          selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 && this.fields.groupBy ? this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n          this.list.scrollTop = selectedLiOffsetTop - this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight;\n        }\n      } else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && (this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down' || this.viewPortInfo.startIndex !== 0 && e.action === 'up')) {\n        if (e.action === 'down') {\n          this.viewPortInfo.startIndex = this.viewPortInfo.startIndex + this.itemCount < this.totalItemCount - this.itemCount ? this.viewPortInfo.startIndex + this.itemCount : this.totalItemCount - this.itemCount;\n          this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n          this.updateVirtualItemIndex();\n          this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n          this.resetList(this.dataSource, this.fields, this.query);\n          this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n          var value = this.liCollections[0].getAttribute('data-value') !== 'null' ? this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n          var selectedData = this.getDataByValue(value);\n          if (selectedData) {\n            this.itemData = selectedData;\n          }\n        } else if (e.action === 'up') {\n          this.viewPortInfo.startIndex = this.viewPortInfo.startIndex - this.itemCount > 0 ? this.viewPortInfo.startIndex - this.itemCount : 0;\n          this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n          this.updateVirtualItemIndex();\n          this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n          this.resetList(this.dataSource, this.fields, this.query);\n          this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n          var value = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== 'null' ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n          var selectedData = this.getDataByValue(value);\n          if (selectedData) {\n            this.itemData = selectedData;\n          }\n        }\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.handleVirtualKeyboardActions(e, this.pageCount);\n      }\n    }\n    if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n      var value = this.getItemData().value;\n      var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n      if (!isNullOrUndefined(filterIndex)) {\n        this.activeIndex = filterIndex;\n      }\n    }\n    if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n      if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n        });\n      } else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id\n        });\n      }\n    }\n    var itemIndex;\n    for (var index = 0; index < this.liCollections.length; index++) {\n      if (this.liCollections[index].classList.contains(dropDownListClasses.focus) || this.liCollections[index].classList.contains(dropDownListClasses.selected)) {\n        itemIndex = index;\n        break;\n      }\n    }\n    if (itemIndex != null && this.isDisabledElement(this.liCollections[itemIndex])) {\n      if (this.getModuleName() !== 'autocomplete') {\n        if (this.liCollections.length - 1 === itemIndex && e.action === 'down') {\n          e.action = 'up';\n        }\n        if (itemIndex === 0 && e.action === 'up') {\n          e.action = 'down';\n        }\n      }\n      this.updateUpDownAction(e);\n    }\n    e.preventDefault();\n  };\n  DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n    if (this.getModuleName() === 'dropdownlist') {\n      var findLi = 0;\n      if (e.action === 'home') {\n        findLi = 0;\n        if (this.enableVirtualization && this.isPopupOpen) {\n          findLi = this.skeletonCount;\n        } else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n          this.viewPortInfo.startIndex = 0;\n          this.viewPortInfo.endIndex = this.itemCount;\n          this.updateVirtualItemIndex();\n          this.resetList(this.dataSource, this.fields, this.query);\n        }\n      } else {\n        if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n          this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n          this.viewPortInfo.endIndex = this.totalItemCount;\n          this.updateVirtualItemIndex();\n          this.resetList(this.dataSource, this.fields, this.query);\n        }\n        findLi = this.getItems().length - 1;\n      }\n      e.preventDefault();\n      if (this.activeIndex === findLi) {\n        if (isVirtualKeyAction) {\n          this.setSelection(this.liCollections[findLi], e);\n        }\n        return;\n      }\n      if (!this.enableVirtualization && this.liCollections[findLi] && this.liCollections[findLi].classList.contains('e-disabled')) {\n        return;\n      }\n      this.setSelection(this.liCollections[findLi], e);\n    }\n  };\n  DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n    if (this.getModuleName() === 'autocomplete') {\n      this.selectCurrentItem(e);\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup(e);\n        this.focusDropDown(e);\n      }\n    }\n  };\n  DropDownList.prototype.mobileKeyActionHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.isEditTextBox() && !this.isPopupOpen) {\n      return;\n    }\n    if (!this.readonly) {\n      if (this.list === undefined && !this.isRequested) {\n        this.searchKeyEvent = e;\n        this.renderList();\n      }\n      if (isNullOrUndefined(this.list) || !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0 || this.isRequested) {\n        return;\n      }\n      if (e.action === 'enter') {\n        this.selectCurrentItem(e);\n      }\n    }\n  };\n  DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n    switch (e.action) {\n      case 'down':\n      case 'up':\n        if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n          this.updateUpDownAction(e, true);\n        }\n        break;\n      case 'pageUp':\n        this.activeIndex = this.getModuleName() === 'autocomplete' ? this.getIndexByValue(this.selectedLI.getAttribute('data-value')) + this.getPageCount() - 1 : this.getIndexByValue(this.previousValue);\n        this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n        e.preventDefault();\n        break;\n      case 'pageDown':\n        this.activeIndex = this.getModuleName() === 'autocomplete' ? this.getIndexByValue(this.selectedLI.getAttribute('data-value')) - this.getPageCount() : this.getIndexByValue(this.previousValue);\n        this.pageDownSelection(!isNullOrUndefined(this.activeIndex) ? this.activeIndex + this.getPageCount() : 2 * this.getPageCount(), e, true);\n        e.preventDefault();\n        break;\n      case 'home':\n        this.isMouseScrollAction = true;\n        this.updateHomeEndAction(e, true);\n        break;\n      case 'end':\n        this.isMouseScrollAction = true;\n        this.updateHomeEndAction(e, true);\n        break;\n    }\n    this.keyboardEvent = null;\n  };\n  DropDownList.prototype.selectCurrentItem = function (e) {\n    if (this.isPopupOpen) {\n      var li = this.list.querySelector('.' + dropDownListClasses.focus);\n      if (this.isDisabledElement(li)) {\n        return;\n      }\n      if (li) {\n        this.setSelection(li, e);\n        this.isTyped = false;\n      }\n      if (this.isSelected) {\n        this.isSelectCustom = false;\n        this.onChangeEvent(e);\n      }\n      this.hidePopup(e);\n      this.focusDropDown(e);\n    } else {\n      this.showPopup();\n    }\n  };\n  DropDownList.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n    var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n    if (!this.enableVirtualization && previousItem && previousItem.classList.contains('e-disabled')) {\n      var validIndex = steps >= 0 ? steps + 1 : 0;\n      while (validIndex < this.liCollections.length) {\n        previousItem = this.liCollections[validIndex];\n        if (previousItem && !previousItem.classList.contains('e-disabled')) {\n          break;\n        }\n        validIndex--;\n        if (validIndex < 0) {\n          return;\n        }\n      }\n    }\n    if (this.enableVirtualization && this.activeIndex == null) {\n      previousItem = this.liCollections.length >= steps && steps >= 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n    }\n    if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n      previousItem = this.liCollections[this.skeletonCount];\n    }\n    this.PageUpDownSelection(previousItem, event);\n    if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n      if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n        });\n      } else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id\n        });\n      }\n    }\n  };\n  DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n    if (this.enableVirtualization) {\n      if (!isNullOrUndefined(previousItem) && (this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active') || this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus'))) {\n        this.setSelection(previousItem, event);\n      }\n    } else {\n      this.setSelection(previousItem, event);\n    }\n  };\n  DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n    var list = this.getItems();\n    var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n    if (!this.enableVirtualization && previousItem && previousItem.classList.contains('e-disabled')) {\n      while (steps >= 0 && steps < this.liCollections.length) {\n        previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (previousItem && !previousItem.classList.contains('e-disabled')) {\n          break;\n        }\n        steps++;\n      }\n    }\n    if (this.enableVirtualization && this.skeletonCount > 0) {\n      steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n      previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n    }\n    if (this.enableVirtualization && this.activeIndex == null) {\n      previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n    }\n    this.PageUpDownSelection(previousItem, event);\n    if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n      if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n        });\n      } else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n        attributes(this.filterInput, {\n          'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id\n        });\n      }\n    }\n  };\n  DropDownList.prototype.unWireEvent = function () {\n    if (!isNullOrUndefined(this.inputWrapper)) {\n      EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n      EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n      EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n      EventHandler.remove(window, 'resize', this.windowResize);\n    }\n    this.unBindCommonEvent();\n  };\n  /**\n   * Event un binding for list items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.unWireListEvents = function () {\n    if (this.list) {\n      EventHandler.remove(this.list, 'click', this.onMouseClick);\n      EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n      EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    }\n  };\n  DropDownList.prototype.checkSelector = function (id) {\n    return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n  };\n  DropDownList.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) && !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n      if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n        this.isDocumentClick = true;\n        var isActive = this.isRequested;\n        if (this.getModuleName() === 'combobox' && this.isTyped) {\n          this.isInteracted = false;\n        }\n        this.hidePopup(e);\n        this.isInteracted = false;\n        if (!isActive) {\n          this.onFocusOut(e);\n          this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n      }\n    } else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && !(this.getModuleName() === 'combobox' && !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n      this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() || document.activeElement === this.filterInput);\n      e.preventDefault();\n    }\n  };\n  DropDownList.prototype.activeStateChange = function () {\n    if (this.isDocumentClick) {\n      this.hidePopup();\n      this.onFocusOut();\n      this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n    }\n  };\n  DropDownList.prototype.focusDropDown = function (e) {\n    if (!this.initial && this.isFilterLayout()) {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.dropDownClick = function (e) {\n    if (e.which === 3 || e.button === 2) {\n      return;\n    }\n    this.keyboardEvent = null;\n    if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n      return;\n    }\n    var target = e.target;\n    if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n      e.preventDefault();\n    }\n    if (!this.readonly) {\n      if (this.isPopupOpen) {\n        this.hidePopup(e);\n        if (this.isFilterLayout()) {\n          this.focusDropDown(e);\n        }\n      } else {\n        this.focusIn(e);\n        this.floatLabelChange();\n        this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n        this.isDropDownClick = true;\n        this.showPopup(e);\n      }\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_1 = this;\n      // eslint-disable-next-line max-len\n      var duration = this.dataSource instanceof DataManager && this.groupTemplate ? 700 : this.element.tagName === this.getNgDirective() && this.itemTemplate ? 500 : 100;\n      if (!this.isSecondClick) {\n        setTimeout(function () {\n          proxy_1.cloneElements();\n          proxy_1.isSecondClick = true;\n          proxy_1.isSecondClick = proxy_1.isReact && proxy_1.isFiltering() && proxy_1.dataSource instanceof DataManager && !proxy_1.list.querySelector('ul') ? false : true;\n        }, duration);\n      }\n    } else {\n      this.focusIn(e);\n    }\n  };\n  DropDownList.prototype.cloneElements = function () {\n    if (this.list) {\n      var ulElement = this.list.querySelector('ul');\n      if (ulElement) {\n        ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n        this.actionCompleteData.ulElement = ulElement;\n      }\n    }\n  };\n  DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n    var _this = this;\n    this.removeSelection();\n    li.classList.add(dropDownBaseClasses.selected);\n    this.removeHover();\n    var value = li.getAttribute('data-value') !== null ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n    var selectedData = this.getDataByValue(value);\n    if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n      var items = this.detachChanges(selectedData);\n      this.isSelected = true;\n      var eventArgs = {\n        e: e,\n        item: li,\n        itemData: items,\n        isInteracted: e ? true : false,\n        cancel: false\n      };\n      this.trigger('select', eventArgs, function (eventArgs) {\n        if (eventArgs.cancel) {\n          li.classList.remove(dropDownBaseClasses.selected);\n        } else {\n          _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n          if (isSelection) {\n            _this.setSelectOptions(li, e);\n          }\n        }\n      });\n    } else {\n      this.selectEventCallback(li, e, preventSelect, selectedData, value);\n      if (isSelection) {\n        this.setSelectOptions(li, e);\n      }\n    }\n  };\n  DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n    this.previousItemData = !isNullOrUndefined(this.itemData) ? this.itemData : null;\n    if (this.itemData !== selectedData) {\n      this.previousValue = !isNullOrUndefined(this.itemData) ? typeof this.itemData == 'object' && !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n    }\n    this.item = li;\n    this.itemData = selectedData;\n    var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n    if (focusedItem) {\n      removeClass([focusedItem], dropDownBaseClasses.focus);\n    }\n    li.setAttribute('aria-selected', 'true');\n    if (isNullOrUndefined(value)) {\n      value = 'null';\n    }\n    if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n      var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n      if (!isNullOrUndefined(filterIndex)) {\n        this.activeIndex = filterIndex;\n      } else {\n        this.activeIndex = this.getIndexByValue(value);\n      }\n    } else {\n      if (this.enableVirtualization && this.activeIndex == null && this.dataSource instanceof DataManager) {\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n      }\n      this.activeIndex = this.getIndexByValue(value);\n    }\n  };\n  DropDownList.prototype.activeItem = function (li) {\n    if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n      this.removeSelection();\n      li.classList.add(dropDownBaseClasses.selected);\n      this.removeHover();\n      li.setAttribute('aria-selected', 'true');\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.setValue = function (e) {\n    var dataItem = this.getItemData();\n    this.isTouched = !isNullOrUndefined(e);\n    if (dataItem.value === null) {\n      Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    if (this.valueTemplate && this.itemData !== null) {\n      this.setValueTemplate();\n    } else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n      detach(this.valueTempElement);\n      this.inputElement.style.display = 'block';\n    }\n    if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n      this.activeIndex = this.getIndexByValueFilter(dataItem.value, this.actionCompleteData.ulElement);\n    }\n    var clearIcon = dropDownListClasses.clearIcon;\n    var isFilterElement = this.isFiltering() && this.filterInput && this.getModuleName() === 'combobox';\n    var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n    if (this.isFiltering() && clearElement) {\n      clearElement.style.removeProperty('visibility');\n    }\n    if (!this.allowObjectBinding && this.previousValue === dataItem.value || this.allowObjectBinding && this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom && this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem])) {\n      this.isSelected = false;\n      return true;\n    } else {\n      this.isSelected = !this.initial ? true : false;\n      this.isSelectCustom = false;\n      if (this.getModuleName() === 'dropdownlist') {\n        this.updateIconState();\n      }\n      return false;\n    }\n  };\n  DropDownList.prototype.setSelection = function (li, e) {\n    if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || this.isPopupOpen && this.isSelected && li.classList.contains(dropDownBaseClasses.selected))) {\n      this.updateSelectedItem(li, e, false, true);\n    } else {\n      this.setSelectOptions(li, e);\n      if (this.enableVirtualization && this.value) {\n        var fields = !this.isPrimitiveData ? this.fields.value : '';\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n        if (this.dataSource instanceof DataManager) {\n          var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n          if (getItem && getItem.length > 0) {\n            this.itemData = getItem[0];\n            var dataItem = this.getItemData();\n            var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n            if (this.value === dataItem.value && this.text !== dataItem.text || this.value !== dataItem.value && this.text === dataItem.text) {\n              this.setProperties({\n                'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n                'value': value\n              });\n            }\n          }\n        } else {\n          var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n          if (getItem && getItem.length > 0) {\n            this.itemData = getItem[0];\n            var dataItem = this.getItemData();\n            var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n            if (this.value === dataItem.value && this.text !== dataItem.text || this.value !== dataItem.value && this.text === dataItem.text) {\n              this.setProperties({\n                'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n                'value': value\n              });\n              if (isNullOrUndefined(li)) {\n                this.previousValue = this.value;\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  DropDownList.prototype.setSelectOptions = function (li, e) {\n    if (this.list) {\n      this.removeHover();\n    }\n    this.previousSelectedLI = !isNullOrUndefined(this.selectedLI) ? this.selectedLI : null;\n    this.selectedLI = li;\n    if (this.setValue(e)) {\n      return;\n    }\n    if (!this.isPopupOpen && !isNullOrUndefined(li) || this.isPopupOpen && !isNullOrUndefined(e) && (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter')) {\n      this.isSelectCustom = false;\n      this.onChangeEvent(e);\n    }\n    if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n      this.setScrollPosition(e);\n    }\n    if (Browser.info.name !== 'mozilla') {\n      if (this.targetElement()) {\n        attributes(this.targetElement(), {\n          'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id\n        });\n        this.targetElement().removeAttribute('aria-live');\n      }\n    }\n    if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n      attributes(this.targetElement(), {\n        'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n      });\n    } else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n      attributes(this.targetElement(), {\n        'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id\n      });\n    }\n  };\n  DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n    var checkTemplate = false;\n    if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n      try {\n        checkTemplate = document.querySelectorAll(dropdownTemplate).length ? true : false;\n      } catch (exception) {\n        checkTemplate = false;\n      }\n    }\n    return checkTemplate;\n  };\n  DropDownList.prototype.setValueTemplate = function () {\n    var compiledString;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate(['valueTemplate']);\n      if (this.valueTempElement) {\n        detach(this.valueTempElement);\n        this.inputElement.style.display = 'block';\n        this.valueTempElement = null;\n      }\n    }\n    if (!this.valueTempElement) {\n      this.valueTempElement = this.createElement('span', {\n        className: dropDownListClasses.value\n      });\n      this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n      this.inputElement.style.display = 'none';\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (!this.isReact) {\n      this.valueTempElement.innerHTML = '';\n    }\n    var valuecheck = this.dropdownCompiler(this.valueTemplate);\n    if (typeof this.valueTemplate !== 'function' && valuecheck) {\n      compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n    } else {\n      compiledString = compile(this.valueTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n    if (valueCompTemp && valueCompTemp.length > 0) {\n      append(valueCompTemp, this.valueTempElement);\n    }\n    this.renderReactTemplates();\n  };\n  DropDownList.prototype.removeSelection = function () {\n    if (this.list) {\n      var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n      if (selectedItems.length) {\n        removeClass(selectedItems, dropDownBaseClasses.selected);\n        selectedItems[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n  DropDownList.prototype.getItemData = function () {\n    var fields = this.fields;\n    var dataItem = null;\n    dataItem = this.itemData;\n    var dataValue;\n    var dataText;\n    if (!isNullOrUndefined(dataItem)) {\n      dataValue = getValue(fields.value, dataItem);\n      dataText = getValue(fields.text, dataItem);\n    }\n    var value = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataValue : dataItem;\n    var text = !isNullOrUndefined(dataItem) && !isUndefined(dataValue) ? dataText : dataItem;\n    return {\n      value: value,\n      text: text\n    };\n  };\n  /**\n   * To trigger the change event for list.\n   *\n   * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n   * @param {boolean} isCustomValue - Specifies whether the value is custom value or not.\n   * @returns {void}\n   */\n  DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n    var _this = this;\n    var dataItem = this.getItemData();\n    var index = this.isSelectCustom ? null : this.activeIndex;\n    if (this.enableVirtualization) {\n      var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n      if (dataItem.value && datas && datas.length > 0) {\n        var foundIndex = datas.findIndex(function (data) {\n          return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n        });\n        if (foundIndex !== -1) {\n          index = foundIndex;\n        }\n      }\n    }\n    var value = this.allowObjectBinding ? isCustomValue ? this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n    this.setProperties({\n      'index': index,\n      'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n      'value': value\n    }, true);\n    this.detachChangeEvent(eve);\n  };\n  DropDownList.prototype.detachChanges = function (value) {\n    var items;\n    if (typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number') {\n      items = Object.defineProperties({}, {\n        value: {\n          value: value,\n          enumerable: true\n        },\n        text: {\n          value: value,\n          enumerable: true\n        }\n      });\n    } else {\n      items = value;\n    }\n    return items;\n  };\n  DropDownList.prototype.detachChangeEvent = function (eve) {\n    this.isSelected = false;\n    this.previousValue = this.value;\n    this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n    this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n    if (!this.initial) {\n      var items = this.detachChanges(this.itemData);\n      var preItems = void 0;\n      if (typeof this.previousItemData === 'string' || typeof this.previousItemData === 'boolean' || typeof this.previousItemData === 'number') {\n        preItems = Object.defineProperties({}, {\n          value: {\n            value: this.previousItemData,\n            enumerable: true\n          },\n          text: {\n            value: this.previousItemData,\n            enumerable: true\n          }\n        });\n      } else {\n        preItems = this.previousItemData;\n      }\n      this.setHiddenValue();\n      var eventArgs = {\n        e: eve,\n        item: this.item,\n        itemData: items,\n        previousItem: this.previousSelectedLI,\n        previousItemData: preItems,\n        isInteracted: eve ? true : false,\n        value: this.value,\n        element: this.element,\n        event: eve\n      };\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', eventArgs);\n      }\n    }\n    if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n      removeClass([this.inputWrapper.container], 'e-valid-input');\n    }\n  };\n  DropDownList.prototype.setHiddenValue = function () {\n    if (!isNullOrUndefined(this.value)) {\n      var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n      if (this.hiddenElement.querySelector('option')) {\n        var selectedElement = this.hiddenElement.querySelector('option');\n        selectedElement.textContent = this.text;\n        selectedElement.setAttribute('value', value.toString());\n      } else {\n        if (!isNullOrUndefined(this.hiddenElement)) {\n          var option = document.createElement('option');\n          option.text = this.text;\n          option.setAttribute('selected', '');\n          this.hiddenElement.appendChild(option);\n          var selectedElement = this.hiddenElement.querySelector('option');\n          selectedElement.setAttribute('value', value.toString());\n        }\n      }\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /**\n   * Filter bar implementation\n   *\n   * @param {KeyboardEventArgs} e - Specifies the event arguments.\n   * @returns {void}\n   */\n  DropDownList.prototype.onFilterUp = function (e) {\n    if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n      this.isValidKey = false;\n      this.filterArgs = e;\n      this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n      switch (e.keyCode) {\n        case 38: //up arrow\n        case 40:\n          //down arrow\n          if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else {\n            this.preventAutoFill = false;\n          }\n          this.preventAltUp = false;\n          if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), {\n              'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id\n            });\n          }\n          e.preventDefault();\n          break;\n        case 46: //delete\n        case 8:\n          //backspace\n          this.typedString = this.filterInput.value;\n          if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n            this.preventAutoFill = true;\n            this.searchLists(e);\n          } else if (this.typedString === '') {\n            if (this.list) {\n              this.resetFocusElement();\n            }\n            this.activeIndex = null;\n            if (this.getModuleName() !== 'dropdownlist') {\n              this.preventAutoFill = true;\n              this.searchLists(e);\n              if (this.getModuleName() === 'autocomplete') {\n                this.hidePopup();\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        default:\n          if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            this.getInitialData = true;\n            this.renderList();\n            if (!this.isSecondClick && !this.isDropDownClick) {\n              this.executeCloneElements();\n            }\n          }\n          this.typedString = this.filterInput.value;\n          this.preventAutoFill = false;\n          if (!this.getInitialData) {\n            this.searchLists(e);\n          }\n          if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager) || this.getModuleName() === 'autocomplete' && this.dataSource instanceof DataManager && this.totalItemCount !== 0) {\n            this.getFilteringSkeletonCount();\n          }\n          break;\n      }\n    } else {\n      this.isValidKey = false;\n    }\n  };\n  DropDownList.prototype.onFilterDown = function (e) {\n    switch (e.keyCode) {\n      case 13:\n        //enter\n        break;\n      case 40: //down arrow\n      case 38:\n        //up arrow\n        this.queryString = this.filterInput.value;\n        e.preventDefault();\n        break;\n      case 9:\n        //tab\n        if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n          e.preventDefault();\n        }\n        break;\n      default:\n        this.prevSelectPoints = this.getSelectionPoints();\n        this.queryString = this.filterInput.value;\n        break;\n    }\n  };\n  DropDownList.prototype.removeFillSelection = function () {\n    if (this.isInteracted) {\n      var selection = this.getSelectionPoints();\n      this.inputElement.setSelectionRange(selection.end, selection.end);\n    }\n  };\n  DropDownList.prototype.getQuery = function (query) {\n    var filterQuery;\n    if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n      filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n      var filterType = this.typedString === '' ? 'contains' : this.filterType;\n      var dataType = this.typeOfData(this.dataSource).typeof;\n      if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n        filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      } else if (this.getModuleName() !== 'combobox' || this.isFiltering() && this.getModuleName() === 'combobox' && this.typedString !== '') {\n        var fields = this.fields.text ? this.fields.text : '';\n        filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n      }\n    } else {\n      filterQuery = this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery) ? this.customFilterQuery.clone() : query ? query.clone() : this.query ? this.query.clone() : new Query();\n    }\n    if (this.enableVirtualization && this.viewPortInfo.endIndex !== 0) {\n      var takeValue = this.getTakeValue();\n      var alreadySkipAdded = false;\n      if (filterQuery) {\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n          if (filterQuery.queries[queryElements].fn === 'onSkip') {\n            alreadySkipAdded = true;\n            break;\n          }\n        }\n      }\n      var queryTakeValue = 0;\n      var querySkipValue = 0;\n      if (filterQuery && filterQuery.queries.length > 0) {\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n          if (filterQuery.queries[queryElements].fn === 'onSkip') {\n            querySkipValue = filterQuery.queries[queryElements].e.nos;\n          }\n          if (filterQuery.queries[queryElements].fn === 'onTake') {\n            queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ? filterQuery.queries[queryElements].e.nos : takeValue;\n          }\n        }\n      }\n      if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n        for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n          if (this.query.queries[queryElements].fn === 'onTake') {\n            queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n          }\n        }\n      }\n      var skipExists = false;\n      if (filterQuery && filterQuery.queries.length > 0) {\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n          if (filterQuery.queries[queryElements].fn === 'onSkip') {\n            querySkipValue = filterQuery.queries[queryElements].e.nos;\n            filterQuery.queries.splice(queryElements, 1);\n            alreadySkipAdded = false;\n            --queryElements;\n            continue;\n          }\n          if (filterQuery.queries[queryElements].fn === 'onTake') {\n            queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n            filterQuery.queries.splice(queryElements, 1);\n            --queryElements;\n          }\n        }\n      }\n      if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n        if (querySkipValue > 0) {\n          filterQuery.skip(querySkipValue);\n        } else {\n          filterQuery.skip(this.virtualItemStartIndex);\n        }\n      }\n      if (this.isIncrementalRequest) {\n        filterQuery.take(this.incrementalEndIndex);\n      } else {\n        if (queryTakeValue > 0) {\n          filterQuery.take(queryTakeValue);\n        } else {\n          filterQuery.take(takeValue);\n        }\n      }\n      filterQuery.requiresCount();\n    }\n    return filterQuery;\n  };\n  DropDownList.prototype.getSelectionPoints = function () {\n    var input = this.inputElement;\n    return {\n      start: Math.abs(input.selectionStart),\n      end: Math.abs(input.selectionEnd)\n    };\n  };\n  DropDownList.prototype.performFiltering = function (e) {\n    var _this = this;\n    this.checkAndResetCache();\n    this.isRequesting = false;\n    var eventArgs = {\n      preventDefaultAction: false,\n      text: this.filterInput.value,\n      updateData: function (dataSource, query, fields) {\n        if (eventArgs.cancel) {\n          return;\n        }\n        _this.isCustomFilter = true;\n        _this.customFilterQuery = query ? query.clone() : query;\n        _this.filteringAction(dataSource, query, fields);\n      },\n      baseEventArgs: e,\n      cancel: false\n    };\n    this.trigger('filtering', eventArgs, function (eventArgs) {\n      if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n        _this.filteringAction(_this.dataSource, null, _this.fields);\n      }\n    });\n  };\n  DropDownList.prototype.searchLists = function (e) {\n    this.isTyped = true;\n    this.activeIndex = null;\n    this.isListSearched = true;\n    if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n      var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n    }\n    this.isDataFetched = false;\n    if (this.isFiltering()) {\n      if (this.typedString !== '' && this.debounceDelay > 0) {\n        this.debouncedFiltering(e, this.debounceDelay);\n      } else {\n        this.performFiltering(e);\n      }\n    }\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n    */\n  DropDownList.prototype.filter = function (dataSource, query, fields) {\n    this.isCustomFilter = true;\n    this.filteringAction(dataSource, query, fields);\n  };\n  DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n    if (!isNullOrUndefined(this.filterInput)) {\n      this.beforePopupOpen = !this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '' || this.getInitialData ? false : true;\n      var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n      if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n        this.actionCompleteData.isUpdated = false;\n        this.isTyped = false;\n        if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n          if (this.enableVirtualization) {\n            if (this.isFiltering()) {\n              this.isPreventScrollAction = true;\n              this.list.scrollTop = 0;\n              this.previousStartIndex = 0;\n              this.virtualListInfo = null;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            this.resetList(dataSource, fields, query);\n            if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n              if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                var virtualContentElement = this.createElement('div', {\n                  className: 'e-virtual-ddl-content'\n                });\n                virtualContentElement.style.cssText = this.getTransformValues();\n                this.list.appendChild(virtualContentElement).appendChild(this.list.querySelector('.e-list-parent'));\n              }\n              if (!this.list.querySelector('.e-virtual-ddl')) {\n                var virtualElement = this.createElement('div', {\n                  id: this.element.id + '_popup',\n                  className: 'e-virtual-ddl'\n                });\n                virtualElement.style.cssText = this.GetVirtualTrackHeight();\n                this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virtualElement);\n              }\n            }\n          }\n          this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n        }\n        this.isTyped = true;\n        if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n          this.focusIndexItem();\n          this.setScrollPosition();\n        }\n        this.isNotSearchList = true;\n      } else {\n        this.isNotSearchList = false;\n        query = this.filterInput.value.trim() === '' ? null : query;\n        if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n          this.isPreventScrollAction = true;\n          this.list.scrollTop = 0;\n          this.previousStartIndex = 0;\n          this.virtualListInfo = null;\n        }\n        this.resetList(dataSource, fields, query);\n        if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n          this.popupContentElement.setAttribute('role', 'status');\n          this.popupContentElement.setAttribute('id', 'no-record');\n          attributes(this.filterInputObj.container, {\n            'aria-activedescendant': 'no-record'\n          });\n        }\n        if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n          if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            var virtualContentElement = this.createElement('div', {\n              className: 'e-virtual-ddl-content'\n            });\n            virtualContentElement.style.cssText = this.getTransformValues();\n            this.list.appendChild(virtualContentElement).appendChild(this.list.querySelector('.e-list-parent'));\n          }\n          if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virtualElement = this.createElement('div', {\n              id: this.element.id + '_popup',\n              className: 'e-virtual-ddl'\n            });\n            virtualElement.style.cssText = this.GetVirtualTrackHeight();\n            this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virtualElement);\n          }\n        }\n      }\n      if (this.enableVirtualization) {\n        this.getFilteringSkeletonCount();\n      }\n      this.renderReactTemplates();\n      if (this.filterInput && this.filterInput.value === '' && this.getModuleName() === 'combobox') {\n        this.executeCloneElements();\n      }\n    }\n  };\n  DropDownList.prototype.setSearchBox = function (popupElement) {\n    if (this.isFiltering()) {\n      var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ? popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n        className: dropDownListClasses.filterParent\n      });\n      this.filterInput = this.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: dropDownListClasses.filterInput\n      });\n      this.element.parentNode.insertBefore(this.filterInput, this.element);\n      var backIcon = false;\n      if (Browser.isDevice && this.isDeviceFullScreen) {\n        backIcon = true;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n        properties: {\n          placeholder: this.filterBarPlaceholder\n        }\n      }, this.createElement);\n      if (!isNullOrUndefined(this.cssClass)) {\n        if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], parentElement);\n      prepend([parentElement], popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      if (!Browser.isDevice) {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.keyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      } else {\n        this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n          keyAction: this.mobileKeyActionHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n      }\n      EventHandler.add(this.filterInput, 'input', this.onInput, this);\n      EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n      EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n      return this.filterInputObj;\n    } else {\n      return inputObject;\n    }\n  };\n  DropDownList.prototype.onInput = function (e) {\n    if (!isNullOrUndefined(e) && !isNullOrUndefined(e.data) && e.data.length > 1 && this.autoFill && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n      this.inputElement.value = e.data;\n    }\n    this.isValidKey = true;\n    if (this.getModuleName() === 'combobox') {\n      this.updateIconState();\n    }\n    // For filtering works in mobile firefox.\n    if (Browser.isDevice && Browser.info.name === 'mozilla') {\n      this.typedString = this.filterInput.value;\n      this.preventAutoFill = true;\n      this.searchLists(e);\n    }\n  };\n  DropDownList.prototype.pasteHandler = function (e) {\n    var _this = this;\n    setTimeout(function () {\n      _this.typedString = _this.filterInput.value;\n      if (_this.getModuleName() === 'combobox' && _this.isFiltering() && isNullOrUndefined(_this.list)) {\n        _this.renderList();\n      }\n      _this.searchLists(e);\n    });\n  };\n  DropDownList.prototype.onActionFailure = function (e) {\n    _super.prototype.onActionFailure.call(this, e);\n    if (this.beforePopupOpen) {\n      this.renderPopup();\n    }\n  };\n  DropDownList.prototype.getTakeValue = function () {\n    return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    var _this = this;\n    if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = e.count;\n    }\n    if (this.isNotSearchList && !this.enableVirtualization) {\n      this.isNotSearchList = false;\n      return;\n    }\n    if (this.getInitialData) {\n      this.updateActionCompleteDataValues(ulElement, list);\n      if (this.enableVirtualization) {\n        this.updateSelectElementData(this.allowFiltering);\n      }\n      this.getInitialData = false;\n      this.isReactTemplateUpdate = true;\n      this.searchLists(this.filterArgs);\n      return;\n    }\n    var tempItemCount = this.itemCount;\n    if (this.isActive || !isNullOrUndefined(ulElement)) {\n      var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n      _super.prototype.onActionComplete.call(this, ulElement, list, e);\n      this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < this.itemCount * 2 && (!(this.dataSource instanceof DataManager) || this.dataSource instanceof DataManager && this.totalItemCount <= this.itemCount) ? 0 : this.skeletonCount;\n      this.updateSelectElementData(this.allowFiltering);\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n        this.isRequested = false;\n        this.keyActionHandler(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n        this.incrementalSearch(this.searchKeyEvent);\n        this.searchKeyEvent = null;\n      }\n      if (!this.enableVirtualization) {\n        this.list.scrollTop = 0;\n      }\n      if (!isNullOrUndefined(ulElement)) {\n        attributes(ulElement, {\n          'id': this.element.id + '_options',\n          'role': 'listbox',\n          'aria-hidden': 'false',\n          'aria-label': 'listbox'\n        });\n      }\n      if (this.initialRemoteRender) {\n        this.initial = true;\n        this.activeIndex = this.index;\n        this.initialRemoteRender = false;\n        if (this.value && this.dataSource instanceof DataManager) {\n          var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n          var value_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(checkField_1, this.value) : this.value;\n          var fieldValue_1 = this.fields.value.split('.');\n          var checkVal = list.some(function (x) {\n            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ? _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n          });\n          if (this.enableVirtualization && this.virtualGroupDataSource) {\n            checkVal = this.virtualGroupDataSource.some(function (x) {\n              return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ? _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n            });\n          }\n          if (!checkVal) {\n            this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_1))).then(function (e) {\n              if (e.result.length > 0) {\n                if (!_this.enableVirtualization) {\n                  _this.addItem(e.result, list.length);\n                }\n                _this.updateValues();\n              } else {\n                _this.updateValues();\n              }\n            });\n          } else {\n            this.updateValues();\n          }\n        } else {\n          this.updateValues();\n        }\n        this.initial = false;\n      } else if (this.getModuleName() === 'autocomplete' && this.value) {\n        this.setInputValue();\n      }\n      if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n        if (!this.actionCompleteData.isUpdated || !this.isCustomFilter && !this.isFilterFocus || isNullOrUndefined(this.itemData) && this.allowFiltering && (this.dataSource instanceof DataManager || !isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) && this.dataSource.length !== 0)) {\n          if (this.itemTemplate && (this.element.tagName === 'EJS-COMBOBOX' || this.isReact) && this.allowFiltering) {\n            setTimeout(function () {\n              _this.updateActionCompleteDataValues(ulElement, list);\n            }, 0);\n          } else {\n            this.updateActionCompleteDataValues(ulElement, list);\n          }\n        }\n        if (this.isDynamicData) {\n          var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n          this.itemData = this.getDataByValue(currentValue);\n          this.selectedLI = this.getElementByValue(currentValue);\n          this.isDynamicData = false;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((this.allowCustom || this.allowFiltering && !this.isValueInList(list, this.value) && this.dataSource instanceof DataManager) && !this.enableVirtualization) {\n          this.addNewItem(list, selectedItem);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        else if ((this.allowCustom || this.allowFiltering && this.isValueInList(list, this.value)) && !this.enableVirtualization) {\n          var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n          var isValidAddition = !isNullOrUndefined(this.value) && selectedItem && selectedItem.getAttribute('data-value') === value.toString();\n          if (isValidAddition) {\n            this.addNewItem(list, selectedItem);\n          }\n        }\n        if (!isNullOrUndefined(this.itemData) || isNullOrUndefined(this.itemData) && this.enableVirtualization) {\n          this.getSkeletonCount();\n          this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < this.itemCount * 2 && (!(this.dataSource instanceof DataManager) || this.dataSource instanceof DataManager && this.totalItemCount <= this.itemCount) ? 0 : this.skeletonCount;\n          this.UpdateSkeleton();\n          this.focusIndexItem();\n        }\n        if (this.enableVirtualization) {\n          this.updateActionCompleteDataValues(ulElement, list);\n        }\n      } else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n      } else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n        this.activeIndex = this.skeletonCount;\n      }\n      if (this.beforePopupOpen) {\n        this.renderPopup(e);\n        if (this.enableVirtualization) {\n          if (!this.list.querySelector('.e-virtual-list')) {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n          }\n        }\n        if (this.enableVirtualization && tempItemCount !== this.itemCount) {\n          this.resetList(this.dataSource, this.fields);\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DropDownList.prototype.isValueInList = function (list, valueToFind) {\n    if (Array.isArray(list)) {\n      for (var i = 0; i < list.length; i++) {\n        if (list[i] === valueToFind) {\n          return true;\n        }\n      }\n    } else if (typeof list === 'object' && list !== null) {\n      for (var key in list) {\n        if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var checkField = list;\n    fieldValue.forEach(function (value) {\n      checkField = checkField[value];\n    });\n    return checkField;\n  };\n  DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n    this.actionCompleteData = {\n      ulElement: ulElement.cloneNode(true),\n      list: list,\n      isUpdated: true\n    };\n    if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.addNewItem = function (listData, newElement) {\n    var _this = this;\n    if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n      var value_2 = this.getItemData().value;\n      var isExist = listData.some(function (data) {\n        return (typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') && data === value_2 || getValue(_this.fields.value, data) === value_2;\n      });\n      if (!isExist) {\n        this.addItem(this.itemData);\n      }\n    }\n  };\n  DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n    var _this = this;\n    if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n      if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n        setTimeout(function () {\n          _this.actionCompleteDataUpdate(li, item, index);\n        }, 0);\n      } else {\n        this.actionCompleteDataUpdate(li, item, index);\n      }\n    }\n  };\n  DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n    if (index !== null) {\n      this.actionCompleteData.ulElement.insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n    } else {\n      this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n    }\n    if (this.isFiltering() && this.actionCompleteData.list && this.actionCompleteData.list.indexOf(item) < 0) {\n      this.actionCompleteData.list.push(item);\n    }\n  };\n  DropDownList.prototype.focusIndexItem = function () {\n    var value = this.getItemData().value;\n    this.activeIndex = this.enableVirtualization && !isNullOrUndefined(value) || !this.enableVirtualization ? this.getIndexByValue(value) : this.activeIndex;\n    var element = this.findListElement(this.list, 'li', 'data-value', value);\n    this.selectedLI = element;\n    this.activeItem(element);\n    if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n      this.removeFocus();\n    }\n  };\n  DropDownList.prototype.updateSelection = function () {\n    var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n    if (selectedItem) {\n      this.setProperties({\n        'index': this.getIndexByValue(selectedItem.getAttribute('data-value'))\n      });\n      this.activeIndex = this.index;\n    } else {\n      this.removeFocus();\n      this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.updateSelectionList = function () {\n    var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n    if (!selectedItem && !isNullOrUndefined(this.value) && this.getModuleName() !== 'autocomplete') {\n      var value = this.allowObjectBinding ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n      var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n      if (findEle) {\n        findEle.classList.add('e-active');\n      }\n    }\n  };\n  DropDownList.prototype.removeFocus = function () {\n    var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n    if (highlightedItem && highlightedItem.length) {\n      removeClass(highlightedItem, dropDownListClasses.focus);\n    }\n  };\n  DropDownList.prototype.renderPopup = function (e) {\n    var _this = this;\n    if (this.popupObj && document.body.contains(this.popupObj.element)) {\n      this.refreshPopup();\n      return;\n    }\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      var initialPopupHeight;\n      if (!args.cancel) {\n        var popupEle = _this.createElement('div', {\n          id: _this.element.id + '_popup',\n          className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n        });\n        popupEle.setAttribute('aria-label', _this.element.id);\n        popupEle.setAttribute('role', 'dialog');\n        var searchBox = _this.setSearchBox(popupEle);\n        _this.listContainerHeight = _this.allowFiltering && _this.getModuleName() === 'dropdownlist' && Browser.isDevice ? formatUnit(Math.round(window.outerHeight).toString() + 'px') : formatUnit(_this.popupHeight);\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate(popupEle);\n          _this.isUpdateHeaderHeight = _this.header.offsetHeight !== 0;\n        }\n        append([_this.list], popupEle);\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate(popupEle);\n          _this.isUpdateFooterHeight = _this.footer.offsetHeight !== 0;\n        }\n        document.body.appendChild(popupEle);\n        popupEle.style.top = '0px';\n        initialPopupHeight = popupEle.clientHeight;\n        if (_this.enableVirtualization && _this.itemTemplate) {\n          var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n          _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) + parseInt(window.getComputedStyle(listitems[0]).marginBottom, 10) : 0;\n        }\n        if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n          _this.getSkeletonCount();\n          _this.skeletonCount = _this.totalItemCount < _this.itemCount * 2 && (!(_this.dataSource instanceof DataManager) || _this.dataSource instanceof DataManager && _this.totalItemCount <= _this.itemCount) ? 0 : _this.skeletonCount;\n          if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n            var virtualContentElement = _this.createElement('div', {\n              className: 'e-virtual-ddl-content'\n            });\n            virtualContentElement.style.cssText = _this.getTransformValues();\n            _this.list.appendChild(virtualContentElement).appendChild(_this.list.querySelector('.e-list-parent'));\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n          }\n          _this.UpdateSkeleton();\n          _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n          _this.virtualItemCount = _this.itemCount;\n          if (!_this.list.querySelector('.e-virtual-ddl')) {\n            var virtualElement = _this.createElement('div', {\n              id: _this.element.id + '_popup',\n              className: 'e-virtual-ddl'\n            });\n            virtualElement.style.cssText = _this.GetVirtualTrackHeight();\n            popupEle.querySelector('.e-dropdownbase').appendChild(virtualElement);\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n          }\n        }\n        popupEle.style.visibility = 'hidden';\n        if (_this.popupHeight !== 'auto') {\n          _this.searchBoxHeight = 0;\n          if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n            _this.searchBoxHeight = searchBox.container.parentElement.getBoundingClientRect().height;\n            _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - _this.searchBoxHeight).toString() + 'px';\n          }\n          if (_this.headerTemplate) {\n            _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n            var height = Math.round(_this.header.getBoundingClientRect().height);\n            _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          if (_this.footerTemplate) {\n            _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n            var height = Math.round(_this.footer.getBoundingClientRect().height);\n            _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n          }\n          _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n          popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n        } else {\n          popupEle.style.height = 'auto';\n        }\n        var offsetValue = 0;\n        var left = void 0;\n        _this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(_this.selectedLI) && !isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0) {\n          _this.setScrollPosition();\n        } else if (_this.enableVirtualization) {\n          _this.setScrollPosition();\n        } else {\n          _this.list.scrollTop = 0;\n        }\n        if (Browser.isDevice && _this.isDeviceFullScreen && !_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' || _this.isDropDownClick && _this.getModuleName() === 'combobox')) {\n          offsetValue = _this.getOffsetValue(popupEle);\n          var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n          if (!isNullOrUndefined(_this.inputElement)) {\n            left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n          }\n        }\n        _this.createPopup(popupEle, offsetValue, left);\n        _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n        _this.getFocusElement();\n        _this.checkCollision(popupEle);\n        if (Browser.isDevice) {\n          if (parseInt(_this.popupWidth.toString(), 10) > window.outerWidth && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n            _this.popupObj.element.classList.add('e-wide-popup');\n          }\n          _this.popupObj.element.classList.add(dropDownListClasses.device);\n          if (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox' && !_this.allowFiltering && _this.isDropDownClick) {\n            _this.popupObj.collision = {\n              X: 'fit',\n              Y: 'fit'\n            };\n          }\n          if (_this.isFilterLayout() && _this.isDeviceFullScreen) {\n            _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n            _this.popupObj.position = {\n              X: 0,\n              Y: 0\n            };\n            _this.popupObj.dataBind();\n            attributes(_this.popupObj.element, {\n              style: 'left:0px;right:0px;top:0px;bottom:0px;'\n            });\n            addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n            _this.setSearchBoxPosition();\n            _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n            _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n            EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n            EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n          }\n        }\n        popupEle.style.visibility = 'visible';\n        addClass([popupEle], 'e-popup-close');\n        var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n        for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n          var element = scrollParentElements_1[_i];\n          EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n        }\n        if (!isNullOrUndefined(_this.list)) {\n          _this.unWireListEvents();\n          _this.wireListEvents();\n        }\n        _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n        if (_this.enableVirtualization) {\n          _this.notify('bindScrollEvent', {\n            module: 'VirtualScroll',\n            component: _this.getModuleName(),\n            enable: _this.enableVirtualization\n          });\n          setTimeout(function () {\n            if (_this.value || _this.list.querySelector('.e-active')) {\n              _this.updateSelectionList();\n              if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n              } else {\n                _this.scrollBottom(true, true);\n              }\n            }\n          }, 5);\n        }\n        attributes(_this.targetElement(), {\n          'aria-expanded': 'true',\n          'aria-owns': _this.element.id + '_popup',\n          'aria-controls': _this.element.id\n        });\n        if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n          attributes(_this.targetElement(), {\n            'aria-activedescendant': 'no-record'\n          });\n          _this.popupContentElement.setAttribute('role', 'status');\n          _this.popupContentElement.setAttribute('id', 'no-record');\n        }\n        _this.inputElement.setAttribute('aria-expanded', 'true');\n        _this.inputElement.setAttribute('aria-controls', _this.element.id + '_popup');\n        var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n        addClass([inputParent], [dropDownListClasses.inputFocus]);\n        var animModel = {\n          name: 'FadeIn',\n          duration: 100\n        };\n        _this.beforePopupOpen = true;\n        var popupInstance = _this.popupObj;\n        var eventArgs = {\n          popup: popupInstance,\n          event: e,\n          cancel: false,\n          animation: animModel\n        };\n        _this.trigger('open', eventArgs, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            if (!isNullOrUndefined(_this.inputWrapper)) {\n              addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n            }\n            _this.renderReactTemplates();\n            if (_this.isReact && _this.isFiltering() && _this.dataSource instanceof DataManager && _this.list.querySelector('ul') && !_this.isSecondClick) {\n              _this.executeCloneElements();\n            }\n            if (!isNullOrUndefined(_this.popupObj)) {\n              _this.popupObj.show(new Animation(eventArgs.animation), _this.zIndex === 1000 ? _this.element : null);\n            }\n            if (_this.isReact) {\n              setTimeout(function () {\n                if (_this.popupHeight && _this.list && _this.popupHeight !== 'auto' && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                  var popupHeightValue = typeof _this.popupHeight === 'string' ? parseInt(_this.popupHeight, 10) : _this.popupHeight;\n                  if (!_this.isUpdateHeaderHeight && _this.headerTemplate && _this.header) {\n                    var listHeight = _this.list.style.maxHeight === '' ? popupHeightValue : parseInt(_this.list.style.maxHeight, 10);\n                    _this.list.style.maxHeight = (listHeight - _this.header.offsetHeight).toString() + 'px';\n                    _this.isUpdateHeaderHeight = true;\n                  }\n                  if (!_this.isUpdateFooterHeight && _this.footerTemplate && _this.footer) {\n                    var listHeight = _this.list.style.maxHeight === '' ? popupHeightValue : parseInt(_this.list.style.maxHeight, 10);\n                    _this.list.style.maxHeight = (listHeight - _this.footer.offsetHeight).toString() + 'px';\n                    _this.isUpdateFooterHeight = true;\n                  }\n                }\n              }, 15);\n            }\n          } else {\n            _this.beforePopupOpen = false;\n            _this.destroyPopup();\n          }\n        });\n        if (_this.allowResize && (_this.getModuleName() !== 'dropdownlist' || !(Browser.isDevice && _this.isDeviceFullScreen && _this.allowFiltering))) {\n          var resizePaddingBottom = 16;\n          // Create the resizer div\n          _this.resizer = _this.createElement('div', {\n            id: _this.element.id + '_resize-popup',\n            className: dropDownListClasses.resizeIcon // Adding class for styling\n          });\n          // Add the resizer div to the popup\n          if (_this.list && _this.list.parentElement) {\n            _this.list.parentElement.classList.add('e-resize');\n            if (_this.popupHeight.toString().toLowerCase() !== 'auto' && initialPopupHeight >= parseInt(_this.popupHeight.toString(), 10) - 2) {\n              _this.list.parentElement.style.height = '100%';\n            }\n            _this.list.parentElement.style.paddingBottom = _this.getModuleName() === 'dropdownlist' && _this.allowFiltering && _this.searchBoxHeight ? (_this.searchBoxHeight + resizePaddingBottom).toString() + 'px' : resizePaddingBottom.toString() + 'px';\n            if (_this.header || _this.footer || _this.itemTemplate) {\n              _this.list.parentElement.style.paddingBottom = (parseInt(_this.list.parentElement.style.maxHeight, 10) - parseInt(_this.list.style.maxHeight, 10) + resizePaddingBottom).toString() + 'px';\n            }\n            _this.list.parentElement.appendChild(_this.resizer);\n            //hold the popup resize\n            _this.list.parentElement.style.width = _this.resizeWidth + \"px\";\n            _this.list.parentElement.style.height = _this.resizeHeight + \"px\";\n            _this.list.parentElement.style.maxHeight = _this.resizeHeight + \"px\";\n            _this.list.style.maxHeight = _this.resizeHeight + \"px\";\n          }\n          // Attach mouse and touch events to the resizer\n          EventHandler.add(_this.resizer, 'mousedown', _this.startResizing, _this);\n          EventHandler.add(_this.resizer, 'touchstart', _this.startResizing, _this);\n        }\n      } else {\n        _this.beforePopupOpen = false;\n      }\n    });\n  };\n  DropDownList.prototype.checkCollision = function (popupEle) {\n    if (!Browser.isDevice || Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick)) {\n      var collision = isCollide(popupEle);\n      if (collision.length > 0) {\n        popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n      }\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.getOffsetValue = function (popupEle) {\n    var popupStyles = getComputedStyle(popupEle);\n    var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n    var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n    return this.setPopupPosition(borderTop + borderBottom);\n  };\n  DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n    var _this = this;\n    this.popupObj = new Popup(element, {\n      width: this.setWidth(),\n      targetType: 'relative',\n      relateTo: this.inputWrapper.container,\n      collision: this.enableRtl ? {\n        X: 'fit',\n        Y: 'flip'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      offsetY: offsetValue,\n      enableRtl: this.enableRtl,\n      offsetX: left,\n      position: this.enableRtl ? {\n        X: 'right',\n        Y: 'bottom'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      zIndex: this.zIndex,\n      close: function () {\n        if (!_this.isDocumentClick) {\n          _this.focusDropDown();\n        }\n        // eslint-disable-next-line\n        if (_this.isReact) {\n          _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n        }\n        _this.isNotSearchList = false;\n        _this.isDocumentClick = false;\n        _this.destroyPopup();\n        if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list.length > 0) {\n          _this.isActive = true;\n          if (_this.isReactTemplateUpdate && _this.isReact && _this.itemTemplate && !_this.enableVirtualization) {\n            _this.actionCompleteData.ulElement = _this.renderItems(_this.actionCompleteData.list, _this.fields);\n            _this.isReactTemplateUpdate = false;\n          }\n          if (_this.enableVirtualization) {\n            _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n          } else {\n            _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n          }\n        } else if (_this.enableVirtualization) {\n          _this.focusIndexItem();\n        }\n      },\n      open: function () {\n        EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n        _this.isPopupOpen = true;\n        var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement && _this.actionCompleteData.ulElement.querySelector('li');\n        var ulElement = _this.list.querySelector('ul li');\n        if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n          attributes(_this.targetElement(), {\n            'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id\n          });\n        } else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n          attributes(_this.targetElement(), {\n            'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id\n          });\n        }\n        if (_this.isFiltering() && _this.itemTemplate && _this.element.tagName === _this.getNgDirective() && actionList && ulElement && actionList.textContent !== ulElement.textContent && _this.element.tagName !== 'EJS-COMBOBOX') {\n          _this.cloneElements();\n        }\n        if (_this.isFilterLayout()) {\n          removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n          _this.isFilterFocus = true;\n          _this.filterInput.focus();\n          if (_this.inputWrapper.clearButton) {\n            addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n          }\n        }\n        _this.activeStateChange();\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hidePopup();\n        }\n      }\n    });\n  };\n  DropDownList.prototype.isEmptyList = function () {\n    return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n  };\n  DropDownList.prototype.getFocusElement = function () {\n    // combo-box used this method\n  };\n  DropDownList.prototype.isFilterLayout = function () {\n    return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n  };\n  DropDownList.prototype.scrollHandler = function () {\n    if (Browser.isDevice && (this.getModuleName() === 'dropdownlist' && !this.isFilterLayout() || this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick)) {\n      if (this.element && !this.isElementInViewport(this.element)) {\n        this.hidePopup();\n      }\n    }\n  };\n  DropDownList.prototype.isElementInViewport = function (element) {\n    var elementRect = element.getBoundingClientRect();\n    return elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight && elementRect.right <= window.innerWidth;\n  };\n  DropDownList.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    this.popupObj.element.style.maxHeight = '100%';\n    this.popupObj.element.style.width = '100%';\n    this.list.style.maxHeight = window.innerHeight - searchBoxHeight + 'px';\n    this.list.style.height = window.innerHeight - searchBoxHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  DropDownList.prototype.setPopupPosition = function (border) {\n    var offsetValue;\n    var popupOffset = border;\n    var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n    var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n    var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n    var liHeight = firstItem.getBoundingClientRect().height;\n    this.listItemHeight = liHeight + parseInt(window.getComputedStyle(firstItem).marginBottom, 10);\n    var listHeight = this.list.offsetHeight / 2;\n    var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n    var lastItemOffsetValue = lastItem.offsetTop;\n    if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n      var count = this.list.offsetHeight / liHeight;\n      var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n      offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n      this.list.scrollTop = selectedLI.offsetTop;\n    } else if (height > listHeight && !this.enableVirtualization) {\n      offsetValue = listHeight - liHeight / 2;\n      this.list.scrollTop = height - listHeight + liHeight / 2;\n    } else {\n      offsetValue = height;\n    }\n    var inputHeight = this.inputWrapper.container.offsetHeight;\n    offsetValue = offsetValue + liHeight + popupOffset - (liHeight - inputHeight) / 2;\n    return -offsetValue;\n  };\n  DropDownList.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n    if (Browser.isDevice && width.indexOf('px') > -1 && !this.allowFiltering && (this.getModuleName() === 'dropdownlist' || this.isDropDownClick && this.getModuleName() === 'combobox')) {\n      var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n      width = parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) - parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) + parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2 + 'px';\n    }\n    return width;\n  };\n  DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n    var _this = this;\n    if (isInitialSelection === void 0) {\n      isInitialSelection = false;\n    }\n    if (keyAction === void 0) {\n      keyAction = null;\n    }\n    if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n      this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n      if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n        this.selectedLI = this.liCollections[this.skeletonCount];\n      }\n    }\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var selectedListMargin = this.selectedLI && !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ? parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n      this.isUpwardScrolling = false;\n      var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n      var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n      var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight + selectedListMargin) : this.selectedLI.offsetTop;\n      var currentOffset = this.list.offsetHeight;\n      var nextBottom = selectedLiOffsetTop - virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin) + (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n      var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n      var isScrollerCHanged = false;\n      var isScrollTopChanged = false;\n      nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n      var boxRange = selectedLiOffsetTop - virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin) + (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n      boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n      if (this.activeIndex === 0 && !this.enableVirtualization) {\n        this.list.scrollTop = 0;\n        isScrollerCHanged = this.isKeyBoardAction;\n      } else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n        var liCount = keyAction === 'pageDown' ? this.getPageCount() - 2 : 1;\n        if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n          if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction !== 'end' && !this.isVirtualScrolling) {\n            this.isPreventKeyAction = true;\n            if (this.enableVirtualization && this.itemTemplate) {\n              this.list.scrollTop += nextOffset;\n            } else {\n              if (this.enableVirtualization) {\n                liCount = keyAction === 'pageDown' ? this.getPageCount() + 1 : liCount;\n              }\n              this.list.scrollTop += (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n            }\n            this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n          } else if (this.enableVirtualization && keyAction === 'end') {\n            this.isPreventKeyAction = false;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n            this.list.scrollTop = this.list.scrollHeight;\n          } else {\n            if (keyAction === 'pageDown' && this.enableVirtualization && !this.isVirtualScrolling) {\n              this.isPreventKeyAction = false;\n              this.isKeyBoardAction = false;\n              this.isPreventScrollAction = false;\n            }\n            this.list.scrollTop = nextOffset;\n          }\n        } else {\n          this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? isInitial && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight + this.listItemHeight * 2 : this.virtualListInfo.startIndex * this.listItemHeight : 0;\n        }\n        isScrollerCHanged = this.isKeyBoardAction;\n        isScrollTopChanged = true;\n      }\n      this.isKeyBoardAction = isScrollerCHanged;\n      if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && keyAction === 'down') {\n        setTimeout(function () {\n          _this.scrollStop(null, true);\n        }, 100);\n      }\n    }\n  };\n  DropDownList.prototype.scrollTop = function (keyAction) {\n    if (keyAction === void 0) {\n      keyAction = null;\n    }\n    if (!isNullOrUndefined(this.selectedLI)) {\n      var selectedListMargin = this.selectedLI && !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ? parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n      var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n      var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight + selectedListMargin) : this.selectedLI.offsetTop;\n      var nextOffset = selectedLiOffsetTop - virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n      var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n      nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n      var boxRange = selectedLiOffsetTop - virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin) + (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n      var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n      if (this.activeIndex === 0 && !this.enableVirtualization) {\n        this.list.scrollTop = 0;\n      } else if (nextOffset < 0 || isPageUpKeyAction) {\n        var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n        var liCount = keyAction === 'pageUp' ? this.getPageCount() - 2 : 1;\n        if (this.enableVirtualization) {\n          liCount = keyAction === 'pageUp' ? this.getPageCount() : liCount;\n        }\n        if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction !== 'home' && !this.isVirtualScrolling) {\n          this.isUpwardScrolling = true;\n          this.isPreventKeyAction = true;\n          this.list.scrollTop -= (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n          this.isPreventKeyAction = this.list.scrollTop !== 0 ? this.isPreventKeyAction : false;\n          this.isKeyBoardAction = false;\n          this.isPreventScrollAction = false;\n        } else if (this.enableVirtualization && keyAction === 'home') {\n          this.isPreventScrollAction = false;\n          this.isPreventKeyAction = true;\n          this.isKeyBoardAction = false;\n          this.list.scrollTo(0, 0);\n        } else {\n          if (keyAction === 'pageUp' && this.enableVirtualization && !this.isVirtualScrolling) {\n            this.isPreventKeyAction = false;\n            this.isKeyBoardAction = false;\n            this.isPreventScrollAction = false;\n          }\n          this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n      } else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n        this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement.offsetHeight : 0);\n      }\n    }\n  };\n  DropDownList.prototype.IsScrollerAtEnd = function () {\n    return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n  };\n  DropDownList.prototype.isEditTextBox = function () {\n    return false;\n  };\n  DropDownList.prototype.isFiltering = function () {\n    return this.allowFiltering;\n  };\n  DropDownList.prototype.isPopupButton = function () {\n    return true;\n  };\n  DropDownList.prototype.setScrollPosition = function (e) {\n    this.isPreventScrollAction = true;\n    if (!isNullOrUndefined(e)) {\n      switch (e.action) {\n        case 'pageDown':\n        case 'down':\n        case 'end':\n          this.isKeyBoardAction = true;\n          this.scrollBottom(false, false, e.action);\n          break;\n        default:\n          this.isKeyBoardAction = e.action === 'up' || e.action === 'pageUp' || e.action === 'open';\n          this.scrollTop(e.action);\n          break;\n      }\n    } else {\n      this.scrollBottom(true);\n    }\n    this.isKeyBoardAction = false;\n  };\n  DropDownList.prototype.clearText = function () {\n    this.filterInput.value = this.typedString = '';\n    this.searchLists(null);\n    if (this.enableVirtualization) {\n      this.list.scrollTop = 0;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n      }\n      this.getSkeletonCount();\n      this.UpdateSkeleton();\n      this.liCollections = this.list.querySelectorAll('.e-list-item');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n      }\n    }\n  };\n  DropDownList.prototype.setEleWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.inputWrapper.container.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.inputWrapper.container.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n  DropDownList.prototype.closePopup = function (delay, e) {\n    var _this = this;\n    var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n    var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n    this.isTyped = false;\n    this.isVirtualTrackHeight = false;\n    if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n      return;\n    }\n    this.keyboardEvent = null;\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.isActive = false;\n    this.isDropDownClick = false;\n    this.preventAutoFill = false;\n    var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n    for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n      var element = scrollableParentElements_1[_i];\n      EventHandler.remove(element, 'scroll', this.scrollHandler);\n    }\n    if (Browser.isDevice && this.isFilterLayout() && this.isDeviceFullScreen) {\n      removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n    }\n    if (this.isFilterLayout()) {\n      if (!Browser.isDevice) {\n        this.searchKeyModule.destroy();\n        if (this.clearIconElement) {\n          EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n        }\n      }\n      if (this.backIconElement) {\n        EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n        EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n      }\n      if (!isNullOrUndefined(this.filterInput)) {\n        EventHandler.remove(this.filterInput, 'input', this.onInput);\n        EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n        EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n        EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n        EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n      }\n      if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n        this.filterInput.removeAttribute('aria-activedescendant');\n        this.filterInput.removeAttribute('aria-disabled');\n        this.filterInput.removeAttribute('role');\n        this.filterInput.removeAttribute('autocomplete');\n        this.filterInput.removeAttribute('autocapitalize');\n        this.filterInput.removeAttribute('spellcheck');\n      }\n      this.filterInput = null;\n    }\n    attributes(this.targetElement(), {\n      'aria-expanded': 'false'\n    });\n    this.inputElement.setAttribute('aria-expanded', 'false');\n    this.targetElement().removeAttribute('aria-owns');\n    this.targetElement().removeAttribute('aria-activedescendant');\n    this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n    if (this.isFiltering()) {\n      this.actionCompleteData.isUpdated = false;\n    }\n    if (this.enableVirtualization) {\n      if (this.value == null || this.isTyped) {\n        this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString !== '' || this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString !== '') {\n          this.checkAndResetCache();\n        }\n      } else if (this.getModuleName() === 'autocomplete') {\n        this.checkAndResetCache();\n      }\n      if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount === 0)) {\n        this.getSkeletonCount(true);\n      }\n    }\n    this.beforePopupOpen = false;\n    var animModel = {\n      name: 'FadeOut',\n      duration: 100,\n      delay: delay ? delay : 0\n    };\n    var popupInstance = this.popupObj;\n    var eventArgs = {\n      popup: popupInstance,\n      cancel: false,\n      animation: animModel,\n      event: e || null\n    };\n    this.trigger('close', eventArgs, function (eventArgs) {\n      if (_this.getModuleName() === 'dropdownlist') {\n        Input.destroy({\n          element: _this.filterInput,\n          floatLabelType: _this.floatLabelType,\n          properties: {\n            placeholder: _this.filterBarPlaceholder\n          },\n          buttons: _this.clearIconElement\n        }, _this.clearIconElement);\n      }\n      _this.filterInputObj = null;\n      if (!isNullOrUndefined(_this.popupObj) && !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n        var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n        fixedHeader.parentNode.removeChild(fixedHeader);\n        _this.fixedHeaderElement = null;\n      }\n      if (!eventArgs.cancel) {\n        if (_this.getModuleName() === 'autocomplete') {\n          _this.rippleFun();\n        }\n        if (_this.isPopupOpen) {\n          _this.popupObj.hide(new Animation(eventArgs.animation));\n        } else {\n          _this.destroyPopup();\n        }\n      }\n    });\n    if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n      this.popupObj.element.classList.remove('e-wide-popup');\n    }\n    var dataSourceCount;\n    if (this.dataSource instanceof DataManager) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    }\n    this.customFilterQuery = null;\n    if (this.enableVirtualization && this.isFiltering() && isFilterValue && this.totalItemCount !== dataSourceCount) {\n      this.updateInitialData();\n      this.checkAndResetCache();\n    }\n  };\n  DropDownList.prototype.updateInitialData = function () {\n    var currentData = this.selectData;\n    if (isNullOrUndefined(currentData)) {\n      return;\n    }\n    var ulElement = this.renderItems(currentData, this.fields);\n    this.list.scrollTop = 0;\n    this.virtualListInfo = {\n      currentPageNumber: null,\n      direction: null,\n      sentinelInfo: {},\n      offsets: {},\n      startIndex: 0,\n      endIndex: this.itemCount\n    };\n    if (this.getModuleName() === 'combobox') {\n      this.typedString = '';\n    }\n    this.previousStartIndex = 0;\n    this.previousEndIndex = 0;\n    if (this.dataSource instanceof DataManager) {\n      if (this.remoteDataCount >= 0) {\n        this.totalItemCount = this.dataCount = this.remoteDataCount;\n      } else {\n        this.resetList(this.dataSource);\n      }\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n    } else if (!this.list.querySelector('.e-virtual-ddl') && this.list.parentElement) {\n      var virualElement = this.createElement('div', {\n        id: this.element.id + '_popup',\n        className: 'e-virtual-ddl'\n      });\n      virualElement.style.cssText = this.GetVirtualTrackHeight();\n      this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virualElement);\n    }\n    if (this.getModuleName() !== 'autocomplete' && this.totalItemCount !== 0 && this.totalItemCount > this.itemCount * 2) {\n      this.getSkeletonCount();\n    }\n    this.UpdateSkeleton();\n    this.listData = currentData;\n    this.updateActionCompleteDataValues(ulElement, currentData);\n    this.liCollections = this.list.querySelectorAll('.e-list-item');\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n    }\n  };\n  DropDownList.prototype.destroyPopup = function () {\n    this.isPopupOpen = false;\n    this.isFilterFocus = false;\n    this.inputElement.removeAttribute('aria-controls');\n    if (this.popupObj) {\n      if (this.resizer) {\n        EventHandler.remove(this.resizer, 'mousedown', this.startResizing);\n        EventHandler.remove(this.resizer, 'touchstart', this.startResizing);\n      }\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n  DropDownList.prototype.clickOnBackIcon = function () {\n    this.hidePopup();\n    this.focusIn();\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  DropDownList.prototype.render = function () {\n    this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n    if (this.element.tagName === 'INPUT') {\n      this.inputElement = this.element;\n      if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n        this.inputElement.setAttribute('role', 'combobox');\n      }\n      if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n        this.inputElement.setAttribute('type', 'text');\n      }\n      this.inputElement.setAttribute('aria-expanded', 'false');\n    } else {\n      this.inputElement = this.createElement('input', {\n        attrs: {\n          role: 'combobox',\n          type: 'text'\n        }\n      });\n      if (this.element.tagName !== this.getNgDirective()) {\n        this.element.style.display = 'none';\n      }\n      this.element.parentElement.insertBefore(this.inputElement, this.element);\n      this.preventTabIndex(this.inputElement);\n    }\n    var updatedCssClassValues = this.cssClass;\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      }\n    }, this.createElement);\n    if (this.element.tagName === this.getNgDirective()) {\n      this.element.appendChild(this.inputWrapper.container);\n    } else {\n      this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n    }\n    this.hiddenElement = this.createElement('select', {\n      attrs: {\n        'aria-hidden': 'true',\n        'tabindex': '-1',\n        'class': dropDownListClasses.hiddenElement\n      }\n    });\n    prepend([this.hiddenElement], this.inputWrapper.container);\n    if (!this.hiddenElement.hasAttribute('aria-label')) {\n      this.hiddenElement.setAttribute('aria-label', this.getModuleName());\n    }\n    this.validationAttribute(this.element, this.hiddenElement);\n    this.setReadOnly();\n    this.setFields();\n    this.inputWrapper.container.style.width = formatUnit(this.width);\n    this.inputWrapper.container.classList.add('e-ddl');\n    if (this.floatLabelType !== 'Never') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n    }\n    this.wireEvent();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n    this.element.id = id;\n    this.hiddenElement.id = id + '_hidden';\n    this.targetElement().setAttribute('tabindex', this.tabIndex);\n    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n      if (!this.inputElement.hasAttribute('aria-label')) {\n        this.inputElement.setAttribute('aria-label', this.getModuleName());\n      }\n    } else if (this.getModuleName() === 'dropdownlist') {\n      if (!this.targetElement().hasAttribute('aria-label')) {\n        attributes(this.targetElement(), {\n          'aria-label': this.getModuleName()\n        });\n      }\n      if (!this.inputElement.hasAttribute('aria-label')) {\n        this.inputElement.setAttribute('aria-label', this.getModuleName());\n      }\n      this.inputElement.setAttribute('aria-expanded', 'false');\n    }\n    attributes(this.targetElement(), this.getAriaAttributes());\n    this.updateDataAttribute(this.htmlAttributes);\n    this.setHTMLAttributes();\n    if (this.targetElement() === this.inputElement) {\n      this.inputElement.removeAttribute('aria-labelledby');\n    }\n    if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n      if (this.enableVirtualization) {\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        if (this.index !== null) {\n          this.activeIndex = this.index + this.skeletonCount;\n        }\n      }\n      this.initValue();\n      this.selectedValueInfo = this.viewPortInfo;\n      if (this.enableVirtualization) {\n        this.activeIndex = this.activeIndex + this.skeletonCount;\n      }\n    } else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n      var selectElement = this.element;\n      this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) : selectElement.options[selectElement.selectedIndex].value;\n      this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n      this.initValue();\n    }\n    this.setEnabled();\n    this.preventTabIndex(this.element);\n    if (!this.enabled) {\n      this.targetElement().tabIndex = -1;\n    }\n    this.initial = false;\n    this.element.style.opacity = '';\n    this.inputElement.onselect = function (e) {\n      e.stopImmediatePropagation();\n    };\n    this.inputElement.onchange = function (e) {\n      e.stopImmediatePropagation();\n    };\n    if (this.element.hasAttribute('autofocus')) {\n      this.focusIn();\n    }\n    if (!isNullOrUndefined(this.text)) {\n      this.inputElement.setAttribute('value', this.text);\n    }\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n    var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n    if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n      floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n      attributes(this.inputElement, {\n        'aria-labelledby': floatLabelElement.id\n      });\n    }\n    this.renderComplete();\n    this.listItemHeight = this.getListHeight();\n    this.getSkeletonCount();\n    if (this.enableVirtualization) {\n      this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n    }\n    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n  };\n  DropDownList.prototype.getListHeight = function () {\n    var listParent = this.createElement('div', {\n      className: 'e-dropdownbase'\n    });\n    var item = this.createElement('li', {\n      className: 'e-list-item'\n    });\n    var listParentHeight = formatUnit(this.popupHeight);\n    listParent.style.height = parseInt(listParentHeight, 10).toString() + 'px';\n    listParent.appendChild(item);\n    document.body.appendChild(listParent);\n    this.virtualListHeight = listParent.getBoundingClientRect().height;\n    var listItemHeight = Math.ceil(item.getBoundingClientRect().height) + parseInt(window.getComputedStyle(item).marginBottom, 10);\n    listParent.remove();\n    return listItemHeight;\n  };\n  DropDownList.prototype.setFooterTemplate = function (popupEle) {\n    var compiledString;\n    if (this.footer) {\n      if (this.isReact && typeof this.footerTemplate === 'function') {\n        this.clearTemplate(['footerTemplate']);\n      } else {\n        this.footer.innerHTML = '';\n      }\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], dropDownListClasses.footer);\n    }\n    var footercheck = this.dropdownCompiler(this.footerTemplate);\n    if (typeof this.footerTemplate !== 'function' && footercheck) {\n      compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.footerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n    if (footerCompTemp && footerCompTemp.length > 0) {\n      append(footerCompTemp, this.footer);\n    }\n    append([this.footer], popupEle);\n  };\n  DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n    var compiledString;\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], dropDownListClasses.header);\n    }\n    var headercheck = this.dropdownCompiler(this.headerTemplate);\n    if (typeof this.headerTemplate !== 'function' && headercheck) {\n      compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n    } else {\n      compiledString = compile(this.headerTemplate);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n    if (headerCompTemp && headerCompTemp.length) {\n      append(headerCompTemp, this.header);\n    }\n    var contentEle = popupEle.querySelector('div.e-content');\n    popupEle.insertBefore(this.header, contentEle);\n  };\n  /**\n   * Sets the enabled state to DropDownBase.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.setEnabled = function () {\n    this.element.setAttribute('aria-disabled', this.enabled ? 'false' : 'true');\n  };\n  DropDownList.prototype.setOldText = function (text) {\n    this.text = text;\n  };\n  DropDownList.prototype.setOldValue = function (value) {\n    this.value = value;\n  };\n  DropDownList.prototype.refreshPopup = function () {\n    if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) && (this.allowFiltering && !(Browser.isDevice && this.isFilterLayout()) || this.getModuleName() === 'autocomplete')) {\n      removeClass([this.popupObj.element], 'e-popup-close');\n      this.popupObj.refreshPosition(this.inputWrapper.container);\n      this.popupObj.resolveCollision();\n    }\n  };\n  DropDownList.prototype.checkData = function (newProp) {\n    if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering && !(this.isListSearched && newProp.dataSource instanceof DataManager)) {\n      if (this.list && !this.isReact) {\n        this.list.innerHTML = '';\n      } else {\n        this.list = null;\n      }\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n    }\n    this.isListSearched = false;\n    var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n    var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n    if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n      this.itemData = null;\n    }\n    if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n      this.actionCompleteData = {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      };\n      this.actionData = this.actionCompleteData;\n    } else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n      this.actionCompleteData = this.getModuleName() === 'combobox' ? {\n        ulElement: null,\n        list: null,\n        isUpdated: false\n      } : this.actionCompleteData;\n      this.actionData = this.actionCompleteData;\n    }\n  };\n  DropDownList.prototype.updateDataSource = function (props, oldProps) {\n    if (this.inputElement.value !== '' || !isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) {\n      this.clearAll(null, props);\n    }\n    if (this.fields.groupBy && props.fields && !this.isGroupChecking && this.list) {\n      EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n      EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n    }\n    if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource) || !(props.dataSource instanceof DataManager) && props.dataSource.length === 0)) || props.dataSource instanceof DataManager || !isNullOrUndefined(props) && Array.isArray(props.dataSource) && !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length) {\n      this.typedString = '';\n      this.resetList(this.dataSource);\n    }\n    if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n      this.checkCustomValue();\n    }\n  };\n  DropDownList.prototype.checkCustomValue = function () {\n    var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n    this.itemData = this.getDataByValue(currentValue);\n    var dataItem = this.getItemData();\n    var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n    var index = isNullOrUndefined(value) ? null : this.index;\n    if (isNullOrUndefined(index) && currentValue === value || this.isAngular) {\n      this.setProperties({\n        'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n        'value': value\n      });\n    } else {\n      this.setProperties({\n        'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n        'index': index,\n        'value': value\n      });\n    }\n  };\n  DropDownList.prototype.updateInputFields = function () {\n    if (this.getModuleName() === 'dropdownlist') {\n      Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @private\n   * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n   * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n   * @returns {void}\n   */\n  DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n    if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && isNullOrUndefined(newProp.value) && isNullOrUndefined(newProp.index) && !isNullOrUndefined(this.preselectedIndex) && !isNullOrUndefined(this.index)) {\n      newProp.index = this.index;\n    }\n    if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n      this.isTouched = true;\n    }\n    if (this.getModuleName() === 'dropdownlist') {\n      this.checkData(newProp);\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n    }\n    var _loop_1 = function (prop) {\n      switch (prop) {\n        case 'query':\n        case 'dataSource':\n          this_1.getSkeletonCount();\n          this_1.checkAndResetCache();\n          break;\n        case 'htmlAttributes':\n          this_1.setHTMLAttributes();\n          break;\n        case 'width':\n          this_1.setEleWidth(newProp.width);\n          Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n          break;\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n          break;\n        case 'filterBarPlaceholder':\n          if (this_1.filterInput) {\n            Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n          }\n          break;\n        case 'readonly':\n          if (this_1.getModuleName() !== 'dropdownlist') {\n            Input.setReadonly(newProp.readonly, this_1.inputElement);\n          }\n          this_1.setReadOnly();\n          break;\n        case 'cssClass':\n          this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n          Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n          break;\n        case 'enableRtl':\n          this_1.setEnableRtl();\n          break;\n        case 'enabled':\n          this_1.setEnable();\n          break;\n        case 'text':\n          if (this_1.fields.disabled) {\n            newProp.text = newProp.text && !this_1.isDisabledItemByIndex(this_1.getIndexByValue(this_1.getValueByText(newProp.text))) ? newProp.text : null;\n          }\n          if (newProp.text === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (this_1.enableVirtualization) {\n            this_1.updateValues();\n            this_1.updateInputFields();\n            this_1.notify('setCurrentViewDataAsync', {\n              module: 'VirtualScroll'\n            });\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initialRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initialRemoteRender) {\n            var li = this_1.getElementByText(newProp.text);\n            if (!this_1.checkValidLi(li)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n              } else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                var listLength_1 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                this_1.typedString = '';\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_1);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldText(oldProp.text);\n                  }\n                });\n              } else if (this_1.getModuleName() === 'autocomplete') {\n                this_1.setInputValue(newProp, oldProp);\n              } else {\n                this_1.setOldText(oldProp.text);\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'value':\n          if (this_1.fields.disabled) {\n            newProp.value = newProp.value != null && !this_1.isDisableItemValue(newProp.value) ? newProp.value : null;\n          }\n          if (newProp.value === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) && this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n            return {\n              value: void 0\n            };\n          }\n          if (this_1.enableVirtualization) {\n            this_1.updateValues();\n            this_1.updateInputFields();\n            this_1.notify('setCurrentViewDataAsync', {\n              module: 'VirtualScroll'\n            });\n            this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n            break;\n          }\n          this_1.notify('beforeValueChange', {\n            newProp: newProp\n          }); // gird component value type change\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initialRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initialRemoteRender) {\n            var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue(this_1.fields.value ? this_1.fields.value : '', newProp.value) : newProp.value;\n            var item = this_1.getElementByValue(value);\n            if (!this_1.checkValidLi(item)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n              } else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                var listLength_2 = this_1.getItems().length;\n                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                this_1.typedString = '';\n                var value_3 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue(checkField, newProp.value) : newProp.value;\n                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_3))).then(function (e) {\n                  if (e.result.length > 0) {\n                    _this.addItem(e.result, listLength_2);\n                    _this.updateValues();\n                  } else {\n                    _this.setOldValue(oldProp.value);\n                  }\n                });\n              } else if (this_1.getModuleName() === 'autocomplete') {\n                this_1.setInputValue(newProp, oldProp);\n              } else {\n                this_1.setOldValue(oldProp.value);\n              }\n            }\n            this_1.updateInputFields();\n            this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n          }\n          break;\n        case 'index':\n          if (this_1.fields.disabled) {\n            newProp.index = newProp.index != null && !this_1.isDisabledItemByIndex(newProp.index) ? newProp.index : null;\n          }\n          if (newProp.index === null) {\n            this_1.clearAll();\n            break;\n          }\n          if (!this_1.list) {\n            if (this_1.dataSource instanceof DataManager) {\n              this_1.initialRemoteRender = true;\n            }\n            this_1.renderList();\n          }\n          if (!this_1.initialRemoteRender && this_1.liCollections) {\n            var element = this_1.liCollections[newProp.index];\n            if (!this_1.checkValidLi(element)) {\n              if (this_1.liCollections && this_1.liCollections.length === 100 && this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n              } else {\n                this_1.index = oldProp.index;\n              }\n            }\n            this_1.updateInputFields();\n          }\n          break;\n        case 'footerTemplate':\n          if (this_1.popupObj) {\n            this_1.setFooterTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'headerTemplate':\n          if (this_1.popupObj) {\n            this_1.setHeaderTemplate(this_1.popupObj.element);\n          }\n          break;\n        case 'valueTemplate':\n          if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n            this_1.setValueTemplate();\n          }\n          break;\n        case 'allowFiltering':\n          if (this_1.allowFiltering) {\n            this_1.actionCompleteData = {\n              ulElement: this_1.ulElement,\n              list: this_1.listData,\n              isUpdated: true\n            };\n            this_1.actionData = this_1.actionCompleteData;\n            this_1.updateSelectElementData(this_1.allowFiltering);\n          }\n          break;\n        case 'floatLabelType':\n          Input.removeFloating(this_1.inputWrapper);\n          Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n          if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n            this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n          break;\n        case 'showClearButton':\n          if (!this_1.inputWrapper.clearButton) {\n            Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n            this_1.bindClearEvent();\n          }\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n          }\n          break;\n      }\n    };\n    var this_1 = this;\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      var state_1 = _loop_1(prop);\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n  };\n  DropDownList.prototype.checkValidLi = function (element) {\n    if (this.isValidLI(element)) {\n      this.setSelection(element, null);\n      return true;\n    }\n    return false;\n  };\n  DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n    var _this = this;\n    var li;\n    this.updateListValues = function () {\n      if (prop === 'text') {\n        li = _this.getElementByText(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldText(oldProp);\n        }\n      } else if (prop === 'value') {\n        var fields = _this.fields.value ? _this.fields.value : '';\n        var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ? getValue(fields, newProp) : newProp;\n        li = _this.getElementByValue(newProp);\n        if (!_this.checkValidLi(li)) {\n          _this.setOldValue(oldProp);\n        }\n      } else if (prop === 'index') {\n        li = _this.liCollections[newProp];\n        if (!_this.checkValidLi(li)) {\n          _this.index = oldProp;\n        }\n      }\n    };\n  };\n  DropDownList.prototype.updatePopupState = function () {\n    if (this.beforePopupOpen) {\n      this.beforePopupOpen = false;\n      this.showPopup();\n    }\n  };\n  DropDownList.prototype.setReadOnly = function () {\n    if (this.readonly) {\n      addClass([this.inputWrapper.container], ['e-readonly']);\n    } else {\n      removeClass([this.inputWrapper.container], ['e-readonly']);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-empty-function\n  DropDownList.prototype.setInputValue = function (newProp, oldProp) {};\n  DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n    if (!isNullOrUndefined(oldClass)) {\n      oldClass = oldClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newClass)) {\n      newClass = newClass.replace(/\\s+/g, ' ').trim();\n    }\n    Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n    if (this.popupObj) {\n      Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n    }\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  DropDownList.prototype.getModuleName = function () {\n    return 'dropdownlist';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.showPopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (!this.enabled) {\n      return;\n    }\n    if (this.getModuleName() === 'dropdownlist' && this.beforePopupOpen && !this.isPopupOpen) {\n      this.beforePopupOpen = false;\n    }\n    this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n    if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n      this.renderList();\n      this.isAddNewItemTemplate = false;\n    }\n    if (this.isFiltering() && this.dataSource instanceof DataManager && this.actionData.list !== this.actionCompleteData.list && this.actionData.list && this.actionData.ulElement) {\n      this.actionCompleteData = this.actionData;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    }\n    if (this.beforePopupOpen) {\n      this.refreshPopup();\n      return;\n    }\n    this.beforePopupOpen = true;\n    if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n      this.isActive = true;\n      this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n    } else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) || this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n      if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n        this.isSecondClick = false;\n      }\n      this.renderList(e);\n    }\n    if (this.enableVirtualization && this.listData && this.listData.length) {\n      if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n        this.removeHover();\n      }\n      if (!this.beforePopupOpen) {\n        this.notify('setCurrentViewDataAsync', {\n          module: 'VirtualScroll'\n        });\n      }\n    }\n    if (this.beforePopupOpen) {\n      this.invokeRenderPopup(e);\n    }\n    if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n      this.notify('dataProcessAsync', {\n        module: 'VirtualScroll',\n        isOpen: true\n      });\n    }\n    if (!this.isSecondClick && !this.isDropDownClick) {\n      this.executeCloneElements();\n    }\n  };\n  DropDownList.prototype.executeCloneElements = function () {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var proxy = this;\n    var duration = this.element.tagName === this.getNgDirective() && this.itemTemplate ? 500 : 100;\n    if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n      setTimeout(function () {\n        proxy.cloneElements();\n        proxy.isSecondClick = proxy.isReact && proxy.isFiltering() && proxy.dataSource instanceof DataManager && !proxy.list.querySelector('ul') ? false : true;\n      }, duration);\n    }\n  };\n  DropDownList.prototype.invokeRenderPopup = function (e) {\n    if (Browser.isDevice && this.isFilterLayout()) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var proxy_2 = this;\n      window.onpopstate = function () {\n        proxy_2.hidePopup();\n      };\n      history.pushState({}, '');\n    }\n    if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData))) {\n      this.renderPopup(e);\n    }\n  };\n  DropDownList.prototype.renderHightSearch = function () {\n    // update high light search\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in an open state.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.hidePopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n      if (!isNullOrUndefined(this.inputElement)) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n      this.isEscapeKey = false;\n      if (!isNullOrUndefined(this.index)) {\n        var value = this.allowObjectBinding ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n        var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        this.selectedLI = this.liCollections[this.index] || element;\n        if (this.selectedLI) {\n          this.updateSelectedItem(this.selectedLI, null, true);\n          if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n          }\n        }\n      } else {\n        this.resetSelection();\n      }\n    }\n    this.isVirtualTrackHeight = false;\n    this.customFilterQuery = null;\n    this.closePopup(0, e);\n    var dataItem = this.getItemData();\n    var isSelectVal = !isNullOrUndefined(this.selectedLI);\n    if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n      isSelectVal = this.selectedLI.classList.contains('e-active');\n    }\n    if (this.inputElement && this.inputElement.value === '' && !this.isInteracted && (this.isSelectCustom || isSelectVal && this.inputElement.value !== dataItem.text)) {\n      this.isSelectCustom = false;\n      this.clearAll(e);\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Sets the focus on the component for interaction.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusIn = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n      return;\n    }\n    var isFocused = false;\n    if (this.preventFocus && Browser.isDevice) {\n      this.inputWrapper.container.tabIndex = 1;\n      this.inputWrapper.container.focus();\n      this.preventFocus = false;\n      isFocused = true;\n    }\n    if (!isFocused) {\n      this.targetElement().focus();\n    }\n    addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    this.onFocus(e);\n    if (this.floatLabelType !== 'Never') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n  };\n  /**\n   * Moves the focus from the component if the component is already focused.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.focusOut = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    if (!this.enabled) {\n      return;\n    }\n    if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n      this.isTyped = true;\n    }\n    this.hidePopup(e);\n    if (this.targetElement()) {\n      this.targetElement().blur();\n    }\n    removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    if (this.floatLabelType !== 'Never') {\n      Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    }\n  };\n  /**\n   * Method to disable specific item in the popup.\n   *\n   * @param {string | number | object | HTMLLIElement} item - Specifies the item to be disabled.\n   * @returns {void}\n    */\n  DropDownList.prototype.disableItem = function (item) {\n    if (this.fields.disabled) {\n      if (!this.list) {\n        this.renderList();\n      }\n      var itemIndex = -1;\n      if (this.liCollections && this.liCollections.length > 0 && this.listData && this.fields.disabled) {\n        if (typeof item === 'string') {\n          itemIndex = this.getIndexByValue(item);\n        } else if (typeof item === 'object') {\n          if (item instanceof HTMLLIElement) {\n            for (var index = 0; index < this.liCollections.length; index++) {\n              if (this.liCollections[index] === item) {\n                itemIndex = this.getIndexByValue(item.getAttribute('data-value'));\n                break;\n              }\n            }\n          } else {\n            var value = JSON.parse(JSON.stringify(item))[this.fields.value];\n            for (var index = 0; index < this.listData.length; index++) {\n              if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.value] === value) {\n                itemIndex = this.getIndexByValue(value);\n                break;\n              }\n            }\n          }\n        } else {\n          itemIndex = item;\n        }\n        var isValidIndex = itemIndex < this.liCollections.length && itemIndex > -1;\n        if (isValidIndex && !JSON.parse(JSON.stringify(this.listData[itemIndex]))[this.fields.disabled]) {\n          var li = this.liCollections[itemIndex];\n          if (li) {\n            this.disableListItem(li);\n            var parsedData = JSON.parse(JSON.stringify(this.listData[itemIndex]));\n            parsedData[this.fields.disabled] = true;\n            this.listData[itemIndex] = parsedData;\n            this.dataSource = this.listData;\n            if (li.classList.contains(dropDownListClasses.focus)) {\n              this.removeFocus();\n            }\n            if (li.classList.contains(dropDownListClasses.selected)) {\n              this.clear();\n            }\n          }\n        }\n      }\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  DropDownList.prototype.destroy = function () {\n    this.isActive = false;\n    if (this.showClearButton) {\n      this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n    }\n    resetIncrementalSearchValues(this.element.id);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n    this.hidePopup();\n    if (this.popupObj) {\n      this.popupObj.hide();\n    }\n    this.unWireEvent();\n    if (this.list) {\n      this.unWireListEvents();\n    }\n    if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n      return;\n    }\n    if (this.inputElement) {\n      var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby', 'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize', 'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n      for (var i = 0; i < attrArray.length; i++) {\n        this.inputElement.removeAttribute(attrArray[i]);\n      }\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n      this.inputElement.classList.remove('e-input');\n      Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    this.element.removeAttribute('tabindex');\n    this.element.style.display = 'block';\n    if (this.inputWrapper.container && this.inputWrapper.container.parentElement) {\n      if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n        detach(this.inputWrapper.container);\n      } else {\n        this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n        detach(this.inputWrapper.container);\n      }\n    }\n    delete this.hiddenElement;\n    this.filterInput = null;\n    this.keyboardModule = null;\n    this.ulElement = null;\n    this.list = null;\n    this.clearIconElement = null;\n    this.popupObj = null;\n    this.popupContentElement = null;\n    this.rippleFun = null;\n    this.selectedLI = null;\n    this.liCollections = null;\n    this.item = null;\n    this.footer = null;\n    this.header = null;\n    this.previousSelectedLI = null;\n    this.valueTempElement = null;\n    this.actionData.ulElement = null;\n    if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n      this.inputElement.onchange = null;\n    }\n    if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n      this.inputElement.onselect = null;\n    }\n    Input.destroy({\n      element: this.inputElement,\n      floatLabelType: this.floatLabelType,\n      properties: this.properties,\n      buttons: this.inputWrapper.container.querySelectorAll('.e-input-group-icon')[0]\n    }, this.clearButton);\n    this.clearButton = null;\n    this.inputElement = null;\n    this.inputWrapper = null;\n    _super.prototype.destroy.call(this);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n   */\n  DropDownList.prototype.getItems = function () {\n    if (!this.list) {\n      if (this.dataSource instanceof DataManager) {\n        this.initialRemoteRender = true;\n      }\n      this.renderList();\n    }\n    return this.ulElement ? _super.prototype.getItems.call(this) : [];\n  };\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n   */\n  DropDownList.prototype.getDataByValue = function (value) {\n    return _super.prototype.getDataByValue.call(this, value);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Allows you to clear the selected values from the component.\n   *\n   * @returns {void}\n   */\n  DropDownList.prototype.clear = function () {\n    this.value = null;\n  };\n  __decorate([Property(null)], DropDownList.prototype, \"cssClass\", void 0);\n  __decorate([Property('100%')], DropDownList.prototype, \"width\", void 0);\n  __decorate([Property(true)], DropDownList.prototype, \"enabled\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"enablePersistence\", void 0);\n  __decorate([Property('300px')], DropDownList.prototype, \"popupHeight\", void 0);\n  __decorate([Property('100%')], DropDownList.prototype, \"popupWidth\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"placeholder\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate([Property({})], DropDownList.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"query\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"valueTemplate\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"headerTemplate\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"footerTemplate\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"allowFiltering\", void 0);\n  __decorate([Property(300)], DropDownList.prototype, \"debounceDelay\", void 0);\n  __decorate([Property(true)], DropDownList.prototype, \"isDeviceFullScreen\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"readonly\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"enableVirtualization\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"allowResize\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"text\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"value\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"allowObjectBinding\", void 0);\n  __decorate([Property(null)], DropDownList.prototype, \"index\", void 0);\n  __decorate([Property('Never')], DropDownList.prototype, \"floatLabelType\", void 0);\n  __decorate([Property(false)], DropDownList.prototype, \"showClearButton\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"filtering\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"change\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"beforeOpen\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"open\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"close\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"blur\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"focus\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"resizeStop\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"resizing\", void 0);\n  __decorate([Event()], DropDownList.prototype, \"resizeStart\", void 0);\n  DropDownList = __decorate([NotifyPropertyChanges], DropDownList);\n  return DropDownList;\n}(DropDownBase);\nexport { DropDownList };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Property","Event","compile","KeyboardEvents","append","select","attributes","isNullOrUndefined","getUniqueID","formatUnit","isUndefined","getValue","Animation","Browser","NotifyPropertyChanges","addClass","removeClass","closest","prepend","detach","classList","Popup","isCollide","createSpinner","showSpinner","hideSpinner","Input","incrementalSearch","resetIncrementalSearchValues","DropDownBase","dropDownBaseClasses","DataManager","Query","Predicate","dropDownListClasses","root","hover","selected","rtl","li","disable","disabled","base","focus","content","input","inputFocus","icon","iconAnimation","value","device","backIcon","filterBarClearIcon","filterInput","resizeIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","virtualList","inputObject","container","buttons","DropDownList","_super","options","element","_this","call","isListSearched","preventChange","isTouched","isFocused","autoFill","isUpdateHeaderHeight","isUpdateFooterHeight","isReactTemplateUpdate","preRender","valueTempElement","style","opacity","initializeData","activeIndex","index","queryString","isPopupOpen","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initialRemoteRender","isNotSearchList","isTyped","isSelected","preventFocus","preventAutoFill","isValidKey","typedString","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isCustomFilter","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","down","up","pageUp","pageDown","open","close","hide","space","viewPortInfo","currentPageNumber","direction","sentinelInfo","offsets","startIndex","endIndex","itemCount","setZIndex","popupObj","setProperties","zIndex","requiredModules","modules","enableVirtualization","push","args","member","renderList","e","isEmptyData","render","dataSource","totalItemCount","isFiltering","getModuleName","UpdateSkeleton","liCollections","list","querySelectorAll","ulElement","querySelector","unWireListEvents","wireListEvents","floatLabelChange","floatLabelType","floatElement","inputWrapper","inputElement","resetHandler","preventDefault","clearAll","scrollTop","virtualListInfo","previousStartIndex","previousEndIndex","resetFocusElement","removeHover","removeSelection","removeFocus","fields","skeletonCount","add","properties","previousItemData","itemData","isActive","resetSelection","dataItem","getItemData","allowObjectBinding","isObjectInArray","allowCustom","getDataByValue","checkAndResetCache","updateInitialData","onChangeEvent","selectedLI","resetList","allowFiltering","onActionComplete","cloneNode","innerHTML","text","item","display","setSelection","updateIconState","cloneElements","setHTMLAttributes","keys","htmlAttributes","_i","_a","htmlAttr","updatedClassValue","replace","trim","split","enabled","setEnable","readonly","dataBind","setAttribute","defaultAttr","validateAttr","indexOf","getAttribute","setPlaceholder","removeAttribute","getAriaAttributes","id","setEnableRtl","parentElement","enableRtl","setEnabled","targetElement","tabIndex","hidePopup","getPersistData","addOnPersist","getLocaleName","preventTabIndex","getNgDirective","getElementByText","getElementByValue","getValueByText","listItems","getItems","listItems_1","liItem","getFormattedValue","initValue","virtualItemStartIndex","virtualItemEndIndex","updateValues","isDisableItemValue","objectValue","JSON","parse","stringify","isDisabledItemByIndex","getIndexByValue","selectedValueInfo","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","document","body","contains","activeElement","focusOutAction","isRequested","focusOut","onFocusOut","dispatchEvent","tagName","clearButton","trigger","onFocus","event","resizingWireEvent","resizePopup","stopResizing","resizingUnWireEvent","remove","resetValueHandler","formElement","val","wireEvent","dropDownClick","focusIn","onSearch","window","windowResize","bindCommonEvent","isDevice","keyboardModule","keyAction","keyActionHandler","bind","keyConfigs","eventName","mobileKeyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","destroy","onMouseClick","onMouseOver","onMouseLeave","charCode","undefined","searchKeyEvent","onServerIncrementalSearch","startResizing","isResizing","clientX","MouseEvent","touches","clientY","originalWidth","offsetWidth","originalHeight","offsetHeight","originalMouseX","originalMouseY","dx","dy","minWidth","parseInt","getComputedStyle","minHeight","resizeWidth","Math","max","resizeHeight","width","height","maxHeight","fixedHeaderElement","keyboardEvent","isValidLI","isDisabledElement","history","back","delay","closePopup","currentLi","setHover","hoveredItem","hasAttribute","updateIncrementalItemIndex","incrementalStartIndex","incrementalEndIndex","updatingincrementalindex","queryStringUpdated","getElementsByClassName","currentValue","textContent","incrementalQueryString","String","fromCharCode","incrementalPreQueryString","toLocaleLowerCase","updateIncrementalInfo","updateIncrementalView","incrementalLiCollections","toString","index_1","setScrollPosition","getTransformValues","groupBy","selectedLiOffsetTop","offsetTop","enableLiCollections","spinnerElement","filterInputObj","createElement","isPreventKeyAction","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","type","keyCode","updateUpDownAction","pageUpSelection","getPageCount","pageDownSelection","isMouseScrollAction","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","filterIndex","focusEle","isSelectFocusItem","virtualIndex","nextItem","focusAtFirstElement","updateVirtualItemIndex","query","selectedData","handleVirtualKeyboardActions","pageCount","getIndexByValueFilter","itemIndex","findLi","steps","previousItem","validIndex","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","info","name","activeStateChange","which","button","proxy_1","duration","groupTemplate","itemTemplate","setTimeout","isReact","updateSelectedItem","preventSelect","isSelection","items","detachChanges","eventArgs","cancel","selectEventCallback","setSelectOptions","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","isFilterElement","clearElement","removeProperty","isObjectCustomValue","isPrimitiveData","getItem","virtualGroupDataSource","executeLocal","where","previousSelectedLI","dropdownCompiler","dropdownTemplate","checkTemplate","exception","compiledString","clearTemplate","className","insertBefore","valuecheck","valueCompTemp","valueTemplateId","isStringTemplate","renderReactTemplates","selectedItems","dataValue","dataText","eve","isCustomValue","datas","foundIndex","findIndex","data","detachChangeEvent","defineProperties","enumerable","preItems","isAngular","selectedElement","option","appendChild","onFilterUp","ctrlKey","filterArgs","firstItem","searchLists","getInitialData","executeCloneElements","getFilteringSkeletonCount","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","getQuery","filterQuery","clone","filterType","dataType","typeOfData","typeof","ignoreCase","ignoreAccent","customFilterQuery","takeValue","getTakeValue","alreadySkipAdded","queryElements","queries","fn","queryTakeValue","querySkipValue","nos","skipExists","splice","skip","isIncrementalRequest","take","requiresCount","start","abs","selectionStart","selectionEnd","performFiltering","isRequesting","preventDefaultAction","updateData","filteringAction","baseEventArgs","visibility","isDataFetched","debounceDelay","debouncedFiltering","filter","isNoData","noData","isPreventScrollAction","virtualContentElement","cssText","virtualElement","GetVirtualTrackHeight","focusIndexItem","popupContentElement","setSearchBox","popupElement","attrs","parentNode","isDeviceFullScreen","createInput","placeholder","filterBarPlaceholder","cssClass","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","onActionFailure","renderPopup","round","outerHeight","listItemHeight","count","updateActionCompleteDataValues","updateSelectElementData","tempItemCount","selectedItem","checkField_1","value_1","fieldValue_1","checkVal","some","x","executeQuery","then","result","addItem","setInputValue","isDynamicData","isValueInList","addNewItem","isValidAddition","getSkeletonCount","findListElement","valueToFind","isArray","fieldValue","checkField","forEach","listData","newElement","value_2","isExist","updateActionCompleteData","actionCompleteDataUpdate","childNodes","updateSelection","updateSelectionList","findEle","highlightedItem","refreshPopup","initialPopupHeight","popupEle","searchBox","listContainerHeight","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","top","clientHeight","listitems","ceil","getBoundingClientRect","marginBottom","virtualItemCount","searchBoxHeight","offsetValue","left","getOffsetValue","isEmptyList","textIndent","paddingLeft","borderLeftWidth","createPopup","getFocusElement","checkCollision","popupWidth","outerWidth","collision","X","Y","position","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements","getScrollableParent","scrollParentElements_1","scrollHandler","selectedElementID","notify","module","component","enable","scrollBottom","inputParent","animModel","popupInstance","popup","animation","show","popupHeightValue","listHeight","destroyPopup","allowResize","resizePaddingBottom","resizer","toLowerCase","paddingBottom","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","setWidth","targetType","relateTo","offsetY","offsetX","renderItems","actionList","targetExitViewport","isElementInViewport","elementRect","bottom","innerHeight","right","innerWidth","border","popupOffset","lastItem","liHeight","lastItemOffsetValue","inputHeight","inputWidth","parseFloat","isInitial","isInitialSelection","selectedListMargin","isNaN","isUpwardScrolling","virtualListCount","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","isScrollTopChanged","paddingTop","boxRange","isKeyBoardAction","currentElementValue","liCount","isVirtualScrolling","IsScrollerAtEnd","scrollHeight","scrollStop","firstElementValue","isPageUpKeyAction","scrollTo","isPopupButton","dataCount","setEleWidth","match","isFilterValue","isVirtualTrackHeight","scrollableParentElements","scrollableParentElements_1","fixedHeader","removeChild","rippleFun","dataSourceCount","currentData","selectData","remoteDataCount","virualElement","preselectedIndex","role","updatedCssClassValues","validationAttribute","setReadOnly","setFields","calculateWidth","updateDataAttribute","getListHeight","updateVirtualizationProperties","selectElement","selectedIndex","onselect","stopImmediatePropagation","onchange","floatLabelElement","renderComplete","listParent","listParentHeight","virtualListHeight","footercheck","footerCompTemp","footerTemplateId","headercheck","headerCompTemp","headerTemplateId","contentEle","setOldText","setOldValue","checkData","newProp","isChangeValue","isChangeText","updateDataSource","props","oldProps","isGroupChecking","setFloatingHeader","checkCustomValue","updateInputFields","onPropertyChanged","oldProp","setUpdateInitial","_loop_1","prop","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","value_3","removeFloating","addFloating","setClearButton","ddlProps","getPropObject","newProperty","oldProperty","state_1","updateListValues","updatePopupState","newClass","oldClass","isAddNewItemTemplate","invokeRenderPopup","isOpen","proxy","proxy_2","onpopstate","pushState","children","renderHightSearch","isSelectVal","blur","disableItem","HTMLLIElement","isValidIndex","disableListItem","parsedData","clear","attrArray"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-list/drop-down-list.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    resizeIcon: 'e-resizer-right e-icons',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isTouched = false;\n        _this.isFocused = false;\n        _this.autoFill = false;\n        _this.isUpdateHeaderHeight = false;\n        _this.isUpdateFooterHeight = false;\n        _this.isReactTemplateUpdate = false;\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initialRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        if (!(this.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n        }\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.fields.disabled ? this.ulElement.querySelector('.' + dropDownListClasses.li + ':not(.e-disabled)') : this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) ||\n            (this.allowObjectBinding && this.previousValue &&\n                this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem :\n                        dataItem.value ? this.getDataByValue(dataItem.value) : dataItem]))) {\n            this.checkAndResetCache();\n            if (this.enableVirtualization && this.list) {\n                this.updateInitialData();\n            }\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder' && this.element.getAttribute('placeholder') !== this.htmlAttributes[\"\" + htmlAttr]) {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else if (htmlAttr !== 'placeholder') {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.inputElement) && !isNullOrUndefined(this.inputElement.parentElement)) {\n            Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n            if (this.inputWrapper && this.inputWrapper.container) {\n                this.inputWrapper.container.setAttribute('aria-disabled', 'false');\n                this.inputWrapper.container.removeAttribute('disabled');\n            }\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n            if (this.inputWrapper && this.inputWrapper.container) {\n                this.inputWrapper.container.setAttribute('aria-disabled', 'true');\n                this.inputWrapper.container.setAttribute('disabled', '');\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initialRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    /**\n     * Checks if the given value is disabled.\n     *\n     * @param { string | number | boolean | object } value - The value to check for disablement. Can be a string, number, boolean, or object.\n     * @returns { boolean } A boolean indicating whether the value is disabled.\n     */\n    DropDownList.prototype.isDisableItemValue = function (value) {\n        if (typeof (value) === 'object') {\n            var objectValue = JSON.parse(JSON.stringify(value))[this.fields.value];\n            return this.isDisabledItemByIndex(this.getIndexByValue(objectValue));\n        }\n        return this.isDisabledItemByIndex(this.getIndexByValue(value));\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (this.fields.disabled) {\n            if (this.value != null) {\n                this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n            }\n            if (this.text != null) {\n                this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n            }\n            if (this.index != null) {\n                this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n                this.activeIndex = this.index;\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(((this.fields.value) ? this.fields.value : ''), this.value) : this.value;\n            this.setSelection(this.getElementByValue(value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n        this.isFocused = false;\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut(e);\n    };\n    DropDownList.prototype.onFocusOut = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n        this.isFocused = true;\n    };\n    DropDownList.prototype.resizingWireEvent = function () {\n        // Mouse events\n        EventHandler.add(document, 'mousemove', this.resizePopup, this);\n        EventHandler.add(document, 'mouseup', this.stopResizing, this);\n        // Touch events\n        EventHandler.add(document, 'touchmove', this.resizePopup, this);\n        EventHandler.add(document, 'touchend', this.stopResizing, this);\n    };\n    DropDownList.prototype.resizingUnWireEvent = function () {\n        // Mouse events\n        EventHandler.remove(document, 'mousemove', this.resizePopup);\n        EventHandler.remove(document, 'mouseup', this.stopResizing);\n        // Touch events\n        EventHandler.remove(document, 'touchmove', this.resizePopup);\n        EventHandler.remove(document, 'touchend', this.stopResizing);\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.startResizing = function (event) {\n        this.isResizing = true;\n        this.trigger('resizeStart', event);\n        // Get initial touch or mouse coordinates\n        var clientX = (event instanceof MouseEvent) ? event.clientX : event.touches[0].clientX;\n        var clientY = (event instanceof MouseEvent) ? event.clientY : event.touches[0].clientY;\n        // Store the initial dimensions of the popup\n        if (this.list && this.list.parentElement) {\n            this.originalWidth = this.list.parentElement.offsetWidth;\n            this.originalHeight = this.list.parentElement.offsetHeight;\n            this.originalMouseX = clientX;\n            this.originalMouseY = clientY;\n        }\n        // Wire up events for resizing\n        this.resizingWireEvent();\n        if (event) {\n            event.preventDefault(); // Prevent selection behavior if event exists\n        }\n    };\n    DropDownList.prototype.resizePopup = function (event) {\n        if (!this.isResizing) {\n            return;\n        }\n        this.trigger('resizing', event);\n        // Get the current touch or mouse position\n        var clientX = (event instanceof MouseEvent) ? event.clientX : event.touches[0].clientX;\n        var clientY = (event instanceof MouseEvent) ? event.clientY : event.touches[0].clientY;\n        // Calculate the new width and height based on drag\n        var dx = clientX - this.originalMouseX;\n        var dy = clientY - this.originalMouseY;\n        if (this.list && this.list.parentElement) {\n            // Minimum width and height (100px)\n            var minWidth = parseInt(window.getComputedStyle(this.list.parentElement).minWidth, 10);\n            var minHeight = parseInt(window.getComputedStyle(this.list.parentElement).minHeight, 10);\n            minWidth = minWidth || 100;\n            minHeight = minHeight || 120;\n            // Ensure the new width and height are not less than the minimum\n            this.resizeWidth = Math.max(this.originalWidth + dx, minWidth);\n            this.resizeHeight = Math.max(this.originalHeight + dy, minHeight);\n            this.list.parentElement.style.width = this.resizeWidth + \"px\";\n            this.list.parentElement.style.height = this.resizeHeight + \"px\";\n            this.list.parentElement.style.maxHeight = this.resizeHeight + \"px\";\n            this.list.style.maxHeight = this.resizeHeight + \"px\";\n            if (this.fixedHeaderElement && this.ulElement) {\n                this.fixedHeaderElement.style.width = this.ulElement.offsetWidth + \"px\";\n            }\n        }\n        if (event) {\n            event.preventDefault(); // Prevent selection behavior if event exists\n        }\n    };\n    DropDownList.prototype.stopResizing = function (event) {\n        if (this.isResizing) {\n            this.isResizing = false;\n            this.trigger('resizeStop', event);\n            // Unwire the resize event listeners\n            this.resizingUnWireEvent();\n        }\n        if (event) {\n            event.preventDefault(); // Prevent selection behavior if event exists\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li) || this.isDisabledElement(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n        this.incrementalStartIndex = startIndex;\n        this.incrementalEndIndex = endIndex;\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            if (this.enableVirtualization) {\n                var updatingincrementalindex = false;\n                var queryStringUpdated = false;\n                var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n                var currentValue = activeElement ? activeElement.textContent : null;\n                if (this.incrementalQueryString === '') {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else if (String.fromCharCode(e.charCode).toLocaleLowerCase() === this.incrementalPreQueryString.toLocaleLowerCase()) {\n                    queryStringUpdated = true;\n                }\n                else {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                }\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) ||\n                    this.incrementalEndIndex === 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex === 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount :\n                            this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n                while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ?\n                        this.totalItemCount : this.incrementalEndIndex + 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                    if (!isNullOrUndefined(li)) {\n                        break;\n                    }\n                    if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                    this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                }\n                var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n                if (!index) {\n                    for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n                        if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) &&\n                            this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n                            index = i;\n                            index = this.incrementalStartIndex + index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    index = index - this.skeletonCount;\n                }\n                if (index) {\n                    if ((!(this.viewPortInfo.startIndex >= index)) || (!(index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = index - ((this.itemCount / 2) - 2) > 0 ? index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ?\n                            this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                }\n                if (!isNullOrUndefined(li)) {\n                    var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ?\n                            this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ?\n                            this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    li = this.getElementByValue(li.getAttribute('data-value'));\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    if (this.enableVirtualization && !this.fields.groupBy) {\n                        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                            this.selectedLI.offsetTop +\n                                (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                        this.list.scrollTop = selectedLiOffsetTop -\n                            (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                    }\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n            }\n            else {\n                var li = void 0;\n                if (this.fields.disabled) {\n                    var enableLiCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li + ':not(.e-disabled)');\n                    li = incrementalSearch(e.charCode, enableLiCollections, this.activeIndex, true, this.element.id);\n                }\n                else {\n                    li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n                }\n                if (!isNullOrUndefined(li)) {\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                }\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                if (!this.enableVirtualization || (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38))) {\n                    this.renderList(e);\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                }\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                            e.preventDefault();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        if (this.fields.disabled && this.list && this.list.querySelectorAll('.e-list-item:not(.e-disabled)').length === 0) {\n            return;\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value = this.getItemData().value;\n            if (isNullOrUndefined(value)) {\n                value = 'null';\n            }\n            var filterIndex = this.getIndexByValue(value);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization) {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop +\n                    (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                if (this.fields.groupBy) {\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 ?\n                        this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                }\n                this.list.scrollTop = selectedLiOffsetTop -\n                    (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                var focusAtFirstElement = this.liCollections[this.skeletonCount] &&\n                    this.liCollections[this.skeletonCount].classList.contains('e-item-focus');\n                this.setSelection(nextItem, e);\n                if (focusAtFirstElement && this.enableVirtualization && this.getModuleName() === 'autocomplete' && !isVirtualKeyAction) {\n                    var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                        this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) :\n                        this.selectedLI.offsetTop;\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex === 0 && this.fields.groupBy ?\n                        this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                    this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                }\n            }\n            else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && ((this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down') || (this.viewPortInfo.startIndex !== 0 && e.action === 'up'))) {\n                if (e.action === 'down') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex + this.itemCount) <\n                        (this.totalItemCount - this.itemCount) ? this.viewPortInfo.startIndex + this.itemCount :\n                        this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value = this.liCollections[0].getAttribute('data-value') !== 'null' ?\n                        this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                else if (e.action === 'up') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex - this.itemCount) > 0 ?\n                        this.viewPortInfo.startIndex - this.itemCount : 0;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== 'null' ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.handleVirtualKeyboardActions(e, this.pageCount);\n            }\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value = this.getItemData().value;\n            var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n        var itemIndex;\n        for (var index = 0; index < this.liCollections.length; index++) {\n            if (this.liCollections[index].classList.contains(dropDownListClasses.focus)\n                || this.liCollections[index].classList.contains(dropDownListClasses.selected)) {\n                itemIndex = index;\n                break;\n            }\n        }\n        if (itemIndex != null && this.isDisabledElement(this.liCollections[itemIndex])) {\n            if (this.getModuleName() !== 'autocomplete') {\n                if (this.liCollections.length - 1 === itemIndex && e.action === 'down') {\n                    e.action = 'up';\n                }\n                if (itemIndex === 0 && e.action === 'up') {\n                    e.action = 'down';\n                }\n            }\n            this.updateUpDownAction(e);\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization && this.isPopupOpen) {\n                    findLi = this.skeletonCount;\n                }\n                else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            if (!this.enableVirtualization && this.liCollections[findLi] && this.liCollections[findLi].classList.contains('e-disabled')) {\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ?\n                    this.getIndexByValue(this.selectedLI.getAttribute('data-value')) + this.getPageCount() - 1 :\n                    this.getIndexByValue(this.previousValue);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ?\n                    this.getIndexByValue(this.selectedLI.getAttribute('data-value')) - this.getPageCount() :\n                    this.getIndexByValue(this.previousValue);\n                this.pageDownSelection(!isNullOrUndefined(this.activeIndex) ?\n                    (this.activeIndex + this.getPageCount()) : (2 * this.getPageCount()), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (this.isDisabledElement(li)) {\n                return;\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if (!this.enableVirtualization && previousItem && previousItem.classList.contains('e-disabled')) {\n            var validIndex = steps >= 0 ? steps + 1 : 0;\n            while (validIndex < this.liCollections.length) {\n                previousItem = this.liCollections[validIndex];\n                if (previousItem && !previousItem.classList.contains('e-disabled')) {\n                    break;\n                }\n                validIndex--;\n                if (validIndex < 0) {\n                    return;\n                }\n            }\n        }\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = (this.liCollections.length >= steps && steps >= 0) ?\n                this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' &&\n                !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' &&\n                !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (!this.enableVirtualization && previousItem && previousItem.classList.contains('e-disabled')) {\n            while (steps >= 0 && steps < this.liCollections.length) {\n                previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n                if (previousItem && !previousItem.classList.contains('e-disabled')) {\n                    break;\n                }\n                steps++;\n            }\n        }\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                if (this.getModuleName() === 'combobox' && this.isTyped) {\n                    this.isInteracted = false;\n                }\n                this.hidePopup(e);\n                this.isInteracted = false;\n                if (!isActive) {\n                    this.onFocusOut(e);\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = ((this.dataSource instanceof DataManager) && this.groupTemplate) ? 700 :\n                (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                    proxy_1.isSecondClick = proxy_1.isReact && proxy_1.isFiltering() && proxy_1.dataSource instanceof DataManager && !proxy_1.list.querySelector('ul') ? false : true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== null ?\n            this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData !== selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == 'object' &&\n                !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n            else {\n                this.activeIndex = this.getIndexByValue(value);\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.activeIndex == null && this.dataSource instanceof DataManager) {\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n            }\n            this.activeIndex = this.getIndexByValue(value);\n        }\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        this.isTouched = !isNullOrUndefined(e);\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n            this.activeIndex = this.getIndexByValueFilter(dataItem.value, this.actionCompleteData.ulElement);\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding &&\n            (this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom &&\n                    this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ?\n                    this.getDataByValue(dataItem.value) : dataItem])))) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization && this.value) {\n                var fields = !this.isPrimitiveData ? this.fields.value : '';\n                var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                    getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ?\n                            this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) ||\n                            (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ?\n                            this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) ||\n                            (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                            if (isNullOrUndefined(li)) {\n                                this.previousValue = this.value;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @param {boolean} isCustomValue - Specifies whether the value is custom value or not.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n        var _this = this;\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        if (this.enableVirtualization) {\n            var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n            if (dataItem.value && datas && datas.length > 0) {\n                var foundIndex = datas.findIndex(function (data) {\n                    return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n                });\n                if (foundIndex !== -1) {\n                    index = foundIndex;\n                }\n            }\n        }\n        var value = this.allowObjectBinding ? isCustomValue ?\n            this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n        this.setProperties({ 'index': index, 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    var option = document.createElement('option');\n                    option.text = this.text;\n                    option.setAttribute('selected', '');\n                    this.hiddenElement.appendChild(option);\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            this.filterArgs = e;\n            this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        this.getInitialData = true;\n                        this.renderList();\n                        if (!this.isSecondClick && !this.isDropDownClick) {\n                            this.executeCloneElements();\n                        }\n                    }\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    if (!this.getInitialData) {\n                        this.searchLists(e);\n                    }\n                    if ((this.enableVirtualization && this.getModuleName() !== 'autocomplete') || (this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount !== 0)) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if (((this.getModuleName() !== 'combobox')) || (this.isFiltering() && this.getModuleName() === 'combobox' && this.typedString !== '')) {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = (this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery)) ?\n                this.customFilterQuery.clone() : query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && this.viewPortInfo.endIndex !== 0) {\n            var takeValue = this.getTakeValue();\n            var alreadySkipAdded = false;\n            if (filterQuery) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        alreadySkipAdded = true;\n                        break;\n                    }\n                }\n            }\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ?\n                            filterQuery.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ?\n                            this.query.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        alreadySkipAdded = false;\n                        --queryElements;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ?\n                            queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n            }\n            if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n                if (querySkipValue > 0) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                if (queryTakeValue > 0) {\n                    filterQuery.take(queryTakeValue);\n                }\n                else {\n                    filterQuery.take(takeValue);\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.performFiltering = function (e) {\n        var _this = this;\n        this.checkAndResetCache();\n        this.isRequesting = false;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isCustomFilter = true;\n                _this.customFilterQuery = query ? query.clone() : query;\n                _this.filteringAction(dataSource, query, fields);\n            },\n            baseEventArgs: e,\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                _this.filteringAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            if (this.typedString !== '' && this.debounceDelay > 0) {\n                this.debouncedFiltering(e, this.debounceDelay);\n            }\n            else {\n                this.performFiltering(e);\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = ((!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') ||\n                this.getInitialData) ? false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        if (this.isFiltering()) {\n                            this.isPreventScrollAction = true;\n                            this.list.scrollTop = 0;\n                            this.previousStartIndex = 0;\n                            this.virtualListInfo = null;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                var virtualContentElement = this.createElement('div', {\n                                    className: 'e-virtual-ddl-content'\n                                });\n                                virtualContentElement.style.cssText = this.getTransformValues();\n                                this.list.appendChild(virtualContentElement).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virtualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup',\n                                    className: 'e-virtual-ddl'\n                                });\n                                virtualElement.style.cssText = this.GetVirtualTrackHeight();\n                                this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virtualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    this.popupContentElement.setAttribute('role', 'status');\n                    this.popupContentElement.setAttribute('id', 'no-record');\n                    attributes(this.filterInputObj.container, { 'aria-activedescendant': 'no-record' });\n                }\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        var virtualContentElement = this.createElement('div', {\n                            className: 'e-virtual-ddl-content'\n                        });\n                        virtualContentElement.style.cssText = this.getTransformValues();\n                        this.list.appendChild(virtualContentElement).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virtualElement = this.createElement('div', {\n                            id: this.element.id + '_popup',\n                            className: 'e-virtual-ddl'\n                        });\n                        virtualElement.style.cssText = this.GetVirtualTrackHeight();\n                        this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virtualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n            if (this.filterInput && this.filterInput.value === '' && this.getModuleName() === 'combobox') {\n                this.executeCloneElements();\n            }\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice && this.isDeviceFullScreen) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        if (!isNullOrUndefined(e) && !isNullOrUndefined(e.data) && e.data.length > 1 && this.autoFill && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.inputElement.value = e.data;\n        }\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            if (_this.getModuleName() === 'combobox' && _this.isFiltering() && isNullOrUndefined(_this.list)) {\n                _this.renderList();\n            }\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.getInitialData) {\n            this.updateActionCompleteDataValues(ulElement, list);\n            if (this.enableVirtualization) {\n                this.updateSelectElementData(this.allowFiltering);\n            }\n            this.getInitialData = false;\n            this.isReactTemplateUpdate = true;\n            this.searchLists(this.filterArgs);\n            return;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < (this.itemCount * 2) &&\n                ((!(this.dataSource instanceof DataManager)) ||\n                    ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'listbox' });\n            }\n            if (this.initialRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initialRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var value_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                        getValue(checkField_1, this.value) : this.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n                    });\n                    if (this.enableVirtualization && this.virtualGroupDataSource) {\n                        checkVal = this.virtualGroupDataSource.some(function (x) {\n                            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                                _this.checkFieldValue(x, fieldValue_1) === value_1 : x[checkField_1] === value_1;\n                        });\n                    }\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_1)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                if (!_this.enableVirtualization) {\n                                    _this.addItem(e.result, list.length);\n                                }\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && (this.element.tagName === 'EJS-COMBOBOX' || this.isReact) && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                if (this.isDynamicData) {\n                    var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n                        getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                    this.itemData = this.getDataByValue(currentValue);\n                    this.selectedLI = this.getElementByValue(currentValue);\n                    this.isDynamicData = false;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if ((this.allowCustom || (this.allowFiltering && !this.isValueInList(list, this.value) &&\n                    this.dataSource instanceof DataManager)) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                else if ((this.allowCustom || (this.allowFiltering && this.isValueInList(list, this.value))) &&\n                    !this.enableVirtualization) {\n                    var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                    var isValidAddition = !isNullOrUndefined(this.value) && selectedItem && selectedItem.getAttribute('data-value') === value.toString();\n                    if (isValidAddition) {\n                        this.addNewItem(list, selectedItem);\n                    }\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.getSkeletonCount();\n                    this.skeletonCount = this.totalItemCount !== 0 && this.totalItemCount < (this.itemCount * 2) &&\n                        ((!(this.dataSource instanceof DataManager)) ||\n                            ((this.dataSource instanceof DataManager) && (this.totalItemCount <= this.itemCount))) ? 0 : this.skeletonCount;\n                    this.UpdateSkeleton();\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount !== this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.isValueInList = function (list, valueToFind) {\n        if (Array.isArray(list)) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof list === 'object' && list !== null) {\n            for (var key in list) {\n                if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_2 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') && data === value_2) ||\n                    (getValue(_this.fields.value, data) === value_2));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = ((this.enableVirtualization && !isNullOrUndefined(value)) || !this.enableVirtualization) ?\n            this.getIndexByValue(value) : this.activeIndex;\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value) && this.getModuleName() !== 'autocomplete') {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            var initialPopupHeight;\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                popupEle.setAttribute('aria-label', _this.element.id);\n                popupEle.setAttribute('role', 'dialog');\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listContainerHeight = _this.allowFiltering && _this.getModuleName() === 'dropdownlist' && Browser.isDevice ?\n                    formatUnit(Math.round(window.outerHeight).toString() + 'px') : formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                    _this.isUpdateHeaderHeight = _this.header.offsetHeight !== 0;\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                    _this.isUpdateFooterHeight = _this.footer.offsetHeight !== 0;\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.top = '0px';\n                initialPopupHeight = popupEle.clientHeight;\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) +\n                        parseInt(window.getComputedStyle(listitems[0]).marginBottom, 10) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    _this.getSkeletonCount();\n                    _this.skeletonCount = _this.totalItemCount < (_this.itemCount * 2) && ((!(_this.dataSource instanceof DataManager)) ||\n                        ((_this.dataSource instanceof DataManager) && (_this.totalItemCount <= _this.itemCount))) ? 0 : _this.skeletonCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        var virtualContentElement = _this.createElement('div', {\n                            className: 'e-virtual-ddl-content'\n                        });\n                        virtualContentElement.style.cssText = _this.getTransformValues();\n                        _this.list.appendChild(virtualContentElement).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virtualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup',\n                            className: 'e-virtual-ddl'\n                        });\n                        virtualElement.style.cssText = _this.GetVirtualTrackHeight();\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virtualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) &&\n                        _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) -\n                            (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) -\n                            (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && _this.isDeviceFullScreen && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.getFocusElement();\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    if ((parseInt(_this.popupWidth.toString(), 10) > window.outerWidth) &&\n                        !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                        _this.popupObj.element.classList.add('e-wide-popup');\n                    }\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout() && _this.isDeviceFullScreen) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify('bindScrollEvent', {\n                        module: 'VirtualScroll',\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization\n                    });\n                    setTimeout(function () {\n                        if (_this.value || _this.list.querySelector('.e-active')) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': 'no-record' });\n                    _this.popupContentElement.setAttribute('role', 'status');\n                    _this.popupContentElement.setAttribute('id', 'no-record');\n                }\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                _this.inputElement.setAttribute('aria-controls', _this.element.id + '_popup');\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (_this.isReact && _this.isFiltering() && _this.dataSource instanceof DataManager && _this.list.querySelector('ul') && !_this.isSecondClick) {\n                            _this.executeCloneElements();\n                        }\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                        if (_this.isReact) {\n                            setTimeout(function () {\n                                if (_this.popupHeight && _this.list && _this.popupHeight !== 'auto' && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                                    var popupHeightValue = typeof _this.popupHeight === 'string' ? parseInt(_this.popupHeight, 10) : _this.popupHeight;\n                                    if (!_this.isUpdateHeaderHeight && _this.headerTemplate && _this.header) {\n                                        var listHeight = _this.list.style.maxHeight === '' ? popupHeightValue : parseInt(_this.list.style.maxHeight, 10);\n                                        _this.list.style.maxHeight = (listHeight - _this.header.offsetHeight).toString() + 'px';\n                                        _this.isUpdateHeaderHeight = true;\n                                    }\n                                    if (!_this.isUpdateFooterHeight && _this.footerTemplate && _this.footer) {\n                                        var listHeight = _this.list.style.maxHeight === '' ? popupHeightValue : parseInt(_this.list.style.maxHeight, 10);\n                                        _this.list.style.maxHeight = (listHeight - _this.footer.offsetHeight).toString() + 'px';\n                                        _this.isUpdateFooterHeight = true;\n                                    }\n                                }\n                            }, 15);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n                if (_this.allowResize && (_this.getModuleName() !== 'dropdownlist' || !(Browser.isDevice && _this.isDeviceFullScreen && _this.allowFiltering))) {\n                    var resizePaddingBottom = 16;\n                    // Create the resizer div\n                    _this.resizer = _this.createElement('div', {\n                        id: _this.element.id + '_resize-popup',\n                        className: dropDownListClasses.resizeIcon // Adding class for styling\n                    });\n                    // Add the resizer div to the popup\n                    if (_this.list && _this.list.parentElement) {\n                        _this.list.parentElement.classList.add('e-resize');\n                        if (_this.popupHeight.toString().toLowerCase() !== 'auto' && initialPopupHeight >= (parseInt(_this.popupHeight.toString(), 10) - 2)) {\n                            _this.list.parentElement.style.height = '100%';\n                        }\n                        _this.list.parentElement.style.paddingBottom = (_this.getModuleName() === 'dropdownlist' && _this.allowFiltering && _this.searchBoxHeight) ? (_this.searchBoxHeight + resizePaddingBottom).toString() + 'px' : resizePaddingBottom.toString() + 'px';\n                        if (_this.header || _this.footer || _this.itemTemplate) {\n                            _this.list.parentElement.style.paddingBottom = ((parseInt(_this.list.parentElement.style.maxHeight, 10) - parseInt(_this.list.style.maxHeight, 10)) + resizePaddingBottom).toString() + 'px';\n                        }\n                        _this.list.parentElement.appendChild(_this.resizer);\n                        //hold the popup resize\n                        _this.list.parentElement.style.width = _this.resizeWidth + \"px\";\n                        _this.list.parentElement.style.height = _this.resizeHeight + \"px\";\n                        _this.list.parentElement.style.maxHeight = _this.resizeHeight + \"px\";\n                        _this.list.style.maxHeight = _this.resizeHeight + \"px\";\n                    }\n                    // Attach mouse and touch events to the resizer\n                    EventHandler.add(_this.resizer, 'mousedown', _this.startResizing, _this);\n                    EventHandler.add(_this.resizer, 'touchstart', _this.startResizing, _this);\n                }\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list.length > 0) {\n                    _this.isActive = true;\n                    if (_this.isReactTemplateUpdate && _this.isReact && _this.itemTemplate && !_this.enableVirtualization) {\n                        _this.actionCompleteData.ulElement = _this.renderItems(_this.actionCompleteData.list, _this.fields);\n                        _this.isReactTemplateUpdate = false;\n                    }\n                    if (_this.enableVirtualization) {\n                        _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n                    }\n                    else {\n                        _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                    }\n                }\n                else if (_this.enableVirtualization) {\n                    _this.focusIndexItem();\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            if (this.element && !(this.isElementInViewport(this.element))) {\n                this.hidePopup();\n            }\n        }\n    };\n    DropDownList.prototype.isElementInViewport = function (element) {\n        var elementRect = element.getBoundingClientRect();\n        return (elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight &&\n            elementRect.right <= window.innerWidth);\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight + parseInt(window.getComputedStyle(firstItem).marginBottom, 10);\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (width.indexOf('px') > -1) && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        var _this = this;\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var selectedListMargin = this.selectedLI &&\n                !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ?\n                parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ?\n                this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight +\n                    selectedListMargin)) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            var isScrollTopChanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 :\n                nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction === 'pageDown' ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue &&\n                        currentElementValue === lastElementValue && keyAction !== 'end' && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            if (this.enableVirtualization) {\n                                liCount = keyAction === 'pageDown' ? this.getPageCount() + 1 : liCount;\n                            }\n                            this.list.scrollTop += (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction === 'end') {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction === 'pageDown' && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ?\n                        isInitial && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight +\n                            (this.listItemHeight * 2) : this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                isScrollTopChanged = true;\n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n            if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && (keyAction === 'down')) {\n                setTimeout(function () {\n                    _this.scrollStop(null, true);\n                }, 100);\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var selectedListMargin = this.selectedLI &&\n                !isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10)) ?\n                parseInt(window.getComputedStyle(this.selectedLI).marginBottom, 10) : 0;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ?\n                this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * (this.selectedLI.offsetHeight +\n                    selectedListMargin)) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight +\n                selectedListMargin)) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ?\n                this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * (this.selectedLI.offsetHeight + selectedListMargin)) +\n                (this.selectedLI.offsetHeight + selectedListMargin) - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction === 'pageUp' ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization) {\n                    liCount = keyAction === 'pageUp' ? this.getPageCount() : liCount;\n                }\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue &&\n                    currentElementValue === firstElementValue && keyAction !== 'home' && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= (this.selectedLI.offsetHeight + selectedListMargin) * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop !== 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction === 'home') {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction === 'pageUp' && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.IsScrollerAtEnd = function () {\n        return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action === 'up' || e.action === 'pageUp' || e.action === 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ?\n                this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) &&\n            !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        this.isVirtualTrackHeight = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout() && this.isDeviceFullScreen) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n                this.filterInput.removeAttribute('aria-activedescendant');\n                this.filterInput.removeAttribute('aria-disabled');\n                this.filterInput.removeAttribute('role');\n                this.filterInput.removeAttribute('autocomplete');\n                this.filterInput.removeAttribute('autocapitalize');\n                this.filterInput.removeAttribute('spellcheck');\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ?\n                    this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' &&\n                    !isNullOrUndefined(this.typedString) && this.typedString !== '') || (this.getModuleName() === 'combobox' &&\n                    this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString !== '')) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount === 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (_this.getModuleName() === 'dropdownlist') {\n                Input.destroy({\n                    element: _this.filterInput,\n                    floatLabelType: _this.floatLabelType,\n                    properties: { placeholder: _this.filterBarPlaceholder },\n                    buttons: _this.clearIconElement\n                }, _this.clearIconElement);\n            }\n            _this.filterInputObj = null;\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n            this.popupObj.element.classList.remove('e-wide-popup');\n        }\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ?\n                this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        this.customFilterQuery = null;\n        if (this.enableVirtualization && this.isFiltering() && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        if (isNullOrUndefined(currentData)) {\n            return;\n        }\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = '';\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        else if (!this.list.querySelector('.e-virtual-ddl') && this.list.parentElement) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup',\n                className: 'e-virtual-ddl'\n            });\n            virualElement.style.cssText = this.GetVirtualTrackHeight();\n            this.list.parentElement.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        if (this.getModuleName() !== 'autocomplete' && this.totalItemCount !== 0 && this.totalItemCount > (this.itemCount * 2)) {\n            this.getSkeletonCount();\n        }\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.inputElement.removeAttribute('aria-controls');\n        if (this.popupObj) {\n            if (this.resizer) {\n                EventHandler.remove(this.resizer, 'mousedown', this.startResizing);\n                EventHandler.remove(this.resizer, 'touchstart', this.startResizing);\n            }\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) &&\n            closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: {\n                'aria-hidden': 'true',\n                'tabindex': '-1',\n                'class': dropDownListClasses.hiddenElement\n            }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        if (!this.hiddenElement.hasAttribute('aria-label')) {\n            this.hiddenElement.setAttribute('aria-label', this.getModuleName());\n        }\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) &&\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            if (!this.inputElement.hasAttribute('aria-label')) {\n                this.inputElement.setAttribute('aria-label', this.getModuleName());\n            }\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            if (!this.targetElement().hasAttribute('aria-label')) {\n                attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n            }\n            if (!this.inputElement.hasAttribute('aria-label')) {\n                this.inputElement.setAttribute('aria-label', this.getModuleName());\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n                if (this.index !== null) {\n                    this.activeIndex = this.index + this.skeletonCount;\n                }\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) :\n                selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ?\n            this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height) +\n            parseInt(window.getComputedStyle(item).marginBottom, 10);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            if (this.list && !(this.isReact)) {\n                this.list.innerHTML = '';\n            }\n            else {\n                this.list = null;\n            }\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props, oldProps) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) ||\n            ((props.dataSource instanceof DataManager) || (!isNullOrUndefined(props) && Array.isArray(props.dataSource) &&\n                !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length))) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ?\n            getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(currentValue);\n        var dataItem = this.getItemData();\n        var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n        var index = isNullOrUndefined(value) ? null : this.index;\n        if ((isNullOrUndefined(index) && (currentValue === value)) || this.isAngular) {\n            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n        }\n        else {\n            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'index': index, 'value': value });\n        }\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && (isNullOrUndefined(newProp.value) &&\n            isNullOrUndefined(newProp.index)) && !isNullOrUndefined(this.preselectedIndex) && !isNullOrUndefined(this.index)) {\n            newProp.index = this.index;\n        }\n        if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n            this.isTouched = true;\n        }\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (this_1.fields.disabled) {\n                        newProp.text = newProp.text && !this_1.isDisabledItemByIndex(this_1.getIndexByValue(this_1.getValueByText(newProp.text)))\n                            ? newProp.text : null;\n                    }\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify('setCurrentViewDataAsync', {\n                            module: 'VirtualScroll'\n                        });\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (this_1.fields.disabled) {\n                        newProp.value = newProp.value != null && !this_1.isDisableItemValue(newProp.value) ? newProp.value : null;\n                    }\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) &&\n                        this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n                        return { value: void 0 };\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify('setCurrentViewDataAsync', {\n                            module: 'VirtualScroll'\n                        });\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ?\n                            getValue((this_1.fields.value) ? this_1.fields.value : '', newProp.value) : newProp.value;\n                        var item = this_1.getElementByValue(value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                var value_3 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ?\n                                    getValue(checkField, newProp.value) : newProp.value;\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_3)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (this_1.fields.disabled) {\n                        newProp.index = newProp.index != null && !this_1.isDisabledItemByIndex(newProp.index) ? newProp.index : null;\n                    }\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) &&\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var state_1 = _loop_1(prop);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                var fields = (_this.fields.value) ? _this.fields.value : '';\n                var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ?\n                    getValue(fields, newProp) : newProp;\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.updatePopupState = function () {\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-empty-function\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (this.getModuleName() === 'dropdownlist' && this.beforePopupOpen && !this.isPopupOpen) {\n            this.beforePopupOpen = false;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n                this.isSecondClick = false;\n            }\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify('setCurrentViewDataAsync', {\n                    module: 'VirtualScroll'\n                });\n            }\n        }\n        if (this.beforePopupOpen) {\n            this.invokeRenderPopup(e);\n        }\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null &&\n            this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify('dataProcessAsync', {\n                module: 'VirtualScroll',\n                isOpen: true\n            });\n        }\n        if (!this.isSecondClick && !this.isDropDownClick) {\n            this.executeCloneElements();\n        }\n    };\n    DropDownList.prototype.executeCloneElements = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n        if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n            setTimeout(function () {\n                proxy.cloneElements();\n                proxy.isSecondClick = proxy.isReact && proxy.isFiltering() && proxy.dataSource instanceof DataManager && !proxy.list.querySelector('ul') ? false : true;\n            }, duration);\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.isVirtualTrackHeight = false;\n        this.customFilterQuery = null;\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n            isSelectVal = this.selectedLI.classList.contains('e-active');\n        }\n        if (this.inputElement && this.inputElement.value === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Method to disable specific item in the popup.\n     *\n     * @param {string | number | object | HTMLLIElement} item - Specifies the item to be disabled.\n     * @returns {void}\n\n     */\n    DropDownList.prototype.disableItem = function (item) {\n        if (this.fields.disabled) {\n            if (!this.list) {\n                this.renderList();\n            }\n            var itemIndex = -1;\n            if (this.liCollections && this.liCollections.length > 0 && this.listData && this.fields.disabled) {\n                if (typeof (item) === 'string') {\n                    itemIndex = this.getIndexByValue(item);\n                }\n                else if (typeof item === 'object') {\n                    if (item instanceof HTMLLIElement) {\n                        for (var index = 0; index < this.liCollections.length; index++) {\n                            if (this.liCollections[index] === item) {\n                                itemIndex = this.getIndexByValue(item.getAttribute('data-value'));\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        var value = JSON.parse(JSON.stringify(item))[this.fields.value];\n                        for (var index = 0; index < this.listData.length; index++) {\n                            if (JSON.parse(JSON.stringify(this.listData[index]))[this.fields.value] === value) {\n                                itemIndex = this.getIndexByValue(value);\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    itemIndex = item;\n                }\n                var isValidIndex = itemIndex < this.liCollections.length && itemIndex > -1;\n                if (isValidIndex && !(JSON.parse(JSON.stringify(this.listData[itemIndex]))[this.fields.disabled])) {\n                    var li = this.liCollections[itemIndex];\n                    if (li) {\n                        this.disableListItem(li);\n                        var parsedData = JSON.parse(JSON.stringify(this.listData[itemIndex]));\n                        parsedData[this.fields.disabled] = true;\n                        this.listData[itemIndex] = parsedData;\n                        this.dataSource = this.listData;\n                        if (li.classList.contains(dropDownListClasses.focus)) {\n                            this.removeFocus();\n                        }\n                        if (li.classList.contains(dropDownListClasses.selected)) {\n                            this.clear();\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        if (this.showClearButton) {\n            this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n        }\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.removeAttribute('tabindex');\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container && this.inputWrapper.container.parentElement) {\n            if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n                detach(this.inputWrapper.container);\n            }\n            else {\n                this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n                detach(this.inputWrapper.container);\n            }\n        }\n        delete this.hiddenElement;\n        this.filterInput = null;\n        this.keyboardModule = null;\n        this.ulElement = null;\n        this.list = null;\n        this.clearIconElement = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n            this.inputElement.onselect = null;\n        }\n        Input.destroy({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: this.properties,\n            buttons: this.inputWrapper.container.querySelectorAll('.e-input-group-icon')[0]\n        }, this.clearButton);\n        this.clearButton = null;\n        this.inputElement = null;\n        this.inputWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initialRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(300)\n    ], DropDownList.prototype, \"debounceDelay\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"isDeviceFullScreen\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowResize\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"resizeStart\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition, calculatePosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n  return isNullOrUndefined(field) || field === '' ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n  return isNullOrUndefined(field) || field === '' ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n  requestAnimationFrame(function () {\n    try {\n      callBack(null, updateFunction());\n    } catch (e) {\n      callBack(e);\n    }\n  });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n  return !isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n  var exportColumns = exportProperties.columns;\n  var gridColumns = gObj.columns;\n  for (var i = 0; i < exportColumns.length; i++) {\n    if (gridColumns.length - 1 >= i) {\n      if (gridColumns[parseInt(i.toString(), 10)].columns) {\n        for (var j = 0; j < gridColumns[parseInt(i.toString(), 10)].columns.length; j++) {\n          exportColumns[parseInt(i.toString(), 10)].columns[parseInt(j.toString(), 10)].type = gridColumns[parseInt(i.toString(), 10)].columns[parseInt(j.toString(), 10)].type;\n        }\n      } else {\n        exportColumns[parseInt(i.toString(), 10)].type = gridColumns[parseInt(i.toString(), 10)].type;\n      }\n    }\n  }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n  var nRows = [];\n  var actualRows = grid.vRows;\n  for (var i = 0; i < actualRows.length; i++) {\n    if (actualRows[parseInt(i.toString(), 10)].isDataRow) {\n      nRows.push(actualRows[parseInt(i.toString(), 10)]);\n    } else if (!actualRows[parseInt(i.toString(), 10)].isDataRow) {\n      nRows.push(actualRows[parseInt(i.toString(), 10)]);\n      if (!actualRows[parseInt(i.toString(), 10)].isExpand && actualRows[parseInt(i.toString(), 10)].isCaptionRow) {\n        i += getCollapsedRowsCount(actualRows[parseInt(i.toString(), 10)], grid);\n      }\n    }\n  }\n  grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n  count = 0;\n  var gSummary = 'gSummary';\n  var total = 'count';\n  var gLen = grid.groupSettings.columns.length;\n  var records = 'records';\n  var items = 'items';\n  var value = val[\"\" + gSummary];\n  var dataRowCnt = 0;\n  var agrCnt = 'aggregatesCount';\n  if (value === val.data[\"\" + total]) {\n    if (grid.groupSettings.columns.length && !isNullOrUndefined(val[\"\" + agrCnt]) && val[\"\" + agrCnt]) {\n      if (grid.groupSettings.columns.length !== 1) {\n        count += val.indent !== 0 && value < 2 ? val[\"\" + gSummary] * (gLen - val.indent + (gLen - val.indent) * val[\"\" + agrCnt]) : val[\"\" + gSummary] * (gLen - val.indent + (gLen - val.indent - 1) * val[\"\" + agrCnt]) + val[\"\" + agrCnt];\n      } else if (grid.groupSettings.columns.length === 1) {\n        count += val[\"\" + gSummary] * (gLen - val.indent) + val[\"\" + agrCnt];\n      }\n    } else if (grid.groupSettings.columns.length) {\n      if (grid.groupSettings.columns.length !== 1) {\n        count += val[\"\" + gSummary] * (grid.groupSettings.columns.length - val.indent);\n      } else {\n        count += val[\"\" + gSummary];\n      }\n    }\n    return count;\n  } else {\n    for (var i = 0, len = val.data[\"\" + items].length; i < len; i++) {\n      var gLevel = val.data[\"\" + items][parseInt(i.toString(), 10)];\n      count += gLevel[\"\" + items].length + (gLen !== grid.columns.length && !isNullOrUndefined(gLevel[\"\" + items][\"\" + records]) ? gLevel[\"\" + items][\"\" + records].length : 0);\n      dataRowCnt += !isNullOrUndefined(gLevel[\"\" + items][\"\" + records]) && !isNullOrUndefined(val[\"\" + agrCnt]) ? gLevel[\"\" + items][\"\" + records].length : gLevel[\"\" + items].length;\n      if (gLevel[\"\" + items].GroupGuid && gLevel[\"\" + items].childLevels !== 0) {\n        recursive(gLevel);\n      }\n    }\n    count += val.data[\"\" + items].length;\n    if (!isNullOrUndefined(val[\"\" + agrCnt])) {\n      if (val[\"\" + agrCnt] && count && dataRowCnt !== 0) {\n        count += (count - dataRowCnt) * val[\"\" + agrCnt] + val[\"\" + agrCnt];\n      }\n    }\n  }\n  return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n  var items = 'items';\n  var rCount = 'count';\n  for (var j = 0, length_1 = row[\"\" + items].length; j < length_1; j++) {\n    var nLevel = row[\"\" + items][parseInt(j.toString(), 10)];\n    count += nLevel[\"\" + rCount];\n    if (nLevel[\"\" + items].childLevels !== 0) {\n      recursive(nLevel);\n    }\n  }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n  var result = [];\n  for (var i = 0, len = collection.length; i < len; i++) {\n    var pred = predicate(collection[parseInt(i.toString(), 10)], i);\n    if (!isNullOrUndefined(pred)) {\n      result.push(pred);\n    }\n  }\n  return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n  var obj = [];\n  for (var i = 0; i < array.length; i++) {\n    obj.push(baseExtend({}, getActualProperties(array[parseInt(i.toString(), 10)]), {}, true));\n  }\n  return obj;\n}\n/**\n * @param {string | Function} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n  if (template) {\n    try {\n      var validSelector = template[0] !== '<';\n      if (typeof template === 'function') {\n        return baseTemplateComplier(template);\n      } else if (validSelector && document.querySelectorAll(template).length) {\n        return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n      } else {\n        return baseTemplateComplier(template);\n      }\n    } catch (e) {\n      return baseTemplateComplier(template);\n    }\n  }\n  return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n  var copyAttr = {};\n  var literals = ['style', 'class'];\n  //Dont touch the original object - make a copy\n  baseExtend(copyAttr, customAttributes, {});\n  if ('style' in copyAttr) {\n    setStyleAttribute(node, copyAttr[literals[0]]);\n    delete copyAttr[literals[0]];\n  }\n  if ('class' in copyAttr) {\n    addClass([node], copyAttr[literals[1]]);\n    delete copyAttr[literals[1]];\n  }\n  attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n  var moved = baseExtend(copied, first, second);\n  var values = Object.keys(moved);\n  for (var i = 0; i < values.length; i++) {\n    if (exclude && exclude.indexOf(values[parseInt(i.toString(), 10)]) !== -1) {\n      delete moved[values[parseInt(i.toString(), 10)]];\n    }\n  }\n  return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n  if (ind === void 0) {\n    ind = 0;\n  }\n  for (var i = 0, len = !isNullOrUndefined(columnModel) ? columnModel.length : 0; i < len; i++) {\n    if (columnModel[parseInt(i.toString(), 10)].columns) {\n      columnModel[parseInt(i.toString(), 10)].index = isNullOrUndefined(columnModel[parseInt(i.toString(), 10)].index) ? ind : columnModel[parseInt(i.toString(), 10)].index;\n      ind++;\n      ind = setColumnIndex(columnModel[parseInt(i.toString(), 10)].columns, ind);\n    } else {\n      columnModel[parseInt(i.toString(), 10)].index = isNullOrUndefined(columnModel[parseInt(i.toString(), 10)].index) ? ind : columnModel[parseInt(i.toString(), 10)].index;\n      ind++;\n    }\n  }\n  return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n  for (var c = 0, len = !isNullOrUndefined(columns) ? columns.length : 0; c < len; c++) {\n    var column = void 0;\n    if (typeof columns[parseInt(c.toString(), 10)] === 'string') {\n      column = new Column({\n        field: columns[parseInt(c.toString(), 10)]\n      }, gObj);\n    } else if (!(columns[parseInt(c.toString(), 10)] instanceof Column) || columns[parseInt(c.toString(), 10)].columns) {\n      if (!columns[parseInt(c.toString(), 10)].columns) {\n        column = new Column(columns[parseInt(c.toString(), 10)], gObj);\n      } else {\n        columns[parseInt(c.toString(), 10)].columns = prepareColumns(columns[parseInt(c.toString(), 10)].columns, null, gObj);\n        column = new Column(columns[parseInt(c.toString(), 10)], gObj);\n      }\n    } else {\n      column = columns[parseInt(c.toString(), 10)];\n    }\n    if (column.type && column.type.toLowerCase() === 'checkbox') {\n      column.allowReordering = false;\n    }\n    column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n    column.foreignKeyField = column.foreignKeyField || column.field;\n    column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window) : column.valueAccessor) || valueAccessor;\n    column.headerValueAccessor = typeof column.headerValueAccessor === 'string' ? getValue(column.headerValueAccessor, window) : column.headerValueAccessor;\n    column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n    if (isNullOrUndefined(column.visible)) {\n      column.visible = true;\n    }\n    columns[parseInt(c.toString(), 10)] = column;\n  }\n  return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n  var popUpSpan = popUp.querySelector('span');\n  var position = popUp.parentElement.getBoundingClientRect();\n  var targetPosition = e.target.getBoundingClientRect();\n  popUpSpan.className = className;\n  popUp.style.display = '';\n  var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY) > popUp.offsetHeight + 10;\n  popUp.style.top = targetPosition.top - position.top + (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n  popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n  if (isBottomTail) {\n    popUp.querySelector('.e-downtail').style.display = '';\n    popUp.querySelector('.e-uptail').style.display = 'none';\n  } else {\n    popUp.querySelector('.e-downtail').style.display = 'none';\n    popUp.querySelector('.e-uptail').style.display = '';\n  }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n  var width = popup.offsetWidth / 2;\n  var x = getPosition(e).x;\n  if (x - targetPosition.left < width) {\n    return targetPosition.left - left;\n  } else if (targetPosition.right - x < width) {\n    return targetPosition.right - left - width * 2;\n  } else {\n    return x - left - width;\n  }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n  if (obj instanceof ChildProperty) {\n    return getValue('properties', obj);\n  } else {\n    return obj;\n  }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n  var parent = elem;\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      break;\n    }\n    parent = parent.parentElement;\n  }\n  return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n  var index = -1;\n  for (var i = 0, len = elements.length; i < len; i++) {\n    if (elements[parseInt(i.toString(), 10)].isEqualNode(element)) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n  for (var i = 0, len = collection.length; i < len; i++) {\n    if (collection[parseInt(i.toString(), 10)] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n  var coll = [];\n  for (var i = 0, len = collection.length; i < len; i++) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (collection[parseInt(i.toString(), 10)].hasOwnProperty('properties')) {\n      coll.push(collection[parseInt(i.toString(), 10)].properties);\n    } else {\n      coll.push(collection[parseInt(i.toString(), 10)]);\n    }\n  }\n  return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n  var elements = [].slice.call(target.querySelectorAll(selector));\n  for (var i = 0; i < elements.length; i++) {\n    remove(elements[parseInt(i.toString(), 10)]);\n  }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n  var position = {};\n  position.x = isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX : e.clientX;\n  position.y = isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY;\n  return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n  return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n  for (var i = 0, len = children.length; i < len; i++) {\n    if (len === children.length) {\n      elem.appendChild(children[parseInt(i.toString(), 10)]);\n    } else {\n      elem.appendChild(children[0]);\n    }\n  }\n  return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n  var parent = elem;\n  var parents = [];\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      parents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n  if (type === 'Custom') {\n    var temp = column.customAggregate;\n    if (typeof temp === 'string') {\n      temp = getValue(temp, window);\n    }\n    return temp ? temp.call(context, data, column) : '';\n  }\n  return column.field in data || data instanceof Array ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n  if (scrollWidth !== null) {\n    return scrollWidth;\n  }\n  var divNode = document.createElement('div');\n  var value = 0;\n  divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n  document.body.appendChild(divNode);\n  value = divNode.offsetWidth - divNode.clientWidth | 0;\n  document.body.removeChild(divNode);\n  return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/** @hidden */\nvar accurateRowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @param {boolean} accurateHeight - Defines the accurate row height\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element, accurateHeight) {\n  if (accurateHeight && accurateRowHeight !== undefined) {\n    return accurateRowHeight;\n  }\n  if (rowHeight !== undefined) {\n    return rowHeight;\n  }\n  var table = createElement('table', {\n    className: literals.table,\n    attrs: {\n      role: 'grid'\n    }\n  });\n  table.style.visibility = 'hidden';\n  table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n  element.appendChild(table);\n  var rect = table.querySelector('td').getBoundingClientRect();\n  element.removeChild(table);\n  accurateRowHeight = rect.height;\n  rowHeight = Math.ceil(rect.height);\n  if (accurateHeight) {\n    return accurateRowHeight;\n  }\n  return rowHeight;\n}\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n  var table = createElement('table', {\n    className: literals.table,\n    attrs: {\n      role: 'grid'\n    }\n  });\n  table.style.visibility = 'hidden';\n  table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n  element.appendChild(table);\n  var rect = table.querySelector('tr').getBoundingClientRect();\n  element.removeChild(table);\n  return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n  return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n  return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the parsed column field id\n * @hidden\n */\nexport function getParsedFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n  return field.replace(/[^a-zA-Z0-9_.]/g, '\\\\$&');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n  return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n  var row = parentsUntil(elem, literals.row);\n  var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n  if (type === 'beginEdit' && isOldRow) {\n    if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n      return false;\n    }\n    return true;\n  } else if (type === 'add' && col.isIdentity) {\n    return false;\n  } else {\n    if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n      return false;\n    }\n    return true;\n  }\n}\n/**\n * @param {Element} elem - Defines th element\n * @param {IGrid} parent - Defines parent instance\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isCellHaveWidth(elem, parent) {\n  if (parent && parent.element && parent.element.offsetWidth === 0) {\n    return true;\n  }\n  return elem.getBoundingClientRect().width === 0 ? false : true;\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n  var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n  return inst.editSettings.mode === 'Batch' && (selectAll('.e-updatedtd', inst.element).length || selectAll('.e-gridform.e-formvalidator', inst.element).length) && inst.editSettings.showConfirmDialog && (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n  var clName = 'e-wrap';\n  elem = elem instanceof Array ? elem : [elem];\n  for (var i = 0; i < elem.length; i++) {\n    if (action) {\n      elem[parseInt(i.toString(), 10)].classList.add(clName);\n    } else {\n      elem[parseInt(i.toString(), 10)].classList.remove(clName);\n    }\n  }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n  var fmtr = serviceLocator.getService('valueFormatter');\n  var format = 'format';\n  var args;\n  if (column.type === 'date' || column.type === 'datetime' || column.type === 'dateonly') {\n    args = {\n      type: column.type === 'dateonly' ? 'date' : column.type,\n      skeleton: column.format\n    };\n    if (typeof column.format === 'string' && column.format !== 'yMd') {\n      args[\"\" + format] = column.format;\n    }\n  }\n  switch (column.type) {\n    case 'date':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n    case 'dateonly':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n    case 'datetime':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n    case 'number':\n      column.setFormatter(fmtr.getFormatFunction({\n        format: column.format\n      }));\n      column.setParser(fmtr.getParserFunction({\n        format: column.format\n      }));\n      break;\n  }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n  var args = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n  for (var i = 0, len = cells.length; i < len; i++) {\n    if (add) {\n      classList(cells[parseInt(i.toString(), 10)], args.slice(), []);\n      cells[parseInt(i.toString(), 10)].setAttribute('aria-selected', 'true');\n    } else {\n      classList(cells[parseInt(i.toString(), 10)], [], args.slice());\n      cells[parseInt(i.toString(), 10)].removeAttribute('aria-selected');\n    }\n  }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n  var temp = {};\n  var res = [];\n  for (var i = 0; i < result.length; i++) {\n    if (!(result[parseInt(i.toString(), 10)] in temp)) {\n      res.push(result[parseInt(i.toString(), 10)].toString());\n      temp[result[parseInt(i.toString(), 10)]] = 1;\n    }\n  }\n  return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @param {IGrid} parent - Defines the grid\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj, parent) {\n  var elementVisible = dialogObj.element.style.display;\n  dialogObj.element.style.display = 'block';\n  var dlgWidth = dialogObj.width;\n  var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n  dialogObj.element.style.display = elementVisible;\n  dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 5 + 'px';\n  var leftPosition = newpos.left - dlgWidth + target.clientWidth;\n  if (parent && parent.enableRtl) {\n    var parentWidth = parent.element ? parent.element.clientWidth : 0;\n    var rightPosition = target.getBoundingClientRect().right + dlgWidth - parentWidth;\n    if (rightPosition > 1) {\n      dialogObj.element.style.left = leftPosition - 4 + 'px';\n    } else {\n      dialogObj.element.style.left = dlgWidth + leftPosition - 16 + 'px';\n    }\n  } else {\n    if (leftPosition < 1) {\n      dialogObj.element.style.left = dlgWidth + leftPosition - 16 + 'px'; // right calculation\n    } else {\n      dialogObj.element.style.left = leftPosition - 4 + 'px';\n    }\n  }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n  args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {string} operator - Defines the operator\n * @param {string} columnUid - Defines the column uid\n * @param {Column} column - Defines the column\n * @param {string} columnType - Defines the column type\n * @param {Dialog} dlgObj - Defines the dialog\n * @param {string} previousValue - Defines the previous operator\n * @returns {void}\n * @hidden\n */\nexport function toggleFilterUI(operator, columnUid, column, columnType, dlgObj, previousValue) {\n  if (isNullOrUndefined(column.filterTemplate)) {\n    var columnID = '';\n    if (columnType === 'string') {\n      columnID = 'strui-' + columnUid;\n    } else if (columnType === 'number') {\n      columnID = 'numberui-' + columnUid;\n    } else if (columnType === 'boolean') {\n      columnID = 'bool-ui-' + columnUid;\n    } else if (columnType === 'date' || columnType === 'datetime') {\n      columnID = 'dateui-' + columnUid;\n    }\n    var isPreviousValue = previousValue === 'in' || previousValue === 'notin';\n    var isMultiSelect = operator === 'in' || operator === 'notin';\n    var multiselectParent = parentsUntil(dlgObj.element.querySelector(\"#multiselect\" + columnID), 'e-control-wrapper');\n    var singleInputParent = parentsUntil(dlgObj.element.querySelector(\"#\" + columnID), 'e-popup-flmenu');\n    if (multiselectParent) {\n      multiselectParent.style.display = isMultiSelect ? 'inline-flex' : 'none';\n    }\n    if (singleInputParent) {\n      singleInputParent.style.display = isMultiSelect ? 'none' : 'inline-flex';\n    }\n  }\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n  var span = elem.querySelector('.e-frame');\n  var input = span.previousSibling;\n  if (span.classList.contains('e-check')) {\n    input.checked = false;\n    classList(span, ['e-uncheck'], ['e-check']);\n  } else {\n    input.checked = true;\n    classList(span, ['e-check'], ['e-uncheck']);\n  }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n  elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n  var div = createElement('div', {\n    className: className\n  });\n  div.appendChild(elem);\n  div.setAttribute('uid', uid);\n  return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n  removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n  if (checked) {\n    elem.classList.add('e-check');\n  } else {\n    elem.classList.add('e-uncheck');\n  }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n  for (var i = 0; i < (!isNullOrUndefined(columns) ? columns.length : 0); i++) {\n    setValue(columns[parseInt(i.toString(), 10)].field, getForeignData(columns[parseInt(i.toString(), 10)], data), row.foreignKeyData);\n  }\n  var cells = row.cells;\n  for (var i = 0; i < cells.length; i++) {\n    if (cells[parseInt(i.toString(), 10)].isForeignKey) {\n      setValue('foreignKeyData', getValue(cells[parseInt(i.toString(), 10)].column.field, row.foreignKeyData), cells[parseInt(i.toString(), 10)]);\n    }\n  }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n  var fField = column.foreignKeyField;\n  var key = !isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column);\n  key = isNullOrUndefined(key) ? '' : key;\n  var query = new Query();\n  var fdata = foreignKeyData || (column.dataSource instanceof DataManager && column.dataSource.dataSource.json.length ? column.dataSource.dataSource.json : column.columnData);\n  if (key.getDay) {\n    query.where(getDatePredicate({\n      field: fField,\n      operator: 'equal',\n      value: key,\n      matchCase: false\n    }));\n  } else {\n    query.where(fField, '==', key, false);\n  }\n  return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n  var column;\n  return columns.some(function (col) {\n    column = col;\n    return col.foreignKeyValue === foreignKeyValue;\n  }) && column;\n}\n/**\n * @param {number} value - Defines the date or month value\n * @returns {string} Returns string\n * @hidden\n */\nexport function padZero(value) {\n  if (value < 10) {\n    return '0' + value;\n  }\n  return String(value);\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @param {boolean} isExecuteLocal - Defines whether the data actions performed in client and used for dateonly type field\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type, isExecuteLocal) {\n  var datePredicate;\n  var prevDate;\n  var nextDate;\n  var prevObj = baseExtend({}, getActualProperties(filterObject));\n  var nextObj = baseExtend({}, getActualProperties(filterObject));\n  if (isNullOrUndefined(filterObject.value) || filterObject.value === '') {\n    datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    return datePredicate;\n  }\n  var value = new Date(filterObject.value);\n  if (type === 'dateonly' && !isExecuteLocal) {\n    if (typeof prevObj.value === 'string') {\n      prevObj.value = new Date(prevObj.value);\n    }\n    var dateOnlyString = prevObj.value.getFullYear() + '-' + padZero(prevObj.value.getMonth() + 1) + '-' + padZero(prevObj.value.getDate());\n    var predicates = new Predicate(prevObj.field, prevObj.operator, dateOnlyString, false);\n    datePredicate = predicates;\n  } else {\n    filterObject.operator = filterObject.operator.toLowerCase();\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n      if (type === 'datetime') {\n        prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n        nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n        filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n      } else {\n        prevDate = new Date(value.setHours(0) - 1);\n        nextDate = new Date(value.setHours(24));\n      }\n      prevObj.value = prevDate;\n      nextObj.value = nextDate;\n      if (filterObject.operator === 'equal') {\n        prevObj.operator = 'greaterthan';\n        nextObj.operator = 'lessthan';\n      } else if (filterObject.operator === 'notequal') {\n        prevObj.operator = 'lessthanorequal';\n        nextObj.operator = 'greaterthanorequal';\n      }\n      var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n      var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n      datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    } else {\n      if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n        prevObj.value = new Date(value.setHours(24) - 1);\n      }\n      if (typeof prevObj.value === 'string') {\n        prevObj.value = new Date(prevObj.value);\n      }\n      var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n      datePredicate = predicates;\n    }\n  }\n  if (filterObject.setProperties) {\n    filterObject.setProperties({\n      ejpredicate: datePredicate\n    }, true);\n  } else {\n    filterObject.ejpredicate = datePredicate;\n  }\n  return datePredicate;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n  return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive && !grid.groupSettings.enableLazyLoading;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n  if (field === void 0) {\n    field = '';\n  }\n  if (field) {\n    var value = object;\n    var splits = field.split('.');\n    for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n      value = value[splits[parseInt(i.toString(), 10)]];\n      if (isUndefined(value)) {\n        var newCase = splits[parseInt(i.toString(), 10)].charAt(0).toUpperCase() + splits[parseInt(i.toString(), 10)].slice(1);\n        value = object[\"\" + newCase] || object[(\"\" + newCase).charAt(0).toLowerCase() + (\"\" + newCase).slice(1)];\n      }\n    }\n    return value;\n  }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n  var intl = new Internationalization();\n  var formatvalue;\n  var formatter = 'format';\n  var type = 'type';\n  if (colType === 'date') {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[\"\" + type] ? format[\"\" + type] : 'date',\n      format: format[\"\" + formatter]\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  } else {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[\"\" + type] ? format[\"\" + type] : 'dateTime',\n      format: format[\"\" + formatter]\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  }\n  return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n  var rows = gObj.getRowsObject();\n  var obj = {};\n  for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n    var row = rows_1[_i];\n    if (row.isExpand && !row.isDetailRow) {\n      var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index + gObj.pageSettings.currentPage * gObj.pageSettings.pageSize - gObj.pageSettings.pageSize : row.index;\n      if (!isNullOrUndefined(index)) {\n        obj[parseInt(index.toString(), 10)] = {};\n        obj[parseInt(index.toString(), 10)].isExpand = true;\n        if (gObj.childGrid) {\n          obj[parseInt(index.toString(), 10)].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n          obj[parseInt(index.toString(), 10)].gridModel.query = gObj.childGrid.query;\n        }\n      }\n    }\n  }\n  return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n  if (hierarchyPrintMode === void 0) {\n    hierarchyPrintMode = 'Expanded';\n  }\n  var printGridModel = {};\n  if (!gObj) {\n    return printGridModel;\n  }\n  for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n    var key = _a[_i];\n    if (key === 'columns') {\n      printGridModel[\"\" + key] = getActualPropFromColl(gObj[\"\" + key]);\n    } else if (key === 'allowPaging') {\n      printGridModel[\"\" + key] = gObj.printMode === 'CurrentPage';\n    } else {\n      printGridModel[\"\" + key] = getActualProperties(gObj[\"\" + key]);\n    }\n  }\n  printGridModel['enableHover'] = false;\n  if ((gObj.childGrid || gObj.detailTemplate) && hierarchyPrintMode !== 'None') {\n    printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n  }\n  return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n  var res = copied || {};\n  var len = arguments.length;\n  if (deep) {\n    len = len - 1;\n  }\n  for (var i = 1; i < len; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    if (!arguments[parseInt(i.toString(), 10)]) {\n      continue;\n    }\n    // eslint-disable-next-line prefer-rest-params\n    var obj1 = arguments[parseInt(i.toString(), 10)];\n    var keys = Object.keys(Object.getPrototypeOf(obj1)).length ? Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n    for (var i_1 = 0; i_1 < keys.length; i_1++) {\n      var source = res[keys[parseInt(i_1.toString(), 10)]];\n      var cpy = obj1[keys[parseInt(i_1.toString(), 10)]];\n      var cln = void 0;\n      if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n        if (isObject(cpy)) {\n          cln = source ? source : {};\n          res[keys[parseInt(i_1.toString(), 10)]] = baseExtend({}, cln, cpy, deep);\n        } else {\n          cln = source ? source : [];\n          res[keys[parseInt(i_1.toString(), 10)]] = baseExtend([], cln, cpy, deep);\n        }\n      } else {\n        res[keys[parseInt(i_1.toString(), 10)]] = cpy;\n      }\n    }\n  }\n  return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nexport function getPrototypesOfObj(obj) {\n  var keys = [];\n  while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n    keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n    obj = Object.getPrototypeOf(obj);\n  }\n  return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n  var max = 0;\n  for (var i = 0; i < (!isNullOrUndefined(column) ? column.length : 0); i++) {\n    var depth = checkDepth(column[parseInt(i.toString(), 10)], 0);\n    if (max < depth) {\n      max = depth;\n    }\n  }\n  return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n  var max = index;\n  var indices = [];\n  if (col.columns) {\n    index++;\n    for (var i = 0; i < col.columns.length; i++) {\n      indices[parseInt(i.toString(), 10)] = checkDepth(col.columns[parseInt(i.toString(), 10)], index);\n    }\n    for (var j = 0; j < indices.length; j++) {\n      if (max < indices[parseInt(j.toString(), 10)]) {\n        max = indices[parseInt(j.toString(), 10)];\n      }\n    }\n    index = max;\n  }\n  return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n  for (var i = 0; i < filteredCols.length; i++) {\n    filteredCols[parseInt(i.toString(), 10)].uid = filteredCols[parseInt(i.toString(), 10)].isForeignKey ? getColumnByForeignKeyValue(filteredCols[parseInt(i.toString(), 10)].field, gObj.getForeignKeyColumns()).uid : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[parseInt(i.toString(), 10)].field).uid : gObj.getColumnByField(filteredCols[parseInt(i.toString(), 10)].field).uid;\n  }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n  // eslint-disable-next-line prefer-const\n  Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n  var style = document.defaultView.getComputedStyle(element, null);\n  var transformV = style.getPropertyValue('transform');\n  var replacedTv = transformV.replace(/,/g, '');\n  var translateX = parseFloat(replacedTv.split(' ')[4]);\n  var translateY = parseFloat(replacedTv.split(' ')[5]);\n  return {\n    width: translateX,\n    height: translateY\n  };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n  if (rootElement.classList.contains('e-bigger')) {\n    element.classList.add('e-bigger');\n  }\n}\n/**\n * @param {IGrid} gObj - Defines grid object\n * @returns {number}  - Returns scroll width\n * @hidden\n */\nexport function getScrollWidth(gObj) {\n  var scrollElem = gObj.getContent().firstElementChild;\n  return scrollElem.scrollWidth > scrollElem.offsetWidth ? getScrollBarWidth() : 0;\n}\n/**\n * @param {IGrid} gObj - Defines grid object\n * @param {number} idx - Defines the index\n * @returns {number} Returns colSpan index\n * @hidden\n */\nexport function resetColspanGroupCaption(gObj, idx) {\n  var colspan = 0;\n  var cols = gObj.getColumns();\n  var width = idx * 30;\n  if (gObj.isRowDragable()) {\n    colspan++;\n    width += 30;\n  }\n  colspan += gObj.groupSettings.columns.length - idx;\n  width += 30 * (gObj.groupSettings.columns.length - idx);\n  var gridWidth = (gObj.width === 'auto' ? gObj.element.offsetWidth : gObj.width.toString().indexOf('%') !== -1 ? gObj.element.getBoundingClientRect().width : parseInt(gObj.width.toString(), 10)) - getScrollWidth(gObj);\n  for (var i = 0; i < cols.length; i++) {\n    if (cols[parseInt(i.toString(), 10)].visible) {\n      width += parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10);\n      colspan++;\n    }\n    if (width > gridWidth) {\n      colspan--;\n      break;\n    }\n  }\n  return colspan;\n}\n/**\n * @param {HTMLElement} tr - Defines the tr Element\n * @param {IGrid} gObj - Defines grid object\n * @returns {void}\n * @hidden\n */\nexport function groupCaptionRowLeftRightPos(tr, gObj) {\n  var width = 0;\n  var idx = 0;\n  var frozenCount = gObj.getVisibleFrozenLeftCount();\n  for (var j = 0; j < tr.childNodes.length; j++) {\n    var td = tr.childNodes[parseInt(j.toString(), 10)];\n    if (frozenCount === idx) {\n      break;\n    }\n    if (td.classList.contains('e-groupcaption') || td.classList.contains('e-summarycell')) {\n      idx += parseInt(td.getAttribute('colspan'), 10);\n    }\n    td.classList.add('e-leftfreeze');\n    if (td.classList.contains('e-groupcaption') && parseInt(td.getAttribute('colspan'), 10) === 1) {\n      td.classList.add('e-freezeleftborder');\n    }\n    applyStickyLeftRightPosition(td, width, gObj.enableRtl, 'Left');\n    if (td.classList.contains('e-indentcell') || td.classList.contains('e-recordplusexpand') || td.classList.contains('e-recordpluscollapse')) {\n      width += 30;\n    }\n    if (td.classList.contains('e-groupcaption')) {\n      var colspan = parseInt(td.getAttribute('colspan'), 10);\n      if (gObj.isRowDragable()) {\n        colspan--;\n        width += 30;\n      }\n      colspan = colspan - (gObj.groupSettings.columns.length - j);\n      width = width + 30 * (gObj.groupSettings.columns.length - j);\n      var cols = gObj.getColumns();\n      for (var i = 0; i < cols.length; i++) {\n        if (parseInt(td.getAttribute('colspan'), 10) > 1 && parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10) + width > parseInt(gObj.width.toString(), 10) - getScrollWidth(gObj)) {\n          var newColspan = resetColspanGroupCaption(gObj, j);\n          td.setAttribute('colspan', newColspan.toString());\n          break;\n        }\n        if (cols[parseInt(i.toString(), 10)].visible) {\n          width += parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10);\n          colspan--;\n        }\n        if (colspan === 0) {\n          break;\n        }\n      }\n    }\n    if (td.classList.contains('e-summarycell')) {\n      var uid_1 = td.getAttribute('e-mappinguid');\n      var column = gObj.getColumnByUid(uid_1);\n      width += parseInt(column.width.toString(), 10);\n    }\n  }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n  var content = gridObj.getContent().firstElementChild;\n  return row && row.getBoundingClientRect().top - content.getBoundingClientRect().top + gridObj.getRowHeight() > content.offsetHeight;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n  return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n  var rowHeight = gObj.getRowHeight();\n  var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n  var endIndex = startIndex + gObj.getContent().firstElementChild.offsetHeight / rowHeight;\n  return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n  var keyField = gObj.getPrimaryKeyFieldNames()[0];\n  var dataIndex;\n  gObj.getCurrentViewRecords().filter(function (e, index) {\n    if (keyField.includes('.')) {\n      var currentValue = getObject(keyField, e);\n      var originalValue = getObject(keyField, data);\n      if (currentValue === originalValue) {\n        dataIndex = index;\n      }\n    } else {\n      if (e[\"\" + keyField] === data[\"\" + keyField]) {\n        dataIndex = index;\n      }\n    }\n  });\n  return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n  var state = getStateEventArgument(query);\n  var def = new Deferred();\n  state.dataSource = def.resolve;\n  state.action = args;\n  return {\n    state: state,\n    deffered: def\n  };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n  var adaptr = new UrlAdaptor();\n  var dm = new DataManager({\n    url: '',\n    adaptor: new UrlAdaptor()\n  });\n  var state = adaptr.processQuery(dm, query);\n  var data = JSON.parse(state.data);\n  return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n  var columns = gObj.getVisibleColumns();\n  var percentageCol = 0;\n  var undefinedWidthCol = 0;\n  for (var i = 0; i < columns.length; i++) {\n    if (isUndefined(columns[parseInt(i.toString(), 10)].width)) {\n      undefinedWidthCol++;\n    } else if (columns[parseInt(i.toString(), 10)].width.toString().indexOf('%') !== -1) {\n      percentageCol++;\n    }\n  }\n  return (gObj.width === 'auto' || typeof gObj.width === 'string' && gObj.width.indexOf('%') !== -1) && !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @param {number} startRowIndex - Start Row Index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index, startRowIndex) {\n  var startIndex = index ? index : 0;\n  for (var i = startRowIndex ? startRowIndex : 0; i < rows.length; i++) {\n    if (rows[parseInt(i.toString(), 10)] && rows[parseInt(i.toString(), 10)].isDataRow) {\n      rows[parseInt(i.toString(), 10)].index = startIndex;\n      rows[parseInt(i.toString(), 10)].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n      rowElms[parseInt(i.toString(), 10)].setAttribute(literals.ariaRowIndex, (startIndex + 1).toString());\n      if (rows[parseInt(i.toString(), 10)].isAltRow) {\n        rowElms[parseInt(i.toString(), 10)].classList.add('e-altrow');\n      } else {\n        rowElms[parseInt(i.toString(), 10)].classList.remove('e-altrow');\n      }\n      for (var j = 0; j < rowElms[parseInt(i.toString(), 10)].cells.length; j++) {\n        rowElms[parseInt(i.toString(), 10)].cells[parseInt(j.toString(), 10)].setAttribute('index', startIndex.toString());\n      }\n      startIndex++;\n    }\n  }\n  if (!rows.length) {\n    gObj.renderModule.emptyRow(true);\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {void}\n * @hidden\n */\nexport function resetCachedRowIndex(gObj) {\n  var rowObjects = gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache ? gObj.getRowsObject() : gObj.vRows;\n  var rowElements = gObj.getRows();\n  for (var i = 0, startIndex = 0, k = 0; i < rowObjects.length; i++) {\n    var rowObject = rowObjects[parseInt(i.toString(), 10)];\n    if (rowObject.isDataRow) {\n      rowObject.index = startIndex;\n      rowObject.isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n      var rowElement = gObj.getRowElementByUID(rowObject.uid);\n      if (!isNullOrUndefined(rowElement)) {\n        rowElements[parseInt(k.toString(), 10)] = rowElement;\n        rowElement.setAttribute(literals.ariaRowIndex, (startIndex + 1).toString());\n        if (rowObject.isAltRow) {\n          rowElement.classList.add('e-altrow');\n        } else {\n          rowElement.classList.remove('e-altrow');\n        }\n        for (var j = 0; j < rowElement.cells.length; j++) {\n          rowElement.cells[parseInt(j.toString(), 10)].setAttribute('index', startIndex.toString());\n        }\n        k++;\n      }\n      startIndex++;\n    }\n  }\n  if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache) {\n    gObj.infiniteScrollModule.resetInfiniteCache(rowObjects);\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {RowDropEventArgs} args - Defines the row drop event argument\n * @param {HTMLTableRowElement[]} tr - Row elements\n * @param {Row<Column>} dropRObj - dropped row object\n * @returns {void}\n * @hidden\n */\nexport function groupReorderRowObject(gObj, args, tr, dropRObj) {\n  var rowObjects = gObj.enableVirtualization ? gObj.vRows : gObj.getRowsObject();\n  var orderChangeRowObjects = [];\n  var dropRowObject = dropRObj ? dropRObj : gObj.getRowObjectFromUID(args.target.closest('tr').getAttribute('data-uid'));\n  var rowObjectDropIndex;\n  for (var i = 0; i < args.rows.length; i++) {\n    var orderChangeRowObject = gObj.getRowObjectFromUID(args.rows[parseInt(i.toString(), 10)].getAttribute('data-uid'));\n    if (dropRowObject === orderChangeRowObject) {\n      rowObjectDropIndex = rowObjects.indexOf(dropRowObject);\n    }\n    orderChangeRowObjects.push(rowObjects.splice(rowObjects.indexOf(orderChangeRowObject), 1)[0]);\n  }\n  if (isNullOrUndefined(rowObjectDropIndex)) {\n    rowObjectDropIndex = rowObjects.indexOf(dropRowObject);\n    if (args.fromIndex > args.dropIndex) {\n      rowObjects.splice.apply(rowObjects, [rowObjectDropIndex, 0].concat(orderChangeRowObjects));\n    } else {\n      rowObjects.splice.apply(rowObjects, [rowObjectDropIndex + 1, 0].concat(orderChangeRowObjects));\n    }\n  } else {\n    rowObjects.splice.apply(rowObjects, [rowObjectDropIndex, 0].concat(orderChangeRowObjects));\n  }\n  if (!gObj.enableVirtualization && !gObj.infiniteScrollSettings.enableCache) {\n    var record = {};\n    var currentViewData = gObj.getCurrentViewRecords();\n    for (var i = 0, len = tr.length; i < len; i++) {\n      var index = parseInt(tr[parseInt(i.toString(), 10)].getAttribute(literals.ariaRowIndex), 10) - 1;\n      record[parseInt(i.toString(), 10)] = currentViewData[parseInt(index.toString(), 10)];\n    }\n    var rows = gObj.getRows();\n    for (var i = 0, len = tr.length; i < len; i++) {\n      rows[parseInt(i.toString(), 10)] = tr[parseInt(i.toString(), 10)];\n      currentViewData[parseInt(i.toString(), 10)] = record[parseInt(i.toString(), 10)];\n    }\n  }\n  if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache) {\n    gObj.infiniteScrollModule.resetInfiniteCache(rowObjects);\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n  var newArray = gObj.dataToBeUpdated[\"\" + type].concat(changes[\"\" + type]).reduce(function (r, o) {\n    r[o[\"\" + keyField]] = r[o[\"\" + keyField]] === undefined ? o : Object.assign(r[o[\"\" + keyField]], o);\n    return r;\n  }, {});\n  gObj.dataToBeUpdated[\"\" + type] = Object.keys(newArray).map(function (k) {\n    return newArray[\"\" + k];\n  });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n  if (gObj.enableInfiniteScrolling && (gObj.childGrid || gObj.detailTemplate)) {\n    gObj.contentModule.rowElements = [].slice.call(gObj.getContentTable().rows).filter(function (row) {\n      return (row.classList.contains('e-row') || row.classList.contains('e-detailrow')) && !row.classList.contains('e-addedrow');\n    });\n    return;\n  }\n  gObj.contentModule.rowElements = [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow):not(.e-cloneproperties .e-row)'));\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n  var cells = row.children;\n  var len = cells.length;\n  var k = 0;\n  for (var i = 0; i < len; i++, k++) {\n    if (i >= start && i < end) {\n      continue;\n    }\n    row.removeChild(row.children[parseInt(k.toString(), 10)]);\n    k--;\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Dialog} dlgObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function resetDialogAppend(gObj, dlgObj) {\n  var element = gObj.createElement('div', {\n    className: 'e-grid-popup',\n    id: gObj.element.id + '_e-popup'\n  });\n  var pos = calculatePosition(gObj.element, 'left', 'Top');\n  if (document.getElementById(gObj.element.id + '_e-popup')) {\n    element = document.getElementById(gObj.element.id + '_e-popup');\n  }\n  element.style.top = pos.top + 'px';\n  element.style.left = pos.left + 'px';\n  element.style.zIndex = dlgObj.zIndex.toString();\n  element.style.width = dlgObj.element.offsetWidth + 'px';\n  element.appendChild(dlgObj.element);\n  var sbPanel = parentsUntil(gObj.element, 'sb-demo-section') || parentsUntil(gObj.element, 'e-grid-dialog-fixed');\n  if (sbPanel) {\n    var sbPos = calculateRelativeBasedPosition(gObj.element, sbPanel);\n    element.style.top = sbPos.top + 'px';\n    element.style.left = sbPos.left + 'px';\n    sbPanel.insertBefore(element, sbPanel.firstChild);\n  } else {\n    document.body.insertBefore(element, document.body.firstChild);\n  }\n}\n/**\n * @param {Column} column - Defines the column\n * @param {string} uid - Defines the uid\n * @returns {boolean} Returns is child column\n * @hidden\n */\nexport function isChildColumn(column, uid) {\n  var uids = [];\n  uids.push(column.uid);\n  pushuid(column, uids);\n  if (uids.indexOf(uid) > -1) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/**\n * @param {Column} column - Defines the column\n * @param {string[]} uids - Defines the uid\n * @returns {void}\n * @hidden\n */\nexport function pushuid(column, uids) {\n  for (var i = 0; i < column.columns.length; i++) {\n    if (column.columns[parseInt(i.toString(), 10)].uid) {\n      uids.push(column.columns[parseInt(i.toString(), 10)].uid);\n    }\n    if (column.columns[parseInt(i.toString(), 10)].columns && column.columns[parseInt(i.toString(), 10)].columns.length) {\n      pushuid(column.columns[parseInt(i.toString(), 10)], uids);\n    }\n  }\n}\n/**\n * @param {Column} column - Defines the column\n * @returns {string} Returns the direction\n * @hidden\n */\nexport function frozenDirection(column) {\n  if (column.columns[0].freeze || column.columns[0].isFrozen) {\n    if (column.columns[0].freeze === 'Left' || column.columns[0].isFrozen) {\n      return 'Left';\n    } else if (column.columns[0].freeze === 'Right') {\n      return 'Right';\n    } else if (column.columns[0].freeze === 'Fixed') {\n      return 'Fixed';\n    } else {\n      return 'None';\n    }\n  } else {\n    if (column.columns[0].columns && column.columns[0].columns.length) {\n      return frozenDirection(column.columns[0]);\n    } else {\n      return 'None';\n    }\n  }\n}\n/**\n * @param {Element} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function addFixedColumnBorder(row) {\n  if (row.querySelector('.e-fixedfreeze')) {\n    var cells = [].slice.call(row.querySelectorAll('.e-filterbarcell:not(.e-hide),.e-summarycell:not(.e-hide),.e-headercell:not(.e-hide),.e-rowcell:not(.e-hide)'));\n    for (var j = 0; j < cells.length; j++) {\n      if (cells[parseInt(j.toString(), 10)].classList.contains('e-fixedfreeze') && (!cells[j - 1] || cells[j - 1] && !cells[j - 1].classList.contains('e-fixedfreeze'))) {\n        cells[parseInt(j.toString(), 10)].classList.add('e-freezeleftborder');\n      }\n      if (cells[parseInt(j.toString(), 10)].classList.contains('e-fixedfreeze') && (!cells[j + 1] || cells[j + 1] && !cells[j + 1].classList.contains('e-fixedfreeze'))) {\n        cells[parseInt(j.toString(), 10)].classList.add('e-freezerightborder');\n      }\n    }\n  }\n}\n/**\n * @param {HTMLElement} node - Defines the row\n * @param {number} width - Defines the width\n * @param {boolean} isRtl - Boolean property\n * @param {string} position - Defines the position\n * @returns {void}\n * @hidden\n */\nexport function applyStickyLeftRightPosition(node, width, isRtl, position) {\n  if (position === 'Left') {\n    if (isRtl) {\n      node.style.right = width + 'px';\n    } else {\n      node.style.left = width + 'px';\n    }\n  }\n  if (position === 'Right') {\n    if (isRtl) {\n      node.style.left = width + 'px';\n    } else {\n      node.style.right = width + 'px';\n    }\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Column} column - Defines the column\n * @param {Element} node - Defines the Element\n * @param {number} colSpan - Defines the colSpan value\n * @returns {void}\n * @hidden\n */\nexport function resetColandRowSpanStickyPosition(gObj, column, node, colSpan) {\n  var columns = gObj.getColumns();\n  var index = column.index;\n  if (column.freeze === 'Left' && column.border !== 'Left') {\n    var idx = index + (colSpan - 1);\n    while (columns[parseInt(idx.toString(), 10)].visible === false) {\n      idx++;\n    }\n    if (columns[parseInt(idx.toString(), 10)].border === 'Left') {\n      node.classList.add('e-freezeleftborder');\n    }\n  } else if (column.freeze === 'Right' || column.freeze === 'Fixed') {\n    var width = 0;\n    for (var j = index + 1; j < index + colSpan; j++) {\n      if (j === columns.length) {\n        break;\n      }\n      if (columns[parseInt(j.toString(), 10)].visible) {\n        width += parseInt(columns[parseInt(j.toString(), 10)].width.toString(), 10);\n      } else {\n        colSpan++;\n      }\n    }\n    if (gObj.enableRtl) {\n      node.style.left = parseInt(node.style.left, 10) - width + 'px';\n    } else {\n      node.style.right = parseInt(node.style.right, 10) - width + 'px';\n    }\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {number} rowIndex - Defines the row index\n * @param {number} colIndex - Defines the colum index\n * @returns {void}\n * @hidden\n */\nexport function getCellFromRow(gObj, rowIndex, colIndex) {\n  var row = gObj.getRowByIndex(rowIndex);\n  for (var i = 0; i < row.cells.length; i++) {\n    if (parseInt(row.cells[parseInt(i.toString(), 10)].getAttribute('aria-colindex').toString(), 10) - 1 === colIndex) {\n      return row.cells[parseInt(i.toString(), 10)];\n    }\n  }\n  return null;\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Column} column - Defines the column\n * @param {Element} node - Defines the Element\n * @returns {void}\n * @hidden\n */\nexport function addStickyColumnPosition(gObj, column, node) {\n  if (column.freeze === 'Left' || column.isFrozen) {\n    node.classList.add('e-leftfreeze');\n    if (column.border === 'Left') {\n      node.classList.add('e-freezeleftborder');\n    }\n    if (column.index === 0) {\n      applyStickyLeftRightPosition(node, gObj.getIndentCount() * 30, gObj.enableRtl, 'Left');\n      if (gObj.enableColumnVirtualization) {\n        column.valueX = gObj.getIndentCount() * 30;\n      }\n    } else {\n      var cols = gObj.getColumns();\n      var width = gObj.getIndentCount() * 30;\n      for (var i = 0; i < cols.length; i++) {\n        if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n          break;\n        }\n        if (cols[parseInt(i.toString(), 10)].visible) {\n          width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n        }\n      }\n      applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Left');\n      if (gObj.enableColumnVirtualization) {\n        column.valueX = width;\n      }\n    }\n  } else if (column.freeze === 'Right') {\n    node.classList.add('e-rightfreeze');\n    var cols = gObj.getColumns();\n    if (column.border === 'Right') {\n      node.classList.add('e-freezerightborder');\n    }\n    if (column.index === cols[cols.length - 1].index) {\n      var width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n      applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Right');\n      if (gObj.enableColumnVirtualization) {\n        column.valueX = width;\n      }\n    } else {\n      var width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n      for (var i = cols.length - 1; i >= 0; i--) {\n        if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n          break;\n        }\n        if (cols[parseInt(i.toString(), 10)].visible) {\n          width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n        }\n      }\n      applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Right');\n      if (gObj.enableColumnVirtualization) {\n        column.valueX = width;\n      }\n    }\n  } else if (column.freeze === 'Fixed') {\n    node.classList.add('e-fixedfreeze');\n    var cols = gObj.getColumns();\n    var width = 0;\n    if (gObj.getVisibleFrozenLeftCount()) {\n      width = gObj.getIndentCount() * 30;\n    } else if (gObj.getFrozenMode() === 'Right') {\n      width = gObj.groupSettings.columns.length * 30;\n    }\n    for (var i = 0; i < cols.length; i++) {\n      if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n        break;\n      }\n      if (cols[parseInt(i.toString(), 10)].freeze === 'Left' || cols[parseInt(i.toString(), 10)].isFrozen || cols[parseInt(i.toString(), 10)].freeze === 'Fixed') {\n        if (cols[parseInt(i.toString(), 10)].visible) {\n          width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n        }\n      }\n    }\n    applyStickyLeftRightPosition(node, width - 1, gObj.enableRtl, 'Left');\n    width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n    for (var i = cols.length - 1; i >= 0; i--) {\n      if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n        break;\n      }\n      if (cols[parseInt(i.toString(), 10)].freeze === 'Right' || cols[parseInt(i.toString(), 10)].freeze === 'Fixed') {\n        if (cols[parseInt(i.toString(), 10)].visible) {\n          width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n        }\n      }\n    }\n    applyStickyLeftRightPosition(node, width - 1, gObj.enableRtl, 'Right');\n  } else {\n    node.classList.add('e-unfreeze');\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n  return [].slice.call(gObj.getDataRows()[parseInt(rowIndex.toString(), 10)].getElementsByClassName(literals.rowCell));\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n  return getCellsByTableName(gObj, col, rowIndex)[parseInt(index.toString(), 10)];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n  if (isCustom) {\n    rules[getComplexFieldID(col.field)] = col.validationRules;\n  } else {\n    if (col.getFreezeTableName() === literals.frozenLeft || !index && col.getFreezeTableName() === literals.frozenRight || len === 1) {\n      rules[getComplexFieldID(col.field)] = col.validationRules;\n    } else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n      mRules[getComplexFieldID(col.field)] = col.validationRules;\n    } else if (col.getFreezeTableName() === literals.frozenRight) {\n      frRules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n  }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @param {string} currencyCode - Specifies the currency code to be used for formatting.\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel, currencyCode) {\n  var format;\n  var intl = new Internationalization();\n  if (type === 'number') {\n    try {\n      format = intl.getNumberPattern({\n        format: numberFormat,\n        currency: currencyCode,\n        useGrouping: true\n      }, true);\n    } catch (error) {\n      format = numberFormat;\n    }\n  } else if (type === 'date' || type === 'time' || type === 'datetime') {\n    try {\n      format = intl.getDatePattern({\n        skeleton: numberFormat,\n        type: type\n      }, isExcel);\n      if (isNullOrUndefined(format)) {\n        // eslint-disable-next-line\n        throw 'error';\n      }\n    } catch (error) {\n      try {\n        format = intl.getDatePattern({\n          format: numberFormat,\n          type: type\n        }, isExcel);\n      } catch (error) {\n        format = numberFormat;\n      }\n    }\n  } else {\n    format = numberFormat;\n  }\n  if (type !== 'number') {\n    var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n    var mtch_1 = {\n      'G': '',\n      'H': 'h',\n      'c': 'd',\n      '\\'': '\"',\n      ' a': ' AM/PM',\n      'yy': 'yy',\n      'y': 'yyyy',\n      'EEEE': 'dddd',\n      'E': 'ddd'\n    };\n    format = format.replace(patternRegex, function (pattern) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return mtch_1[\"\" + pattern];\n    });\n  }\n  return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n  if (gObj.enableAdaptiveUI) {\n    var dialogs = document.getElementsByClassName('e-responsive-dialog');\n    for (var i = 0; i < dialogs.length; i++) {\n      dialogs[parseInt(i.toString(), 10)].classList.add('e-bigger');\n    }\n  }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n  var returnObj;\n  var length = value.split('.').length;\n  var splits = value.split('.');\n  var duplicateMap = mapObject;\n  for (var i = 0; i < length; i++) {\n    returnObj = duplicateMap[splits[parseInt(i.toString(), 10)]];\n    duplicateMap = returnObj;\n  }\n  return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n  var trs = Object.keys(tr);\n  var actualIndex = idx;\n  for (var i = 0; i < trs.length; i++) {\n    var td = tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)];\n    if (parent && !parent.isFrozenGrid() && !parent.isRowDragable()) {\n      td = !isNullOrUndefined(td) && (parseInt(td.getAttribute('aria-colindex'), 10) - 1 === idx || parentsUntil(td, 'e-addedrow') && td.parentElement.childNodes[parseInt(idx.toString(), 10)] === td) ? td : tr[parseInt(i.toString(), 10)].querySelector(\"td[aria-colindex=\\\"\" + (idx + 1) + \"\\\"]\");\n      if (isNullOrUndefined(td)) {\n        continue;\n      } else {\n        idx = parent.getContentTable().querySelector('.e-detailrowcollapse, .e-detailrowexpand') ? td.cellIndex - 1 : td.cellIndex;\n      }\n    }\n    if (tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell').length && td) {\n      setStyleAttribute(tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)], {\n        'display': displayVal\n      });\n      if (tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)].classList.contains('e-hide')) {\n        removeClass([tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)]], ['e-hide']);\n      }\n      if (isContent && parent.isRowDragable() || parent && parent.isDetail()) {\n        var index = idx + 1;\n        rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(index.toString(), 10)].visible = displayVal === '' ? true : false;\n      } else {\n        if (!isNullOrUndefined(rows[trs[parseInt(i.toString(), 10)]])) {\n          rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(idx.toString(), 10)].visible = displayVal === '' ? true : false;\n          if (rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(idx.toString(), 10)].visible === false) {\n            tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)].classList.add('e-hide');\n          }\n        }\n      }\n      idx = actualIndex;\n    }\n  }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n  for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n    var inst = evt_1[_i];\n    if (isOn) {\n      parent.on(inst.event, inst.handler, module);\n    } else {\n      parent.off(inst.event, inst.handler);\n    }\n  }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n  var complexFieldName = getComplexFieldID(column.field);\n  attr = Object.assign(attr, {\n    id: parent.element.id + complexFieldName,\n    name: complexFieldName,\n    'e-mappinguid': column.uid\n  });\n  return parent.createElement('input', {\n    className: classNames,\n    attrs: attr\n  });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n  var column;\n  for (var _i = 0, _a = gObj.columnModel; _i < _a.length; _i++) {\n    var col = _a[_i];\n    if (col.uid === uid) {\n      column = col;\n      break;\n    }\n  }\n  return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n  var column;\n  if (!gObj.columnModel) {\n    gObj.getColumns();\n  }\n  for (var _i = 0, _a = gObj.columnModel; _i < _a.length; _i++) {\n    var col = _a[_i];\n    if (col.field === field) {\n      column = col;\n      break;\n    }\n  }\n  return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n  instance.eventHandlers[\"\" + id] = {};\n  for (var i = 0; i < evts.length; i++) {\n    instance.eventHandlers[\"\" + id][evts[parseInt(i.toString(), 10)]] = handlers[evts[parseInt(i.toString(), 10)]];\n  }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n  for (var i = 0; i < evts.length; i++) {\n    if (component.isDestroyed) {\n      break;\n    }\n    component.removeEventListener(evts[parseInt(i.toString(), 10)], instance.eventHandlers[component.element.id][evts[parseInt(i.toString(), 10)]]);\n  }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n  parent.destroyTemplate(templates);\n  if (parent.isReact) {\n    parent.renderTemplates();\n  }\n}\n/**\n *\n * @param { HTMLElement[] } removeElem - Defines checkbox wrapper element\n * @returns {void}\n * @hidden\n */\nexport function infiniteRemoveElements(removeElem) {\n  for (var i = 0; i < removeElem.length; i++) {\n    remove(removeElem[i]);\n  }\n}\n/**\n *\n * @param { HTMLElement[] } appendElem - Defines checkbox wrapper element\n * @param { HTMLElement } ulElement - Defines ul element\n * @returns {void}\n * @hidden\n */\nexport function infiniteAppendElements(appendElem, ulElement) {\n  for (var i = 0; i < appendElem.length; i++) {\n    ulElement.insertBefore(appendElem[i], ulElement.children[i]);\n  }\n}\n/**\n *\n * @param { HTMLElement } element - Defines checkbox wrapper element\n * @param { boolean } isChooser - Defines checkbox filter column chooser\n * @returns { number } list height value\n * @hidden\n */\nexport function getListHeight(element, isChooser) {\n  var listDiv = isChooser ? createElement('li', {\n    className: 'e-cclist'\n  }) : createElement('div', {\n    className: 'e-ftrchk'\n  });\n  listDiv.style.visibility = 'hidden';\n  if (isChooser) {\n    listDiv.style.listStyle = 'none';\n  }\n  listDiv.innerHTML = isChooser ? '<div class=\"e-ccheck\"><div class=\"e-checkbox-wrapper\"><span class=\"e-frame e-icons e-check\"></span><span class=\"e-label\">A</span></div></div>' : '<div class=\"e-checkbox-wrapper\"><span class=\"e-frame e-icons e-check\"></span><span class=\"e-label e-checkboxfiltertext\">A</div></span>';\n  element.appendChild(listDiv);\n  var rect = listDiv.getBoundingClientRect();\n  element.removeChild(listDiv);\n  var listHeight = Math.round(rect.height);\n  return listHeight;\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n  return parseInt(row.getAttribute(literals.ariaRowIndex), 10) - 1;\n}\n/**\n *\n * @param { IGrid } grid - Defines grid instance\n * @returns { IGrid } returns parent grid instance\n */\nexport function getParentIns(grid) {\n  return grid.parentDetails && grid.parentDetails.parentInstObj ? getParentIns(grid.parentDetails.parentInstObj) : grid;\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n  var filterCols = [];\n  for (var i = 0; i < fields.length; i++) {\n    var column = instance.parent.getColumnByField(fields[parseInt(i.toString(), 10)]);\n    var value = values[parseInt(i.toString(), 10)] === 'null' ? null : values[parseInt(i.toString(), 10)];\n    var pred = {\n      field: fields[parseInt(i.toString(), 10)],\n      predicate: 'or',\n      uid: column.uid,\n      operator: 'equal',\n      type: column.type,\n      matchCase: instance.allowCaseSensitive,\n      ignoreAccent: instance.parent.filterSettings.ignoreAccent\n    };\n    if (value === '' || isNullOrUndefined(value)) {\n      filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n    } else {\n      filterCols.push(extend({}, {\n        value: value\n      }, pred));\n    }\n  }\n  return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n  var predicateList = [];\n  for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n    var prop = _a[_i];\n    predicateList.push(pred[\"\" + prop]);\n  }\n  return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n  var fields = [];\n  var keys = [];\n  for (var i = index; i >= 0; i--) {\n    if (rowsObject[parseInt(i.toString(), 10)].isCaptionRow && fields.indexOf(rowsObject[parseInt(i.toString(), 10)].data.field) === -1 && (rowsObject[parseInt(i.toString(), 10)].indent < rowsObject[parseInt(index.toString(), 10)].indent || i === index)) {\n      fields.push(rowsObject[parseInt(i.toString(), 10)].data.field);\n      keys.push(rowsObject[parseInt(i.toString(), 10)].data.key);\n      if (rowsObject[parseInt(i.toString(), 10)].indent === 0) {\n        break;\n      }\n    }\n  }\n  return {\n    fields: fields,\n    keys: keys\n  };\n}\n// eslint-disable-next-line\n/**\n *\n * @param { number[][] } checkActiveMatrix - Defines matrix to check\n * @param { number[] } checkCellIndex - Defines index to check\n * @param { boolean } next - Defines select next or previous index\n * @returns { number[] } - Returns next active current index\n */\nexport function findCellIndex(checkActiveMatrix, checkCellIndex, next) {\n  var activeMatrix = checkActiveMatrix;\n  var cellIndex = checkCellIndex;\n  var currentCellIndexPass = false;\n  if (next) {\n    for (var i = cellIndex[0]; i < activeMatrix.length; i++) {\n      var rowCell = activeMatrix[parseInt(i.toString(), 10)];\n      for (var j = 0; j < rowCell.length; j++) {\n        if (currentCellIndexPass && activeMatrix[parseInt(i.toString(), 10)][parseInt(j.toString(), 10)] === 1) {\n          cellIndex = [i, j];\n          return cellIndex;\n        }\n        if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n          currentCellIndexPass = true;\n        }\n      }\n    }\n  } else {\n    for (var i = cellIndex[0]; i >= 0; i--) {\n      var rowCell = activeMatrix[parseInt(i.toString(), 10)];\n      for (var j = rowCell.length - 1; j >= 0; j--) {\n        if (currentCellIndexPass && activeMatrix[parseInt(i.toString(), 10)][parseInt(j.toString(), 10)] === 1) {\n          cellIndex = [i, j];\n          return cellIndex;\n        }\n        if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n          currentCellIndexPass = true;\n        }\n      }\n    }\n  }\n  return cellIndex;\n}\n/**\n *\n * @param { string } string - Defines string need to capitalized first letter\n * @returns { string } - Returns capitalized first letter string\n */\nexport function capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n *\n * @param { IGrid } grid - Defines parent instance\n * @returns { boolean } - Returns is virtual\n */\nexport function checkIsVirtual(grid) {\n  return !(isGroupAdaptive(grid) || grid.groupSettings.enableLazyLoading || !grid.enableVirtualization && grid.enableColumnVirtualization);\n}\n/**\n *\n * @param { number[] } blockes - Defines block indexes\n * @returns { number[] } - Returns is visible page\n */\nexport function getVisiblePage(blockes) {\n  var visiblePage = [];\n  for (var i = 0; i < blockes.length; i++) {\n    var page = Math.ceil(blockes[parseInt(i.toString(), 10)] / 2);\n    if (visiblePage.indexOf(page) === -1) {\n      visiblePage.push(page);\n    }\n  }\n  return visiblePage;\n}","map":{"version":3,"names":["ChildProperty","compile","baseTemplateComplier","setValue","Internationalization","isUndefined","extend","baseExtend","isNullOrUndefined","getValue","classList","setStyleAttribute","addClass","attributes","remove","createElement","removeClass","isObject","select","selectAll","DataUtil","Query","DataManager","Predicate","UrlAdaptor","Deferred","Column","calculateRelativeBasedPosition","calculatePosition","Print","CheckBoxFilterBase","literals","doesImplementInterface","target","checkFor","prototype","valueAccessor","field","data","column","getObject","headerValueAccessor","getUpdateUsingRaf","updateFunction","callBack","requestAnimationFrame","e","isExportColumns","exportProperties","columns","length","updateColumnTypeForExportColumns","gObj","exportColumns","gridColumns","i","parseInt","toString","j","type","updatecloneRow","grid","nRows","actualRows","vRows","isDataRow","push","isExpand","isCaptionRow","getCollapsedRowsCount","vcRows","count","val","gSummary","total","gLen","groupSettings","records","items","value","dataRowCnt","agrCnt","indent","len","gLevel","GroupGuid","childLevels","recursive","row","rCount","length_1","nLevel","iterateArrayOrObject","collection","predicate","result","pred","iterateExtend","array","obj","getActualProperties","templateCompiler","template","validSelector","document","querySelectorAll","querySelector","innerHTML","trim","undefined","setStyleAndAttributes","node","customAttributes","copyAttr","copied","first","second","exclude","moved","values","Object","keys","indexOf","setColumnIndex","columnModel","ind","index","prepareColumns","autoWidth","c","toLowerCase","allowReordering","headerText","foreignKeyValue","foreignKeyField","window","width","visible","setCssInGridPopUp","popUp","className","popUpSpan","position","parentElement","getBoundingClientRect","targetPosition","style","display","isBottomTail","clientY","changedTouches","offsetHeight","top","left","getPopupLeftPosition","popup","offsetWidth","x","getPosition","right","parentsUntil","elem","selector","isID","parent","id","contains","getElementIndex","element","elements","isEqualNode","inArray","getActualPropFromColl","coll","hasOwnProperty","properties","removeElement","slice","call","clientX","y","uid","getUid","prefix","appendChildren","children","appendChild","parents","calculateAggregate","context","temp","customAggregate","Array","aggregates","scrollWidth","getScrollBarWidth","divNode","cssText","body","clientWidth","removeChild","rowHeight","accurateRowHeight","getRowHeight","accurateHeight","table","attrs","role","visibility","rect","height","Math","ceil","getActualRowHeight","isComplexField","split","getComplexFieldID","replace","getParsedFieldID","setComplexFieldID","isEditable","col","isOldRow","isIdentity","isPrimaryKey","allowEditing","isCellHaveWidth","isActionPrevent","inst","dlg","editSettings","mode","showConfirmDialog","wrap","action","clName","add","setFormatter","serviceLocator","fmtr","getService","format","args","skeleton","getFormatFunction","setParser","getParserFunction","addRemoveActiveClasses","cells","_i","arguments","setAttribute","removeAttribute","distinctStringValues","res","getFilterMenuPostion","dialogObj","elementVisible","dlgWidth","newpos","leftPosition","enableRtl","parentWidth","rightPosition","getZIndexCalcualtion","zIndex","toggleFilterUI","operator","columnUid","columnType","dlgObj","previousValue","filterTemplate","columnID","isPreviousValue","isMultiSelect","multiselectParent","singleInputParent","toogleCheckbox","span","input","previousSibling","checked","setChecked","createCboxWithWrap","div","removeAddCboxClasses","refreshForeignData","getForeignData","foreignKeyData","isForeignKey","lValue","fField","key","query","fdata","dataSource","json","columnData","getDay","where","getDatePredicate","matchCase","executeLocal","getColumnByForeignKeyValue","some","padZero","String","filterObject","isExecuteLocal","datePredicate","prevDate","nextDate","prevObj","nextObj","Date","dateOnlyString","getFullYear","getMonth","getDate","predicates","setSeconds","getSeconds","setHours","predicateSt","predicateEnd","and","or","setProperties","ejpredicate","isGroupAdaptive","enableVirtualization","isVirtualAdaptive","enableLazyLoading","object","splits","newCase","charAt","toUpperCase","getCustomDateFormat","colType","intl","formatvalue","formatter","getDatePattern","getExpandedState","hierarchyPrintMode","rows","getRowsObject","rows_1","isDetailRow","allowPaging","printMode","pageSettings","currentPage","pageSize","childGrid","gridModel","getPrintGridModel","printGridModel","_a","printGridProp","detailTemplate","expandedRows","extendObjWithFn","deep","obj1","getPrototypeOf","concat","getPrototypesOfObj","i_1","source","cpy","cln","isArray","measureColumnDepth","max","depth","checkDepth","indices","refreshFilteredColsUid","filteredCols","getForeignKeyColumns","enableColumnVirtualization","getColumnModelByFieldName","getColumnByField","Global","timer","getTransformValues","defaultView","getComputedStyle","transformV","getPropertyValue","replacedTv","translateX","parseFloat","translateY","applyBiggerTheme","rootElement","getScrollWidth","scrollElem","getContent","firstElementChild","resetColspanGroupCaption","idx","colspan","cols","getColumns","isRowDragable","gridWidth","groupCaptionRowLeftRightPos","tr","frozenCount","getVisibleFrozenLeftCount","childNodes","td","getAttribute","applyStickyLeftRightPosition","newColspan","uid_1","getColumnByUid","ensureLastRow","gridObj","content","ensureFirstRow","rowTop","isRowEnteredInGrid","startIndex","scrollTop","endIndex","getEditedDataIndex","keyField","getPrimaryKeyFieldNames","dataIndex","getCurrentViewRecords","filter","includes","currentValue","originalValue","eventPromise","state","getStateEventArgument","def","resolve","deffered","adaptr","dm","url","adaptor","processQuery","JSON","parse","ispercentageWidth","getVisibleColumns","percentageCol","undefinedWidthCol","showGroupedColumn","resetRowIndex","rowElms","startRowIndex","isAltRow","enableAltRow","ariaRowIndex","renderModule","emptyRow","resetCachedRowIndex","rowObjects","enableInfiniteScrolling","infiniteScrollSettings","enableCache","rowElements","getRows","k","rowObject","rowElement","getRowElementByUID","infiniteScrollModule","resetInfiniteCache","groupReorderRowObject","dropRObj","orderChangeRowObjects","dropRowObject","getRowObjectFromUID","closest","rowObjectDropIndex","orderChangeRowObject","splice","fromIndex","dropIndex","apply","record","currentViewData","compareChanges","changes","newArray","dataToBeUpdated","reduce","r","o","assign","map","setRowElements","contentModule","getContentTable","sliceElements","start","end","resetDialogAppend","pos","getElementById","sbPanel","sbPos","insertBefore","firstChild","isChildColumn","uids","pushuid","frozenDirection","freeze","isFrozen","addFixedColumnBorder","isRtl","resetColandRowSpanStickyPosition","colSpan","border","getCellFromRow","rowIndex","colIndex","getRowByIndex","addStickyColumnPosition","getIndentCount","valueX","getFrozenMode","getCellsByTableName","getDataRows","getElementsByClassName","rowCell","getCellByColAndRowIndex","setValidationRuels","rules","mRules","frRules","isCustom","validationRules","getFreezeTableName","frozenLeft","frozenRight","getNumberFormat","numberFormat","isExcel","currencyCode","getNumberPattern","currency","useGrouping","error","patternRegex","mtch_1","pattern","addBiggerDialog","enableAdaptiveUI","dialogs","performComplexDataOperation","mapObject","returnObj","duplicateMap","setDisplayValue","displayVal","isContent","trs","actualIndex","isFrozenGrid","cellIndex","isDetail","addRemoveEventListener","evt","isOn","module","evt_1","on","event","handler","off","createEditElement","classNames","attr","complexFieldName","name","getColumnModelByUid","registerEventHandlers","evts","handlers","instance","eventHandlers","removeEventHandlers","component","isDestroyed","removeEventListener","clearReactVueTemplates","templates","destroyTemplate","isReact","renderTemplates","infiniteRemoveElements","removeElem","infiniteAppendElements","appendElem","ulElement","getListHeight","isChooser","listDiv","listStyle","listHeight","round","getRowIndexFromElement","getParentIns","parentDetails","parentInstObj","generateExpandPredicates","fields","filterCols","allowCaseSensitive","ignoreAccent","filterSettings","generateNullValuePredicates","getPredicate","getPredicates","predicateList","prop","getGroupKeysAndFields","rowsObject","findCellIndex","checkActiveMatrix","checkCellIndex","next","activeMatrix","currentCellIndexPass","capitalizeFirstLetter","string","checkIsVirtual","getVisiblePage","blockes","visiblePage","page"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/base/util.js"],"sourcesContent":["import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition, calculatePosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n    return !isNullOrUndefined(exportProperties) &&\n        !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n    var exportColumns = exportProperties.columns;\n    var gridColumns = gObj.columns;\n    for (var i = 0; i < exportColumns.length; i++) {\n        if (gridColumns.length - 1 >= i) {\n            if (gridColumns[parseInt(i.toString(), 10)].columns) {\n                for (var j = 0; j < gridColumns[parseInt(i.toString(), 10)].columns.length; j++) {\n                    exportColumns[parseInt(i.toString(), 10)].columns[parseInt(j.toString(), 10)]\n                        .type = gridColumns[parseInt(i.toString(), 10)].columns[parseInt(j.toString(), 10)].type;\n                }\n            }\n            else {\n                exportColumns[parseInt(i.toString(), 10)].type = gridColumns[parseInt(i.toString(), 10)].type;\n            }\n        }\n    }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[parseInt(i.toString(), 10)].isDataRow) {\n            nRows.push(actualRows[parseInt(i.toString(), 10)]);\n        }\n        else if (!actualRows[parseInt(i.toString(), 10)].isDataRow) {\n            nRows.push(actualRows[parseInt(i.toString(), 10)]);\n            if (!actualRows[parseInt(i.toString(), 10)].isExpand && actualRows[parseInt(i.toString(), 10)].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[parseInt(i.toString(), 10)], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[\"\" + gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[\"\" + total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[\"\" + agrCnt]) && val[\"\" + agrCnt]) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[\"\" + gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[\"\" + agrCnt])) :\n                    (val[\"\" + gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[\"\" + agrCnt])) + val[\"\" + agrCnt];\n            }\n            else if (grid.groupSettings.columns.length === 1) {\n                count += (val[\"\" + gSummary] * (gLen - val.indent)) + val[\"\" + agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[\"\" + gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[\"\" + gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[\"\" + items].length; i < len; i++) {\n            var gLevel = val.data[\"\" + items][parseInt(i.toString(), 10)];\n            count += gLevel[\"\" + items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[\"\" + items][\"\" + records]) ? gLevel[\"\" + items][\"\" + records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[\"\" + items][\"\" + records]) && !isNullOrUndefined(val[\"\" + agrCnt])) ? gLevel[\"\" + items][\"\" + records].length :\n                gLevel[\"\" + items].length;\n            if (gLevel[\"\" + items].GroupGuid && gLevel[\"\" + items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[\"\" + items].length;\n        if (!isNullOrUndefined(val[\"\" + agrCnt])) {\n            if (val[\"\" + agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[\"\" + agrCnt]) + val[\"\" + agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[\"\" + items].length; j < length_1; j++) {\n        var nLevel = row[\"\" + items][parseInt(j.toString(), 10)];\n        count += nLevel[\"\" + rCount];\n        if (nLevel[\"\" + items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[parseInt(i.toString(), 10)], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[parseInt(i.toString(), 10)]), {}, true));\n    }\n    return obj;\n}\n/**\n * @param {string | Function} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n    if (template) {\n        try {\n            var validSelector = template[0] !== '<';\n            if (typeof template === 'function') {\n                return baseTemplateComplier(template);\n            }\n            else if (validSelector && document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return baseTemplateComplier(template);\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    var values = Object.keys(moved);\n    for (var i = 0; i < values.length; i++) {\n        if (exclude && exclude.indexOf(values[parseInt(i.toString(), 10)]) !== -1) {\n            delete moved[values[parseInt(i.toString(), 10)]];\n        }\n    }\n    return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = (!isNullOrUndefined(columnModel) ? columnModel.length : 0); i < len; i++) {\n        if (columnModel[parseInt(i.toString(), 10)].columns) {\n            columnModel[parseInt(i.toString(), 10)].index = isNullOrUndefined(columnModel[parseInt(i.toString(), 10)].index) ? ind\n                : columnModel[parseInt(i.toString(), 10)].index;\n            ind++;\n            ind = setColumnIndex(columnModel[parseInt(i.toString(), 10)].columns, ind);\n        }\n        else {\n            columnModel[parseInt(i.toString(), 10)].index = isNullOrUndefined(columnModel[parseInt(i.toString(), 10)].index) ? ind\n                : columnModel[parseInt(i.toString(), 10)].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n    for (var c = 0, len = (!isNullOrUndefined(columns) ? columns.length : 0); c < len; c++) {\n        var column = void 0;\n        if (typeof columns[parseInt(c.toString(), 10)] === 'string') {\n            column = new Column({ field: columns[parseInt(c.toString(), 10)] }, gObj);\n        }\n        else if (!(columns[parseInt(c.toString(), 10)] instanceof Column) || columns[parseInt(c.toString(), 10)].columns) {\n            if (!columns[parseInt(c.toString(), 10)].columns) {\n                column = new Column(columns[parseInt(c.toString(), 10)], gObj);\n            }\n            else {\n                columns[parseInt(c.toString(), 10)].columns = prepareColumns(columns[parseInt(c.toString(), 10)].columns, null, gObj);\n                column = new Column(columns[parseInt(c.toString(), 10)], gObj);\n            }\n        }\n        else {\n            column = columns[parseInt(c.toString(), 10)];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.headerValueAccessor = typeof column.headerValueAccessor === 'string' ? getValue(column.headerValueAccessor, window)\n            : column.headerValueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[parseInt(c.toString(), 10)] = column;\n    }\n    return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[parseInt(i.toString(), 10)].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[parseInt(i.toString(), 10)] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (collection[parseInt(i.toString(), 10)].hasOwnProperty('properties')) {\n            coll.push(collection[parseInt(i.toString(), 10)].properties);\n        }\n        else {\n            coll.push(collection[parseInt(i.toString(), 10)]);\n        }\n    }\n    return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[parseInt(i.toString(), 10)]);\n    }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[parseInt(i.toString(), 10)]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/** @hidden */\nvar accurateRowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @param {boolean} accurateHeight - Defines the accurate row height\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element, accurateHeight) {\n    if (accurateHeight && accurateRowHeight !== undefined) {\n        return accurateRowHeight;\n    }\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, attrs: { role: 'grid' } });\n    table.style.visibility = 'hidden';\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    accurateRowHeight = rect.height;\n    rowHeight = Math.ceil(rect.height);\n    if (accurateHeight) {\n        return accurateRowHeight;\n    }\n    return rowHeight;\n}\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n    var table = createElement('table', { className: literals.table, attrs: { role: 'grid' } });\n    table.style.visibility = 'hidden';\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('tr').getBoundingClientRect();\n    element.removeChild(table);\n    return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the parsed column field id\n * @hidden\n */\nexport function getParsedFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/[^a-zA-Z0-9_.]/g, '\\\\$&');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, literals.row);\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/**\n * @param {Element} elem - Defines th element\n * @param {IGrid} parent - Defines parent instance\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isCellHaveWidth(elem, parent) {\n    if (parent && parent.element && parent.element.offsetWidth === 0) {\n        return true;\n    }\n    return elem.getBoundingClientRect().width === 0 ? false : true;\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n    var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n    return inst.editSettings.mode === 'Batch' &&\n        (selectAll('.e-updatedtd', inst.element).length || selectAll('.e-gridform.e-formvalidator', inst.element).length)\n        && inst.editSettings.showConfirmDialog && (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        if (action) {\n            elem[parseInt(i.toString(), 10)].classList.add(clName);\n        }\n        else {\n            elem[parseInt(i.toString(), 10)].classList.remove(clName);\n        }\n    }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime' || column.type === 'dateonly') {\n        args = { type: column.type === 'dateonly' ? 'date' : column.type, skeleton: column.format };\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[\"\" + format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'dateonly':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[parseInt(i.toString(), 10)], args.slice(), []);\n            cells[parseInt(i.toString(), 10)].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[parseInt(i.toString(), 10)], [], args.slice());\n            cells[parseInt(i.toString(), 10)].removeAttribute('aria-selected');\n        }\n    }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[parseInt(i.toString(), 10)] in temp)) {\n            res.push(result[parseInt(i.toString(), 10)].toString());\n            temp[result[parseInt(i.toString(), 10)]] = 1;\n        }\n    }\n    return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @param {IGrid} parent - Defines the grid\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj, parent) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n    var leftPosition = newpos.left - dlgWidth + target.clientWidth;\n    if (parent && parent.enableRtl) {\n        var parentWidth = parent.element ? parent.element.clientWidth : 0;\n        var rightPosition = target.getBoundingClientRect().right + dlgWidth - parentWidth;\n        if (rightPosition > 1) {\n            dialogObj.element.style.left = leftPosition - 4 + 'px';\n        }\n        else {\n            dialogObj.element.style.left = (dlgWidth + leftPosition) - 16 + 'px';\n        }\n    }\n    else {\n        if (leftPosition < 1) {\n            dialogObj.element.style.left = (dlgWidth + leftPosition) - 16 + 'px'; // right calculation\n        }\n        else {\n            dialogObj.element.style.left = leftPosition - 4 + 'px';\n        }\n    }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {string} operator - Defines the operator\n * @param {string} columnUid - Defines the column uid\n * @param {Column} column - Defines the column\n * @param {string} columnType - Defines the column type\n * @param {Dialog} dlgObj - Defines the dialog\n * @param {string} previousValue - Defines the previous operator\n * @returns {void}\n * @hidden\n */\nexport function toggleFilterUI(operator, columnUid, column, columnType, dlgObj, previousValue) {\n    if (isNullOrUndefined(column.filterTemplate)) {\n        var columnID = '';\n        if (columnType === 'string') {\n            columnID = 'strui-' + columnUid;\n        }\n        else if (columnType === 'number') {\n            columnID = 'numberui-' + columnUid;\n        }\n        else if (columnType === 'boolean') {\n            columnID = 'bool-ui-' + columnUid;\n        }\n        else if (columnType === 'date' || columnType === 'datetime') {\n            columnID = 'dateui-' + columnUid;\n        }\n        var isPreviousValue = previousValue === 'in' || previousValue === 'notin';\n        var isMultiSelect = operator === 'in' || operator === 'notin';\n        var multiselectParent = parentsUntil(dlgObj.element.querySelector(\"#multiselect\" + columnID), 'e-control-wrapper');\n        var singleInputParent = parentsUntil(dlgObj.element.querySelector(\"#\" + columnID), 'e-popup-flmenu');\n        if (multiselectParent) {\n            multiselectParent.style.display = isMultiSelect ? 'inline-flex' : 'none';\n        }\n        if (singleInputParent) {\n            singleInputParent.style.display = isMultiSelect ? 'none' : 'inline-flex';\n        }\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    var input = span.previousSibling;\n    if (span.classList.contains('e-check')) {\n        input.checked = false;\n        classList(span, ['e-uncheck'], ['e-check']);\n    }\n    else {\n        input.checked = true;\n        classList(span, ['e-check'], ['e-uncheck']);\n    }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n    elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    for (var i = 0; i < (!isNullOrUndefined(columns) ? columns.length : 0); i++) {\n        setValue(columns[parseInt(i.toString(), 10)].field, getForeignData(columns[parseInt(i.toString(), 10)], data), row.foreignKeyData);\n    }\n    var cells = row.cells;\n    for (var i = 0; i < cells.length; i++) {\n        if (cells[parseInt(i.toString(), 10)].isForeignKey) {\n            setValue('foreignKeyData', getValue(cells[parseInt(i.toString(), 10)].column.field, row.foreignKeyData), cells[parseInt(i.toString(), 10)]);\n        }\n    }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @param {number} value - Defines the date or month value\n * @returns {string} Returns string\n * @hidden\n */\nexport function padZero(value) {\n    if (value < 10) {\n        return '0' + value;\n    }\n    return String(value);\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @param {boolean} isExecuteLocal - Defines whether the data actions performed in client and used for dateonly type field\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type, isExecuteLocal) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (isNullOrUndefined(filterObject.value) || filterObject.value === '') {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (type === 'dateonly' && !isExecuteLocal) {\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var dateOnlyString = prevObj.value.getFullYear() + '-' + padZero(prevObj.value.getMonth() + 1) + '-' + padZero(prevObj.value.getDate());\n        var predicates = new Predicate(prevObj.field, prevObj.operator, dateOnlyString, false);\n        datePredicate = predicates;\n    }\n    else {\n        filterObject.operator = filterObject.operator.toLowerCase();\n        if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n            if (type === 'datetime') {\n                prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n                nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n                filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n            }\n            else {\n                prevDate = new Date(value.setHours(0) - 1);\n                nextDate = new Date(value.setHours(24));\n            }\n            prevObj.value = prevDate;\n            nextObj.value = nextDate;\n            if (filterObject.operator === 'equal') {\n                prevObj.operator = 'greaterthan';\n                nextObj.operator = 'lessthan';\n            }\n            else if (filterObject.operator === 'notequal') {\n                prevObj.operator = 'lessthanorequal';\n                nextObj.operator = 'greaterthanorequal';\n            }\n            var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n            var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n            datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n        }\n        else {\n            if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n                prevObj.value = new Date(value.setHours(24) - 1);\n            }\n            if (typeof (prevObj.value) === 'string') {\n                prevObj.value = new Date(prevObj.value);\n            }\n            var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n            datePredicate = predicates;\n        }\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive &&\n        !grid.groupSettings.enableLazyLoading;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[parseInt(i.toString(), 10)]];\n            if (isUndefined(value)) {\n                var newCase = splits[parseInt(i.toString(), 10)].charAt(0).toUpperCase()\n                    + splits[parseInt(i.toString(), 10)].slice(1);\n                value = object[\"\" + newCase] || object[(\"\" + newCase).charAt(0).toLowerCase() + (\"\" + newCase).slice(1)];\n            }\n        }\n        return value;\n    }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[\"\" + type] ? format[\"\" + type] : 'date', format: format[\"\" + formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[\"\" + type] ? format[\"\" + type] : 'dateTime', format: format[\"\" + formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            if (!isNullOrUndefined(index)) {\n                obj[parseInt(index.toString(), 10)] = {};\n                obj[parseInt(index.toString(), 10)].isExpand = true;\n                if (gObj.childGrid) {\n                    obj[parseInt(index.toString(), 10)].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n                    obj[parseInt(index.toString(), 10)].gridModel.query = gObj.childGrid.query;\n                }\n            }\n        }\n    }\n    return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[\"\" + key] = getActualPropFromColl(gObj[\"\" + key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[\"\" + key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[\"\" + key] = getActualProperties(gObj[\"\" + key]);\n        }\n    }\n    printGridModel['enableHover'] = false;\n    if ((gObj.childGrid || gObj.detailTemplate) && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    for (var i = 1; i < len; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        if (!arguments[parseInt(i.toString(), 10)]) {\n            continue;\n        }\n        // eslint-disable-next-line prefer-rest-params\n        var obj1 = arguments[parseInt(i.toString(), 10)];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        for (var i_1 = 0; i_1 < keys.length; i_1++) {\n            var source = res[keys[parseInt(i_1.toString(), 10)]];\n            var cpy = obj1[keys[parseInt(i_1.toString(), 10)]];\n            var cln = void 0;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[keys[parseInt(i_1.toString(), 10)]] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[keys[parseInt(i_1.toString(), 10)]] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[keys[parseInt(i_1.toString(), 10)]] = cpy;\n            }\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nexport function getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < (!isNullOrUndefined(column) ? column.length : 0); i++) {\n        var depth = checkDepth(column[parseInt(i.toString(), 10)], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[parseInt(i.toString(), 10)] = checkDepth(col.columns[parseInt(i.toString(), 10)], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[parseInt(j.toString(), 10)]) {\n                max = indices[parseInt(j.toString(), 10)];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[parseInt(i.toString(), 10)].uid = filteredCols[parseInt(i.toString(), 10)].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[parseInt(i.toString(), 10)].field, gObj.getForeignKeyColumns()).uid\n            : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[parseInt(i.toString(), 10)].field).uid\n                : gObj.getColumnByField(filteredCols[parseInt(i.toString(), 10)].field).uid;\n    }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n    // eslint-disable-next-line prefer-const\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n/**\n * @param {IGrid} gObj - Defines grid object\n * @returns {number}  - Returns scroll width\n * @hidden\n */\nexport function getScrollWidth(gObj) {\n    var scrollElem = gObj.getContent().firstElementChild;\n    return scrollElem.scrollWidth > scrollElem.offsetWidth ? getScrollBarWidth() : 0;\n}\n/**\n * @param {IGrid} gObj - Defines grid object\n * @param {number} idx - Defines the index\n * @returns {number} Returns colSpan index\n * @hidden\n */\nexport function resetColspanGroupCaption(gObj, idx) {\n    var colspan = 0;\n    var cols = gObj.getColumns();\n    var width = idx * 30;\n    if (gObj.isRowDragable()) {\n        colspan++;\n        width += 30;\n    }\n    colspan += (gObj.groupSettings.columns.length - idx);\n    width += (30 * (gObj.groupSettings.columns.length - idx));\n    var gridWidth = (gObj.width === 'auto' ? gObj.element.offsetWidth : gObj.width.toString().indexOf('%') !== -1 ?\n        gObj.element.getBoundingClientRect().width : parseInt(gObj.width.toString(), 10)) - getScrollWidth(gObj);\n    for (var i = 0; i < cols.length; i++) {\n        if (cols[parseInt(i.toString(), 10)].visible) {\n            width += parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10);\n            colspan++;\n        }\n        if (width > gridWidth) {\n            colspan--;\n            break;\n        }\n    }\n    return colspan;\n}\n/**\n * @param {HTMLElement} tr - Defines the tr Element\n * @param {IGrid} gObj - Defines grid object\n * @returns {void}\n * @hidden\n */\nexport function groupCaptionRowLeftRightPos(tr, gObj) {\n    var width = 0;\n    var idx = 0;\n    var frozenCount = gObj.getVisibleFrozenLeftCount();\n    for (var j = 0; j < tr.childNodes.length; j++) {\n        var td = tr.childNodes[parseInt(j.toString(), 10)];\n        if (frozenCount === idx) {\n            break;\n        }\n        if (td.classList.contains('e-groupcaption') || td.classList.contains('e-summarycell')) {\n            idx += parseInt(td.getAttribute('colspan'), 10);\n        }\n        td.classList.add('e-leftfreeze');\n        if (td.classList.contains('e-groupcaption') && parseInt(td.getAttribute('colspan'), 10) === 1) {\n            td.classList.add('e-freezeleftborder');\n        }\n        applyStickyLeftRightPosition(td, width, gObj.enableRtl, 'Left');\n        if (td.classList.contains('e-indentcell') || td.classList.contains('e-recordplusexpand') ||\n            td.classList.contains('e-recordpluscollapse')) {\n            width += 30;\n        }\n        if (td.classList.contains('e-groupcaption')) {\n            var colspan = parseInt(td.getAttribute('colspan'), 10);\n            if (gObj.isRowDragable()) {\n                colspan--;\n                width += 30;\n            }\n            colspan = colspan - (gObj.groupSettings.columns.length - j);\n            width = width + (30 * (gObj.groupSettings.columns.length - j));\n            var cols = gObj.getColumns();\n            for (var i = 0; i < cols.length; i++) {\n                if ((parseInt(td.getAttribute('colspan'), 10) > 1) &&\n                    (parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10)\n                        + width) > (parseInt(gObj.width.toString(), 10) - getScrollWidth(gObj))) {\n                    var newColspan = resetColspanGroupCaption(gObj, j);\n                    td.setAttribute('colspan', newColspan.toString());\n                    break;\n                }\n                if (cols[parseInt(i.toString(), 10)].visible) {\n                    width += parseInt(cols[parseInt(i.toString(), 10)].width.toString(), 10);\n                    colspan--;\n                }\n                if (colspan === 0) {\n                    break;\n                }\n            }\n        }\n        if (td.classList.contains('e-summarycell')) {\n            var uid_1 = td.getAttribute('e-mappinguid');\n            var column = gObj.getColumnByUid(uid_1);\n            width += parseInt(column.width.toString(), 10);\n        }\n    }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n    var content = gridObj.getContent().firstElementChild;\n    return row && (row.getBoundingClientRect().top - content.getBoundingClientRect().top +\n        gridObj.getRowHeight()) > content.offsetHeight;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n    return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n    var rowHeight = gObj.getRowHeight();\n    var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n    var endIndex = startIndex + (gObj.getContent().firstElementChild.offsetHeight / rowHeight);\n    return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n    var keyField = gObj.getPrimaryKeyFieldNames()[0];\n    var dataIndex;\n    gObj.getCurrentViewRecords().filter(function (e, index) {\n        if (keyField.includes('.')) {\n            var currentValue = getObject(keyField, e);\n            var originalValue = getObject(keyField, data);\n            if (currentValue === originalValue) {\n                dataIndex = index;\n            }\n        }\n        else {\n            if (e[\"\" + keyField] === data[\"\" + keyField]) {\n                dataIndex = index;\n            }\n        }\n    });\n    return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n    var state = getStateEventArgument(query);\n    var def = new Deferred();\n    state.dataSource = def.resolve;\n    state.action = args;\n    return { state: state, deffered: def };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n    var adaptr = new UrlAdaptor();\n    var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n    var state = adaptr.processQuery(dm, query);\n    var data = JSON.parse(state.data);\n    return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n    var columns = gObj.getVisibleColumns();\n    var percentageCol = 0;\n    var undefinedWidthCol = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (isUndefined(columns[parseInt(i.toString(), 10)].width)) {\n            undefinedWidthCol++;\n        }\n        else if (columns[parseInt(i.toString(), 10)].width.toString().indexOf('%') !== -1) {\n            percentageCol++;\n        }\n    }\n    return (gObj.width === 'auto' || typeof (gObj.width) === 'string' && gObj.width.indexOf('%') !== -1) &&\n        !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length\n        && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @param {number} startRowIndex - Start Row Index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index, startRowIndex) {\n    var startIndex = index ? index : 0;\n    for (var i = startRowIndex ? startRowIndex : 0; i < rows.length; i++) {\n        if (rows[parseInt(i.toString(), 10)] && rows[parseInt(i.toString(), 10)].isDataRow) {\n            rows[parseInt(i.toString(), 10)].index = startIndex;\n            rows[parseInt(i.toString(), 10)].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            rowElms[parseInt(i.toString(), 10)].setAttribute(literals.ariaRowIndex, (startIndex + 1).toString());\n            if (rows[parseInt(i.toString(), 10)].isAltRow) {\n                rowElms[parseInt(i.toString(), 10)].classList.add('e-altrow');\n            }\n            else {\n                rowElms[parseInt(i.toString(), 10)].classList.remove('e-altrow');\n            }\n            for (var j = 0; j < rowElms[parseInt(i.toString(), 10)].cells.length; j++) {\n                rowElms[parseInt(i.toString(), 10)].cells[parseInt(j.toString(), 10)].setAttribute('index', startIndex.toString());\n            }\n            startIndex++;\n        }\n    }\n    if (!rows.length) {\n        gObj.renderModule.emptyRow(true);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {void}\n * @hidden\n */\nexport function resetCachedRowIndex(gObj) {\n    var rowObjects = gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache ?\n        gObj.getRowsObject() : gObj.vRows;\n    var rowElements = gObj.getRows();\n    for (var i = 0, startIndex = 0, k = 0; i < rowObjects.length; i++) {\n        var rowObject = rowObjects[parseInt(i.toString(), 10)];\n        if (rowObject.isDataRow) {\n            rowObject.index = startIndex;\n            rowObject.isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            var rowElement = gObj.getRowElementByUID(rowObject.uid);\n            if (!isNullOrUndefined(rowElement)) {\n                rowElements[parseInt(k.toString(), 10)] = rowElement;\n                rowElement.setAttribute(literals.ariaRowIndex, (startIndex + 1).toString());\n                if (rowObject.isAltRow) {\n                    rowElement.classList.add('e-altrow');\n                }\n                else {\n                    rowElement.classList.remove('e-altrow');\n                }\n                for (var j = 0; j < rowElement.cells.length; j++) {\n                    rowElement.cells[parseInt(j.toString(), 10)].setAttribute('index', startIndex.toString());\n                }\n                k++;\n            }\n            startIndex++;\n        }\n    }\n    if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache) {\n        gObj.infiniteScrollModule.resetInfiniteCache(rowObjects);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {RowDropEventArgs} args - Defines the row drop event argument\n * @param {HTMLTableRowElement[]} tr - Row elements\n * @param {Row<Column>} dropRObj - dropped row object\n * @returns {void}\n * @hidden\n */\nexport function groupReorderRowObject(gObj, args, tr, dropRObj) {\n    var rowObjects = gObj.enableVirtualization ? gObj.vRows : gObj.getRowsObject();\n    var orderChangeRowObjects = [];\n    var dropRowObject = dropRObj ? dropRObj :\n        gObj.getRowObjectFromUID(args.target.closest('tr').getAttribute('data-uid'));\n    var rowObjectDropIndex;\n    for (var i = 0; i < args.rows.length; i++) {\n        var orderChangeRowObject = gObj.getRowObjectFromUID(args.rows[parseInt(i.toString(), 10)].getAttribute('data-uid'));\n        if (dropRowObject === orderChangeRowObject) {\n            rowObjectDropIndex = rowObjects.indexOf(dropRowObject);\n        }\n        orderChangeRowObjects.push(rowObjects.splice(rowObjects.indexOf(orderChangeRowObject), 1)[0]);\n    }\n    if (isNullOrUndefined(rowObjectDropIndex)) {\n        rowObjectDropIndex = rowObjects.indexOf(dropRowObject);\n        if (args.fromIndex > args.dropIndex) {\n            rowObjects.splice.apply(rowObjects, [rowObjectDropIndex, 0].concat(orderChangeRowObjects));\n        }\n        else {\n            rowObjects.splice.apply(rowObjects, [rowObjectDropIndex + 1, 0].concat(orderChangeRowObjects));\n        }\n    }\n    else {\n        rowObjects.splice.apply(rowObjects, [rowObjectDropIndex, 0].concat(orderChangeRowObjects));\n    }\n    if (!gObj.enableVirtualization && !gObj.infiniteScrollSettings.enableCache) {\n        var record = {};\n        var currentViewData = gObj.getCurrentViewRecords();\n        for (var i = 0, len = tr.length; i < len; i++) {\n            var index = parseInt(tr[parseInt(i.toString(), 10)].getAttribute(literals.ariaRowIndex), 10) - 1;\n            record[parseInt(i.toString(), 10)] = currentViewData[parseInt(index.toString(), 10)];\n        }\n        var rows = gObj.getRows();\n        for (var i = 0, len = tr.length; i < len; i++) {\n            rows[parseInt(i.toString(), 10)] = tr[parseInt(i.toString(), 10)];\n            currentViewData[parseInt(i.toString(), 10)] = record[parseInt(i.toString(), 10)];\n        }\n    }\n    if (gObj.enableInfiniteScrolling && gObj.infiniteScrollSettings.enableCache) {\n        gObj.infiniteScrollModule.resetInfiniteCache(rowObjects);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n    var newArray = gObj.dataToBeUpdated[\"\" + type].concat(changes[\"\" + type]).reduce(function (r, o) {\n        r[o[\"\" + keyField]] = r[o[\"\" + keyField]] === undefined ? o : Object.assign(r[o[\"\" + keyField]], o);\n        return r;\n    }, {});\n    gObj.dataToBeUpdated[\"\" + type] = Object.keys(newArray).map(function (k) { return newArray[\"\" + k]; });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n    if (gObj.enableInfiniteScrolling && (gObj.childGrid || gObj.detailTemplate)) {\n        (gObj).contentModule.rowElements = [].slice.call(gObj.getContentTable().rows)\n            .filter(function (row) { return (row.classList.contains('e-row') || row.classList.contains('e-detailrow'))\n            && !row.classList.contains('e-addedrow'); });\n        return;\n    }\n    (gObj).contentModule.rowElements =\n        [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow):not(.e-cloneproperties .e-row)'));\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n    var cells = row.children;\n    var len = cells.length;\n    var k = 0;\n    for (var i = 0; i < len; i++, k++) {\n        if (i >= start && i < end) {\n            continue;\n        }\n        row.removeChild(row.children[parseInt(k.toString(), 10)]);\n        k--;\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Dialog} dlgObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function resetDialogAppend(gObj, dlgObj) {\n    var element = gObj.createElement('div', { className: 'e-grid-popup', id: gObj.element.id + '_e-popup' });\n    var pos = calculatePosition(gObj.element, 'left', 'Top');\n    if (document.getElementById(gObj.element.id + '_e-popup')) {\n        element = document.getElementById(gObj.element.id + '_e-popup');\n    }\n    element.style.top = pos.top + 'px';\n    element.style.left = pos.left + 'px';\n    element.style.zIndex = (dlgObj.zIndex).toString();\n    element.style.width = dlgObj.element.offsetWidth + 'px';\n    element.appendChild(dlgObj.element);\n    var sbPanel = parentsUntil(gObj.element, 'sb-demo-section') || parentsUntil(gObj.element, 'e-grid-dialog-fixed');\n    if (sbPanel) {\n        var sbPos = calculateRelativeBasedPosition(gObj.element, sbPanel);\n        element.style.top = sbPos.top + 'px';\n        element.style.left = sbPos.left + 'px';\n        sbPanel.insertBefore(element, sbPanel.firstChild);\n    }\n    else {\n        document.body.insertBefore(element, document.body.firstChild);\n    }\n}\n/**\n * @param {Column} column - Defines the column\n * @param {string} uid - Defines the uid\n * @returns {boolean} Returns is child column\n * @hidden\n */\nexport function isChildColumn(column, uid) {\n    var uids = [];\n    uids.push(column.uid);\n    pushuid(column, uids);\n    if (uids.indexOf(uid) > -1) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n/**\n * @param {Column} column - Defines the column\n * @param {string[]} uids - Defines the uid\n * @returns {void}\n * @hidden\n */\nexport function pushuid(column, uids) {\n    for (var i = 0; i < column.columns.length; i++) {\n        if (column.columns[parseInt(i.toString(), 10)].uid) {\n            uids.push(column.columns[parseInt(i.toString(), 10)].uid);\n        }\n        if (column.columns[parseInt(i.toString(), 10)].columns &&\n            column.columns[parseInt(i.toString(), 10)].columns.length) {\n            pushuid(column.columns[parseInt(i.toString(), 10)], uids);\n        }\n    }\n}\n/**\n * @param {Column} column - Defines the column\n * @returns {string} Returns the direction\n * @hidden\n */\nexport function frozenDirection(column) {\n    if (column.columns[0].freeze || column.columns[0].isFrozen) {\n        if (column.columns[0].freeze === 'Left' || column.columns[0].isFrozen) {\n            return 'Left';\n        }\n        else if (column.columns[0].freeze === 'Right') {\n            return 'Right';\n        }\n        else if (column.columns[0].freeze === 'Fixed') {\n            return 'Fixed';\n        }\n        else {\n            return 'None';\n        }\n    }\n    else {\n        if (column.columns[0].columns && column.columns[0].columns.length) {\n            return frozenDirection(column.columns[0]);\n        }\n        else {\n            return 'None';\n        }\n    }\n}\n/**\n * @param {Element} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function addFixedColumnBorder(row) {\n    if (row.querySelector('.e-fixedfreeze')) {\n        var cells = [].slice.call(row.querySelectorAll('.e-filterbarcell:not(.e-hide),.e-summarycell:not(.e-hide),.e-headercell:not(.e-hide),.e-rowcell:not(.e-hide)'));\n        for (var j = 0; j < cells.length; j++) {\n            if (cells[parseInt(j.toString(), 10)].classList.contains('e-fixedfreeze') && (!(cells[j - 1]) ||\n                (cells[j - 1] && !cells[j - 1].classList.contains('e-fixedfreeze')))) {\n                cells[parseInt(j.toString(), 10)].classList.add('e-freezeleftborder');\n            }\n            if (cells[parseInt(j.toString(), 10)].classList.contains('e-fixedfreeze') && (!(cells[j + 1]) ||\n                (cells[j + 1] && !cells[j + 1].classList.contains('e-fixedfreeze')))) {\n                cells[parseInt(j.toString(), 10)].classList.add('e-freezerightborder');\n            }\n        }\n    }\n}\n/**\n * @param {HTMLElement} node - Defines the row\n * @param {number} width - Defines the width\n * @param {boolean} isRtl - Boolean property\n * @param {string} position - Defines the position\n * @returns {void}\n * @hidden\n */\nexport function applyStickyLeftRightPosition(node, width, isRtl, position) {\n    if (position === 'Left') {\n        if (isRtl) {\n            node.style.right = width + 'px';\n        }\n        else {\n            node.style.left = width + 'px';\n        }\n    }\n    if (position === 'Right') {\n        if (isRtl) {\n            node.style.left = width + 'px';\n        }\n        else {\n            node.style.right = width + 'px';\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Column} column - Defines the column\n * @param {Element} node - Defines the Element\n * @param {number} colSpan - Defines the colSpan value\n * @returns {void}\n * @hidden\n */\nexport function resetColandRowSpanStickyPosition(gObj, column, node, colSpan) {\n    var columns = gObj.getColumns();\n    var index = column.index;\n    if (column.freeze === 'Left' && column.border !== 'Left') {\n        var idx = index + (colSpan - 1);\n        while (columns[parseInt(idx.toString(), 10)].visible === false) {\n            idx++;\n        }\n        if (columns[parseInt(idx.toString(), 10)].border === 'Left') {\n            node.classList.add('e-freezeleftborder');\n        }\n    }\n    else if (column.freeze === 'Right' || column.freeze === 'Fixed') {\n        var width = 0;\n        for (var j = index + 1; j < index + colSpan; j++) {\n            if (j === columns.length) {\n                break;\n            }\n            if (columns[parseInt(j.toString(), 10)].visible) {\n                width += parseInt(columns[parseInt(j.toString(), 10)].width.toString(), 10);\n            }\n            else {\n                colSpan++;\n            }\n        }\n        if (gObj.enableRtl) {\n            node.style.left = parseInt(node.style.left, 10) - width + 'px';\n        }\n        else {\n            node.style.right = parseInt(node.style.right, 10) - width + 'px';\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {number} rowIndex - Defines the row index\n * @param {number} colIndex - Defines the colum index\n * @returns {void}\n * @hidden\n */\nexport function getCellFromRow(gObj, rowIndex, colIndex) {\n    var row = (gObj.getRowByIndex(rowIndex));\n    for (var i = 0; i < row.cells.length; i++) {\n        if (parseInt(row.cells[parseInt(i.toString(), 10)].getAttribute('aria-colindex').toString(), 10) - 1 === colIndex) {\n            return row.cells[parseInt(i.toString(), 10)];\n        }\n    }\n    return null;\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @param {Column} column - Defines the column\n * @param {Element} node - Defines the Element\n * @returns {void}\n * @hidden\n */\nexport function addStickyColumnPosition(gObj, column, node) {\n    if (column.freeze === 'Left' || column.isFrozen) {\n        node.classList.add('e-leftfreeze');\n        if (column.border === 'Left') {\n            node.classList.add('e-freezeleftborder');\n        }\n        if (column.index === 0) {\n            applyStickyLeftRightPosition(node, (gObj.getIndentCount() * 30), gObj.enableRtl, 'Left');\n            if (gObj.enableColumnVirtualization) {\n                column.valueX = (gObj.getIndentCount() * 30);\n            }\n        }\n        else {\n            var cols = gObj.getColumns();\n            var width = gObj.getIndentCount() * 30;\n            for (var i = 0; i < cols.length; i++) {\n                if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n                    break;\n                }\n                if (cols[parseInt(i.toString(), 10)].visible) {\n                    width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n                }\n            }\n            applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Left');\n            if (gObj.enableColumnVirtualization) {\n                column.valueX = width;\n            }\n        }\n    }\n    else if (column.freeze === 'Right') {\n        node.classList.add('e-rightfreeze');\n        var cols = gObj.getColumns();\n        if (column.border === 'Right') {\n            node.classList.add('e-freezerightborder');\n        }\n        if (column.index === cols[cols.length - 1].index) {\n            var width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n            applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Right');\n            if (gObj.enableColumnVirtualization) {\n                column.valueX = width;\n            }\n        }\n        else {\n            var width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n            for (var i = cols.length - 1; i >= 0; i--) {\n                if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n                    break;\n                }\n                if (cols[parseInt(i.toString(), 10)].visible) {\n                    width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n                }\n            }\n            applyStickyLeftRightPosition(node, width, gObj.enableRtl, 'Right');\n            if (gObj.enableColumnVirtualization) {\n                column.valueX = width;\n            }\n        }\n    }\n    else if (column.freeze === 'Fixed') {\n        node.classList.add('e-fixedfreeze');\n        var cols = gObj.getColumns();\n        var width = 0;\n        if (gObj.getVisibleFrozenLeftCount()) {\n            width = gObj.getIndentCount() * 30;\n        }\n        else if (gObj.getFrozenMode() === 'Right') {\n            width = gObj.groupSettings.columns.length * 30;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n                break;\n            }\n            if ((cols[parseInt(i.toString(), 10)].freeze === 'Left' || cols[parseInt(i.toString(), 10)].isFrozen) ||\n                cols[parseInt(i.toString(), 10)].freeze === 'Fixed') {\n                if (cols[parseInt(i.toString(), 10)].visible) {\n                    width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n                }\n            }\n        }\n        applyStickyLeftRightPosition(node, (width - 1), gObj.enableRtl, 'Left');\n        width = gObj.getFrozenMode() === 'Right' && gObj.isRowDragable() ? 30 : 0;\n        for (var i = cols.length - 1; i >= 0; i--) {\n            if (column.uid === cols[parseInt(i.toString(), 10)].uid) {\n                break;\n            }\n            if (cols[parseInt(i.toString(), 10)].freeze === 'Right' || cols[parseInt(i.toString(), 10)].freeze === 'Fixed') {\n                if (cols[parseInt(i.toString(), 10)].visible) {\n                    width += parseFloat(cols[parseInt(i.toString(), 10)].width.toString());\n                }\n            }\n        }\n        applyStickyLeftRightPosition(node, (width - 1), gObj.enableRtl, 'Right');\n    }\n    else {\n        node.classList.add('e-unfreeze');\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n    return [].slice.call(gObj.getDataRows()[parseInt(rowIndex.toString(), 10)].getElementsByClassName(literals.rowCell));\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n    return getCellsByTableName(gObj, col, rowIndex)[parseInt(index.toString(), 10)];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n    if (isCustom) {\n        rules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n    else {\n        if (col.getFreezeTableName() === literals.frozenLeft\n            || (!index && col.getFreezeTableName() === literals.frozenRight) || len === 1) {\n            rules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n            mRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === literals.frozenRight) {\n            frRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n    }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @param {string} currencyCode - Specifies the currency code to be used for formatting.\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel, currencyCode) {\n    var format;\n    var intl = new Internationalization();\n    if (type === 'number') {\n        try {\n            format = intl.getNumberPattern({ format: numberFormat, currency: currencyCode, useGrouping: true }, true);\n        }\n        catch (error) {\n            format = numberFormat;\n        }\n    }\n    else if (type === 'date' || type === 'time' || type === 'datetime') {\n        try {\n            format = intl.getDatePattern({ skeleton: numberFormat, type: type }, isExcel);\n            if (isNullOrUndefined(format)) {\n                // eslint-disable-next-line\n                throw 'error';\n            }\n        }\n        catch (error) {\n            try {\n                format = intl.getDatePattern({ format: numberFormat, type: type }, isExcel);\n            }\n            catch (error) {\n                format = numberFormat;\n            }\n        }\n    }\n    else {\n        format = numberFormat;\n    }\n    if (type !== 'number') {\n        var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n        var mtch_1 = { 'G': '', 'H': 'h', 'c': 'd', '\\'': '\"', ' a': ' AM/PM', 'yy': 'yy', 'y': 'yyyy', 'EEEE': 'dddd', 'E': 'ddd' };\n        format = format.replace(patternRegex, function (pattern) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return mtch_1[\"\" + pattern];\n        });\n    }\n    return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n    if (gObj.enableAdaptiveUI) {\n        var dialogs = document.getElementsByClassName('e-responsive-dialog');\n        for (var i = 0; i < dialogs.length; i++) {\n            dialogs[parseInt(i.toString(), 10)].classList.add('e-bigger');\n        }\n    }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n    var returnObj;\n    var length = value.split('.').length;\n    var splits = value.split('.');\n    var duplicateMap = mapObject;\n    for (var i = 0; i < length; i++) {\n        returnObj = duplicateMap[splits[parseInt(i.toString(), 10)]];\n        duplicateMap = returnObj;\n    }\n    return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n    var trs = Object.keys(tr);\n    var actualIndex = idx;\n    for (var i = 0; i < trs.length; i++) {\n        var td = tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)];\n        if (parent && !parent.isFrozenGrid() && !parent.isRowDragable()) {\n            td = (!isNullOrUndefined(td) && (parseInt(td.getAttribute('aria-colindex'), 10) - 1 === idx ||\n                (parentsUntil(td, 'e-addedrow') && td.parentElement.childNodes[parseInt(idx.toString(), 10)] === td)))\n                ? td : tr[parseInt(i.toString(), 10)].querySelector(\"td[aria-colindex=\\\"\" + (idx + 1) + \"\\\"]\");\n            if (isNullOrUndefined(td)) {\n                continue;\n            }\n            else {\n                idx = (parent.getContentTable().querySelector('.e-detailrowcollapse, .e-detailrowexpand')) ?\n                    (td.cellIndex - 1) : td.cellIndex;\n            }\n        }\n        if (tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell').length && td) {\n            setStyleAttribute(tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)], { 'display': displayVal });\n            if (tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)].classList.contains('e-hide')) {\n                removeClass([tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)]], ['e-hide']);\n            }\n            if ((isContent && parent.isRowDragable()) || (parent && parent.isDetail())) {\n                var index = idx + 1;\n                rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(index.toString(), 10)].visible = displayVal === '' ? true : false;\n            }\n            else {\n                if (!isNullOrUndefined(rows[trs[parseInt(i.toString(), 10)]])) {\n                    rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(idx.toString(), 10)].visible = displayVal === '' ? true : false;\n                    if (rows[trs[parseInt(i.toString(), 10)]].cells[parseInt(idx.toString(), 10)].visible === false) {\n                        tr[trs[parseInt(i.toString(), 10)]].querySelectorAll('td.e-rowcell')[parseInt(idx.toString(), 10)].classList.add('e-hide');\n                    }\n                }\n            }\n            idx = actualIndex;\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n    for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n        var inst = evt_1[_i];\n        if (isOn) {\n            parent.on(inst.event, inst.handler, module);\n        }\n        else {\n            parent.off(inst.event, inst.handler);\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n    var complexFieldName = getComplexFieldID(column.field);\n    attr = Object.assign(attr, {\n        id: parent.element.id + complexFieldName,\n        name: complexFieldName, 'e-mappinguid': column.uid\n    });\n    return parent.createElement('input', {\n        className: classNames, attrs: attr\n    });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n    var column;\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.uid === uid) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n    var column;\n    if (!gObj.columnModel) {\n        gObj.getColumns();\n    }\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.field === field) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n    instance.eventHandlers[\"\" + id] = {};\n    for (var i = 0; i < evts.length; i++) {\n        instance.eventHandlers[\"\" + id][evts[parseInt(i.toString(), 10)]] = handlers[evts[parseInt(i.toString(), 10)]];\n    }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n    for (var i = 0; i < evts.length; i++) {\n        if (component.isDestroyed) {\n            break;\n        }\n        component.removeEventListener(evts[parseInt(i.toString(), 10)], instance.eventHandlers[component.element.id][evts[parseInt(i.toString(), 10)]]);\n    }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n    parent.destroyTemplate(templates);\n    if (parent.isReact) {\n        parent.renderTemplates();\n    }\n}\n/**\n *\n * @param { HTMLElement[] } removeElem - Defines checkbox wrapper element\n * @returns {void}\n * @hidden\n */\nexport function infiniteRemoveElements(removeElem) {\n    for (var i = 0; i < removeElem.length; i++) {\n        remove(removeElem[i]);\n    }\n}\n/**\n *\n * @param { HTMLElement[] } appendElem - Defines checkbox wrapper element\n * @param { HTMLElement } ulElement - Defines ul element\n * @returns {void}\n * @hidden\n */\nexport function infiniteAppendElements(appendElem, ulElement) {\n    for (var i = 0; i < appendElem.length; i++) {\n        ulElement.insertBefore(appendElem[i], ulElement.children[i]);\n    }\n}\n/**\n *\n * @param { HTMLElement } element - Defines checkbox wrapper element\n * @param { boolean } isChooser - Defines checkbox filter column chooser\n * @returns { number } list height value\n * @hidden\n */\nexport function getListHeight(element, isChooser) {\n    var listDiv = isChooser ? createElement('li', { className: 'e-cclist' })\n        : createElement('div', { className: 'e-ftrchk' });\n    listDiv.style.visibility = 'hidden';\n    if (isChooser) {\n        listDiv.style.listStyle = 'none';\n    }\n    listDiv.innerHTML = isChooser ? '<div class=\"e-ccheck\"><div class=\"e-checkbox-wrapper\"><span class=\"e-frame e-icons e-check\"></span><span class=\"e-label\">A</span></div></div>' :\n        '<div class=\"e-checkbox-wrapper\"><span class=\"e-frame e-icons e-check\"></span><span class=\"e-label e-checkboxfiltertext\">A</div></span>';\n    element.appendChild(listDiv);\n    var rect = listDiv.getBoundingClientRect();\n    element.removeChild(listDiv);\n    var listHeight = Math.round(rect.height);\n    return listHeight;\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n    return parseInt(row.getAttribute(literals.ariaRowIndex), 10) - 1;\n}\n/**\n *\n * @param { IGrid } grid - Defines grid instance\n * @returns { IGrid } returns parent grid instance\n */\nexport function getParentIns(grid) {\n    return grid.parentDetails && grid.parentDetails.parentInstObj ?\n        getParentIns(grid.parentDetails.parentInstObj) : grid;\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n    var filterCols = [];\n    for (var i = 0; i < fields.length; i++) {\n        var column = instance.parent.getColumnByField(fields[parseInt(i.toString(), 10)]);\n        var value = values[parseInt(i.toString(), 10)] === 'null' ? null : values[parseInt(i.toString(), 10)];\n        var pred = {\n            field: fields[parseInt(i.toString(), 10)], predicate: 'or', uid: column.uid, operator: 'equal', type: column.type,\n            matchCase: instance.allowCaseSensitive, ignoreAccent: instance.parent.filterSettings.ignoreAccent\n        };\n        if (value === '' || isNullOrUndefined(value)) {\n            filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n        }\n        else {\n            filterCols.push(extend({}, { value: value }, pred));\n        }\n    }\n    return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n    var predicateList = [];\n    for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        predicateList.push(pred[\"\" + prop]);\n    }\n    return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n    var fields = [];\n    var keys = [];\n    for (var i = index; i >= 0; i--) {\n        if (rowsObject[parseInt(i.toString(), 10)].isCaptionRow\n            && fields.indexOf(rowsObject[parseInt(i.toString(), 10)].data.field) === -1\n            && (rowsObject[parseInt(i.toString(), 10)].indent < rowsObject[parseInt(index.toString(), 10)].indent || i === index)) {\n            fields.push(rowsObject[parseInt(i.toString(), 10)].data.field);\n            keys.push(rowsObject[parseInt(i.toString(), 10)].data.key);\n            if (rowsObject[parseInt(i.toString(), 10)].indent === 0) {\n                break;\n            }\n        }\n    }\n    return { fields: fields, keys: keys };\n}\n// eslint-disable-next-line\n/**\n *\n * @param { number[][] } checkActiveMatrix - Defines matrix to check\n * @param { number[] } checkCellIndex - Defines index to check\n * @param { boolean } next - Defines select next or previous index\n * @returns { number[] } - Returns next active current index\n */\nexport function findCellIndex(checkActiveMatrix, checkCellIndex, next) {\n    var activeMatrix = checkActiveMatrix;\n    var cellIndex = checkCellIndex;\n    var currentCellIndexPass = false;\n    if (next) {\n        for (var i = cellIndex[0]; i < activeMatrix.length; i++) {\n            var rowCell = activeMatrix[parseInt(i.toString(), 10)];\n            for (var j = 0; j < rowCell.length; j++) {\n                if (currentCellIndexPass && activeMatrix[parseInt(i.toString(), 10)][parseInt(j.toString(), 10)] === 1) {\n                    cellIndex = [i, j];\n                    return cellIndex;\n                }\n                if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n                    currentCellIndexPass = true;\n                }\n            }\n        }\n    }\n    else {\n        for (var i = cellIndex[0]; i >= 0; i--) {\n            var rowCell = activeMatrix[parseInt(i.toString(), 10)];\n            for (var j = rowCell.length - 1; j >= 0; j--) {\n                if (currentCellIndexPass && activeMatrix[parseInt(i.toString(), 10)][parseInt(j.toString(), 10)] === 1) {\n                    cellIndex = [i, j];\n                    return cellIndex;\n                }\n                if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n                    currentCellIndexPass = true;\n                }\n            }\n        }\n    }\n    return cellIndex;\n}\n/**\n *\n * @param { string } string - Defines string need to capitalized first letter\n * @returns { string } - Returns capitalized first letter string\n */\nexport function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n *\n * @param { IGrid } grid - Defines parent instance\n * @returns { boolean } - Returns is virtual\n */\nexport function checkIsVirtual(grid) {\n    return !(isGroupAdaptive(grid) || grid.groupSettings.enableLazyLoading\n        || (!grid.enableVirtualization && grid.enableColumnVirtualization));\n}\n/**\n *\n * @param { number[] } blockes - Defines block indexes\n * @returns { number[] } - Returns is visible page\n */\nexport function getVisiblePage(blockes) {\n    var visiblePage = [];\n    for (var i = 0; i < blockes.length; i++) {\n        var page = Math.ceil(blockes[parseInt(i.toString(), 10)] / 2);\n        if (visiblePage.indexOf(page) === -1) {\n            visiblePage.push(page);\n        }\n    }\n    return visiblePage;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
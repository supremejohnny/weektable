{"ast":null,"code":"import { remove, addClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { doesImplementInterface, setStyleAndAttributes, appendChildren, extendObjWithFn, addStickyColumnPosition } from '../base/util';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { foreignKeyData } from '../base/constant';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * CellRenderer class which responsible for building cell content.\n *\n * @hidden\n */\nvar CellRenderer = /** @class */function () {\n  function CellRenderer(parent, locator) {\n    this.localizer = locator.getService('localization');\n    this.formatter = locator.getService('valueFormatter');\n    this.parent = parent;\n    this.element = this.parent.createElement('TD', {\n      className: literals.rowCell,\n      attrs: {\n        role: 'gridcell',\n        tabindex: '-1'\n      }\n    });\n    this.rowChkBox = this.parent.createElement('input', {\n      className: 'e-checkselect',\n      attrs: {\n        'type': 'checkbox',\n        'aria-label': this.localizer.getConstant('SelectRow')\n      }\n    });\n  }\n  /**\n   * Function to return the wrapper for the TD content\n   *\n   * @returns {string | Element} returns the string\n   */\n  CellRenderer.prototype.getGui = function () {\n    return '';\n  };\n  /**\n   * Function to format the cell value.\n   *\n   * @param  {Column} column - specifies the column\n   * @param  {Object} value - specifies the value\n   * @param  {Object} data - specifies the data\n   * @returns {string} returns the format\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CellRenderer.prototype.format = function (column, value, data) {\n    if (!isNullOrUndefined(column.format)) {\n      if (column.type === 'number' && isNaN(parseInt(value, 10))) {\n        value = null;\n      }\n      if (column.type === 'dateonly' && typeof value === 'string' && value) {\n        var arr = value.split(/[^0-9.]/);\n        value = new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10));\n      }\n      value = this.formatter.toView(value, column.getFormatter());\n    }\n    return isNullOrUndefined(value) ? '' : value.toString();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CellRenderer.prototype.evaluate = function (node, cell, data, attributes, fData, isEdit) {\n    var _a;\n    var result;\n    if (cell.column.template) {\n      var isReactCompiler = this.parent.isReact && typeof cell.column.template !== 'string' && !(cell.column.template.prototype && cell.column.template.prototype.CSPTemplate);\n      var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj && this.parent.parentDetails.parentInstObj.isReact;\n      var isReactPrintGrid = this.parent.printGridParent && this.parent.printGridParent.isReact;\n      var literals_1 = ['index'];\n      var dummyData = extendObjWithFn({}, data, (_a = {}, _a[foreignKeyData] = fData, _a.column = cell.column, _a));\n      var templateID = this.parent.element.id + cell.column.uid;\n      var str = 'isStringTemplate';\n      if (isReactCompiler || isReactChild || isReactPrintGrid) {\n        var copied = {\n          'index': attributes[literals_1[0]]\n        };\n        cell.column.getColumnTemplate()(extend(copied, dummyData), this.parent, 'columnTemplate', templateID, this.parent[\"\" + str], null, node);\n      } else {\n        result = cell.column.getColumnTemplate()(extend({\n          'index': attributes[literals_1[0]]\n        }, dummyData), this.parent, 'template', templateID, this.parent[\"\" + str], undefined, undefined, this.parent['root']);\n      }\n      if (!isReactCompiler && !isReactChild && !isReactPrintGrid) {\n        appendChildren(node, result);\n      }\n      this.parent.notify('template-result', {\n        template: result\n      });\n      result = null;\n      if (cell.column.templateOptions.enableAriaLabel) {\n        node.setAttribute('aria-label', node.innerText + this.localizer.getConstant('TemplateCell') + this.localizer.getConstant('ColumnHeader') + cell.column.headerText);\n      }\n      return false;\n    }\n    return true;\n  };\n  /**\n   * Function to invoke the custom formatter available in the column object.\n   *\n   * @param  {Column} column - specifies the column\n   * @param  {Object} value - specifies the value\n   * @param  {Object} data - specifies the data\n   * @returns {Object} returns the object\n   */\n  CellRenderer.prototype.invokeFormatter = function (column, value, data) {\n    if (!isNullOrUndefined(column.formatter)) {\n      if (doesImplementInterface(column.formatter, 'getValue')) {\n        var formatter = column.formatter;\n        value = new formatter().getValue(column, data);\n      } else if (typeof column.formatter === 'function') {\n        value = column.formatter(column, data);\n      } else {\n        value = column.formatter.getValue(column, data);\n      }\n    }\n    return value;\n  };\n  /**\n   * Function to render the cell content based on Column object.\n   *\n   * @param {Cell<Column>} cell - specifies the cell\n   * @param {Object} data - specifies the data\n   * @param {Object} attributes - specifies the attributes\n   * @param {boolean} isExpand - specifies the boolean for expand\n   * @param {boolean} isEdit - specifies the boolean for edit\n   * @returns {Element} returns the element\n   */\n  CellRenderer.prototype.render = function (cell, data, attributes, isExpand, isEdit) {\n    return this.refreshCell(cell, data, attributes, isEdit);\n  };\n  /**\n   * Function to refresh the cell content based on Column object.\n   *\n   * @param {Element} td - specifies the element\n   * @param {Cell<Column>} cell - specifies the cell\n   * @param {Object} data - specifies the data\n   * @param {Object} attributes - specifies the attribute\n   * @returns {void}\n   */\n  CellRenderer.prototype.refreshTD = function (td, cell, data, attributes) {\n    var isEdit = this.parent.editSettings.mode === 'Batch' && td.classList.contains('e-editedbatchcell');\n    if (this.parent.isReact) {\n      var cellIndex = td.cellIndex;\n      var parentRow = td.parentElement;\n      remove(td);\n      var newTD = this.refreshCell(cell, data, attributes, isEdit);\n      this.cloneAttributes(newTD, td);\n      if (parentRow.cells.length !== cellIndex - 1) {\n        parentRow.insertBefore(newTD, parentRow.cells[parseInt(cellIndex.toString(), 10)]);\n      } else {\n        parentRow.appendChild(newTD);\n      }\n    } else {\n      var node = this.refreshCell(cell, data, attributes, isEdit);\n      td.innerHTML = '';\n      var arialabelText = node.getAttribute('aria-label');\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      arialabelText ? td.setAttribute('aria-label', arialabelText) : null;\n      var elements = [].slice.call(node.childNodes);\n      for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n        var elem = elements_1[_i];\n        td.appendChild(elem);\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CellRenderer.prototype.cloneAttributes = function (target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var attrs = source.attributes;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var i = attrs.length;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var attr;\n    while (i--) {\n      attr = attrs[parseInt(i.toString(), 10)];\n      target.setAttribute(attr.name, attr.value);\n    }\n  };\n  CellRenderer.prototype.refreshCell = function (cell, data, attributes, isEdit) {\n    var _a;\n    var node = this.element.cloneNode();\n    var column = cell.column;\n    var fData;\n    if (cell.isForeignKey) {\n      fData = cell.foreignKeyData[0] || (_a = {}, _a[column.foreignKeyValue] = column.format ? null : '', _a);\n    }\n    //Prepare innerHtml\n    var innerHtml = this.getGui();\n    var value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) : this.getValue(column.field, data, column);\n    if ((column.type === 'date' || column.type === 'datetime') && !isNullOrUndefined(value)) {\n      value = new Date(value);\n    }\n    if (column.type === 'dateonly' && !isNullOrUndefined(value) && typeof value === 'string') {\n      var arr = value.split(/[^0-9.]/);\n      value = new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10));\n    }\n    value = this.format(column, value, data);\n    innerHtml = value.toString();\n    if (column.type === 'boolean' && !column.displayAsCheckBox) {\n      var localeStr = value !== 'true' && value !== 'false' ? null : value === 'true' ? 'True' : 'False';\n      innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;\n    }\n    var fromFormatter = this.invokeFormatter(column, value, data);\n    innerHtml = !isNullOrUndefined(column.formatter) ? isNullOrUndefined(fromFormatter) ? '' : fromFormatter.toString() : innerHtml;\n    if (this.evaluate(node, cell, data, attributes, fData, isEdit) && column.type !== 'checkbox') {\n      this.appendHtml(node, this.parent.sanitize(innerHtml), column.getDomSetter ? column.getDomSetter() : 'innerHTML');\n    } else if (column.type === 'checkbox') {\n      node.classList.add(literals.gridChkBox);\n      if (this.parent.selectionSettings.persistSelection) {\n        value = value === 'true';\n      } else {\n        value = false;\n      }\n      var checkWrap = createCheckBox(this.parent.createElement, false, {\n        checked: value,\n        label: ' '\n      });\n      if (this.parent.cssClass) {\n        addClass([checkWrap], [this.parent.cssClass]);\n      }\n      this.rowChkBox.id = 'checkbox-' + cell.rowID;\n      checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild);\n      node.appendChild(checkWrap);\n    }\n    if (this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n      cell.isSelected = true;\n    }\n    this.setAttributes(node, cell, attributes);\n    if (column.type === 'boolean' && column.displayAsCheckBox) {\n      var checked = isNaN(parseInt(value.toString(), 10)) ? value === 'true' : parseInt(value.toString(), 10) > 0;\n      var checkWrap = createCheckBox(this.parent.createElement, false, {\n        checked: checked,\n        label: ' '\n      });\n      node.innerHTML = '';\n      node.classList.add('e-gridchkbox-cell');\n      checkWrap.classList.add('e-checkbox-disabled');\n      if (this.parent.cssClass) {\n        addClass([checkWrap], [this.parent.cssClass]);\n      }\n      node.appendChild(checkWrap);\n    }\n    if (node.classList.contains('e-summarycell') && !data.key) {\n      var uid = node.getAttribute('e-mappinguid');\n      column = this.parent.getColumnByUid(uid);\n      node.setAttribute('aria-label', innerHtml + this.localizer.getConstant('ColumnHeader') + cell.column.headerText);\n    }\n    if (this.parent.isFrozenGrid() && (!data || data && !data.key)) {\n      addStickyColumnPosition(this.parent, column, node);\n    }\n    return node;\n  };\n  /**\n   * Function to specifies how the result content to be placed in the cell.\n   *\n   * @param {Element} node - specifies the node\n   * @param {string|Element} innerHtml - specifies the innerHTML\n   * @param {string} property - specifies the element\n   * @returns {Element} returns the element\n   */\n  CellRenderer.prototype.appendHtml = function (node, innerHtml, property) {\n    if (property === void 0) {\n      property = 'innerHTML';\n    }\n    node[\"\" + property] = innerHtml;\n    return node;\n  };\n  /**\n   * @param {HTMLElement} node - specifies the node\n   * @param {cell<Column>} cell - specifies the cell\n   * @param {Object} attributes - specifies the attributes\n   * @returns {void}\n   * @hidden\n   */\n  CellRenderer.prototype.setAttributes = function (node, cell, attributes) {\n    var column = cell.column;\n    this.buildAttributeFromCell(node, cell, column.type === 'checkbox');\n    setStyleAndAttributes(node, attributes);\n    setStyleAndAttributes(node, cell.attributes);\n    if (column.customAttributes) {\n      setStyleAndAttributes(node, column.customAttributes);\n    }\n    if (this.parent.rowRenderingMode === 'Vertical') {\n      setStyleAndAttributes(node, {\n        'data-cell': column.headerText\n      });\n    }\n    if (column.textAlign) {\n      var alignmentClassMap = {\n        right: 'e-rightalign',\n        left: 'e-leftalign',\n        center: 'e-centeralign',\n        justify: 'e-justifyalign'\n      };\n      if (alignmentClassMap[column.textAlign.toLowerCase()]) {\n        node.classList.add(alignmentClassMap[column.textAlign.toLowerCase()]);\n      }\n    }\n    if (column.clipMode === 'Clip' || !column.clipMode && this.parent.clipMode === 'Clip') {\n      node.classList.add('e-gridclip');\n    } else if (column.clipMode === 'EllipsisWithTooltip' || !column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip' && !(this.parent.allowTextWrap && (this.parent.textWrapSettings.wrapMode === 'Content' || this.parent.textWrapSettings.wrapMode === 'Both'))) {\n      if (column.type !== 'checkbox') {\n        node.classList.add('e-ellipsistooltip');\n      }\n    }\n  };\n  CellRenderer.prototype.buildAttributeFromCell = function (node, cell, isCheckBoxType) {\n    var attr = {};\n    var classes = [];\n    if (cell.colSpan) {\n      attr.colSpan = cell.colSpan;\n    }\n    if (cell.rowSpan) {\n      attr.rowSpan = cell.rowSpan;\n    }\n    if (cell.isTemplate) {\n      classes.push('e-templatecell');\n    }\n    if (cell.isSelected) {\n      classes.push.apply(classes, ['e-selectionbackground', 'e-active']);\n      if (isCheckBoxType) {\n        node.querySelector('.e-frame').classList.add('e-check');\n      }\n    }\n    if (cell.isColumnSelected) {\n      classes.push.apply(classes, ['e-columnselection']);\n    }\n    if (cell.cellType === CellType.Header) {\n      attr[literals.ariaColIndex] = cell.colIndex + 1;\n    } else if (!isNullOrUndefined(cell.index)) {\n      attr[literals.ariaColIndex] = cell.index + 1;\n    }\n    if (!cell.visible) {\n      classes.push('e-hide');\n    }\n    attr.class = classes;\n    setStyleAndAttributes(node, attr);\n  };\n  CellRenderer.prototype.getValue = function (field, data, column) {\n    return column.valueAccessor(field, data, column);\n  };\n  return CellRenderer;\n}();\nexport { CellRenderer };","map":{"version":3,"names":["remove","addClass","isNullOrUndefined","extend","doesImplementInterface","setStyleAndAttributes","appendChildren","extendObjWithFn","addStickyColumnPosition","createCheckBox","foreignKeyData","CellType","literals","CellRenderer","parent","locator","localizer","getService","formatter","element","createElement","className","rowCell","attrs","role","tabindex","rowChkBox","getConstant","prototype","getGui","format","column","value","data","type","isNaN","parseInt","arr","split","Date","toView","getFormatter","toString","evaluate","node","cell","attributes","fData","isEdit","_a","result","template","isReactCompiler","isReact","CSPTemplate","isReactChild","parentDetails","parentInstObj","isReactPrintGrid","printGridParent","literals_1","dummyData","templateID","id","uid","str","copied","getColumnTemplate","undefined","notify","templateOptions","enableAriaLabel","setAttribute","innerText","headerText","invokeFormatter","getValue","render","isExpand","refreshCell","refreshTD","td","editSettings","mode","classList","contains","cellIndex","parentRow","parentElement","newTD","cloneAttributes","cells","length","insertBefore","appendChild","innerHTML","arialabelText","getAttribute","elements","slice","call","childNodes","_i","elements_1","elem","target","source","i","attr","name","cloneNode","isForeignKey","foreignKeyValue","innerHtml","field","displayAsCheckBox","localeStr","fromFormatter","appendHtml","sanitize","getDomSetter","add","gridChkBox","selectionSettings","persistSelection","checkWrap","checked","label","cssClass","rowID","firstChild","checkAllRows","enableVirtualization","isSelected","setAttributes","key","getColumnByUid","isFrozenGrid","property","buildAttributeFromCell","customAttributes","rowRenderingMode","textAlign","alignmentClassMap","right","left","center","justify","toLowerCase","clipMode","allowTextWrap","textWrapSettings","wrapMode","isCheckBoxType","classes","colSpan","rowSpan","isTemplate","push","apply","querySelector","isColumnSelected","cellType","Header","ariaColIndex","colIndex","index","visible","class","valueAccessor"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-renderer.js"],"sourcesContent":["import { remove, addClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { doesImplementInterface, setStyleAndAttributes, appendChildren, extendObjWithFn, addStickyColumnPosition } from '../base/util';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { foreignKeyData } from '../base/constant';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * CellRenderer class which responsible for building cell content.\n *\n * @hidden\n */\nvar CellRenderer = /** @class */ (function () {\n    function CellRenderer(parent, locator) {\n        this.localizer = locator.getService('localization');\n        this.formatter = locator.getService('valueFormatter');\n        this.parent = parent;\n        this.element = this.parent.createElement('TD', { className: literals.rowCell, attrs: { role: 'gridcell', tabindex: '-1' } });\n        this.rowChkBox = this.parent.createElement('input', { className: 'e-checkselect', attrs: { 'type': 'checkbox', 'aria-label': this.localizer.getConstant('SelectRow') } });\n    }\n    /**\n     * Function to return the wrapper for the TD content\n     *\n     * @returns {string | Element} returns the string\n     */\n    CellRenderer.prototype.getGui = function () {\n        return '';\n    };\n    /**\n     * Function to format the cell value.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {string} returns the format\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.format = function (column, value, data) {\n        if (!isNullOrUndefined(column.format)) {\n            if (column.type === 'number' && isNaN(parseInt(value, 10))) {\n                value = null;\n            }\n            if (column.type === 'dateonly' && typeof value === 'string' && value) {\n                var arr = value.split(/[^0-9.]/);\n                value = new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10));\n            }\n            value = this.formatter.toView(value, column.getFormatter());\n        }\n        return isNullOrUndefined(value) ? '' : value.toString();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.evaluate = function (node, cell, data, attributes, fData, isEdit) {\n        var _a;\n        var result;\n        if (cell.column.template) {\n            var isReactCompiler = this.parent.isReact && typeof (cell.column.template) !== 'string' && !(cell.column.template.prototype && cell.column.template.prototype.CSPTemplate);\n            var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj &&\n                this.parent.parentDetails.parentInstObj.isReact;\n            var isReactPrintGrid = this.parent.printGridParent && this.parent.printGridParent.isReact;\n            var literals_1 = ['index'];\n            var dummyData = extendObjWithFn({}, data, (_a = {}, _a[foreignKeyData] = fData, _a.column = cell.column, _a));\n            var templateID = this.parent.element.id + cell.column.uid;\n            var str = 'isStringTemplate';\n            if (isReactCompiler || isReactChild || isReactPrintGrid) {\n                var copied = { 'index': attributes[literals_1[0]] };\n                cell.column.getColumnTemplate()(extend(copied, dummyData), this.parent, 'columnTemplate', templateID, this.parent[\"\" + str], null, node);\n            }\n            else {\n                result = cell.column.getColumnTemplate()(extend({ 'index': attributes[literals_1[0]] }, dummyData), this.parent, 'template', templateID, this.parent[\"\" + str], undefined, undefined, this.parent['root']);\n            }\n            if (!isReactCompiler && !isReactChild && !isReactPrintGrid) {\n                appendChildren(node, result);\n            }\n            this.parent.notify('template-result', { template: result });\n            result = null;\n            if (cell.column.templateOptions.enableAriaLabel) {\n                node.setAttribute('aria-label', node.innerText + this.localizer.getConstant('TemplateCell') +\n                    this.localizer.getConstant('ColumnHeader') + cell.column.headerText);\n            }\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Function to invoke the custom formatter available in the column object.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {Object} returns the object\n     */\n    CellRenderer.prototype.invokeFormatter = function (column, value, data) {\n        if (!isNullOrUndefined(column.formatter)) {\n            if (doesImplementInterface(column.formatter, 'getValue')) {\n                var formatter = column.formatter;\n                value = new formatter().getValue(column, data);\n            }\n            else if (typeof column.formatter === 'function') {\n                value = column.formatter(column, data);\n            }\n            else {\n                value = column.formatter.getValue(column, data);\n            }\n        }\n        return value;\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @param {boolean} isExpand - specifies the boolean for expand\n     * @param {boolean} isEdit - specifies the boolean for edit\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.render = function (cell, data, attributes, isExpand, isEdit) {\n        return this.refreshCell(cell, data, attributes, isEdit);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param {Element} td - specifies the element\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attribute\n     * @returns {void}\n     */\n    CellRenderer.prototype.refreshTD = function (td, cell, data, attributes) {\n        var isEdit = this.parent.editSettings.mode === 'Batch' && td.classList.contains('e-editedbatchcell');\n        if (this.parent.isReact) {\n            var cellIndex = td.cellIndex;\n            var parentRow = td.parentElement;\n            remove(td);\n            var newTD = this.refreshCell(cell, data, attributes, isEdit);\n            this.cloneAttributes(newTD, td);\n            if (parentRow.cells.length !== cellIndex - 1) {\n                parentRow.insertBefore(newTD, parentRow.cells[parseInt(cellIndex.toString(), 10)]);\n            }\n            else {\n                parentRow.appendChild(newTD);\n            }\n        }\n        else {\n            var node = this.refreshCell(cell, data, attributes, isEdit);\n            td.innerHTML = '';\n            var arialabelText = node.getAttribute('aria-label');\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            arialabelText ? td.setAttribute('aria-label', arialabelText) : null;\n            var elements = [].slice.call(node.childNodes);\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                td.appendChild(elem);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CellRenderer.prototype.cloneAttributes = function (target, source) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attrs = source.attributes;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var i = attrs.length;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attr;\n        while (i--) {\n            attr = attrs[parseInt(i.toString(), 10)];\n            target.setAttribute(attr.name, attr.value);\n        }\n    };\n    CellRenderer.prototype.refreshCell = function (cell, data, attributes, isEdit) {\n        var _a;\n        var node = this.element.cloneNode();\n        var column = cell.column;\n        var fData;\n        if (cell.isForeignKey) {\n            fData = cell.foreignKeyData[0] || (_a = {}, _a[column.foreignKeyValue] = column.format ? null : '', _a);\n        }\n        //Prepare innerHtml\n        var innerHtml = this.getGui();\n        var value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) :\n            this.getValue(column.field, data, column);\n        if ((column.type === 'date' || column.type === 'datetime') && !isNullOrUndefined(value)) {\n            value = new Date(value);\n        }\n        if (column.type === 'dateonly' && !isNullOrUndefined(value) && typeof value === 'string') {\n            var arr = value.split(/[^0-9.]/);\n            value = new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10));\n        }\n        value = this.format(column, value, data);\n        innerHtml = value.toString();\n        if (column.type === 'boolean' && !column.displayAsCheckBox) {\n            var localeStr = (value !== 'true' && value !== 'false') ? null : value === 'true' ? 'True' : 'False';\n            innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;\n        }\n        var fromFormatter = this.invokeFormatter(column, value, data);\n        innerHtml = !isNullOrUndefined(column.formatter) ? isNullOrUndefined(fromFormatter) ? '' : fromFormatter.toString() : innerHtml;\n        if (this.evaluate(node, cell, data, attributes, fData, isEdit) && column.type !== 'checkbox') {\n            this.appendHtml(node, this.parent.sanitize(innerHtml), column.getDomSetter ? column.getDomSetter() : 'innerHTML');\n        }\n        else if (column.type === 'checkbox') {\n            node.classList.add(literals.gridChkBox);\n            if (this.parent.selectionSettings.persistSelection) {\n                value = value === 'true';\n            }\n            else {\n                value = false;\n            }\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: value, label: ' ' });\n            if (this.parent.cssClass) {\n                addClass([checkWrap], [this.parent.cssClass]);\n            }\n            this.rowChkBox.id = 'checkbox-' + cell.rowID;\n            checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild);\n            node.appendChild(checkWrap);\n        }\n        if (this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            cell.isSelected = true;\n        }\n        this.setAttributes(node, cell, attributes);\n        if (column.type === 'boolean' && column.displayAsCheckBox) {\n            var checked = isNaN(parseInt(value.toString(), 10)) ? value === 'true' : parseInt(value.toString(), 10) > 0;\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: checked, label: ' ' });\n            node.innerHTML = '';\n            node.classList.add('e-gridchkbox-cell');\n            checkWrap.classList.add('e-checkbox-disabled');\n            if (this.parent.cssClass) {\n                addClass([checkWrap], [this.parent.cssClass]);\n            }\n            node.appendChild(checkWrap);\n        }\n        if (node.classList.contains('e-summarycell') && !data.key) {\n            var uid = node.getAttribute('e-mappinguid');\n            column = this.parent.getColumnByUid(uid);\n            node.setAttribute('aria-label', innerHtml + this.localizer.getConstant('ColumnHeader') + cell.column.headerText);\n        }\n        if (this.parent.isFrozenGrid() && (!data || (data && !data.key))) {\n            addStickyColumnPosition(this.parent, column, node);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @param {string} property - specifies the element\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.appendHtml = function (node, innerHtml, property) {\n        if (property === void 0) { property = 'innerHTML'; }\n        node[\"\" + property] = innerHtml;\n        return node;\n    };\n    /**\n     * @param {HTMLElement} node - specifies the node\n     * @param {cell<Column>} cell - specifies the cell\n     * @param {Object} attributes - specifies the attributes\n     * @returns {void}\n     * @hidden\n     */\n    CellRenderer.prototype.setAttributes = function (node, cell, attributes) {\n        var column = cell.column;\n        this.buildAttributeFromCell(node, cell, column.type === 'checkbox');\n        setStyleAndAttributes(node, attributes);\n        setStyleAndAttributes(node, cell.attributes);\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            setStyleAndAttributes(node, { 'data-cell': column.headerText });\n        }\n        if (column.textAlign) {\n            var alignmentClassMap = { right: 'e-rightalign', left: 'e-leftalign', center: 'e-centeralign', justify: 'e-justifyalign' };\n            if (alignmentClassMap[column.textAlign.toLowerCase()]) {\n                node.classList.add(alignmentClassMap[column.textAlign.toLowerCase()]);\n            }\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')\n            && !(this.parent.allowTextWrap && (this.parent.textWrapSettings.wrapMode === 'Content'\n                || this.parent.textWrapSettings.wrapMode === 'Both'))) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n    };\n    CellRenderer.prototype.buildAttributeFromCell = function (node, cell, isCheckBoxType) {\n        var attr = {};\n        var classes = [];\n        if (cell.colSpan) {\n            attr.colSpan = cell.colSpan;\n        }\n        if (cell.rowSpan) {\n            attr.rowSpan = cell.rowSpan;\n        }\n        if (cell.isTemplate) {\n            classes.push('e-templatecell');\n        }\n        if (cell.isSelected) {\n            classes.push.apply(classes, ['e-selectionbackground', 'e-active']);\n            if (isCheckBoxType) {\n                node.querySelector('.e-frame').classList.add('e-check');\n            }\n        }\n        if (cell.isColumnSelected) {\n            classes.push.apply(classes, ['e-columnselection']);\n        }\n        if (cell.cellType === CellType.Header) {\n            attr[literals.ariaColIndex] = cell.colIndex + 1;\n        }\n        else if (!isNullOrUndefined(cell.index)) {\n            attr[literals.ariaColIndex] = cell.index + 1;\n        }\n        if (!cell.visible) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(node, attr);\n    };\n    CellRenderer.prototype.getValue = function (field, data, column) {\n        return column.valueAccessor(field, data, column);\n    };\n    return CellRenderer;\n}());\nexport { CellRenderer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
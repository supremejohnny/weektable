{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable prefer-spread */\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Deferred } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup, isCollide } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n  default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b', '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7', '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4', '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d', '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176', '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58', '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835', '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d', '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825', '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */function (_super) {\n  __extends(ColorPicker, _super);\n  function ColorPicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.recentColors = [];\n    return _this;\n  }\n  ColorPicker.prototype.preRender = function () {\n    var ele = this.element;\n    this.formElement = closest(this.element, 'form');\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n    var localeText = {\n      Apply: 'Apply',\n      Cancel: 'Cancel',\n      ModeSwitcher: 'Switch Mode',\n      RecentColors: 'Recent colors'\n    };\n    this.l10n = new L10n('colorpicker', localeText, this.locale);\n    if (ele.getAttribute('ejs-for') && !ele.getAttribute('name')) {\n      ele.setAttribute('name', ele.id);\n    }\n  };\n  /**\n   * To Initialize the component rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  ColorPicker.prototype.render = function () {\n    this.initWrapper();\n    if (this.inline) {\n      this.createWidget();\n    } else {\n      this.createSplitBtn();\n    }\n    if (!this.enableOpacity) {\n      addClass([this.container.parentElement], HIDEOPACITY);\n    }\n    this.renderComplete();\n  };\n  ColorPicker.prototype.initWrapper = function () {\n    var wrapper = this.createElement('div', {\n      className: 'e-' + this.getModuleName() + '-wrapper'\n    });\n    this.element.parentNode.insertBefore(wrapper, this.element);\n    wrapper.appendChild(this.element);\n    attributes(this.element, {\n      'tabindex': '-1',\n      'spellcheck': 'false',\n      'aria-label': 'colorpicker'\n    });\n    this.container = this.createElement('div', {\n      className: CONTAINER\n    });\n    this.getWrapper().appendChild(this.container);\n    var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n    if (this.noColor && this.mode === 'Palette' && this.value === '') {\n      value = '';\n    }\n    var slicedValue = value.slice(0, 7);\n    if (isNullOrUndefined(this.initialInputValue)) {\n      this.initialInputValue = slicedValue;\n    }\n    this.element.value = slicedValue;\n    if (this.enableOpacity) {\n      this.setProperties({\n        'value': value\n      }, true);\n    } else {\n      this.setProperties({\n        'value': slicedValue\n      }, true);\n    }\n    if (this.enableRtl) {\n      wrapper.classList.add(RTL);\n    }\n    if (this.cssClass) {\n      addClass([wrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n    this.tileRipple = rippleEffect(this.container, {\n      selector: '.' + TILE\n    });\n    this.ctrlBtnRipple = rippleEffect(this.container, {\n      selector: '.e-btn'\n    });\n  };\n  ColorPicker.prototype.getWrapper = function () {\n    return this.element.parentElement;\n  };\n  ColorPicker.prototype.createWidget = function () {\n    if (this.mode === 'Palette') {\n      this.createPalette();\n      if (!this.inline) {\n        this.firstPaletteFocus();\n      }\n    } else {\n      this.createPicker();\n      if (!this.inline) {\n        this.getDragHandler().focus();\n      }\n    }\n    this.isRgb = true;\n    this.createInput();\n    this.createCtrlBtn();\n    if (!this.disabled) {\n      this.wireEvents();\n    }\n    if (this.inline && this.disabled) {\n      this.toggleDisabled(true);\n    }\n    if (Browser.isDevice) {\n      this.refreshPopupPos();\n    }\n  };\n  ColorPicker.prototype.createSplitBtn = function () {\n    var _this = this;\n    var splitButton = this.createElement('button', {\n      className: 'e-split-colorpicker'\n    });\n    this.getWrapper().appendChild(splitButton);\n    this.splitBtn = new SplitButton({\n      iconCss: 'e-selected-color',\n      target: this.container,\n      disabled: this.disabled,\n      enableRtl: this.enableRtl,\n      createPopupOnClick: this.createPopupOnClick,\n      open: this.onOpen.bind(this),\n      click: function () {\n        var ev = new MouseEvent('click', {\n          bubbles: true,\n          cancelable: false\n        });\n        _this.trigger('change', {\n          currentValue: {\n            hex: _this.value.slice(0, 7),\n            rgba: _this.convertToRgbString(_this.hexToRgb(_this.value))\n          },\n          previousValue: {\n            hex: null,\n            rgba: null\n          },\n          value: _this.value,\n          event: ev\n        });\n      }\n    });\n    this.splitBtn.createElement = this.createElement;\n    this.splitBtn.appendTo(splitButton);\n    this.splitBtn.element.setAttribute('aria-label', 'colorpicker');\n    var preview = this.createElement('span', {\n      className: SPLITPREVIEW\n    });\n    select('.e-selected-color', splitButton).appendChild(preview);\n    preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n    var popupEle = this.getPopupEle();\n    addClass([popupEle], 'e-colorpicker-popup');\n    if (this.cssClass) {\n      addClass([popupEle], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n    if (Browser.isDevice && !this.createPopupOnClick) {\n      var popupInst = this.getPopupInst();\n      popupInst.relateTo = document.body;\n      popupInst.position = {\n        X: 'center',\n        Y: 'center'\n      };\n      popupInst.targetType = 'container';\n      popupInst.collision = {\n        X: 'fit',\n        Y: 'fit'\n      };\n      popupInst.offsetY = 4;\n      popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n    }\n    this.bindCallBackEvent();\n  };\n  ColorPicker.prototype.onOpen = function () {\n    this.trigger('open', {\n      element: this.container\n    });\n    if (!Browser.isDevice) {\n      var popupInst = this.getPopupInst();\n      var collision = isCollide(popupInst.element);\n      if (collision.length > 0) {\n        popupInst.collision = {\n          X: 'flip',\n          Y: 'fit'\n        };\n        popupInst.position = {\n          X: 'right',\n          Y: 'bottom'\n        };\n        popupInst.targetType = 'container';\n      }\n    }\n  };\n  ColorPicker.prototype.getPopupInst = function () {\n    return getInstance(this.getPopupEle(), Popup);\n  };\n  ColorPicker.prototype.bindCallBackEvent = function () {\n    var _this = this;\n    this.splitBtn.beforeOpen = function (args) {\n      var callBackPromise = new Deferred();\n      _this.trigger('beforeOpen', args, function (observeOpenArgs) {\n        if (!observeOpenArgs.cancel) {\n          var popupEle = _this.getPopupEle();\n          popupEle.style.top = formatUnit(0 + pageYOffset);\n          popupEle.style.left = formatUnit(0 + pageXOffset);\n          popupEle.style.display = 'block';\n          _this.createWidget();\n          popupEle.style.display = '';\n          if (Browser.isDevice) {\n            if (_this.createPopupOnClick) {\n              var popupInst = _this.getPopupInst();\n              popupInst.relateTo = document.body;\n              popupInst.position = {\n                X: 'center',\n                Y: 'center'\n              };\n              popupInst.targetType = 'container';\n              popupInst.collision = {\n                X: 'fit',\n                Y: 'fit'\n              };\n              popupInst.offsetY = 4;\n              popupEle.style.zIndex = getZindexPartial(_this.splitBtn.element).toString();\n            }\n            _this.modal = _this.createElement('div');\n            _this.modal.className = 'e-' + _this.getModuleName() + ' e-modal';\n            _this.modal.style.display = 'none';\n            document.body.insertBefore(_this.modal, popupEle);\n            document.body.className += ' e-colorpicker-overflow';\n            _this.modal.style.display = 'block';\n            _this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n          }\n        }\n        args.cancel = observeOpenArgs.cancel;\n        callBackPromise.resolve(observeOpenArgs);\n      });\n      return callBackPromise;\n    };\n    this.splitBtn.beforeClose = function (args) {\n      var callBackPromise = new Deferred();\n      if (!isNullOrUndefined(args.event)) {\n        var beforeCloseArgs = {\n          element: _this.container,\n          event: args.event,\n          cancel: false\n        };\n        _this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n          if (Browser.isDevice && args.event.target === _this.modal) {\n            observedCloseArgs.cancel = true;\n          }\n          if (!observedCloseArgs.cancel) {\n            _this.onPopupClose();\n            if (args.event.type === 'keydown' && args.event.keyCode === 27) {\n              _this.splitBtn.element.focus();\n            }\n          }\n          args.cancel = observedCloseArgs.cancel;\n          callBackPromise.resolve(observedCloseArgs);\n        });\n      } else {\n        callBackPromise.resolve(args);\n      }\n      return callBackPromise;\n    };\n  };\n  ColorPicker.prototype.onPopupClose = function () {\n    this.unWireEvents();\n    this.destroyOtherComp();\n    this.container.style.width = '';\n    select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n    this.container.innerHTML = '';\n    removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n    if (Browser.isDevice && this.modal) {\n      removeClass([document.body], 'e-colorpicker-overflow');\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n  };\n  ColorPicker.prototype.createPalette = function () {\n    classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n    if (this.presetColors) {\n      var paletteGroup = this.createElement('div', {\n        className: 'e-custom-palette'\n      });\n      this.appendElement(paletteGroup);\n      var keys = Object.keys(this.presetColors);\n      if (keys.length === 1) {\n        this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n      } else {\n        for (var i = 0, len = keys.length; i < len; i++) {\n          this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n        }\n      }\n      if (selectAll('.e-row', paletteGroup).length > 10) {\n        addClass([paletteGroup], 'e-palette-group');\n      }\n    } else {\n      this.appendPalette(presets.default, 'default');\n    }\n    if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n      this.setNoColor();\n    }\n    if (this.showRecentColors && this.recentColors && this.recentColors.length > 0) {\n      this.renderRecentColor();\n    }\n    var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n    this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n    this.rgb = this.hexToRgb(this.roundValue(this.value));\n    this.hsv = this.rgbToHsv.apply(this, this.rgb);\n  };\n  ColorPicker.prototype.renderRecentColor = function () {\n    var _this = this;\n    var recentClrWpr = this.container.querySelector('.e-clr-pal-rec-wpr');\n    if (recentClrWpr) {\n      detach(recentClrWpr);\n    }\n    var recentColorWrapper = this.createElement('div', {\n      className: 'e-clr-pal-rec-wpr'\n    });\n    var refEle = this.container.querySelector('.e-switch-ctrl-btn');\n    if (refEle) {\n      this.container.insertBefore(recentColorWrapper, refEle);\n    } else {\n      this.container.appendChild(recentColorWrapper);\n    }\n    var recentClrSpan = this.createElement('label', {\n      className: 'e-recent-clr-span'\n    });\n    recentClrSpan.textContent = this.l10n.getConstant('RecentColors');\n    recentColorWrapper.appendChild(recentClrSpan);\n    if (this.recentColors.length > 0) {\n      this.recentColors = this.recentColors.filter(function (item, index) {\n        return _this.recentColors.indexOf(item) === index;\n      });\n      while (this.recentColors.length > 10) {\n        this.recentColors.pop();\n      }\n      this.appendPalette(this.recentColors, 'recent-color', recentColorWrapper);\n    }\n  };\n  ColorPicker.prototype.firstPaletteFocus = function () {\n    if (!select('.' + SELECT, this.container.children[0])) {\n      selectAll('.' + PALETTES, this.container)[0].focus();\n    }\n  };\n  ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n    var palette = this.createElement('div', {\n      className: PALETTES,\n      attrs: {\n        'tabindex': '0',\n        'role': 'grid'\n      }\n    });\n    if (key === 'recent-color') {\n      palette.classList.add('e-recent-palette');\n    }\n    if (refEle) {\n      refEle.appendChild(palette);\n    } else {\n      this.appendElement(palette);\n    }\n    var row;\n    var tile;\n    var roundedColor;\n    for (var i = 0, len = colors.length; i < len; i++) {\n      if (i === 0 || i % this.columns === 0) {\n        row = this.createElement('div', {\n          className: 'e-row',\n          attrs: {\n            'role': 'row'\n          }\n        });\n        palette.appendChild(row);\n      }\n      roundedColor = this.roundValue(colors[i]).toLowerCase();\n      tile = this.createElement('span', {\n        className: TILE,\n        attrs: {\n          'role': 'gridcell',\n          'aria-label': roundedColor,\n          'aria-selected': 'false'\n        }\n      });\n      this.trigger('beforeTileRender', {\n        element: tile,\n        presetName: key,\n        value: colors[i]\n      });\n      row.appendChild(tile);\n      if (this.value === roundedColor && key !== 'recent-color') {\n        this.addTileSelection(tile);\n        palette.focus();\n      }\n      tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n    }\n  };\n  ColorPicker.prototype.setNoColor = function () {\n    var noColorEle = this.container.querySelector('.e-row').children[0];\n    noColorEle.classList.add(NOCOLOR);\n    if (!this.value) {\n      noColorEle.classList.add(SELECT);\n      closest(noColorEle, '.' + PALETTES).focus();\n    }\n    ['aria-selected', 'aria-label'].forEach(function (attr) {\n      noColorEle.removeAttribute(attr);\n    });\n    noColorEle.style.backgroundColor = '';\n  };\n  ColorPicker.prototype.appendElement = function (ele, insertPos) {\n    if (insertPos === void 0) {\n      insertPos = 0;\n    }\n    var refEle = this.container.children[insertPos];\n    if (refEle) {\n      this.container.insertBefore(ele, refEle);\n    } else {\n      this.container.appendChild(ele);\n    }\n  };\n  ColorPicker.prototype.addTileSelection = function (ele) {\n    if (ele) {\n      ele.classList.add(SELECT);\n      ele.setAttribute('aria-selected', 'true');\n    }\n  };\n  ColorPicker.prototype.createPicker = function () {\n    classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n    var hsvContainer = this.createElement('div', {\n      className: HSVCONTAINER\n    });\n    this.appendElement(hsvContainer);\n    hsvContainer.appendChild(this.createElement('div', {\n      className: HSVAREA\n    }));\n    var dragHandler = this.createElement('span', {\n      className: HANDLER,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    hsvContainer.appendChild(dragHandler);\n    if (this.value === null || this.value === '') {\n      this.value = '#008000ff';\n    }\n    this.rgb = this.hexToRgb(this.value);\n    this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    this.setHsvContainerBg();\n    this.setHandlerPosition();\n    this.createSlider();\n    this.createDragTooltip();\n  };\n  ColorPicker.prototype.setHsvContainerBg = function (h) {\n    if (h === void 0) {\n      h = this.hsv[0];\n    }\n    this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n  };\n  ColorPicker.prototype.getHsvContainer = function () {\n    return select('.' + HSVCONTAINER, this.container);\n  };\n  ColorPicker.prototype.setHandlerPosition = function () {\n    var dragHandler = this.getDragHandler();\n    var hsvArea = select('.' + HSVAREA, this.container);\n    if (this.enableRtl) {\n      dragHandler.style.left = formatUnit((hsvArea.offsetWidth - dragHandler.offsetWidth / 2.5) * Math.abs(100 - this.hsv[1]) / 100);\n    } else {\n      dragHandler.style.left = formatUnit((hsvArea.offsetWidth - dragHandler.offsetWidth / 2.5) * this.hsv[1] / 100);\n    }\n    dragHandler.style.top = formatUnit((hsvArea.offsetHeight - dragHandler.offsetHeight / 2.5) * (100 - this.hsv[2]) / 100);\n  };\n  ColorPicker.prototype.createSlider = function () {\n    var sliderPreviewWrapper = this.createElement('div', {\n      className: 'e-slider-preview'\n    });\n    this.appendElement(sliderPreviewWrapper, 1);\n    this.createPreview(sliderPreviewWrapper);\n    var sliderWrapper = this.createElement('div', {\n      className: 'e-colorpicker-slider'\n    });\n    sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n    var slider = this.createElement('div', {\n      className: 'e-hue-slider'\n    });\n    sliderWrapper.appendChild(slider);\n    this.hueSlider = new Slider({\n      value: this.hsv[0],\n      min: 0,\n      max: 359,\n      enableRtl: this.enableRtl,\n      enabled: !this.disabled,\n      change: this.hueChange.bind(this)\n    });\n    this.hueSlider.createElement = this.createElement;\n    this.hueSlider.appendTo(slider);\n    if (this.enableOpacity) {\n      slider = this.createElement('div', {\n        className: 'e-opacity-slider'\n      });\n      sliderWrapper.appendChild(slider);\n      this.createOpacitySlider(slider);\n    }\n  };\n  ColorPicker.prototype.createOpacitySlider = function (slider) {\n    this.opacitySlider = new Slider({\n      value: this.rgb[3] * 100,\n      min: 0,\n      max: 100,\n      enableRtl: this.enableRtl,\n      enabled: !this.disabled,\n      change: this.opacityChange.bind(this)\n    });\n    this.opacitySlider.createElement = this.createElement;\n    this.opacitySlider.appendTo(slider);\n    var opacityBgTrack = this.createElement('div', {\n      className: 'e-opacity-empty-track'\n    });\n    slider.appendChild(opacityBgTrack);\n    this.updateOpacitySliderBg();\n  };\n  ColorPicker.prototype.updateOpacitySliderBg = function () {\n    var direction = this.enableRtl ? 'to left' : 'to right';\n    var opacityEle = select('.e-opacity-empty-track', this.opacitySlider.element);\n    if (opacityEle) {\n      opacityEle.style.background = 'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' + this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    }\n  };\n  ColorPicker.prototype.hueChange = function (args) {\n    this.hsv[0] = args.value;\n    this.setHsvContainerBg();\n    this.convertToOtherFormat();\n  };\n  ColorPicker.prototype.opacityChange = function (args) {\n    var value = args.value;\n    var pValue = this.rgbToHex(this.rgb);\n    this.hsv[3] = value / 100;\n    this.rgb[3] = value / 100;\n    var cValue = this.rgbToHex(this.rgb);\n    this.updateOpacityInput(value);\n    var rgb = this.convertToRgbString(this.rgb);\n    this.updatePreview(rgb);\n    this.triggerEvent(cValue, pValue, rgb);\n  };\n  ColorPicker.prototype.updateOpacityInput = function (value) {\n    if (this.enableOpacity && !this.getWrapper().classList.contains(HIDEVALUE)) {\n      var opacityTextBoxInst = getInstance(select('.' + OPACITY, this.container), NumericTextBox);\n      opacityTextBoxInst.value = value;\n      opacityTextBoxInst.dataBind();\n    }\n  };\n  ColorPicker.prototype.createPreview = function (parentEle) {\n    var previewContainer = this.createElement('div', {\n      className: PREVIEW\n    });\n    parentEle.appendChild(previewContainer);\n    var preview = this.createElement('span', {\n      className: 'e-preview ' + CURRENT\n    });\n    previewContainer.appendChild(preview);\n    var colorValue = this.convertToRgbString(this.rgb);\n    preview.style.backgroundColor = colorValue;\n    preview = this.createElement('span', {\n      className: 'e-preview ' + PREVIOUS\n    });\n    previewContainer.appendChild(preview);\n    preview.style.backgroundColor = colorValue;\n  };\n  ColorPicker.prototype.isPicker = function () {\n    return !this.container.classList.contains(PALETTECONTENT);\n  };\n  ColorPicker.prototype.getPopupEle = function () {\n    return this.container.parentElement;\n  };\n  ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n    var _this = this;\n    var numericInput = new NumericTextBox({\n      value: value,\n      placeholder: label,\n      min: 0,\n      max: max,\n      format: '###.##',\n      showSpinButton: false,\n      floatLabelType: 'Always',\n      enableRtl: this.enableRtl,\n      enabled: !this.disabled,\n      readonly: this.isPicker() ? false : true,\n      change: function (args) {\n        if (args.event) {\n          _this.inputHandler(args.event);\n        }\n      }\n    });\n    numericInput.createElement = this.createElement;\n    numericInput.appendTo(element);\n  };\n  ColorPicker.prototype.createInput = function () {\n    var isPicker = this.isPicker();\n    var wrapper = this.getWrapper();\n    if (isPicker && !wrapper.classList.contains(HIDEVALUE) || !isPicker && wrapper.classList.contains(SHOWVALUE)) {\n      var inputWrap = this.createElement('div', {\n        className: INPUTWRAPPER\n      });\n      if (isPicker) {\n        this.appendElement(inputWrap, 2);\n      } else {\n        this.appendElement(inputWrap, 1);\n      }\n      var container = this.createElement('div', {\n        className: 'e-input-container'\n      });\n      inputWrap.appendChild(container);\n      if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n        this.appendValueSwitchBtn(inputWrap);\n      }\n      if (!wrapper.classList.contains(HIDEHEX)) {\n        var hexInput = this.createElement('input', {\n          className: HEX,\n          attrs: {\n            'maxlength': '7',\n            'spellcheck': 'false',\n            'aria-label': 'HEX'\n          }\n        });\n        container.appendChild(hexInput);\n        Input.createInput({\n          element: hexInput,\n          floatLabelType: 'Always',\n          properties: {\n            placeholder: 'HEX',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true\n          }\n        }, this.createElement);\n        Input.setValue(this.value.slice(0, 7), hexInput);\n        hexInput.addEventListener('input', this.inputHandler.bind(this));\n      }\n      if (!wrapper.classList.contains(HIDERGBA)) {\n        var label = void 0;\n        var value = void 0;\n        if (this.isRgb) {\n          label = 'RGB';\n          value = this.rgb;\n        } else {\n          label = 'HSV';\n          value = this.hsv;\n        }\n        var clsName = ['rh', 'gs', 'bv'];\n        for (var i = 0; i < 3; i++) {\n          this.createNumericInput(container.appendChild(this.createElement('input', {\n            className: 'e-' + clsName[i] + '-value'\n          })), value[i], label[i], 255);\n        }\n        if (this.enableOpacity) {\n          this.appendOpacityValue(container);\n        }\n      }\n    }\n  };\n  ColorPicker.prototype.appendOpacityValue = function (container) {\n    this.createNumericInput(container.appendChild(this.createElement('input', {\n      className: OPACITY\n    })), this.rgb[3] * 100, 'A', 100);\n  };\n  ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n    var valueSwitchBtn = this.createElement('button', {\n      className: 'e-icons e-css e-btn e-flat e-icon-btn ' + FORMATSWITCH,\n      attrs: {\n        'title': 'Toggle format'\n      }\n    });\n    targetEle.appendChild(valueSwitchBtn);\n    if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n      valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n    }\n  };\n  ColorPicker.prototype.createCtrlBtn = function () {\n    if (this.modeSwitcher || this.showButtons) {\n      this.l10n.setLocale(this.locale);\n      var btnWrapper = this.createElement('div', {\n        className: CTRLSWITCH\n      });\n      this.container.appendChild(btnWrapper);\n      if (this.showButtons) {\n        var controlBtnWrapper = this.createElement('div', {\n          className: CTRLBTN\n        });\n        btnWrapper.appendChild(controlBtnWrapper);\n        var apply = this.l10n.getConstant('Apply');\n        controlBtnWrapper.appendChild(this.createElement('button', {\n          innerHTML: apply,\n          className: 'e-btn e-css e-flat e-primary e-small ' + APPLY,\n          attrs: {\n            'title': apply\n          }\n        }));\n        var cancel = this.l10n.getConstant('Cancel');\n        controlBtnWrapper.appendChild(this.createElement('button', {\n          innerHTML: cancel,\n          className: 'e-btn e-css e-flat e-small ' + CANCEL,\n          attrs: {\n            'title': cancel\n          }\n        }));\n      }\n      if (this.modeSwitcher) {\n        this.appendModeSwitchBtn();\n      }\n    }\n  };\n  ColorPicker.prototype.appendModeSwitchBtn = function () {\n    var modeSwitcher = this.createElement('button', {\n      className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH,\n      attrs: {\n        title: this.l10n.getConstant('ModeSwitcher')\n      }\n    });\n    select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n  };\n  ColorPicker.prototype.createDragTooltip = function () {\n    var _this = this;\n    var tooltip = new Tooltip({\n      opensOn: 'Custom',\n      showTipPointer: false,\n      cssClass: 'e-color-picker-tooltip',\n      htmlAttributes: {\n        title: 'tooltip'\n      },\n      beforeOpen: function (args) {\n        _this.tooltipEle = args.element;\n      },\n      animation: {\n        open: {\n          effect: 'None'\n        },\n        close: {\n          effect: 'None'\n        }\n      }\n    });\n    tooltip.createElement = this.createElement;\n    tooltip.appendTo(this.container);\n    tooltip.open(this.container);\n    this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n    this.tooltipEle.setAttribute('aria-label', 'colorpicker-tooltip');\n    select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', {\n      className: 'e-tip-transparent'\n    }));\n  };\n  ColorPicker.prototype.getTooltipInst = function () {\n    return getInstance(this.container, Tooltip);\n  };\n  ColorPicker.prototype.setTooltipOffset = function (value) {\n    this.getTooltipInst().offsetY = value;\n  };\n  ColorPicker.prototype.toggleDisabled = function (enable) {\n    if (enable) {\n      this.getWrapper().classList.add(DISABLED);\n    } else {\n      this.getWrapper().classList.remove(DISABLED);\n    }\n    if (this.showButtons) {\n      [].slice.call(selectAll('.e-btn', this.container)).forEach(function (ele) {\n        if (enable) {\n          attributes(ele, {\n            'disabled': ''\n          });\n        } else {\n          ele.removeAttribute('disabled');\n        }\n      });\n    }\n  };\n  ColorPicker.prototype.convertToRgbString = function (rgb) {\n    return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n  };\n  ColorPicker.prototype.convertToHsvString = function (hsv) {\n    return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n  };\n  ColorPicker.prototype.updateHsv = function () {\n    this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n    this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n    this.setHandlerPosition();\n  };\n  ColorPicker.prototype.convertToOtherFormat = function (isKey, e) {\n    if (isKey === void 0) {\n      isKey = false;\n    }\n    var pValue = this.rgbToHex(this.rgb);\n    this.rgb = this.hsvToRgb.apply(this, this.hsv);\n    var cValue = this.rgbToHex(this.rgb);\n    var rgba = this.convertToRgbString(this.rgb);\n    this.updatePreview(rgba);\n    this.updateInput(cValue);\n    this.triggerEvent(cValue, pValue, rgba, isKey, e);\n  };\n  ColorPicker.prototype.updateInput = function (value) {\n    var wrapper = this.getWrapper();\n    if (!wrapper.classList.contains(HIDEVALUE)) {\n      if (!wrapper.classList.contains(HIDEHEX)) {\n        Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n      }\n      if (!wrapper.classList.contains(HIDERGBA)) {\n        if (this.isRgb) {\n          this.updateValue(this.rgb, false);\n        } else {\n          this.updateValue(this.hsv, false);\n        }\n      }\n    }\n  };\n  ColorPicker.prototype.updatePreview = function (value) {\n    if (this.enableOpacity) {\n      this.updateOpacitySliderBg();\n    }\n    select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n    select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n    select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n  };\n  ColorPicker.prototype.getDragHandler = function () {\n    return select('.' + HANDLER, this.container);\n  };\n  ColorPicker.prototype.removeTileSelection = function () {\n    var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container));\n    selectedEle.forEach(function (ele) {\n      ele.classList.remove(SELECT);\n      ele.setAttribute('aria-selected', 'false');\n    });\n  };\n  ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n    return value.slice(value.indexOf('(') + 1, value.indexOf(')')).split(',').map(function (n, i) {\n      return i !== 3 ? parseInt(n, 10) : parseFloat(n);\n    });\n  };\n  /**\n   * To get color value in specified type.\n   *\n   * @param {string} value - Specify the color value.\n   * @param {string} type - Specify the type to which the specified color needs to be converted.\n   * @method getValue\n   * @returns {string} - Color value\n   */\n  ColorPicker.prototype.getValue = function (value, type) {\n    if (!value) {\n      value = this.value;\n    }\n    type = !type ? 'hex' : type.toLowerCase();\n    if (value[0] === 'r') {\n      var cValue = this.convertRgbToNumberArray(value);\n      if (type === 'hex' || type === 'hexa') {\n        var hex = this.rgbToHex(cValue);\n        return type === 'hex' ? hex.slice(0, 7) : hex;\n      } else {\n        if (type === 'hsv') {\n          return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n        } else {\n          if (type === 'hsva') {\n            return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n          } else {\n            return 'null';\n          }\n        }\n      }\n    } else {\n      if (value[0] === 'h') {\n        var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n        if (type === 'rgba') {\n          return this.convertToRgbString(cValue);\n        } else {\n          if (type === 'hex' || type === 'hexa') {\n            var hex = this.rgbToHex(cValue);\n            return type === 'hex' ? hex.slice(0, 7) : hex;\n          } else {\n            if (type === 'rgb') {\n              return this.convertToRgbString(cValue.slice(0, 3));\n            } else {\n              return 'null';\n            }\n          }\n        }\n      } else {\n        value = this.roundValue(value);\n        var rgb = this.hexToRgb(value);\n        if (type === 'rgb' || type === 'hsv') {\n          rgb = rgb.slice(0, 3);\n        }\n        if (type === 'rgba' || type === 'rgb') {\n          return this.convertToRgbString(rgb);\n        } else {\n          if (type === 'hsva' || type === 'hsv') {\n            return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n          } else {\n            if (type === 'hex') {\n              return value.slice(0, 7);\n            } else {\n              if (type === 'a') {\n                return rgb[3].toString();\n              } else {\n                return 'null';\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  /**\n   * To show/hide ColorPicker popup based on current state of the SplitButton.\n   *\n   * @method toggle\n   * @returns {void}\n   */\n  ColorPicker.prototype.toggle = function () {\n    if (this.container.parentElement.classList.contains('e-popup-close')) {\n      this.splitBtn.toggle();\n    } else {\n      this.closePopup(null);\n    }\n  };\n  /**\n   * Get component name.\n   *\n   * @returns {string} - Module Name\n   * @private\n   */\n  ColorPicker.prototype.getModuleName = function () {\n    return 'colorpicker';\n  };\n  /**\n   * Gets the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n  ColorPicker.prototype.getPersistData = function () {\n    return this.addOnPersist(['value']);\n  };\n  ColorPicker.prototype.wireEvents = function () {\n    if (this.isPicker()) {\n      var dragHandler = this.getDragHandler();\n      EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n      var ctrlBtn = select('.' + CTRLBTN, this.container);\n      if (ctrlBtn) {\n        EventHandler.add(ctrlBtn, 'keydown', this.ctrlBtnKeyDown, this);\n      }\n      EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n      if (this.modeSwitcher || this.showButtons) {\n        this.addCtrlSwitchEvent();\n      }\n      EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n    } else {\n      EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n      EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n    }\n  };\n  ColorPicker.prototype.formResetHandler = function () {\n    this.value = this.initialInputValue;\n    attributes(this.element, {\n      'value': this.initialInputValue\n    });\n  };\n  ColorPicker.prototype.addCtrlSwitchEvent = function () {\n    var ctrlSwitchBtn = select('.' + CTRLSWITCH, this.container);\n    if (ctrlSwitchBtn) {\n      EventHandler.add(ctrlSwitchBtn, 'click', this.btnClickHandler, this);\n    }\n  };\n  ColorPicker.prototype.ctrlBtnKeyDown = function (e) {\n    if (e.keyCode === 13) {\n      var applyBtn = select('.' + APPLY, this.container);\n      if (applyBtn) {\n        var cValue = this.rgbToHex(this.rgb);\n        this.triggerChangeEvent(cValue);\n      }\n      this.splitBtn.element.focus();\n    }\n  };\n  ColorPicker.prototype.pickerKeyDown = function (e) {\n    switch (e.keyCode) {\n      case 39:\n        this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n        break;\n      case 37:\n        this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n        break;\n      case 38:\n        this.handlerDragPosition(2, 1, e);\n        break;\n      case 40:\n        this.handlerDragPosition(2, -1, e);\n        break;\n      case 13:\n        {\n          e.preventDefault();\n          var cValue = this.rgbToHex(this.rgb);\n          this.enterKeyHandler(cValue);\n        }\n    }\n  };\n  ColorPicker.prototype.enterKeyHandler = function (value) {\n    this.triggerChangeEvent(value);\n    if (!this.inline) {\n      this.splitBtn.element.focus();\n    }\n  };\n  ColorPicker.prototype.closePopup = function (e) {\n    var _this = this;\n    var beforeCloseArgs = {\n      element: this.container,\n      event: e,\n      cancel: false\n    };\n    this.trigger('beforeClose', beforeCloseArgs, function (observedcloseArgs) {\n      if (!observedcloseArgs.cancel) {\n        _this.splitBtn.toggle();\n        _this.onPopupClose();\n      }\n    });\n  };\n  ColorPicker.prototype.triggerChangeEvent = function (value, e) {\n    var hex = value.slice(0, 7);\n    this.trigger('change', {\n      currentValue: {\n        hex: hex,\n        rgba: this.convertToRgbString(this.rgb)\n      },\n      event: e,\n      previousValue: {\n        hex: this.value.slice(0, 7),\n        rgba: this.convertToRgbString(this.hexToRgb(this.value))\n      },\n      value: this.enableOpacity ? value : hex\n    });\n    if (this.showRecentColors) {\n      this.recentColors.unshift(hex);\n      if (this.inline) {\n        this.renderRecentColor();\n      }\n    }\n    if (this.enableOpacity) {\n      this.setProperties({\n        'value': value\n      }, true);\n    } else {\n      this.setProperties({\n        'value': hex\n      }, true);\n    }\n    this.element.value = hex ? hex : '#000000';\n  };\n  ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n    e.preventDefault();\n    this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n    if (this.hsv[prob] < 0) {\n      this.hsv[prob] = 0;\n    }\n    this.updateHsv();\n    this.convertToOtherFormat(true, e);\n  };\n  ColorPicker.prototype.handlerDown = function (e) {\n    e.preventDefault();\n    if (e.type === 'mousedown') {\n      this.clientX = Math.abs(e.pageX - pageXOffset);\n      this.clientY = Math.abs(e.pageY - pageYOffset);\n      this.setTooltipOffset(8);\n    } else {\n      this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n      this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n      this.setTooltipOffset(-8);\n    }\n    this.setHsv(this.clientX, this.clientY);\n    this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n    this.updateHsv();\n    this.convertToOtherFormat(false, e);\n    this.getDragHandler().focus();\n    EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n    EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n  };\n  ColorPicker.prototype.handlerMove = function (e) {\n    if (e.type !== 'touchmove') {\n      e.preventDefault();\n    }\n    var x;\n    var y;\n    if (e.type === 'mousemove') {\n      x = Math.abs(e.pageX - pageXOffset);\n      y = Math.abs(e.pageY - pageYOffset);\n    } else {\n      x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n      y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n    }\n    this.setHsv(x, y);\n    var dragHandler = this.getDragHandler();\n    this.updateHsv();\n    this.convertToOtherFormat(false, e);\n    this.getTooltipInst().refresh(dragHandler);\n    if (!this.tooltipEle.style.transform) {\n      if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n        select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n        dragHandler.style.transition = 'none';\n        if (!this.inline) {\n          this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n        }\n        this.tooltipEle.style.transform = 'rotate(45deg)';\n        dragHandler.classList.add('e-hide-handler');\n      }\n    }\n  };\n  ColorPicker.prototype.setHsv = function (clientX, clientY) {\n    var ele = select('.' + HSVAREA, this.container);\n    var position = ele.getBoundingClientRect();\n    if (this.enableRtl) {\n      clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n    } else {\n      clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n    }\n    clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n    this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight - Math.max(0, Math.min(ele.offsetHeight, clientY - ele.offsetTop))) / ele.offsetHeight) * 10) / 10;\n    this.hsv[1] = Math.round(Number(100 * Math.max(0, Math.min(ele.offsetWidth, clientX - ele.offsetLeft)) / ele.offsetWidth) * 10) / 10;\n  };\n  ColorPicker.prototype.handlerEnd = function (e) {\n    if (e.type !== 'touchend') {\n      e.preventDefault();\n    }\n    EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n    EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n    var dragHandler = this.getDragHandler();\n    select('.' + HSVAREA, this.container).style.cursor = '';\n    if (this.tooltipEle.style.transform) {\n      this.tooltipEle.style.transform = '';\n      dragHandler.classList.remove('e-hide-handler');\n    }\n    if (!this.inline && !this.showButtons) {\n      this.closePopup(e);\n    }\n  };\n  ColorPicker.prototype.btnClickHandler = function (e) {\n    var target = e.target;\n    if (closest(target, '.' + MODESWITCH)) {\n      e.stopPropagation();\n      this.switchToPalette();\n    } else {\n      if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n        this.ctrlBtnClick(target, e);\n      }\n    }\n  };\n  ColorPicker.prototype.switchToPalette = function () {\n    this.trigger('beforeModeSwitch', {\n      element: this.container,\n      mode: 'Palette'\n    });\n    this.unWireEvents();\n    this.destroyOtherComp();\n    detach(select('.e-slider-preview', this.container));\n    if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n      remove(select('.' + INPUTWRAPPER, this.container));\n    }\n    detach(this.getHsvContainer());\n    this.createPalette();\n    this.firstPaletteFocus();\n    this.createInput();\n    this.refreshPopupPos();\n    //for image editor popup position refreshing\n    if (this.element.parentElement && this.element.parentElement.parentElement && this.element.parentElement.parentElement.classList.contains('e-ie-ddb-popup')) {\n      this.refreshImageEditorPopupPos();\n    }\n    this.wireEvents();\n    this.trigger('onModeSwitch', {\n      element: this.container,\n      mode: 'Palette'\n    });\n  };\n  //for image editor popup position refreshing\n  ColorPicker.prototype.refreshImageEditorPopupPos = function () {\n    if (Browser.isDevice) {\n      var popupEle = this.getPopupEle();\n      popupEle.style.left = formatUnit(0 + pageXOffset);\n      popupEle.style.top = formatUnit(0 + pageYOffset);\n      var btnElem = document.querySelector(\"#\" + this.element.parentElement.parentElement.id.split('-popup')[0]);\n      if (btnElem) {\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n        popupEle.parentElement.ej2_instances[0].refreshPosition(btnElem);\n      }\n    }\n  };\n  ColorPicker.prototype.refreshPopupPos = function () {\n    if (!this.inline) {\n      var popupEle = this.getPopupEle();\n      popupEle.style.left = formatUnit(0 + pageXOffset);\n      popupEle.style.top = formatUnit(0 + pageYOffset);\n      this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n    }\n  };\n  ColorPicker.prototype.formatSwitchHandler = function () {\n    if (this.isRgb) {\n      this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n      this.isRgb = false;\n    } else {\n      this.updateValue(this.rgb, true, 2);\n      this.isRgb = true;\n    }\n  };\n  ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n    var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n    var inst;\n    for (var i = 0, len = clsName.length; i < len; i++) {\n      inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n      inst.value = Math.round(value[i]);\n      if (format) {\n        inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n        inst.max = max ? max[i] : 255;\n      }\n      inst.dataBind();\n    }\n  };\n  ColorPicker.prototype.previewHandler = function (e) {\n    var target = e.target;\n    var pValue = this.rgbToHex(this.rgb);\n    this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n    if (!this.rgb[3]) {\n      this.rgb[3] = 1;\n    }\n    var cValue = this.rgbToHex(this.rgb);\n    var hsv = this.rgbToHsv.apply(this, this.rgb);\n    if (hsv[0] !== this.hsv[0]) {\n      this.hueSlider.setProperties({\n        'value': hsv[0]\n      }, true);\n      this.hueSlider.refresh();\n    }\n    this.setHsvContainerBg(hsv[0]);\n    if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n      this.opacitySlider.setProperties({\n        'value': hsv[3] * 100\n      }, true);\n      this.opacitySlider.refresh();\n      this.updateOpacitySliderBg();\n    }\n    this.hsv = hsv;\n    this.setHandlerPosition();\n    this.updateInput(cValue);\n    select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n    this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), false, e);\n  };\n  ColorPicker.prototype.paletteClickHandler = function (e) {\n    e.preventDefault();\n    var target = e.target;\n    if (target.classList.contains(TILE)) {\n      this.removeTileSelection();\n      this.addTileSelection(target);\n      if (target.classList.contains(NOCOLOR)) {\n        this.noColorTile();\n      } else {\n        var cValue = target.getAttribute('aria-label');\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hexToRgb(this.roundValue(cValue));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (this.getWrapper().classList.contains(SHOWVALUE)) {\n          this.updateInput(cValue);\n        }\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), false, e);\n      }\n      if (!this.inline && !this.showButtons) {\n        this.closePopup(e);\n      }\n    } else {\n      if (closest(target, '.' + MODESWITCH)) {\n        this.switchToPicker();\n      } else {\n        if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n          this.ctrlBtnClick(target, e);\n        } else {\n          if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n            this.formatSwitchHandler();\n          }\n        }\n      }\n    }\n  };\n  ColorPicker.prototype.noColorTile = function (isKey) {\n    if (isKey === void 0) {\n      isKey = false;\n    }\n    var pValue = this.rgbToHex(this.rgb);\n    this.rgb = [];\n    this.hsv = [];\n    this.triggerEvent('', pValue, '', isKey);\n  };\n  ColorPicker.prototype.switchToPicker = function () {\n    var wrapper = this.getWrapper();\n    this.trigger('beforeModeSwitch', {\n      element: this.container,\n      mode: 'Picker'\n    });\n    this.unWireEvents();\n    [].slice.call(selectAll('.' + PALETTES, this.container)).forEach(function (ele) {\n      detach(ele);\n    });\n    if (this.container.querySelector('.e-clr-pal-rec-wpr')) {\n      detach(this.container.querySelector('.e-clr-pal-rec-wpr'));\n    }\n    if (wrapper.classList.contains(SHOWVALUE)) {\n      detach(select('.' + INPUTWRAPPER, this.container));\n    }\n    this.container.style.width = '';\n    var grpEle = select('.e-custom-palette', this.container);\n    if (this.presetColors) {\n      remove(grpEle);\n    }\n    this.createPicker();\n    this.getDragHandler().focus();\n    this.createInput();\n    this.refreshPopupPos();\n    //for image editor popup position refreshing\n    if (this.element.parentElement && this.element.parentElement.parentElement && this.element.parentElement.parentElement.classList.contains('e-ie-ddb-popup')) {\n      this.refreshImageEditorPopupPos();\n    }\n    this.wireEvents();\n    this.trigger('onModeSwitch', {\n      element: this.container,\n      mode: 'Picker'\n    });\n  };\n  ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n    if (ele.classList.contains(APPLY)) {\n      var cValue = this.rgbToHex(this.rgb);\n      this.triggerChangeEvent(cValue, e);\n    }\n    if (!this.inline) {\n      this.closePopup(e);\n      this.splitBtn.element.focus();\n    } else if (ele.classList.contains(CANCEL)) {\n      var beforeCloseArgs = {\n        element: this.container,\n        event: e,\n        cancel: false\n      };\n      this.trigger('beforeClose', beforeCloseArgs);\n    }\n  };\n  ColorPicker.prototype.paletteKeyDown = function (e) {\n    var target = e.target;\n    if (!target.classList.contains(PALETTES)) {\n      return;\n    }\n    var selectedEle;\n    var idx;\n    var tiles = [].slice.call(selectAll('.' + TILE, target));\n    var prevSelectedEle = tiles.filter(function (tile) {\n      return tile.classList.contains('e-selected');\n    }).pop();\n    switch (!e.altKey && e.keyCode) {\n      case 39:\n        e.preventDefault();\n        selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)] : tiles[this.enableRtl ? tiles.length - 1 : 0];\n        this.keySelectionChanges(selectedEle);\n        break;\n      case 37:\n        e.preventDefault();\n        selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)] : tiles[this.enableRtl ? 0 : tiles.length - 1];\n        this.keySelectionChanges(selectedEle);\n        break;\n      case 38:\n        e.preventDefault();\n        idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n        selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n        this.keySelectionChanges(selectedEle);\n        break;\n      case 40:\n        e.preventDefault();\n        idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n        if (tiles[idx]) {\n          selectedEle = tiles[idx];\n        } else {\n          idx %= tiles.length;\n          idx += tiles[tiles.length - 1].parentElement.childElementCount;\n          selectedEle = tiles[idx];\n        }\n        this.keySelectionChanges(selectedEle);\n        break;\n      case 13:\n        e.preventDefault();\n        if (prevSelectedEle) {\n          var cValue = prevSelectedEle.getAttribute('aria-label');\n          this.enterKeyHandler(cValue ? cValue : '');\n        }\n        break;\n    }\n  };\n  ColorPicker.prototype.keySelectionChanges = function (newEle) {\n    this.removeTileSelection();\n    this.addTileSelection(newEle);\n    if (newEle.classList.contains(NOCOLOR)) {\n      this.noColorTile(true);\n    } else {\n      var cValue = newEle.getAttribute('aria-label');\n      var pValue = this.rgbToHex(this.rgb);\n      this.rgb = this.hexToRgb(cValue);\n      this.hsv = this.rgbToHsv.apply(this, this.rgb);\n      if (this.getWrapper().classList.contains(SHOWVALUE)) {\n        this.updateInput(cValue);\n      }\n      this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n    }\n  };\n  ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n    items = Array.prototype.slice.call(items);\n    var n = items.length;\n    var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n    var idx = items.indexOf(element);\n    idx += cIdx;\n    if (idx < 0) {\n      idx += n + emptyCount;\n    } else {\n      idx %= n + emptyCount;\n    }\n    return idx;\n  };\n  ColorPicker.prototype.inputHandler = function (e) {\n    var target = e.target;\n    if (!target.value.length) {\n      return;\n    }\n    var hsv;\n    var pValue;\n    var label = select('.e-float-text', target.parentElement).textContent;\n    switch (label) {\n      case 'HEX':\n        {\n          var value = '';\n          if (target.value[0] === '#' && target.value.length !== 5 || target.value[0] !== '#' && target.value.length !== 4) {\n            value = this.roundValue(target.value);\n          }\n          if (value.length === 9) {\n            pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(value + value.substr(-2));\n            this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value, e);\n          } else {\n            return;\n          }\n          break;\n        }\n      case 'R':\n        if (this.rgb[0] !== Number(target.value)) {\n          pValue = this.rgbToHex(this.rgb);\n          this.rgb[0] = Number(target.value);\n          hsv = this.rgbToHsv.apply(this, this.rgb);\n          this.inputValueChange(hsv, pValue, null, e);\n        }\n        break;\n      case 'G':\n        if (this.rgb[1] !== Number(target.value)) {\n          pValue = this.rgbToHex(this.rgb);\n          this.rgb[1] = Number(target.value);\n          hsv = this.rgbToHsv.apply(this, this.rgb);\n          this.inputValueChange(hsv, pValue, null, e);\n        }\n        break;\n      case 'B':\n        if (this.rgb[2] !== Number(target.value)) {\n          pValue = this.rgbToHex(this.rgb);\n          this.rgb[2] = Number(target.value);\n          hsv = this.rgbToHsv.apply(this, this.rgb);\n          this.inputValueChange(hsv, pValue, null, e);\n        }\n        break;\n      case 'H':\n        this.hueSlider.value = Number(target.value);\n        break;\n      case 'S':\n        if (this.hsv[1] !== Number(target.value)) {\n          this.hsv[1] = Number(target.value);\n          this.updateHsv();\n          this.convertToOtherFormat(false, e);\n        }\n        break;\n      case 'V':\n        if (this.hsv[2] !== Number(target.value)) {\n          this.hsv[2] = Number(target.value);\n          this.updateHsv();\n          this.convertToOtherFormat(false, e);\n        }\n        break;\n      case 'A':\n        this.opacitySlider.value = Number(target.value);\n        break;\n    }\n  };\n  ColorPicker.prototype.inputValueChange = function (hsv, pValue, value, e) {\n    if (hsv[0] !== this.hsv[0]) {\n      this.hueSlider.setProperties({\n        'value': hsv[0]\n      }, true);\n      this.hueSlider.refresh();\n      this.setHsvContainerBg(hsv[0]);\n    }\n    this.hsv = hsv;\n    var cValue = this.rgbToHex(this.rgb);\n    this.setHandlerPosition();\n    this.updateInput(value ? value : cValue);\n    var rgba = this.convertToRgbString(this.rgb);\n    this.updatePreview(rgba);\n    this.triggerEvent(cValue, pValue, rgba, false, e);\n  };\n  ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey, e) {\n    if (isKey === void 0) {\n      isKey = false;\n    }\n    var hex = cValue.slice(0, 7);\n    if (isNullOrUndefined(e)) {\n      e = new MouseEvent('click', {\n        bubbles: true,\n        cancelable: false\n      });\n    }\n    if (!this.showButtons && !isKey) {\n      this.trigger('change', {\n        currentValue: {\n          hex: hex,\n          rgba: rgba\n        },\n        event: e,\n        previousValue: {\n          hex: this.value.slice(0, 7),\n          rgba: this.convertToRgbString(this.hexToRgb(this.value))\n        },\n        value: cValue\n      });\n      if (this.showRecentColors) {\n        this.recentColors.unshift(hex);\n        if (this.inline) {\n          this.renderRecentColor();\n        }\n      }\n      if (this.enableOpacity) {\n        this.setProperties({\n          'value': cValue\n        }, true);\n      } else {\n        this.setProperties({\n          'value': hex\n        }, true);\n      }\n      this.element.value = hex ? hex : '#000000';\n    } else {\n      this.trigger('select', {\n        currentValue: {\n          hex: hex,\n          rgba: rgba\n        },\n        event: e,\n        previousValue: {\n          hex: pValue.slice(0, 7),\n          rgba: this.convertToRgbString(this.hexToRgb(pValue))\n        }\n      });\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers.\n   * Also it maintains the initial input element from the DOM.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n  ColorPicker.prototype.destroy = function () {\n    var _this = this;\n    var wrapper = this.getWrapper();\n    _super.prototype.destroy.call(this);\n    ['tabindex', 'spellcheck'].forEach(function (attr) {\n      _this.element.removeAttribute(attr);\n    });\n    if (this.inline) {\n      this.unWireEvents();\n      this.destroyOtherComp();\n    } else {\n      if (this.isPopupOpen()) {\n        this.unWireEvents();\n        this.destroyOtherComp();\n      }\n      this.splitBtn.destroy();\n      this.splitBtn = null;\n    }\n    this.tileRipple();\n    this.tileRipple = null;\n    this.ctrlBtnRipple();\n    this.ctrlBtnRipple = null;\n    if (this.element.nextElementSibling) {\n      detach(this.element.nextElementSibling);\n    }\n    if (wrapper) {\n      wrapper.parentElement.insertBefore(this.element, wrapper);\n      detach(wrapper);\n    }\n    this.container = null;\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n  ColorPicker.prototype.destroyOtherComp = function () {\n    if (this.isPicker()) {\n      var popup = closest(this.hueSlider.element, '.e-color-picker');\n      var numericElemColl = popup.querySelectorAll('.e-numerictextbox');\n      for (var i = 0; i < numericElemColl.length; i++) {\n        getInstance(numericElemColl[i], NumericTextBox).destroy();\n      }\n      this.hueSlider.destroy();\n      if (this.enableOpacity) {\n        this.opacitySlider.destroy();\n        this.opacitySlider = null;\n      }\n      this.hueSlider = null;\n      var tooltipInst = this.getTooltipInst();\n      tooltipInst.close();\n      tooltipInst.destroy();\n      this.tooltipEle = null;\n    }\n  };\n  ColorPicker.prototype.isPopupOpen = function () {\n    return this.getPopupEle().classList.contains('e-popup-open');\n  };\n  ColorPicker.prototype.unWireEvents = function () {\n    if (this.isPicker()) {\n      var dragHandler = this.getDragHandler();\n      EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n      var ctrlBtn = select('.' + CTRLBTN, this.container);\n      if (ctrlBtn) {\n        EventHandler.remove(ctrlBtn, 'keydown', this.ctrlBtnKeyDown);\n      }\n      EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n      if (this.modeSwitcher || this.showButtons) {\n        EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n      }\n      EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n    } else {\n      EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n      EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n    }\n  };\n  ColorPicker.prototype.roundValue = function (value) {\n    if (!value) {\n      return '';\n    }\n    if (value[0] !== '#') {\n      value = '#' + value;\n    }\n    var len = value.length;\n    if (len === 4) {\n      value += 'f';\n      len = 5;\n    }\n    if (len === 5) {\n      var tempValue = '';\n      for (var i = 1, len_1 = value.length; i < len_1; i++) {\n        tempValue += value.charAt(i) + value.charAt(i);\n      }\n      value = '#' + tempValue;\n      len = 9;\n    }\n    if (len === 7) {\n      value += 'ff';\n    }\n    return value;\n  };\n  ColorPicker.prototype.hexToRgb = function (hex) {\n    if (!hex) {\n      return [];\n    }\n    hex = hex.trim();\n    if (hex.length !== 9) {\n      hex = this.roundValue(hex);\n    }\n    var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n    hex = hex.slice(1, 7);\n    var bigInt = parseInt(hex, 16);\n    var h = [];\n    h.push(bigInt >> 16 & 255);\n    h.push(bigInt >> 8 & 255);\n    h.push(bigInt & 255);\n    h.push(opacity);\n    return h;\n  };\n  ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n    if (this.rgb && !this.rgb.length) {\n      return [];\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h;\n    var v = max;\n    var d = max - min;\n    var s = max === 0 ? 0 : d / max;\n    if (max === min) {\n      h = 0;\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n    var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n    if (!isNullOrUndefined(opacity)) {\n      hsv.push(opacity);\n    }\n    return hsv;\n  };\n  ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n    var r;\n    var g;\n    var b;\n    s /= 100;\n    v /= 100;\n    if (s === 0) {\n      r = g = b = v;\n      return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n    }\n    h /= 60;\n    var i = Math.floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - s * f);\n    var t = v * (1 - s * (1 - f));\n    switch (i) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      default:\n        r = v;\n        g = p;\n        b = q;\n    }\n    var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n    if (!isNullOrUndefined(opacity)) {\n      rgb.push(opacity);\n    }\n    return rgb;\n  };\n  ColorPicker.prototype.rgbToHex = function (rgb) {\n    return rgb.length ? '#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) + (!isNullOrUndefined(rgb[3]) ? rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00' : '') : '';\n  };\n  ColorPicker.prototype.hex = function (x) {\n    return ('0' + x.toString(16)).slice(-2);\n  };\n  ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n    var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n    if (prop) {\n      if (ctrlSwitchWrapper) {\n        this.appendModeSwitchBtn();\n      } else {\n        this.createCtrlBtn();\n        if (this.isPicker() && !this.disabled) {\n          this.addCtrlSwitchEvent();\n        }\n      }\n    } else {\n      if (ctrlSwitchWrapper) {\n        if (this.showButtons) {\n          detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n        } else {\n          remove(ctrlSwitchWrapper);\n        }\n      }\n    }\n  };\n  ColorPicker.prototype.changeShowBtnProps = function (prop) {\n    var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n    if (prop) {\n      if (ctrlBtnWrapper) {\n        remove(ctrlBtnWrapper);\n      }\n      this.createCtrlBtn();\n      if (this.isPicker() && !this.disabled) {\n        this.addCtrlSwitchEvent();\n      }\n    } else {\n      if (this.modeSwitcher) {\n        detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n      } else {\n        remove(ctrlBtnWrapper);\n      }\n    }\n  };\n  ColorPicker.prototype.changeValueProp = function (newProp) {\n    if (this.isPicker()) {\n      this.rgb = this.hexToRgb(newProp);\n      this.hsv = this.rgbToHsv.apply(this, this.rgb);\n      this.setHandlerPosition();\n      detach(closest(this.hueSlider.element, '.e-slider-preview'));\n      this.createSlider();\n      this.setHsvContainerBg();\n      this.updateInput(newProp);\n      if (this.rgb.length === 4) {\n        this.updateOpacityInput(this.rgb[3] * 100);\n      }\n    } else {\n      this.removeTileSelection();\n      var ele = this.container.querySelector('span[aria-label=\"' + this.roundValue(newProp) + '\"]');\n      if (ele) {\n        this.addTileSelection(ele);\n      }\n    }\n  };\n  ColorPicker.prototype.setInputEleProps = function () {\n    remove(select('.' + INPUTWRAPPER, this.container));\n    this.createInput();\n  };\n  ColorPicker.prototype.changeDisabledProp = function (newProp) {\n    if (this.isPicker()) {\n      this.hueSlider.enabled = !newProp;\n      this.opacitySlider.enabled = !newProp;\n      this.setInputEleProps();\n    }\n    if (newProp) {\n      this.toggleDisabled(true);\n      this.unWireEvents();\n    } else {\n      this.toggleDisabled(false);\n      this.wireEvents();\n    }\n  };\n  ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n    var wrapper = this.getWrapper();\n    var popupWrapper = this.getPopupEle();\n    if (oldProp) {\n      removeClass([wrapper, popupWrapper], oldProp.split(' '));\n    }\n    if (newProp) {\n      addClass([wrapper, popupWrapper], newProp.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n  };\n  ColorPicker.prototype.changeRtlProps = function (newProp) {\n    if (newProp) {\n      addClass([this.getWrapper()], 'e-rtl');\n    } else {\n      removeClass([this.getWrapper()], 'e-rtl');\n    }\n  };\n  ColorPicker.prototype.changePaletteProps = function () {\n    detach(this.container.children[0]);\n    this.container.style.width = '';\n    this.createPalette();\n  };\n  ColorPicker.prototype.changeOpacityProps = function (newProp) {\n    var wrapper = this.getWrapper();\n    if (newProp) {\n      removeClass([this.container.parentElement], HIDEOPACITY);\n      this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', {\n        className: 'e-opacity-slider'\n      })));\n      if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n        this.appendOpacityValue(select('.e-input-container', this.container));\n      }\n    } else {\n      addClass([this.container.parentElement], HIDEOPACITY);\n      this.opacitySlider.destroy();\n      remove(this.opacitySlider.element);\n      this.opacitySlider = null;\n      if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n        remove(select('.' + OPACITY, this.container).parentElement);\n      }\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {ColorPickerModel} newProp - Specifies new properties\n   * @param  {ColorPickerModel} oldProp - Specifies old properties\n   * @returns {void}\n   * @private\n   */\n  ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n    if (!isNullOrUndefined(newProp.value)) {\n      var value = this.roundValue(newProp.value);\n      if (value.length === 9) {\n        this.element.value = this.roundValue(value).slice(0, 7);\n        var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n        if (preview) {\n          preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(newProp.value));\n        }\n      } else if (this.noColor && this.mode === 'Palette' && this.value === '') {\n        var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n        preview.style.backgroundColor = '';\n      } else {\n        this.value = oldProp.value;\n      }\n    }\n    if (!this.inline && isNullOrUndefined(newProp.inline)) {\n      var otherCompModel = ['disabled', 'enableRtl'];\n      this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n      if (!this.isPopupOpen()) {\n        this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n        this.changeRtlProps(newProp.enableRtl);\n        return;\n      }\n    }\n    var _loop_1 = function (prop) {\n      switch (prop) {\n        case 'inline':\n          if (newProp.inline) {\n            this_1.getWrapper().appendChild(this_1.container);\n            this_1.splitBtn.destroy();\n            detach(this_1.element.nextElementSibling);\n            if (!this_1.container.children.length) {\n              this_1.createWidget();\n            }\n          } else {\n            this_1.destroyOtherComp();\n            this_1.unWireEvents();\n            this_1.container.innerHTML = '';\n            this_1.createSplitBtn();\n          }\n          break;\n        case 'cssClass':\n          {\n            this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n            var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n            props = props.reduce(function (a, b) {\n              if (a.indexOf(b) < 0) {\n                a.push(b);\n              }\n              return a;\n            }, []);\n            var count_1 = 0;\n            props.forEach(function (cls) {\n              if (count_1 === 0 && (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                if (inputWrap) {\n                  remove(select('.' + INPUTWRAPPER, _this.container));\n                }\n                _this.createInput();\n                count_1++;\n              }\n            });\n            break;\n          }\n        case 'enableRtl':\n          if (this_1.isPicker()) {\n            this_1.hueSlider.enableRtl = newProp.enableRtl;\n            if (this_1.enableOpacity) {\n              this_1.opacitySlider.enableRtl = newProp.enableRtl;\n            }\n            this_1.setInputEleProps();\n          }\n          this_1.changeRtlProps(newProp.enableRtl);\n          break;\n        case 'disabled':\n          this_1.changeDisabledProp(newProp.disabled);\n          break;\n        case 'value':\n          if (this_1.value !== oldProp.value) {\n            this_1.changeValueProp(newProp.value);\n          }\n          break;\n        case 'showButtons':\n          this_1.changeShowBtnProps(newProp.showButtons);\n          break;\n        case 'mode':\n          if (newProp.mode === 'Picker') {\n            this_1.switchToPicker();\n          } else {\n            this_1.switchToPalette();\n          }\n          break;\n        case 'modeSwitcher':\n          this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n          break;\n        case 'columns':\n        case 'presetColors':\n          if (!this_1.isPicker()) {\n            this_1.changePaletteProps();\n          }\n          break;\n        case 'noColor':\n          if (newProp.noColor) {\n            if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n              this_1.setNoColor();\n            }\n          } else {\n            this_1.changePaletteProps();\n          }\n          break;\n        case 'enableOpacity':\n          this_1.changeOpacityProps(newProp.enableOpacity);\n          break;\n        case 'showRecentColors':\n          if (!newProp.showRecentColors) {\n            var recentClrWpr = this_1.container.querySelector('.e-clr-pal-rec-wpr');\n            if (recentClrWpr) {\n              detach(recentClrWpr);\n            }\n          }\n          this_1.recentColors = [];\n          break;\n      }\n    };\n    var this_1 = this;\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      _loop_1(prop);\n    }\n  };\n  /**\n   * Sets the focus to Colorpicker\n   * its native method\n   *\n   * @public\n   * @returns {void}\n   */\n  ColorPicker.prototype.focusIn = function () {\n    this.element.parentElement.focus();\n  };\n  __decorate([Property('#008000ff')], ColorPicker.prototype, \"value\", void 0);\n  __decorate([Property('')], ColorPicker.prototype, \"cssClass\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"disabled\", void 0);\n  __decorate([Property('Picker')], ColorPicker.prototype, \"mode\", void 0);\n  __decorate([Property(true)], ColorPicker.prototype, \"modeSwitcher\", void 0);\n  __decorate([Property(null)], ColorPicker.prototype, \"presetColors\", void 0);\n  __decorate([Property(true)], ColorPicker.prototype, \"showButtons\", void 0);\n  __decorate([Property(10)], ColorPicker.prototype, \"columns\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"inline\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"noColor\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(true)], ColorPicker.prototype, \"enableOpacity\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"createPopupOnClick\", void 0);\n  __decorate([Property(false)], ColorPicker.prototype, \"showRecentColors\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"select\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"change\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"beforeTileRender\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"beforeOpen\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"open\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"beforeClose\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"onModeSwitch\", void 0);\n  __decorate([Event()], ColorPicker.prototype, \"created\", void 0);\n  ColorPicker = __decorate([NotifyPropertyChanges], ColorPicker);\n  return ColorPicker;\n}(Component);\nexport { ColorPicker };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Event","NotifyPropertyChanges","Property","Browser","closest","detach","EventHandler","getInstance","select","selectAll","formatUnit","addClass","attributes","classList","isNullOrUndefined","L10n","remove","removeClass","rippleEffect","SplitButton","getModel","Deferred","Tooltip","getZindexPartial","Popup","isCollide","Input","NumericTextBox","Slider","APPLY","CANCEL","CURRENT","CONTAINER","CTRLBTN","CTRLSWITCH","DISABLED","FORMATSWITCH","HANDLER","HEX","HIDEHEX","HIDEOPACITY","HIDERGBA","HIDEVALUE","HIDEVALUESWITCH","HSVAREA","HSVCONTAINER","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PALETTES","PALETTECONTENT","PICKERCONTENT","PREVIEW","PREVIOUS","RTL","SHOWVALUE","SELECT","SPLITPREVIEW","TILE","presets","default","ColorPicker","_super","options","element","_this","call","recentColors","preRender","ele","formElement","add","formResetHandler","localeText","Apply","Cancel","ModeSwitcher","RecentColors","l10n","locale","getAttribute","setAttribute","id","render","initWrapper","inline","createWidget","createSplitBtn","enableOpacity","container","parentElement","renderComplete","wrapper","createElement","className","getModuleName","parentNode","insertBefore","appendChild","getWrapper","value","roundValue","toLowerCase","noColor","mode","slicedValue","slice","initialInputValue","setProperties","enableRtl","cssClass","replace","trim","split","tileRipple","selector","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","focus","isRgb","createInput","createCtrlBtn","disabled","wireEvents","toggleDisabled","isDevice","refreshPopupPos","splitButton","splitBtn","iconCss","createPopupOnClick","open","onOpen","bind","click","ev","MouseEvent","bubbles","cancelable","trigger","currentValue","hex","rgba","convertToRgbString","hexToRgb","previousValue","event","appendTo","preview","style","backgroundColor","popupEle","getPopupEle","popupInst","getPopupInst","relateTo","document","body","position","X","Y","targetType","collision","offsetY","zIndex","toString","bindCallBackEvent","beforeOpen","args","callBackPromise","observeOpenArgs","cancel","top","pageYOffset","left","pageXOffset","display","modal","Number","resolve","beforeClose","beforeCloseArgs","observedCloseArgs","onPopupClose","type","keyCode","unWireEvents","destroyOtherComp","width","innerHTML","outerHTML","presetColors","paletteGroup","appendElement","keys","appendPalette","len","modeSwitcher","setNoColor","showRecentColors","renderRecentColor","parseInt","getComputedStyle","borderBottomWidth","children","offsetWidth","rgb","hsv","rgbToHsv","apply","recentClrWpr","querySelector","recentColorWrapper","refEle","recentClrSpan","textContent","getConstant","filter","item","index","indexOf","pop","colors","palette","attrs","row","tile","roundedColor","columns","presetName","addTileSelection","noColorEle","forEach","attr","removeAttribute","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","h","getHsvContainer","hsvToRgb","hsvArea","Math","abs","offsetHeight","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","min","max","enabled","change","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","direction","opacityEle","background","convertToOtherFormat","pValue","rgbToHex","cValue","updateOpacityInput","updatePreview","triggerEvent","contains","opacityTextBoxInst","dataBind","parentEle","previewContainer","colorValue","isPicker","createNumericInput","label","numericInput","placeholder","format","showSpinButton","floatLabelType","readonly","inputHandler","inputWrap","appendValueSwitchBtn","hexInput","properties","setValue","addEventListener","clsName","appendOpacityValue","targetEle","valueSwitchBtn","formatSwitchHandler","showButtons","setLocale","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","title","tooltip","opensOn","showTipPointer","htmlAttributes","tooltipEle","animation","effect","close","getTooltipInst","setTooltipOffset","enable","join","convertToHsvString","updateHsv","isKey","e","updateInput","substr","updateValue","removeTileSelection","selectedEle","convertRgbToNumberArray","map","n","parseFloat","getValue","toggle","closePopup","getPersistData","addOnPersist","pickerKeyDown","ctrlBtn","ctrlBtnKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","ctrlSwitchBtn","btnClickHandler","applyBtn","triggerChangeEvent","handlerDragPosition","preventDefault","enterKeyHandler","observedcloseArgs","unshift","prob","ctrlKey","clientX","pageX","clientY","pageY","changedTouches","setHsv","transition","handlerMove","handlerEnd","x","y","refresh","transform","cursor","getBoundingClientRect","right","round","offsetTop","offsetLeft","stopPropagation","switchToPalette","ctrlBtnClick","refreshImageEditorPopupPos","btnElem","ej2_instances","refreshPosition","idx","inst","toUpperCase","noColorTile","switchToPicker","grpEle","tiles","prevSelectedEle","altKey","tilePosition","keySelectionChanges","childElementCount","newEle","items","cIdx","emptyCount","inputValueChange","destroy","isPopupOpen","nextElementSibling","popup","numericElemColl","querySelectorAll","tooltipInst","tempValue","len_1","charAt","opacity","toFixed","bigInt","push","g","v","s","floor","f","q","t","changeModeSwitcherProp","prop","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","newProp","setInputEleProps","changeDisabledProp","changeCssClassProps","oldProp","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","onPropertyChanged","otherCompModel","_loop_1","this_1","props","concat","reduce","a","count_1","cls","_i","_a","focusIn"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable prefer-spread */\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Deferred } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup, isCollide } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.recentColors = [];\n        return _this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var ele = this.element;\n        this.formElement = closest(this.element, 'form');\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode', RecentColors: 'Recent colors' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n        if (ele.getAttribute('ejs-for') && !ele.getAttribute('name')) {\n            ele.setAttribute('name', ele.id);\n        }\n    };\n    /**\n     * To Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n        this.renderComplete();\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false', 'aria-label': 'colorpicker' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        if (this.noColor && this.mode === 'Palette' && this.value === '') {\n            value = '';\n        }\n        var slicedValue = value.slice(0, 7);\n        if (isNullOrUndefined(this.initialInputValue)) {\n            this.initialInputValue = slicedValue;\n        }\n        this.element.value = slicedValue;\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': slicedValue }, true);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            createPopupOnClick: this.createPopupOnClick,\n            open: this.onOpen.bind(this),\n            click: function () {\n                var ev = new MouseEvent('click', { bubbles: true, cancelable: false });\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }, value: _this.value, event: ev\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        this.splitBtn.element.setAttribute('aria-label', 'colorpicker');\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (Browser.isDevice && !this.createPopupOnClick) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n        this.bindCallBackEvent();\n    };\n    ColorPicker.prototype.onOpen = function () {\n        this.trigger('open', { element: this.container });\n        if (!Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            var collision = isCollide(popupInst.element);\n            if (collision.length > 0) {\n                popupInst.collision = { X: 'flip', Y: 'fit' };\n                popupInst.position = { X: 'right', Y: 'bottom' };\n                popupInst.targetType = 'container';\n            }\n        }\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.bindCallBackEvent = function () {\n        var _this = this;\n        this.splitBtn.beforeOpen = function (args) {\n            var callBackPromise = new Deferred();\n            _this.trigger('beforeOpen', args, function (observeOpenArgs) {\n                if (!observeOpenArgs.cancel) {\n                    var popupEle = _this.getPopupEle();\n                    popupEle.style.top = formatUnit(0 + pageYOffset);\n                    popupEle.style.left = formatUnit(0 + pageXOffset);\n                    popupEle.style.display = 'block';\n                    _this.createWidget();\n                    popupEle.style.display = '';\n                    if (Browser.isDevice) {\n                        if (_this.createPopupOnClick) {\n                            var popupInst = _this.getPopupInst();\n                            popupInst.relateTo = document.body;\n                            popupInst.position = { X: 'center', Y: 'center' };\n                            popupInst.targetType = 'container';\n                            popupInst.collision = { X: 'fit', Y: 'fit' };\n                            popupInst.offsetY = 4;\n                            popupEle.style.zIndex = getZindexPartial(_this.splitBtn.element).toString();\n                        }\n                        _this.modal = _this.createElement('div');\n                        _this.modal.className = 'e-' + _this.getModuleName() + ' e-modal';\n                        _this.modal.style.display = 'none';\n                        document.body.insertBefore(_this.modal, popupEle);\n                        document.body.className += ' e-colorpicker-overflow';\n                        _this.modal.style.display = 'block';\n                        _this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n                    }\n                }\n                args.cancel = observeOpenArgs.cancel;\n                callBackPromise.resolve(observeOpenArgs);\n            });\n            return callBackPromise;\n        };\n        this.splitBtn.beforeClose = function (args) {\n            var callBackPromise = new Deferred();\n            if (!isNullOrUndefined(args.event)) {\n                var beforeCloseArgs = { element: _this.container, event: args.event, cancel: false };\n                _this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    if (Browser.isDevice && args.event.target === _this.modal) {\n                        observedCloseArgs.cancel = true;\n                    }\n                    if (!observedCloseArgs.cancel) {\n                        _this.onPopupClose();\n                        if (args.event.type === 'keydown' && args.event.keyCode === 27) {\n                            _this.splitBtn.element.focus();\n                        }\n                    }\n                    args.cancel = observedCloseArgs.cancel;\n                    callBackPromise.resolve(observedCloseArgs);\n                });\n            }\n            else {\n                callBackPromise.resolve(args);\n            }\n            return callBackPromise;\n        };\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        if (this.showRecentColors && this.recentColors && this.recentColors.length > 0) {\n            this.renderRecentColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.renderRecentColor = function () {\n        var _this = this;\n        var recentClrWpr = this.container.querySelector('.e-clr-pal-rec-wpr');\n        if (recentClrWpr) {\n            detach(recentClrWpr);\n        }\n        var recentColorWrapper = this.createElement('div', { className: 'e-clr-pal-rec-wpr' });\n        var refEle = this.container.querySelector('.e-switch-ctrl-btn');\n        if (refEle) {\n            this.container.insertBefore(recentColorWrapper, refEle);\n        }\n        else {\n            this.container.appendChild(recentColorWrapper);\n        }\n        var recentClrSpan = this.createElement('label', { className: 'e-recent-clr-span' });\n        recentClrSpan.textContent = this.l10n.getConstant('RecentColors');\n        recentColorWrapper.appendChild(recentClrSpan);\n        if (this.recentColors.length > 0) {\n            this.recentColors = this.recentColors.filter(function (item, index) { return _this.recentColors.indexOf(item) === index; });\n            while (this.recentColors.length > 10) {\n                this.recentColors.pop();\n            }\n            this.appendPalette(this.recentColors, 'recent-color', recentColorWrapper);\n        }\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0', 'role': 'grid' } });\n        if (key === 'recent-color') {\n            palette.classList.add('e-recent-palette');\n        }\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor && key !== 'recent-color') {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = this.container.querySelector('.e-row').children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        if (refEle) {\n            this.container.insertBefore(ele, refEle);\n        }\n        else {\n            this.container.appendChild(ele);\n        }\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        if (ele) {\n            ele.classList.add(SELECT);\n            ele.setAttribute('aria-selected', 'true');\n        }\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        if (this.value === null || this.value === '') {\n            this.value = '#008000ff';\n        }\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit((hsvArea.offsetWidth - dragHandler.offsetWidth / 2.5) * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit((hsvArea.offsetWidth - dragHandler.offsetWidth / 2.5) * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit((hsvArea.offsetHeight - dragHandler.offsetHeight / 2.5) * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        var opacityEle = select('.e-opacity-empty-track', this.opacitySlider.element);\n        if (opacityEle) {\n            opacityEle.style.background =\n                'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                    this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n        }\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        this.updateOpacityInput(value);\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.updateOpacityInput = function (value) {\n        if (this.enableOpacity && !this.getWrapper().classList.contains(HIDEVALUE)) {\n            var opacityTextBoxInst = getInstance(select('.' + OPACITY, this.container), NumericTextBox);\n            opacityTextBoxInst.value = value;\n            opacityTextBoxInst.dataBind();\n        }\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            if (isPicker) {\n                this.appendElement(inputWrap, 2);\n            }\n            else {\n                this.appendElement(inputWrap, 1);\n            }\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false', 'aria-label': 'HEX' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', {\n            className: 'e-icons e-css e-btn e-flat e-icon-btn ' + FORMATSWITCH,\n            attrs: { 'title': 'Toggle format' }\n        });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-css e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-css e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            htmlAttributes: { title: 'tooltip' },\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        this.tooltipEle.setAttribute('aria-label', 'colorpicker-tooltip');\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        if (enable) {\n            this.getWrapper().classList.add(DISABLED);\n        }\n        else {\n            this.getWrapper().classList.remove(DISABLED);\n        }\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                if (enable) {\n                    attributes(ele, { 'disabled': '' });\n                }\n                else {\n                    ele.removeAttribute('disabled');\n                }\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey, e) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey, e);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     *\n     * @param {string} value - Specify the color value.\n     * @param {string} type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @returns {string} - Color value\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     *\n     * @method toggle\n     * @returns {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        if (this.container.parentElement.classList.contains('e-popup-close')) {\n            this.splitBtn.toggle();\n        }\n        else {\n            this.closePopup(null);\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            var ctrlBtn = select('.' + CTRLBTN, this.container);\n            if (ctrlBtn) {\n                EventHandler.add(ctrlBtn, 'keydown', this.ctrlBtnKeyDown, this);\n            }\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.formResetHandler = function () {\n        this.value = this.initialInputValue;\n        attributes(this.element, { 'value': this.initialInputValue });\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        var ctrlSwitchBtn = select('.' + CTRLSWITCH, this.container);\n        if (ctrlSwitchBtn) {\n            EventHandler.add(ctrlSwitchBtn, 'click', this.btnClickHandler, this);\n        }\n    };\n    ColorPicker.prototype.ctrlBtnKeyDown = function (e) {\n        if (e.keyCode === 13) {\n            var applyBtn = select('.' + APPLY, this.container);\n            if (applyBtn) {\n                var cValue = this.rgbToHex(this.rgb);\n                this.triggerChangeEvent(cValue);\n            }\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13: {\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue);\n            }\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                _this.splitBtn.toggle();\n                _this.onPopupClose();\n            }\n        });\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value, e) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) }, event: e,\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) },\n            value: this.enableOpacity ? value : hex\n        });\n        if (this.showRecentColors) {\n            this.recentColors.unshift(hex);\n            if (this.inline) {\n                this.renderRecentColor();\n            }\n        }\n        if (this.enableOpacity) {\n            this.setProperties({ 'value': value }, true);\n        }\n        else {\n            this.setProperties({ 'value': hex }, true);\n        }\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true, e);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat(false, e);\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        this.updateHsv();\n        this.convertToOtherFormat(false, e);\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        //for image editor popup position refreshing\n        if (this.element.parentElement && this.element.parentElement.parentElement && this.element.parentElement.parentElement.classList.contains('e-ie-ddb-popup')) {\n            this.refreshImageEditorPopupPos();\n        }\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Palette' });\n    };\n    //for image editor popup position refreshing\n    ColorPicker.prototype.refreshImageEditorPopupPos = function () {\n        if (Browser.isDevice) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            var btnElem = document.querySelector(\"#\" + this.element.parentElement.parentElement.id.split('-popup')[0]);\n            if (btnElem) {\n                //eslint-disable-next-line @typescript-eslint/no-explicit-any\n                popupEle.parentElement.ej2_instances[0].refreshPosition(btnElem);\n            }\n        }\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function () {\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), false, e);\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), false, e);\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler();\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (this.container.querySelector('.e-clr-pal-rec-wpr')) {\n            detach(this.container.querySelector('.e-clr-pal-rec-wpr'));\n        }\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        //for image editor popup position refreshing\n        if (this.element.parentElement && this.element.parentElement.parentElement && this.element.parentElement.parentElement.classList.contains('e-ie-ddb-popup')) {\n            this.refreshImageEditorPopupPos();\n        }\n        this.wireEvents();\n        this.trigger('onModeSwitch', { element: this.container, mode: 'Picker' });\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue, e);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n        else if (ele.classList.contains(CANCEL)) {\n            var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n            this.trigger('beforeClose', beforeCloseArgs);\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '');\n                }\n                break;\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        if (idx < 0) {\n            idx += n + emptyCount;\n        }\n        else {\n            idx %= n + emptyCount;\n        }\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX': {\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value, e);\n                }\n                else {\n                    return;\n                }\n                break;\n            }\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue, null, e);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue, null, e);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue, null, e);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat(false, e);\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat(false, e);\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value, e) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba, false, e);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey, e) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        if (isNullOrUndefined(e)) {\n            e = new MouseEvent('click', { bubbles: true, cancelable: false });\n        }\n        if (!this.showButtons && !isKey) {\n            this.trigger('change', { currentValue: { hex: hex, rgba: rgba }, event: e,\n                previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }, value: cValue });\n            if (this.showRecentColors) {\n                this.recentColors.unshift(hex);\n                if (this.inline) {\n                    this.renderRecentColor();\n                }\n            }\n            if (this.enableOpacity) {\n                this.setProperties({ 'value': cValue }, true);\n            }\n            else {\n                this.setProperties({ 'value': hex }, true);\n            }\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', {\n                currentValue: { hex: hex, rgba: rgba }, event: e,\n                previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n            });\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        if (this.element.nextElementSibling) {\n            detach(this.element.nextElementSibling);\n        }\n        if (wrapper) {\n            wrapper.parentElement.insertBefore(this.element, wrapper);\n            detach(wrapper);\n        }\n        this.container = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            var popup = closest(this.hueSlider.element, '.e-color-picker');\n            var numericElemColl = popup.querySelectorAll('.e-numerictextbox');\n            for (var i = 0; i < numericElemColl.length; i++) {\n                getInstance(numericElemColl[i], NumericTextBox).destroy();\n            }\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            var ctrlBtn = select('.' + CTRLBTN, this.container);\n            if (ctrlBtn) {\n                EventHandler.remove(ctrlBtn, 'keydown', this.ctrlBtnKeyDown);\n            }\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var v = max;\n        var d = max - min;\n        var s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        var i = Math.floor(h);\n        var f = h - i;\n        var p = v * (1 - s);\n        var q = v * (1 - s * f);\n        var t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n            if (this.rgb.length === 4) {\n                this.updateOpacityInput(this.rgb[3] * 100);\n            }\n        }\n        else {\n            this.removeTileSelection();\n            var ele = this.container.querySelector('span[aria-label=\"' + this.roundValue(newProp) + '\"]');\n            if (ele) {\n                this.addTileSelection(ele);\n            }\n        }\n    };\n    ColorPicker.prototype.setInputEleProps = function () {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps();\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ColorPickerModel} newProp - Specifies new properties\n     * @param  {ColorPickerModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (!isNullOrUndefined(newProp.value)) {\n            var value = this.roundValue(newProp.value);\n            if (value.length === 9) {\n                this.element.value = this.roundValue(value).slice(0, 7);\n                var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n                if (preview) {\n                    preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(newProp.value));\n                }\n            }\n            else if (this.noColor && this.mode === 'Palette' && this.value === '') {\n                var preview = this.splitBtn && select('.' + SPLITPREVIEW, this.splitBtn.element);\n                preview.style.backgroundColor = '';\n            }\n            else {\n                this.value = oldProp.value;\n            }\n        }\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass': {\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                }\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps();\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    if (this_1.value !== oldProp.value) {\n                        this_1.changeValueProp(newProp.value);\n                    }\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n                case 'showRecentColors':\n                    if (!newProp.showRecentColors) {\n                        var recentClrWpr = this_1.container.querySelector('.e-clr-pal-rec-wpr');\n                        if (recentClrWpr) {\n                            detach(recentClrWpr);\n                        }\n                    }\n                    this_1.recentColors = [];\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    /**\n     * Sets the focus to Colorpicker\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    ColorPicker.prototype.focusIn = function () {\n        this.element.parentElement.focus();\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"createPopupOnClick\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"showRecentColors\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"onModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
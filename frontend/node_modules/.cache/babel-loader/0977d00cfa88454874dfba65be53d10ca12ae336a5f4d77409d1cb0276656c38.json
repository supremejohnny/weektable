{"ast":null,"code":"import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, select, removeClass } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren, parentsUntil, addRemoveEventListener, applyBiggerTheme } from '../base/util';\nimport { ResponsiveToolbarAction } from '../base/enum';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { SearchBox } from '../services/focus-strategy';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Toolbar` module is used to handle ToolBar actions.\n */\nvar Toolbar = /** @class */function () {\n  function Toolbar(parent, serviceLocator) {\n    this.predefinedItems = {};\n    this.isSearched = false;\n    this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search', 'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n    this.isRightToolbarMenu = false;\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  Toolbar.prototype.render = function () {\n    this.l10n = this.serviceLocator.getService('localization');\n    var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n    var isAdaptive = this.parent.enableAdaptiveUI;\n    var excludingItems = ['Edit', 'Delete', 'Update', 'Cancel'];\n    for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n      var item = preItems_1[_i];\n      var itemStr = item.toLowerCase();\n      var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n      this.predefinedItems[\"\" + item] = {\n        id: this.gridID + '_' + itemStr,\n        prefixIcon: 'e-' + itemStr,\n        text: this.l10n.getConstant(localeName),\n        tooltipText: this.l10n.getConstant(localeName)\n      };\n      if (isAdaptive) {\n        this.predefinedItems[\"\" + item].text = '';\n        this.predefinedItems[\"\" + item].visible = excludingItems.indexOf(item) === -1;\n      }\n    }\n    this.predefinedItems.Search = {\n      id: this.gridID + '_search',\n      tooltipText: this.l10n.getConstant('Search'),\n      align: 'Right',\n      cssClass: 'e-search-wrapper',\n      type: 'Input'\n    };\n    this.isRightToolbarMenu = false;\n    if (this.parent.enableAdaptiveUI && this.isResponsiveToolbarMenuItems(true) && (this.parent.rowRenderingMode === 'Horizontal' || this.parent.rowRenderingMode === 'Vertical' && !this.parent.allowFiltering && !this.parent.allowSorting)) {\n      this.isRightToolbarMenu = true;\n    }\n    if (isAdaptive && this.isResponsiveToolbarMenuItems(false)) {\n      this.predefinedItems.responsiveToolbarItems = {\n        id: this.gridID + '_' + 'responsivetoolbaritems',\n        cssClass: 'e-responsive-toolbar-items e-menu-toolbar',\n        suffixIcon: 'e-' + 'responsivetoolbaritems-btn',\n        align: this.isRightToolbarMenu ? 'Left' : 'Right'\n      };\n    } else {\n      this.predefinedItems.ColumnChooser = {\n        id: this.gridID + '_' + 'columnchooser',\n        cssClass: 'e-cc e-ccdiv e-cc-toolbar',\n        suffixIcon: 'e-' + 'columnchooser-btn',\n        text: isAdaptive ? '' : this.l10n.getConstant('Columnchooser'),\n        tooltipText: this.l10n.getConstant('Columnchooser'),\n        align: 'Right'\n      };\n    }\n    if (this.parent.rowRenderingMode === 'Vertical') {\n      if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n        this.predefinedItems.responsiveFilter = {\n          id: this.gridID + '_' + 'responsivefilter',\n          cssClass: 'e-gridresponsiveicons e-icons',\n          suffixIcon: 'e-' + 'resfilter-icon',\n          tooltipText: this.l10n.getConstant('FilterIcon')\n        };\n      }\n      if (this.parent.allowSorting) {\n        this.predefinedItems.responsiveSort = {\n          id: this.gridID + '_' + 'responsivesort',\n          cssClass: 'e-gridresponsiveicons e-icons',\n          suffixIcon: 'e-' + 'ressort-icon',\n          tooltipText: this.l10n.getConstant('SortIcon')\n        };\n      }\n    }\n    if (this.parent.enableAdaptiveUI && this.parent.toolbar && this.parent.toolbar.some(function (item) {\n      return typeof item === 'object' && item.text === 'Search' || item === 'Search';\n    })) {\n      this.predefinedItems.responsiveBack = {\n        id: this.gridID + '_' + 'responsiveback',\n        cssClass: 'e-gridresponsiveicons e-icons',\n        suffixIcon: 'e-' + 'resback-icon',\n        visible: false\n      };\n    }\n    this.createToolbar();\n    if (this.parent.enableAdaptiveUI) {\n      if (isNullOrUndefined(this.responsiveToolbarMenu)) {\n        this.renderResponsiveToolbarpopup();\n      }\n      if (this.toolbar.element) {\n        this.toolbar.refreshOverflow();\n      }\n    }\n  };\n  Toolbar.prototype.isResponsiveToolbarMenuItems = function (isRight) {\n    var items = isRight ? ['Add', 'Edit', 'Delete', 'Search'] : ['Print', 'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport'];\n    var toolbarItems = this.parent.toolbar || [];\n    for (var i = 0; i < items.length; i++) {\n      if (toolbarItems.indexOf(items[parseInt(i.toString(), 10)]) >= 0) {\n        return isRight ? false : true;\n      }\n    }\n    return isRight ? true : false;\n  };\n  /**\n   * Gets the toolbar of the Grid.\n   *\n   * @returns {Element} returns the element\n   * @hidden\n   */\n  Toolbar.prototype.getToolbar = function () {\n    return this.toolbar.element;\n  };\n  /**\n   * Destroys the ToolBar.\n   *\n   * @function destroy\n   * @returns {void}\n   */\n  Toolbar.prototype.destroy = function () {\n    if (this.toolbar && !this.toolbar.isDestroyed) {\n      if (this.responsiveToolbarMenu) {\n        this.responsiveToolbarMenu.destroy();\n      }\n      this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n      this.unWireEvent();\n      this.removeEventListener();\n      this.toolbar.created = null;\n      this.toolbar.clicked = null;\n      if (!this.toolbar.element) {\n        this.parent.destroyTemplate(['toolbarTemplate']);\n        if (this.parent.isReact) {\n          this.parent.renderTemplates();\n        }\n      } else {\n        this.toolbar.destroy();\n      }\n      if (this.parent.isAngular) {\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        this.toolbar[\"\" + viewStr] = null;\n        this.toolbar[\"\" + registerTemp] = null;\n      }\n      if (this.element.parentNode) {\n        remove(this.element);\n        this.toolbar = null;\n      }\n    }\n  };\n  Toolbar.prototype.bindSearchEvents = function () {\n    this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n    this.wireEvent();\n    this.refreshToolbarItems();\n    if (this.parent.searchSettings) {\n      this.updateSearchBox();\n    }\n  };\n  Toolbar.prototype.toolbarCreated = function (isNormal) {\n    if (this.element.querySelector('.e-search-wrapper')) {\n      if (!this.parent.enableAdaptiveUI || isNormal) {\n        var classList = this.parent.cssClass ? 'e-input-group e-search ' + this.parent.cssClass : 'e-input-group e-search';\n        this.element.querySelector('.e-search-wrapper').innerHTML = '<div class=\"' + classList + '\" role=\"search\">\\\n                    <input id=\"' + this.gridID + '_searchbar\" class=\"e-input e-search\" name=\"input\" type=\"search\" \\\n                    placeholder= \"' + this.l10n.getConstant('Search') + '\"/>\\\n                    <span id=\"' + this.gridID + '_clearbutton\" class=\"e-input-group-icon e-icons e-sicon\" \\\n                    tabindex=\"-1\" aria-label= \"clear\" role= \"button\" ></span>\\\n                    <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" role= \"search\"></span> \\\n                    </div>';\n      } else {\n        this.element.querySelector('.e-search-wrapper').innerHTML = '<span id=\"' + this.gridID + '_clearbutton\" class=\"e-input-group-icon e-icons e-sicon\" \\\n                    tabindex=\"-1\" role= \"button\" aria-label= \"clear\" ></span>\\\n                    <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" role= \"button\" title=\"' + this.l10n.getConstant('Search') + '\"></span> \\\n                    </div>';\n      }\n      this.element.querySelector('#' + this.gridID + '_clearbutton').style.cursor = 'default';\n    }\n    if (this.element.querySelector('.e-responsive-toolbar-items')) {\n      this.element.querySelector('.e-responsive-toolbar-items').innerHTML = '<button id=\"' + this.gridID + '_responsivetoolbaritems\" class=\"e-tbar-btn e-control e-btn e-lib e-icon-btn\" \\\n                    type=\"button\" data-ripple=\"true\" tabindex=\"-1\" data-tabindex=\"-1\" aria-label=\"responsivetoolbaritems\" \\\n                     aria-disabled=\"false\" ><span class=\"e-btn-icon e-responsivetoolbaritems-btn e-icons\"></span>';\n      this.element.querySelector('#' + this.gridID + '_responsivetoolbaritems').style.width = 'auto';\n    }\n    this.bindSearchEvents();\n  };\n  Toolbar.prototype.createToolbar = function () {\n    var items = this.getItems();\n    this.toolbar = new tool({\n      items: items,\n      clicked: this.toolbarClickHandler.bind(this),\n      enablePersistence: this.parent.enablePersistence,\n      enableRtl: this.parent.enableRtl,\n      created: this.toolbarCreated.bind(this),\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    this.toolbar.isReact = this.parent.isReact;\n    this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n    var isStringTemplate = 'isStringTemplate';\n    this.toolbar[\"\" + isStringTemplate] = true;\n    var viewStr = 'viewContainerRef';\n    var registerTemp = 'registeredTemplate';\n    if (this.parent[\"\" + viewStr]) {\n      this.toolbar[\"\" + registerTemp] = {};\n      this.toolbar[\"\" + viewStr] = this.parent[\"\" + viewStr];\n    }\n    this.element = this.parent.createElement('div', {\n      id: this.gridID + '_toolbarItems'\n    });\n    if (this.parent.enableAdaptiveUI) {\n      this.element.classList.add('e-res-toolbar');\n    }\n    if (this.parent.toolbarTemplate) {\n      var isVue = this.parent.isVue || this.parent.parentDetails && this.parent.parentDetails.parentInstObj && this.parent.parentDetails.parentInstObj.isVue;\n      if (typeof this.parent.toolbarTemplate === 'string' && !(isVue && !document.querySelectorAll(this.parent.toolbarTemplate).length) && document.querySelector(this.parent.toolbarTemplate) && document.querySelector(this.parent.toolbarTemplate).tagName.toLowerCase() !== 'script') {\n        this.toolbar.appendTo(this.parent.toolbarTemplate);\n        this.element = this.toolbar.element;\n      } else {\n        var isReactCompiler = this.parent.isReact && typeof this.parent.toolbarTemplate !== 'string' && !(this.parent.toolbarTemplate.prototype && this.parent.toolbarTemplate.prototype.CSPTemplate);\n        var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj && this.parent.parentDetails.parentInstObj.isReact;\n        var ID = this.parent.element.id + 'toolbarTemplate';\n        if (isReactCompiler || isReactChild) {\n          templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', ID, null, null, this.element);\n          this.parent.renderTemplates();\n        } else {\n          appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', null, null, null, null, this.parent.root));\n        }\n      }\n      this.element.classList.add('e-temp-toolbar');\n    } else {\n      this.toolbar.appendTo(this.element);\n    }\n    this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n    var tlbrLeftElement = this.element.querySelector('.e-toolbar-left');\n    var tlbrCenterElement = this.element.querySelector('.e-toolbar-center');\n    var tlbrRightElement = this.element.querySelector('.e-toolbar-right');\n    var tlbrItems = this.element.querySelector('.e-toolbar-items');\n    var tlbrElement = this.element;\n    var tlbrLeftWidth = tlbrLeftElement ? tlbrLeftElement.clientWidth : 0;\n    var tlbrCenterWidth = tlbrCenterElement ? tlbrCenterElement.clientWidth : 0;\n    var tlbrRightWidth = tlbrRightElement ? tlbrRightElement.clientWidth : 0;\n    var tlbrItemsWidth = tlbrItems ? tlbrItems.clientWidth : 0;\n    var tlbrWidth = tlbrElement ? tlbrElement.clientWidth : 0;\n    if (tlbrLeftWidth > tlbrWidth || tlbrCenterWidth > tlbrWidth || tlbrRightWidth > tlbrWidth || tlbrItemsWidth > tlbrWidth) {\n      this.toolbar.refreshOverflow();\n    }\n  };\n  Toolbar.prototype.addReactToolbarPortals = function (args) {\n    if (this.parent.isReact && args) {\n      this.parent.portals = this.parent.portals.concat(args);\n      this.parent.renderTemplates();\n    }\n  };\n  Toolbar.prototype.renderResponsiveSearch = function (isRender) {\n    if (isRender) {\n      this.toolbarCreated(true);\n      this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isSearch);\n      this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n      var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n      if (right) {\n        right.classList.add('e-responsive-right');\n      }\n      if (this.parent.searchSettings) {\n        this.updateSearchBox();\n      }\n    } else {\n      this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n    }\n    if (this.toolbar.element && this.toolbar.element.querySelector('.e-hscroll')) {\n      this.toolbar.refreshOverflow();\n    }\n    if (isRender) {\n      this.searchBoxObj.searchFocus({\n        target: this.searchElement\n      });\n      this.searchElement.focus();\n    }\n  };\n  Toolbar.prototype.refreshResponsiveToolbarItems = function (action) {\n    if (action === ResponsiveToolbarAction.isInitial) {\n      var id = this.parent.element.id;\n      var items = [id + '_edit', id + '_delete'];\n      var selectedRecords = this.parent.getSelectedRowIndexes();\n      var excludingItems = [id + '_responsiveback', id + '_update', id + '_cancel'];\n      for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var toolbarEle = item.template && item.template.length ? parentsUntil(this.toolbar.element.querySelector('#' + item.id), 'e-template').children[0] : this.toolbar.element.querySelector('#' + item.id);\n        if (toolbarEle) {\n          if (items.indexOf(item.id) > -1) {\n            if (selectedRecords.length) {\n              toolbarEle.parentElement.classList.remove('e-hidden');\n            } else {\n              toolbarEle.parentElement.classList.add('e-hidden');\n            }\n          } else {\n            if (excludingItems.indexOf(item.id) === -1 || excludingItems.indexOf(item.id) > 0 && this.parent.isEdit) {\n              toolbarEle.parentElement.classList.remove('e-hidden');\n            } else {\n              toolbarEle.parentElement.classList.add('e-hidden');\n            }\n          }\n        }\n      }\n      if (this.searchElement) {\n        var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n        if (right) {\n          right.classList.remove('e-responsive-right');\n        }\n        this.toolbarCreated(false);\n        this.unWireEvent();\n        this.searchElement = undefined;\n      }\n    }\n    if (action === ResponsiveToolbarAction.isSearch) {\n      var items = [this.parent.element.id + '_responsiveback', this.parent.element.id + '_search'];\n      for (var _b = 0, _c = this.toolbar.items; _b < _c.length; _b++) {\n        var item = _c[_b];\n        var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n        if (toolbarEle) {\n          if (items.indexOf(item.id) > -1) {\n            toolbarEle.parentElement.classList.remove('e-hidden');\n          } else {\n            toolbarEle.parentElement.classList.add('e-hidden');\n          }\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  /**\n   * Refreshes the toolbar items\n   *\n   * @param {RefreshToolbarItemsArgs} args - Defines the editSettings model and name.\n   * @returns {void}\n   * @hidden\n   */\n  Toolbar.prototype.refreshToolbarItems = function (args) {\n    var gObj = this.parent;\n    var enableItems = [];\n    var disableItems = [];\n    var edit = gObj.editSettings;\n    var hasData = gObj.currentViewData && gObj.currentViewData.length || gObj.editSettings.mode === 'Batch' && !isNullOrUndefined(gObj.editModule) && gObj.editModule.getBatchChanges()[literals.addedRecords].length;\n    var addRow = edit.showAddNewRow && !gObj.element.querySelector('.e-editedrow');\n    if (edit.allowAdding) {\n      enableItems.push(this.gridID + '_add');\n    } else {\n      disableItems.push(this.gridID + '_add');\n    }\n    if (edit.allowEditing && hasData) {\n      enableItems.push(this.gridID + '_edit');\n    } else {\n      disableItems.push(this.gridID + '_edit');\n    }\n    if (edit.allowDeleting && hasData) {\n      enableItems.push(this.gridID + '_delete');\n    } else {\n      disableItems.push(this.gridID + '_delete');\n    }\n    if (gObj.allowPdfExport && hasData) {\n      enableItems.push(this.gridID + '_pdfexport');\n    } else {\n      disableItems.push(this.gridID + '_pdfexport');\n    }\n    if (gObj.allowExcelExport && hasData) {\n      enableItems.push(this.gridID + '_excelexport');\n      enableItems.push(this.gridID + '_csvexport');\n    } else {\n      disableItems.push(this.gridID + '_excelexport');\n      disableItems.push(this.gridID + '_csvexport');\n    }\n    if (gObj.showColumnChooser) {\n      enableItems.push(this.gridID + '_columnchooser');\n    } else {\n      disableItems.push(this.gridID + '_columnchooser');\n    }\n    if (gObj.editSettings.mode === 'Batch') {\n      if (gObj.element.getElementsByClassName('e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n        enableItems.push(this.gridID + '_update');\n        enableItems.push(this.gridID + '_cancel');\n      } else {\n        disableItems.push(this.gridID + '_update');\n        disableItems.push(this.gridID + '_cancel');\n      }\n    } else {\n      if ((gObj.isEdit || edit.showAddNewRow) && (edit.allowAdding || edit.allowEditing)) {\n        enableItems = addRow ? [this.gridID + '_update', this.gridID + '_cancel', this.gridID + '_edit', this.gridID + '_delete'] : [this.gridID + '_update', this.gridID + '_cancel'];\n        disableItems = addRow ? [this.gridID + '_add'] : [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n      } else {\n        disableItems.push(this.gridID + '_update');\n        disableItems.push(this.gridID + '_cancel');\n      }\n    }\n    this.enableItems(enableItems, true);\n    this.enableItems(disableItems, false);\n  };\n  Toolbar.prototype.getItems = function () {\n    var items = [];\n    var toolbarItems = this.parent.toolbar || [];\n    if (typeof this.parent.toolbar === 'string') {\n      return [];\n    }\n    if (this.parent.rowRenderingMode === 'Vertical') {\n      if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n        items.push(this.getItemObject('responsiveFilter'));\n      }\n      if (this.parent.allowSorting) {\n        items.push(this.getItemObject('responsiveSort'));\n      }\n    }\n    for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n      var item = toolbarItems_1[_i];\n      if (this.parent.enableAdaptiveUI && ['Print', 'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport'].indexOf(item) !== -1) {\n        continue;\n      }\n      if (this.parent.enableAdaptiveUI && (typeof item === 'object' && item.text === 'Search' || item === 'Search')) {\n        items.push(this.getItemObject('responsiveBack'));\n      }\n      switch (typeof item) {\n        case 'number':\n          items.push(this.getItemObject(this.items[item]));\n          break;\n        case 'string':\n          items.push(this.getItemObject(item));\n          break;\n        default:\n          items.push(this.getItem(item));\n      }\n    }\n    if (this.parent.enableAdaptiveUI && this.isResponsiveToolbarMenuItems(false)) {\n      items.push(this.getItemObject('responsiveToolbarItems'));\n    }\n    return items;\n  };\n  Toolbar.prototype.getItem = function (itemObject) {\n    var item = this.predefinedItems[itemObject.text];\n    return item ? extend(item, item, itemObject) : itemObject;\n  };\n  Toolbar.prototype.getItemObject = function (itemName) {\n    return this.predefinedItems[\"\" + itemName] || {\n      text: itemName,\n      id: this.gridID + '_' + itemName\n    };\n  };\n  /**\n   * Enables or disables ToolBar items.\n   *\n   * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n   * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n   * @returns {void}\n   * @hidden\n   */\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var item = items_1[_i];\n      var element = select('#' + item, this.element);\n      if (element) {\n        this.toolbar.enableItems(element.closest('.e-toolbar-item'), isEnable);\n      }\n    }\n  };\n  Toolbar.prototype.toolbarClickHandler = function (args) {\n    var _this = this;\n    var gObj = this.parent;\n    var gID = this.gridID;\n    var originalEvent = args.originalEvent;\n    if (this.parent.enableAdaptiveUI && args.item.id === gID + '_responsivetoolbaritems') {\n      this.openResponsiveToolbarMenuPopup(originalEvent, args.item.id);\n    } else {\n      extend(args, {\n        cancel: false\n      });\n      var newArgs = args;\n      gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n        toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n        if (!toolbarargs.cancel) {\n          switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n            case gID + '_print':\n              gObj.print();\n              break;\n            case gID + '_edit':\n              gObj.startEdit();\n              break;\n            case gID + '_update':\n              gObj.endEdit();\n              break;\n            case gID + '_cancel':\n              gObj.closeEdit();\n              break;\n            case gID + '_add':\n              gObj.addRecord();\n              break;\n            case gID + '_delete':\n              gObj.deleteRecord();\n              break;\n            case gID + '_search':\n              if (toolbarargs.originalEvent.target.id === gID + '_searchbutton' && _this.searchElement) {\n                _this.search();\n              } else if (gObj.enableAdaptiveUI && !_this.searchElement && (toolbarargs.originalEvent.target.classList.contains('e-search-wrapper') || toolbarargs.originalEvent.target.id === gID + '_searchbutton')) {\n                _this.renderResponsiveSearch(true);\n              } else if (toolbarargs.originalEvent.target.classList.contains('e-clear-icon') && toolbarargs.originalEvent.target.id === gID + '_clearbutton' && _this.searchElement) {\n                _this.searchElement.value = '';\n                if (_this.searchElement) {\n                  _this.sIcon = _this.searchElement.parentElement.querySelector('.e-sicon');\n                  _this.sIcon.classList.remove('e-clear-icon');\n                  _this.sIcon.removeAttribute('title');\n                  _this.sIcon.style.cursor = 'default';\n                }\n                if (_this.isSearched || _this.parent.searchSettings.key.length) {\n                  _this.parent.search(_this.searchElement.value);\n                  _this.isSearched = false;\n                }\n              }\n              break;\n            case gID + '_columnchooser':\n              if (_this.parent.enableAdaptiveUI) {\n                gObj.showResponsiveCustomColumnChooser();\n              } else {\n                /* eslint-disable */\n                var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n                var y = tarElement.getBoundingClientRect().top;\n                var x = tarElement.getBoundingClientRect().left;\n                var targetEle = toolbarargs.originalEvent.target;\n                /* eslint-enable */\n                y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n                gObj.createColumnchooser(x, y, targetEle);\n              }\n              break;\n            case gID + '_responsivefilter':\n              gObj.notify(events.renderResponsiveChangeAction, {\n                action: 3\n              });\n              gObj.showResponsiveCustomFilter();\n              break;\n            case gID + '_responsivesort':\n              gObj.notify(events.renderResponsiveChangeAction, {\n                action: 2\n              });\n              gObj.showResponsiveCustomSort();\n              break;\n            case gID + '_responsiveback':\n              _this.renderResponsiveSearch(false);\n              _this.toolbar.refreshOverflow();\n              break;\n          }\n        }\n      });\n    }\n  };\n  Toolbar.prototype.openResponsiveToolbarMenuPopup = function (e, id) {\n    var pos = {\n      top: 0,\n      left: 0\n    };\n    this.toolbarMenuElement.style.cssText = 'display:block;visibility:hidden';\n    var elePos = this.toolbarMenuElement.getBoundingClientRect();\n    var gClient = this.parent.element.getBoundingClientRect();\n    this.toolbarMenuElement.style.cssText = 'display:none;visibility:visible';\n    var target;\n    if (isNullOrUndefined(e)) {\n      target = this.parent.element.querySelector('#' + id);\n    } else {\n      target = e.target;\n    }\n    if (this.parent.enableRtl) {\n      pos = calculatePosition(target, 'left', 'bottom');\n      if (this.isRightToolbarMenu) {\n        pos.left -= elePos.width;\n      }\n    } else {\n      pos = calculatePosition(target, 'right', 'bottom');\n      if (!this.isRightToolbarMenu) {\n        pos.left -= elePos.width;\n      }\n      if (pos.left + elePos.width + 1 >= gClient.right) {\n        pos.left -= 35;\n      }\n    }\n    this.responsiveToolbarMenu['open'](pos.top, pos.left);\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    applyBiggerTheme(this.parent.element, this.responsiveToolbarMenu.element.parentElement);\n  };\n  Toolbar.prototype.getMenuItems = function () {\n    var items = [];\n    var toolbarItems = this.parent.toolbar || [];\n    for (var _i = 0, toolbarItems_2 = toolbarItems; _i < toolbarItems_2.length; _i++) {\n      var item = toolbarItems_2[_i];\n      if (typeof item === 'string' && (item === 'ColumnChooser' || item === 'PdfExport' || item === 'ExcelExport' || item === 'CsvExport' || item === 'Print')) {\n        items.push({\n          text: this.getLocaleText(item),\n          id: this.gridID + '_' + item.toLowerCase(),\n          iconCss: 'e-btn-icon e-' + item.toLowerCase() + ' e-icons'\n        });\n      }\n    }\n    return items;\n  };\n  Toolbar.prototype.getLocaleText = function (item) {\n    var title;\n    if (item === 'ColumnChooser') {\n      title = this.l10n.getConstant('Columnchooser');\n    } else if (item === 'PdfExport') {\n      title = this.l10n.getConstant('Pdfexport');\n    } else if (item === 'ExcelExport') {\n      title = this.l10n.getConstant('Excelexport');\n    } else if (item === 'CsvExport') {\n      title = this.l10n.getConstant('Csvexport');\n    } else if (item === 'Print') {\n      title = this.l10n.getConstant('Print');\n    }\n    return title;\n  };\n  Toolbar.prototype.renderResponsiveToolbarpopup = function () {\n    this.l10n = this.serviceLocator.getService('localization');\n    this.toolbarMenuElement = this.parent.createElement('ul', {\n      id: this.gridID + '__toolbaritemsmenu',\n      className: 'e-responsivetoolbar-menu'\n    });\n    this.element.setAttribute('aria-label', this.l10n.getConstant('ToolbarMenuDialogARIA'));\n    this.parent.element.appendChild(this.toolbarMenuElement);\n    this.responsiveToolbarMenu = new Menu({\n      cssClass: this.parent.cssClass ? 'e-grid-toolbarmenu e-bigger' + ' ' + this.parent.cssClass : 'e-grid-toolbarmenu e-bigger',\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      beforeOpen: this.beforeOpenResponsiveToolbarMenuItem.bind(this),\n      items: this.getMenuItems(),\n      select: this.ResponsiveToolbarMenuItemClick.bind(this)\n    });\n    this.responsiveToolbarMenu.appendTo(this.toolbarMenuElement);\n  };\n  Toolbar.prototype.ResponsiveToolbarMenuItemClick = function (args) {\n    var _this = this;\n    var gObj = this.parent;\n    var element = args.element;\n    args.item.id = element.id;\n    var newArgs = {\n      cancel: false,\n      name: 'clicked',\n      item: args.item,\n      originalEvent: args.event\n    };\n    gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n      if (!toolbarargs.cancel) {\n        switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n          case _this.gridID + '_columnchooser':\n            gObj.notify(events.renderResponsiveChangeAction, {\n              action: 5\n            });\n            gObj.showResponsiveCustomColumnChooser();\n            break;\n          case _this.gridID + '_print':\n            gObj.print();\n            break;\n        }\n      }\n    });\n  };\n  Toolbar.prototype.beforeOpenResponsiveToolbarMenuItem = function () {\n    var _this = this;\n    var toolbarItems = this.parent.toolbar || [];\n    var responsiveMenuItems = [{\n      key: 'PdfExport',\n      enabled: this.parent.allowPdfExport\n    }, {\n      key: 'ExcelExport',\n      enabled: this.parent.allowExcelExport\n    }, {\n      key: 'CsvExport',\n      enabled: this.parent.allowExcelExport\n    }, {\n      key: 'ColumnChooser',\n      enabled: this.parent.showColumnChooser\n    }];\n    var enableItems = [];\n    var disableItems = [];\n    responsiveMenuItems.forEach(function (item) {\n      if (toolbarItems.indexOf(item.key) !== -1) {\n        var localeText = _this.getLocaleText(item.key);\n        if (item.enabled) {\n          enableItems.push(localeText);\n        } else {\n          disableItems.push(localeText);\n        }\n      }\n    });\n    this.responsiveToolbarMenu.enableItems(enableItems, true);\n    this.responsiveToolbarMenu.enableItems(disableItems, false);\n  };\n  Toolbar.prototype.modelChanged = function (e) {\n    if (e.module === 'edit') {\n      this.refreshToolbarItems();\n    }\n  };\n  Toolbar.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n      return;\n    }\n    if (this.element) {\n      remove(this.element);\n    }\n    this.render();\n  };\n  Toolbar.prototype.keyUpHandler = function (e) {\n    if (e.keyCode === 13) {\n      this.parent.searchModule.refreshSearch = false;\n      this.search();\n    }\n    if (this.searchElement) {\n      this.sIcon = this.searchElement.parentElement.querySelector('.e-sicon');\n      if (this.searchElement.value.length && !isNullOrUndefined(this.sIcon)) {\n        this.sIcon.classList.add('e-clear-icon');\n        this.sIcon.setAttribute('title', this.l10n.getConstant('Clear'));\n        this.sIcon.style.cursor = 'pointer';\n      } else {\n        this.sIcon.classList.remove('e-clear-icon');\n        this.sIcon.removeAttribute('title');\n        this.sIcon.style.cursor = 'default';\n      }\n    }\n  };\n  Toolbar.prototype.search = function () {\n    this.isSearched = true;\n    this.parent.search(this.searchElement.value);\n  };\n  Toolbar.prototype.updateSearchBox = function () {\n    if (this.searchElement) {\n      this.searchElement.value = this.parent.searchSettings.key;\n    }\n  };\n  Toolbar.prototype.wireEvent = function () {\n    if (this.searchElement) {\n      this.searchBoxObj = new SearchBox(this.searchElement, this.serviceLocator);\n      EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n      this.searchBoxObj.wireEvent();\n    }\n    EventHandler.add(this.element, 'focusin', this.onFocusIn, this);\n    EventHandler.add(this.element, 'focusout', this.onFocusOut, this);\n  };\n  Toolbar.prototype.unWireEvent = function () {\n    if (this.searchElement) {\n      EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n      this.searchBoxObj.unWireEvent();\n    }\n    EventHandler.remove(this.element, 'focusin', this.onFocusIn);\n    EventHandler.remove(this.element, 'focusout', this.onFocusOut);\n  };\n  Toolbar.prototype.onFocusIn = function (e) {\n    var currentInfo = this.parent.focusModule.currentInfo;\n    if (currentInfo && currentInfo.element) {\n      removeClass([currentInfo.element, currentInfo.elementToFocus], ['e-focused', 'e-focus']);\n      currentInfo.element.tabIndex = -1;\n    }\n    e.target.tabIndex = 0;\n  };\n  Toolbar.prototype.onFocusOut = function (e) {\n    e.target.tabIndex = -1;\n    if (e.target && e.target.id === this.parent.element.id + '_searchbar' && !(e.relatedTarget && (e.relatedTarget.id === this.parent.element.id + '_clearbutton' || e.relatedTarget.id === this.parent.element.id + '_searchbutton'))) {\n      this.parent.searchModule.refreshSearch = false;\n      this.search();\n    }\n  };\n  Toolbar.prototype.setFocusToolbarItem = function (element) {\n    var elementToFocus = element.querySelector('.e-btn,.e-input,.e-toolbar-item-focus');\n    if (!elementToFocus && this.parent.enableAdaptiveUI && !this.searchElement && element.classList.contains('e-search-wrapper')) {\n      elementToFocus = element.querySelector('#' + this.gridID + '_searchbutton');\n    }\n    elementToFocus.focus();\n  };\n  Toolbar.prototype.getFocusableToolbarItems = function () {\n    var getFocusToolbarElements = [].slice.call(this.element.querySelectorAll('.e-toolbar-item:not(.e-overlay):not(.e-hidden)'));\n    var getFocusToolbarItems = [];\n    for (var i = 0; i < getFocusToolbarElements.length; i++) {\n      if (!isNullOrUndefined(getFocusToolbarElements[parseInt(i.toString(), 10)].querySelector('.e-btn,.e-input,.e-toolbar-item-focus'))) {\n        getFocusToolbarItems.push(getFocusToolbarElements[parseInt(i.toString(), 10)]);\n      }\n    }\n    return getFocusToolbarItems;\n  };\n  Toolbar.prototype.keyPressedHandler = function (e) {\n    if (e.target && parentsUntil(e.target, 'e-toolbar-item')) {\n      var targetParent = parentsUntil(e.target, 'e-toolbar-item');\n      var focusableToolbarItems = this.getFocusableToolbarItems();\n      if (e.action === 'tab' || e.action === 'shiftTab') {\n        if (e.action === 'tab' && targetParent === focusableToolbarItems[focusableToolbarItems.length - 1] || e.action === 'shiftTab' && targetParent === focusableToolbarItems[0]) {\n          return;\n        }\n        for (var i = 0; i < focusableToolbarItems.length; i++) {\n          if (targetParent === focusableToolbarItems[parseInt(i.toString(), 10)]) {\n            e.preventDefault();\n            var index = e.action === 'tab' ? i + 1 : i - 1;\n            this.setFocusToolbarItem(focusableToolbarItems[parseInt(index.toString(), 10)]);\n            return;\n          }\n        }\n      }\n      if (e.action === 'enter') {\n        if (this.parent.enableAdaptiveUI && !this.searchElement && e.target.id === this.gridID + '_searchbutton') {\n          this.renderResponsiveSearch(true);\n        }\n      }\n    }\n  };\n  Toolbar.prototype.reRenderToolbar = function () {\n    if (this.element) {\n      remove(this.element);\n    }\n    this.render();\n  };\n  Toolbar.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.evtHandlers = [{\n      event: events.setFullScreenDialog,\n      handler: this.reRenderToolbar\n    }, {\n      event: events.initialEnd,\n      handler: this.render\n    }, {\n      event: events.uiUpdate,\n      handler: this.onPropertyChanged\n    }, {\n      event: events.inBoundModelChanged,\n      handler: this.updateSearchBox.bind(this)\n    }, {\n      event: events.modelChanged,\n      handler: this.refreshToolbarItems\n    }, {\n      event: events.toolbarRefresh,\n      handler: this.refreshToolbarItems\n    }, {\n      event: events.inBoundModelChanged,\n      handler: this.modelChanged\n    }, {\n      event: events.dataBound,\n      handler: this.refreshToolbarItems\n    }, {\n      event: events.click,\n      handler: this.removeResponsiveSearch\n    }, {\n      event: events.rowModeChange,\n      handler: this.reRenderToolbar\n    }, {\n      event: events.destroy,\n      handler: this.destroy\n    }, {\n      event: events.keyPressed,\n      handler: this.keyPressedHandler\n    }];\n    addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    this.rowSelectedFunction = this.rowSelected.bind(this);\n    this.rowDeSelectedFunction = this.rowSelected.bind(this);\n    this.parent.addEventListener(events.rowSelected, this.rowSelectedFunction);\n    this.parent.addEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n  };\n  Toolbar.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    addRemoveEventListener(this.parent, this.evtHandlers, false);\n    this.parent.removeEventListener(events.rowSelected, this.rowSelectedFunction);\n    this.parent.removeEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n  };\n  Toolbar.prototype.removeResponsiveSearch = function (e) {\n    var target = e.target;\n    var isSearch = target.classList.contains('e-search-icon') || target.classList.contains('e-search-wrapper');\n    if (this.parent.enableAdaptiveUI && !isSearch && this.searchElement && !parentsUntil(e.target, 'e-res-toolbar')) {\n      this.renderResponsiveSearch(false);\n    }\n  };\n  Toolbar.prototype.rowSelected = function () {\n    if (this.parent.enableAdaptiveUI && this.toolbar.element) {\n      this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n      this.toolbar.refreshOverflow();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} returns the module name\n   */\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n  return Toolbar;\n}();\nexport { Toolbar };","map":{"version":3,"names":["EventHandler","extend","isNullOrUndefined","remove","select","removeClass","Toolbar","tool","events","templateCompiler","appendChildren","parentsUntil","addRemoveEventListener","applyBiggerTheme","ResponsiveToolbarAction","ContextMenu","Menu","calculatePosition","SearchBox","literals","parent","serviceLocator","predefinedItems","isSearched","items","isRightToolbarMenu","gridID","element","id","addEventListener","prototype","render","l10n","getService","preItems","isAdaptive","enableAdaptiveUI","excludingItems","_i","preItems_1","length","item","itemStr","toLowerCase","localeName","toUpperCase","slice","prefixIcon","text","getConstant","tooltipText","visible","indexOf","Search","align","cssClass","type","isResponsiveToolbarMenuItems","rowRenderingMode","allowFiltering","allowSorting","responsiveToolbarItems","suffixIcon","ColumnChooser","filterSettings","responsiveFilter","responsiveSort","toolbar","some","responsiveBack","createToolbar","responsiveToolbarMenu","renderResponsiveToolbarpopup","refreshOverflow","isRight","toolbarItems","i","parseInt","toString","getToolbar","destroy","isDestroyed","off","addReactToolbarPortals","unWireEvent","removeEventListener","created","clicked","destroyTemplate","isReact","renderTemplates","isAngular","viewStr","registerTemp","parentNode","bindSearchEvents","searchElement","wireEvent","refreshToolbarItems","searchSettings","updateSearchBox","toolbarCreated","isNormal","querySelector","classList","innerHTML","style","cursor","width","getItems","toolbarClickHandler","bind","enablePersistence","enableRtl","on","isStringTemplate","createElement","add","toolbarTemplate","isVue","parentDetails","parentInstObj","document","querySelectorAll","tagName","appendTo","isReactCompiler","CSPTemplate","isReactChild","ID","root","insertBefore","getHeaderContent","tlbrLeftElement","tlbrCenterElement","tlbrRightElement","tlbrItems","tlbrElement","tlbrLeftWidth","clientWidth","tlbrCenterWidth","tlbrRightWidth","tlbrItemsWidth","tlbrWidth","args","portals","concat","renderResponsiveSearch","isRender","refreshResponsiveToolbarItems","isSearch","right","isInitial","searchBoxObj","searchFocus","target","focus","action","selectedRecords","getSelectedRowIndexes","_a","toolbarEle","template","children","parentElement","isEdit","undefined","_b","_c","gObj","enableItems","disableItems","edit","editSettings","hasData","currentViewData","mode","editModule","getBatchChanges","addedRecords","addRow","showAddNewRow","allowAdding","push","allowEditing","allowDeleting","allowPdfExport","allowExcelExport","showColumnChooser","getElementsByClassName","getItemObject","toolbarItems_1","getItem","itemObject","itemName","isEnable","items_1","closest","_this","gID","originalEvent","openResponsiveToolbarMenuPopup","cancel","newArgs","trigger","toolbarClick","toolbarargs","print","startEdit","endEdit","closeEdit","addRecord","deleteRecord","search","contains","value","sIcon","removeAttribute","key","showResponsiveCustomColumnChooser","tarElement","y","getBoundingClientRect","top","x","left","targetEle","offsetTop","createColumnchooser","notify","renderResponsiveChangeAction","showResponsiveCustomFilter","showResponsiveCustomSort","e","pos","toolbarMenuElement","cssText","elePos","gClient","preventDefault","getMenuItems","toolbarItems_2","getLocaleText","iconCss","title","className","setAttribute","appendChild","locale","beforeOpen","beforeOpenResponsiveToolbarMenuItem","ResponsiveToolbarMenuItemClick","name","event","responsiveMenuItems","enabled","forEach","localeText","modelChanged","module","onPropertyChanged","getModuleName","keyUpHandler","keyCode","searchModule","refreshSearch","onFocusIn","onFocusOut","currentInfo","focusModule","elementToFocus","tabIndex","relatedTarget","setFocusToolbarItem","getFocusableToolbarItems","getFocusToolbarElements","call","getFocusToolbarItems","keyPressedHandler","targetParent","focusableToolbarItems","index","reRenderToolbar","evtHandlers","setFullScreenDialog","handler","initialEnd","uiUpdate","inBoundModelChanged","toolbarRefresh","dataBound","click","removeResponsiveSearch","rowModeChange","keyPressed","rowSelectedFunction","rowSelected","rowDeSelectedFunction","rowDeselected"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/actions/toolbar.js"],"sourcesContent":["import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, select, removeClass } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren, parentsUntil, addRemoveEventListener, applyBiggerTheme } from '../base/util';\nimport { ResponsiveToolbarAction } from '../base/enum';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { SearchBox } from '../services/focus-strategy';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Toolbar` module is used to handle ToolBar actions.\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.predefinedItems = {};\n        this.isSearched = false;\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search',\n            'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n        this.isRightToolbarMenu = false;\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    Toolbar.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print',\n            'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n        var isAdaptive = this.parent.enableAdaptiveUI;\n        var excludingItems = ['Edit', 'Delete', 'Update', 'Cancel'];\n        for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n            var item = preItems_1[_i];\n            var itemStr = item.toLowerCase();\n            var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n            this.predefinedItems[\"\" + item] = {\n                id: this.gridID + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                text: this.l10n.getConstant(localeName), tooltipText: this.l10n.getConstant(localeName)\n            };\n            if (isAdaptive) {\n                this.predefinedItems[\"\" + item].text = '';\n                this.predefinedItems[\"\" + item].visible = excludingItems.indexOf(item) === -1;\n            }\n        }\n        this.predefinedItems.Search = {\n            id: this.gridID + '_search',\n            tooltipText: this.l10n.getConstant('Search'), align: 'Right', cssClass: 'e-search-wrapper',\n            type: 'Input'\n        };\n        this.isRightToolbarMenu = false;\n        if (this.parent.enableAdaptiveUI && this.isResponsiveToolbarMenuItems(true) && ((this.parent.rowRenderingMode === 'Horizontal') ||\n            (this.parent.rowRenderingMode === 'Vertical' && !this.parent.allowFiltering && !this.parent.allowSorting))) {\n            this.isRightToolbarMenu = true;\n        }\n        if (isAdaptive && this.isResponsiveToolbarMenuItems(false)) {\n            this.predefinedItems.responsiveToolbarItems = {\n                id: this.gridID + '_' + 'responsivetoolbaritems', cssClass: 'e-responsive-toolbar-items e-menu-toolbar', suffixIcon: 'e-' + 'responsivetoolbaritems-btn',\n                align: this.isRightToolbarMenu ? 'Left' : 'Right'\n            };\n        }\n        else {\n            this.predefinedItems.ColumnChooser = {\n                id: this.gridID + '_' + 'columnchooser', cssClass: 'e-cc e-ccdiv e-cc-toolbar', suffixIcon: 'e-' + 'columnchooser-btn',\n                text: isAdaptive ? '' : this.l10n.getConstant('Columnchooser'),\n                tooltipText: this.l10n.getConstant('Columnchooser'), align: 'Right'\n            };\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                this.predefinedItems.responsiveFilter = {\n                    id: this.gridID + '_' + 'responsivefilter', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'resfilter-icon', tooltipText: this.l10n.getConstant('FilterIcon')\n                };\n            }\n            if (this.parent.allowSorting) {\n                this.predefinedItems.responsiveSort = {\n                    id: this.gridID + '_' + 'responsivesort', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'ressort-icon', tooltipText: this.l10n.getConstant('SortIcon')\n                };\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.parent.toolbar && this.parent.toolbar.some(function (item) {\n            return (typeof item === 'object' && item.text === 'Search') || item === 'Search';\n        })) {\n            this.predefinedItems.responsiveBack = {\n                id: this.gridID + '_' + 'responsiveback', cssClass: 'e-gridresponsiveicons e-icons',\n                suffixIcon: 'e-' + 'resback-icon', visible: false\n            };\n        }\n        this.createToolbar();\n        if (this.parent.enableAdaptiveUI) {\n            if (isNullOrUndefined(this.responsiveToolbarMenu)) {\n                this.renderResponsiveToolbarpopup();\n            }\n            if (this.toolbar.element) {\n                this.toolbar.refreshOverflow();\n            }\n        }\n    };\n    Toolbar.prototype.isResponsiveToolbarMenuItems = function (isRight) {\n        var items = isRight ? ['Add', 'Edit', 'Delete', 'Search'] : ['Print', 'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport'];\n        var toolbarItems = this.parent.toolbar || [];\n        for (var i = 0; i < items.length; i++) {\n            if (toolbarItems.indexOf(items[parseInt(i.toString(), 10)]) >= 0) {\n                return isRight ? false : true;\n            }\n        }\n        return isRight ? true : false;\n    };\n    /**\n     * Gets the toolbar of the Grid.\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Toolbar.prototype.getToolbar = function () {\n        return this.toolbar.element;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            if (this.responsiveToolbarMenu) {\n                this.responsiveToolbarMenu.destroy();\n            }\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n            this.unWireEvent();\n            this.removeEventListener();\n            this.toolbar.created = null;\n            this.toolbar.clicked = null;\n            if (!this.toolbar.element) {\n                this.parent.destroyTemplate(['toolbarTemplate']);\n                if (this.parent.isReact) {\n                    this.parent.renderTemplates();\n                }\n            }\n            else {\n                this.toolbar.destroy();\n            }\n            if (this.parent.isAngular) {\n                var viewStr = 'viewContainerRef';\n                var registerTemp = 'registeredTemplate';\n                this.toolbar[\"\" + viewStr] = null;\n                this.toolbar[\"\" + registerTemp] = null;\n            }\n            if (this.element.parentNode) {\n                remove(this.element);\n                this.toolbar = null;\n            }\n        }\n    };\n    Toolbar.prototype.bindSearchEvents = function () {\n        this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n        this.wireEvent();\n        this.refreshToolbarItems();\n        if (this.parent.searchSettings) {\n            this.updateSearchBox();\n        }\n    };\n    Toolbar.prototype.toolbarCreated = function (isNormal) {\n        if (this.element.querySelector('.e-search-wrapper')) {\n            if (!this.parent.enableAdaptiveUI || isNormal) {\n                var classList = this.parent.cssClass ? 'e-input-group e-search ' + this.parent.cssClass\n                    : 'e-input-group e-search';\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<div class=\"' + classList + '\" role=\"search\">\\\n                    <input id=\"' + this.gridID + '_searchbar\" class=\"e-input e-search\" name=\"input\" type=\"search\" \\\n                    placeholder= \"' + this.l10n.getConstant('Search') + '\"/>\\\n                    <span id=\"' + this.gridID + '_clearbutton\" class=\"e-input-group-icon e-icons e-sicon\" \\\n                    tabindex=\"-1\" aria-label= \"clear\" role= \"button\" ></span>\\\n                    <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" role= \"search\"></span> \\\n                    </div>';\n            }\n            else {\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<span id=\"' + this.gridID\n                    + '_clearbutton\" class=\"e-input-group-icon e-icons e-sicon\" \\\n                    tabindex=\"-1\" role= \"button\" aria-label= \"clear\" ></span>\\\n                    <span id=\"' + this.gridID\n                    + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" role= \"button\" title=\"' + this.l10n.getConstant('Search') + '\"></span> \\\n                    </div>';\n            }\n            this.element.querySelector('#' + this.gridID + '_clearbutton').style.cursor = 'default';\n        }\n        if (this.element.querySelector('.e-responsive-toolbar-items')) {\n            this.element.querySelector('.e-responsive-toolbar-items').innerHTML = '<button id=\"' + this.gridID\n                + '_responsivetoolbaritems\" class=\"e-tbar-btn e-control e-btn e-lib e-icon-btn\" \\\n                    type=\"button\" data-ripple=\"true\" tabindex=\"-1\" data-tabindex=\"-1\" aria-label=\"responsivetoolbaritems\" \\\n                     aria-disabled=\"false\" ><span class=\"e-btn-icon e-responsivetoolbaritems-btn e-icons\"></span>';\n            this.element.querySelector('#' + this.gridID + '_responsivetoolbaritems').style.width = 'auto';\n        }\n        this.bindSearchEvents();\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new tool({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            created: this.toolbarCreated.bind(this),\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        var isStringTemplate = 'isStringTemplate';\n        this.toolbar[\"\" + isStringTemplate] = true;\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        if (this.parent[\"\" + viewStr]) {\n            this.toolbar[\"\" + registerTemp] = {};\n            this.toolbar[\"\" + viewStr] = this.parent[\"\" + viewStr];\n        }\n        this.element = this.parent.createElement('div', { id: this.gridID + '_toolbarItems' });\n        if (this.parent.enableAdaptiveUI) {\n            this.element.classList.add('e-res-toolbar');\n        }\n        if (this.parent.toolbarTemplate) {\n            var isVue = this.parent.isVue\n                || (this.parent.parentDetails && this.parent.parentDetails.parentInstObj && this.parent.parentDetails.parentInstObj.isVue);\n            if (typeof (this.parent.toolbarTemplate) === 'string'\n                && !(isVue && !document.querySelectorAll(this.parent.toolbarTemplate).length)\n                && (document.querySelector(this.parent.toolbarTemplate) && document.querySelector(this.parent.toolbarTemplate).tagName.toLowerCase() !== 'script')) {\n                this.toolbar.appendTo(this.parent.toolbarTemplate);\n                this.element = this.toolbar.element;\n            }\n            else {\n                var isReactCompiler = this.parent.isReact && typeof (this.parent.toolbarTemplate) !== 'string' &&\n                    !(this.parent.toolbarTemplate.prototype && this.parent.toolbarTemplate.prototype.CSPTemplate);\n                var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj &&\n                    this.parent.parentDetails.parentInstObj.isReact;\n                var ID = this.parent.element.id + 'toolbarTemplate';\n                if (isReactCompiler || isReactChild) {\n                    templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', ID, null, null, this.element);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', null, null, null, null, this.parent.root));\n                }\n            }\n            this.element.classList.add('e-temp-toolbar');\n        }\n        else {\n            this.toolbar.appendTo(this.element);\n        }\n        this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n        var tlbrLeftElement = this.element.querySelector('.e-toolbar-left');\n        var tlbrCenterElement = this.element.querySelector('.e-toolbar-center');\n        var tlbrRightElement = this.element.querySelector('.e-toolbar-right');\n        var tlbrItems = this.element.querySelector('.e-toolbar-items');\n        var tlbrElement = this.element;\n        var tlbrLeftWidth = tlbrLeftElement ? tlbrLeftElement.clientWidth : 0;\n        var tlbrCenterWidth = tlbrCenterElement ? tlbrCenterElement.clientWidth : 0;\n        var tlbrRightWidth = tlbrRightElement ? tlbrRightElement.clientWidth : 0;\n        var tlbrItemsWidth = tlbrItems ? tlbrItems.clientWidth : 0;\n        var tlbrWidth = tlbrElement ? tlbrElement.clientWidth : 0;\n        if (tlbrLeftWidth > tlbrWidth || tlbrCenterWidth > tlbrWidth || tlbrRightWidth > tlbrWidth || tlbrItemsWidth > tlbrWidth) {\n            this.toolbar.refreshOverflow();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.renderResponsiveSearch = function (isRender) {\n        if (isRender) {\n            this.toolbarCreated(true);\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isSearch);\n            this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n            var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n            if (right) {\n                right.classList.add('e-responsive-right');\n            }\n            if (this.parent.searchSettings) {\n                this.updateSearchBox();\n            }\n        }\n        else {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n        }\n        if (this.toolbar.element && this.toolbar.element.querySelector('.e-hscroll')) {\n            this.toolbar.refreshOverflow();\n        }\n        if (isRender) {\n            this.searchBoxObj.searchFocus({ target: this.searchElement });\n            this.searchElement.focus();\n        }\n    };\n    Toolbar.prototype.refreshResponsiveToolbarItems = function (action) {\n        if (action === ResponsiveToolbarAction.isInitial) {\n            var id = this.parent.element.id;\n            var items = [id + '_edit', id + '_delete'];\n            var selectedRecords = this.parent.getSelectedRowIndexes();\n            var excludingItems = [id + '_responsiveback', id + '_update', id + '_cancel'];\n            for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var toolbarEle = item.template && item.template.length ?\n                    parentsUntil(this.toolbar.element.querySelector('#' + item.id), 'e-template').children[0] : this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        if (selectedRecords.length) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                    else {\n                        if (excludingItems.indexOf(item.id) === -1 || (excludingItems.indexOf(item.id) > 0 && this.parent.isEdit)) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                }\n            }\n            if (this.searchElement) {\n                var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n                if (right) {\n                    right.classList.remove('e-responsive-right');\n                }\n                this.toolbarCreated(false);\n                this.unWireEvent();\n                this.searchElement = undefined;\n            }\n        }\n        if (action === ResponsiveToolbarAction.isSearch) {\n            var items = [this.parent.element.id + '_responsiveback', this.parent.element.id + '_search'];\n            for (var _b = 0, _c = this.toolbar.items; _b < _c.length; _b++) {\n                var item = _c[_b];\n                var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        toolbarEle.parentElement.classList.remove('e-hidden');\n                    }\n                    else {\n                        toolbarEle.parentElement.classList.add('e-hidden');\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    /**\n     * Refreshes the toolbar items\n     *\n     * @param {RefreshToolbarItemsArgs} args - Defines the editSettings model and name.\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var hasData = (gObj.currentViewData && gObj.currentViewData.length) ||\n            (gObj.editSettings.mode === 'Batch' && !isNullOrUndefined(gObj.editModule) && gObj.editModule.getBatchChanges()[literals.addedRecords].length);\n        var addRow = edit.showAddNewRow && !gObj.element.querySelector('.e-editedrow');\n        if (edit.allowAdding) {\n            enableItems.push(this.gridID + '_add');\n        }\n        else {\n            disableItems.push(this.gridID + '_add');\n        }\n        if (edit.allowEditing && hasData) {\n            enableItems.push(this.gridID + '_edit');\n        }\n        else {\n            disableItems.push(this.gridID + '_edit');\n        }\n        if (edit.allowDeleting && hasData) {\n            enableItems.push(this.gridID + '_delete');\n        }\n        else {\n            disableItems.push(this.gridID + '_delete');\n        }\n        if (gObj.allowPdfExport && hasData) {\n            enableItems.push(this.gridID + '_pdfexport');\n        }\n        else {\n            disableItems.push(this.gridID + '_pdfexport');\n        }\n        if (gObj.allowExcelExport && hasData) {\n            enableItems.push(this.gridID + '_excelexport');\n            enableItems.push(this.gridID + '_csvexport');\n        }\n        else {\n            disableItems.push(this.gridID + '_excelexport');\n            disableItems.push(this.gridID + '_csvexport');\n        }\n        if (gObj.showColumnChooser) {\n            enableItems.push(this.gridID + '_columnchooser');\n        }\n        else {\n            disableItems.push(this.gridID + '_columnchooser');\n        }\n        if (gObj.editSettings.mode === 'Batch') {\n            if (gObj.element.getElementsByClassName('e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n                enableItems.push(this.gridID + '_update');\n                enableItems.push(this.gridID + '_cancel');\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        else {\n            if ((gObj.isEdit || edit.showAddNewRow) && (edit.allowAdding || edit.allowEditing)) {\n                enableItems = addRow ? [this.gridID + '_update', this.gridID + '_cancel', this.gridID + '_edit', this.gridID + '_delete'] :\n                    [this.gridID + '_update', this.gridID + '_cancel'];\n                disableItems = addRow ? [this.gridID + '_add'] :\n                    [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        this.enableItems(enableItems, true);\n        this.enableItems(disableItems, false);\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar || [];\n        if (typeof (this.parent.toolbar) === 'string') {\n            return [];\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                items.push(this.getItemObject('responsiveFilter'));\n            }\n            if (this.parent.allowSorting) {\n                items.push(this.getItemObject('responsiveSort'));\n            }\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (this.parent.enableAdaptiveUI && ['Print', 'ColumnChooser',\n                'PdfExport', 'ExcelExport', 'CsvExport'].indexOf(item) !== -1) {\n                continue;\n            }\n            if (this.parent.enableAdaptiveUI && ((typeof item === 'object' && item.text === 'Search') || item === 'Search')) {\n                items.push(this.getItemObject('responsiveBack'));\n            }\n            switch (typeof item) {\n                case 'number':\n                    items.push(this.getItemObject(this.items[item]));\n                    break;\n                case 'string':\n                    items.push(this.getItemObject(item));\n                    break;\n                default:\n                    items.push(this.getItem(item));\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.isResponsiveToolbarMenuItems(false)) {\n            items.push(this.getItemObject('responsiveToolbarItems'));\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[\"\" + itemName] || { text: itemName, id: this.gridID + '_' + itemName };\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = select('#' + item, this.element);\n            if (element) {\n                this.toolbar.enableItems(element.closest('.e-toolbar-item'), isEnable);\n            }\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.gridID;\n        var originalEvent = args.originalEvent;\n        if (this.parent.enableAdaptiveUI && args.item.id === gID + '_responsivetoolbaritems') {\n            this.openResponsiveToolbarMenuPopup(originalEvent, args.item.id);\n        }\n        else {\n            extend(args, { cancel: false });\n            var newArgs = args;\n            gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n                toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n                if (!toolbarargs.cancel) {\n                    switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n                        case gID + '_print':\n                            gObj.print();\n                            break;\n                        case gID + '_edit':\n                            gObj.startEdit();\n                            break;\n                        case gID + '_update':\n                            gObj.endEdit();\n                            break;\n                        case gID + '_cancel':\n                            gObj.closeEdit();\n                            break;\n                        case gID + '_add':\n                            gObj.addRecord();\n                            break;\n                        case gID + '_delete':\n                            gObj.deleteRecord();\n                            break;\n                        case gID + '_search':\n                            if (toolbarargs.originalEvent.target.id === gID + '_searchbutton' && _this.searchElement) {\n                                _this.search();\n                            }\n                            else if (gObj.enableAdaptiveUI && !_this.searchElement\n                                && (toolbarargs.originalEvent.target.classList.contains('e-search-wrapper')\n                                    || toolbarargs.originalEvent.target.id === gID + '_searchbutton')) {\n                                _this.renderResponsiveSearch(true);\n                            }\n                            else if (toolbarargs.originalEvent.target.classList.contains('e-clear-icon') && toolbarargs.originalEvent.target.id === gID + '_clearbutton' && _this.searchElement) {\n                                _this.searchElement.value = '';\n                                if (_this.searchElement) {\n                                    _this.sIcon = _this.searchElement.parentElement.querySelector('.e-sicon');\n                                    _this.sIcon.classList.remove('e-clear-icon');\n                                    _this.sIcon.removeAttribute('title');\n                                    _this.sIcon.style.cursor = 'default';\n                                }\n                                if (_this.isSearched || _this.parent.searchSettings.key.length) {\n                                    _this.parent.search(_this.searchElement.value);\n                                    _this.isSearched = false;\n                                }\n                            }\n                            break;\n                        case gID + '_columnchooser':\n                            if (_this.parent.enableAdaptiveUI) {\n                                gObj.showResponsiveCustomColumnChooser();\n                            }\n                            else {\n                                /* eslint-disable */\n                                var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n                                var y = tarElement.getBoundingClientRect().top;\n                                var x = tarElement.getBoundingClientRect().left;\n                                var targetEle = toolbarargs.originalEvent.target;\n                                /* eslint-enable */\n                                y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n                                gObj.createColumnchooser(x, y, targetEle);\n                            }\n                            break;\n                        case gID + '_responsivefilter':\n                            gObj.notify(events.renderResponsiveChangeAction, { action: 3 });\n                            gObj.showResponsiveCustomFilter();\n                            break;\n                        case gID + '_responsivesort':\n                            gObj.notify(events.renderResponsiveChangeAction, { action: 2 });\n                            gObj.showResponsiveCustomSort();\n                            break;\n                        case gID + '_responsiveback':\n                            _this.renderResponsiveSearch(false);\n                            _this.toolbar.refreshOverflow();\n                            break;\n                    }\n                }\n            });\n        }\n    };\n    Toolbar.prototype.openResponsiveToolbarMenuPopup = function (e, id) {\n        var pos = { top: 0, left: 0 };\n        this.toolbarMenuElement.style.cssText = 'display:block;visibility:hidden';\n        var elePos = this.toolbarMenuElement.getBoundingClientRect();\n        var gClient = this.parent.element.getBoundingClientRect();\n        this.toolbarMenuElement.style.cssText = 'display:none;visibility:visible';\n        var target;\n        if (isNullOrUndefined(e)) {\n            target = this.parent.element.querySelector('#' + id);\n        }\n        else {\n            target = e.target;\n        }\n        if (this.parent.enableRtl) {\n            pos = calculatePosition(target, 'left', 'bottom');\n            if (this.isRightToolbarMenu) {\n                pos.left -= elePos.width;\n            }\n        }\n        else {\n            pos = calculatePosition(target, 'right', 'bottom');\n            if (!this.isRightToolbarMenu) {\n                pos.left -= elePos.width;\n            }\n            if ((pos.left + elePos.width + 1) >= gClient.right) {\n                pos.left -= 35;\n            }\n        }\n        this.responsiveToolbarMenu['open'](pos.top, pos.left);\n        if (e && e.preventDefault) {\n            e.preventDefault();\n        }\n        applyBiggerTheme(this.parent.element, this.responsiveToolbarMenu.element.parentElement);\n    };\n    Toolbar.prototype.getMenuItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar || [];\n        for (var _i = 0, toolbarItems_2 = toolbarItems; _i < toolbarItems_2.length; _i++) {\n            var item = toolbarItems_2[_i];\n            if (typeof item === 'string' && (item === 'ColumnChooser' || item === 'PdfExport' || item === 'ExcelExport' ||\n                item === 'CsvExport' || item === 'Print')) {\n                items.push({\n                    text: this.getLocaleText(item),\n                    id: this.gridID + '_' + item.toLowerCase(),\n                    iconCss: 'e-btn-icon e-' + item.toLowerCase() + ' e-icons'\n                });\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getLocaleText = function (item) {\n        var title;\n        if (item === 'ColumnChooser') {\n            title = this.l10n.getConstant('Columnchooser');\n        }\n        else if (item === 'PdfExport') {\n            title = this.l10n.getConstant('Pdfexport');\n        }\n        else if (item === 'ExcelExport') {\n            title = this.l10n.getConstant('Excelexport');\n        }\n        else if (item === 'CsvExport') {\n            title = this.l10n.getConstant('Csvexport');\n        }\n        else if (item === 'Print') {\n            title = this.l10n.getConstant('Print');\n        }\n        return title;\n    };\n    Toolbar.prototype.renderResponsiveToolbarpopup = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        this.toolbarMenuElement = this.parent.createElement('ul', {\n            id: this.gridID + '__toolbaritemsmenu', className: 'e-responsivetoolbar-menu'\n        });\n        this.element.setAttribute('aria-label', this.l10n.getConstant('ToolbarMenuDialogARIA'));\n        this.parent.element.appendChild(this.toolbarMenuElement);\n        this.responsiveToolbarMenu = new Menu({\n            cssClass: this.parent.cssClass ? 'e-grid-toolbarmenu e-bigger' + ' ' + this.parent.cssClass : 'e-grid-toolbarmenu e-bigger',\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            beforeOpen: this.beforeOpenResponsiveToolbarMenuItem.bind(this),\n            items: this.getMenuItems(),\n            select: this.ResponsiveToolbarMenuItemClick.bind(this)\n        });\n        this.responsiveToolbarMenu.appendTo(this.toolbarMenuElement);\n    };\n    Toolbar.prototype.ResponsiveToolbarMenuItemClick = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var element = args.element;\n        args.item.id = element.id;\n        var newArgs = { cancel: false, name: 'clicked', item: args.item, originalEvent: args.event };\n        gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n            if (!toolbarargs.cancel) {\n                switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n                    case _this.gridID + '_columnchooser':\n                        gObj.notify(events.renderResponsiveChangeAction, { action: 5 });\n                        gObj.showResponsiveCustomColumnChooser();\n                        break;\n                    case _this.gridID + '_print':\n                        gObj.print();\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar.prototype.beforeOpenResponsiveToolbarMenuItem = function () {\n        var _this = this;\n        var toolbarItems = this.parent.toolbar || [];\n        var responsiveMenuItems = [\n            { key: 'PdfExport', enabled: this.parent.allowPdfExport },\n            { key: 'ExcelExport', enabled: this.parent.allowExcelExport },\n            { key: 'CsvExport', enabled: this.parent.allowExcelExport },\n            { key: 'ColumnChooser', enabled: this.parent.showColumnChooser }\n        ];\n        var enableItems = [];\n        var disableItems = [];\n        responsiveMenuItems.forEach(function (item) {\n            if (toolbarItems.indexOf(item.key) !== -1) {\n                var localeText = _this.getLocaleText(item.key);\n                if (item.enabled) {\n                    enableItems.push(localeText);\n                }\n                else {\n                    disableItems.push(localeText);\n                }\n            }\n        });\n        this.responsiveToolbarMenu.enableItems(enableItems, true);\n        this.responsiveToolbarMenu.enableItems(disableItems, false);\n    };\n    Toolbar.prototype.modelChanged = function (e) {\n        if (e.module === 'edit') {\n            this.refreshToolbarItems();\n        }\n    };\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13) {\n            this.parent.searchModule.refreshSearch = false;\n            this.search();\n        }\n        if (this.searchElement) {\n            this.sIcon = this.searchElement.parentElement.querySelector('.e-sicon');\n            if (this.searchElement.value.length && !isNullOrUndefined(this.sIcon)) {\n                this.sIcon.classList.add('e-clear-icon');\n                this.sIcon.setAttribute('title', this.l10n.getConstant('Clear'));\n                this.sIcon.style.cursor = 'pointer';\n            }\n            else {\n                this.sIcon.classList.remove('e-clear-icon');\n                this.sIcon.removeAttribute('title');\n                this.sIcon.style.cursor = 'default';\n            }\n        }\n    };\n    Toolbar.prototype.search = function () {\n        this.isSearched = true;\n        this.parent.search(this.searchElement.value);\n    };\n    Toolbar.prototype.updateSearchBox = function () {\n        if (this.searchElement) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            this.searchBoxObj = new SearchBox(this.searchElement, this.serviceLocator);\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            this.searchBoxObj.wireEvent();\n        }\n        EventHandler.add(this.element, 'focusin', this.onFocusIn, this);\n        EventHandler.add(this.element, 'focusout', this.onFocusOut, this);\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            this.searchBoxObj.unWireEvent();\n        }\n        EventHandler.remove(this.element, 'focusin', this.onFocusIn);\n        EventHandler.remove(this.element, 'focusout', this.onFocusOut);\n    };\n    Toolbar.prototype.onFocusIn = function (e) {\n        var currentInfo = this.parent.focusModule.currentInfo;\n        if (currentInfo && currentInfo.element) {\n            removeClass([currentInfo.element, currentInfo.elementToFocus], ['e-focused', 'e-focus']);\n            currentInfo.element.tabIndex = -1;\n        }\n        e.target.tabIndex = 0;\n    };\n    Toolbar.prototype.onFocusOut = function (e) {\n        e.target.tabIndex = -1;\n        if (e.target && e.target.id === this.parent.element.id + '_searchbar' &&\n            !(e.relatedTarget && (e.relatedTarget.id === this.parent.element.id + '_clearbutton' ||\n                e.relatedTarget.id === this.parent.element.id + '_searchbutton'))) {\n            this.parent.searchModule.refreshSearch = false;\n            this.search();\n        }\n    };\n    Toolbar.prototype.setFocusToolbarItem = function (element) {\n        var elementToFocus = element.querySelector('.e-btn,.e-input,.e-toolbar-item-focus');\n        if (!elementToFocus && this.parent.enableAdaptiveUI && !this.searchElement\n            && element.classList.contains('e-search-wrapper')) {\n            elementToFocus = element.querySelector('#' + this.gridID + '_searchbutton');\n        }\n        elementToFocus.focus();\n    };\n    Toolbar.prototype.getFocusableToolbarItems = function () {\n        var getFocusToolbarElements = [].slice.call(this.element.querySelectorAll('.e-toolbar-item:not(.e-overlay):not(.e-hidden)'));\n        var getFocusToolbarItems = [];\n        for (var i = 0; i < getFocusToolbarElements.length; i++) {\n            if (!isNullOrUndefined(getFocusToolbarElements[parseInt(i.toString(), 10)].querySelector('.e-btn,.e-input,.e-toolbar-item-focus'))) {\n                getFocusToolbarItems.push(getFocusToolbarElements[parseInt(i.toString(), 10)]);\n            }\n        }\n        return getFocusToolbarItems;\n    };\n    Toolbar.prototype.keyPressedHandler = function (e) {\n        if (e.target && parentsUntil(e.target, 'e-toolbar-item')) {\n            var targetParent = parentsUntil(e.target, 'e-toolbar-item');\n            var focusableToolbarItems = this.getFocusableToolbarItems();\n            if (e.action === 'tab' || e.action === 'shiftTab') {\n                if ((e.action === 'tab' && targetParent === focusableToolbarItems[focusableToolbarItems.length - 1])\n                    || (e.action === 'shiftTab' && targetParent === focusableToolbarItems[0])) {\n                    return;\n                }\n                for (var i = 0; i < focusableToolbarItems.length; i++) {\n                    if (targetParent === focusableToolbarItems[parseInt(i.toString(), 10)]) {\n                        e.preventDefault();\n                        var index = e.action === 'tab' ? i + 1 : i - 1;\n                        this.setFocusToolbarItem(focusableToolbarItems[parseInt(index.toString(), 10)]);\n                        return;\n                    }\n                }\n            }\n            if (e.action === 'enter') {\n                if (this.parent.enableAdaptiveUI && !this.searchElement\n                    && e.target.id === this.gridID + '_searchbutton') {\n                    this.renderResponsiveSearch(true);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.reRenderToolbar = function () {\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.setFullScreenDialog, handler: this.reRenderToolbar },\n            { event: events.initialEnd, handler: this.render },\n            { event: events.uiUpdate, handler: this.onPropertyChanged },\n            { event: events.inBoundModelChanged, handler: this.updateSearchBox.bind(this) },\n            { event: events.modelChanged, handler: this.refreshToolbarItems },\n            { event: events.toolbarRefresh, handler: this.refreshToolbarItems },\n            { event: events.inBoundModelChanged, handler: this.modelChanged },\n            { event: events.dataBound, handler: this.refreshToolbarItems },\n            { event: events.click, handler: this.removeResponsiveSearch },\n            { event: events.rowModeChange, handler: this.reRenderToolbar },\n            { event: events.destroy, handler: this.destroy },\n            { event: events.keyPressed, handler: this.keyPressedHandler }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.rowSelectedFunction = this.rowSelected.bind(this);\n        this.rowDeSelectedFunction = this.rowSelected.bind(this);\n        this.parent.addEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.addEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.removeEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeResponsiveSearch = function (e) {\n        var target = e.target;\n        var isSearch = target.classList.contains('e-search-icon') || target.classList.contains('e-search-wrapper');\n        if (this.parent.enableAdaptiveUI && !isSearch && this.searchElement\n            && !parentsUntil(e.target, 'e-res-toolbar')) {\n            this.renderResponsiveSearch(false);\n        }\n    };\n    Toolbar.prototype.rowSelected = function () {\n        if (this.parent.enableAdaptiveUI && this.toolbar.element) {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n            this.toolbar.refreshOverflow();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,MAAM,EAAEC,iBAAiB,QAAQ,sBAAsB;AAC9E,SAASC,MAAM,EAAEC,MAAM,EAAEC,WAAW,QAAQ,sBAAsB;AAClE,SAASC,OAAO,IAAIC,IAAI,QAAQ,6BAA6B;AAC7D,OAAO,KAAKC,MAAM,MAAM,kBAAkB;AAC1C,SAASC,gBAAgB,EAAEC,cAAc,EAAEC,YAAY,EAAEC,sBAAsB,EAAEC,gBAAgB,QAAQ,cAAc;AACvH,SAASC,uBAAuB,QAAQ,cAAc;AACtD,SAASC,WAAW,IAAIC,IAAI,QAAQ,6BAA6B;AACjE,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,SAAS,QAAQ,4BAA4B;AACtD,OAAO,KAAKC,QAAQ,MAAM,yBAAyB;AACnD;AACA;AACA;AACA;AACA,IAAIb,OAAO,GAAG,aAAe,YAAY;EACrC,SAASA,OAAOA,CAACc,MAAM,EAAEC,cAAc,EAAE;IACrC,IAAI,CAACC,eAAe,GAAG,CAAC,CAAC;IACzB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,KAAK,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EACxE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,CAAC;IAC3E,IAAI,CAACC,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACL,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACM,MAAM,GAAGN,MAAM,CAACO,OAAO,CAACC,EAAE;IAC/B,IAAI,CAACP,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACQ,gBAAgB,CAAC,CAAC;EAC3B;EACAvB,OAAO,CAACwB,SAAS,CAACC,MAAM,GAAG,YAAY;IACnC,IAAI,CAACC,IAAI,GAAG,IAAI,CAACX,cAAc,CAACY,UAAU,CAAC,cAAc,CAAC;IAC1D,IAAIC,QAAQ,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAChE,WAAW,EAAE,aAAa,EAAE,YAAY,EAAE,WAAW,CAAC;IAC1D,IAAIC,UAAU,GAAG,IAAI,CAACf,MAAM,CAACgB,gBAAgB;IAC7C,IAAIC,cAAc,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;IAC3D,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,UAAU,GAAGL,QAAQ,EAAEI,EAAE,GAAGC,UAAU,CAACC,MAAM,EAAEF,EAAE,EAAE,EAAE;MAClE,IAAIG,IAAI,GAAGF,UAAU,CAACD,EAAE,CAAC;MACzB,IAAII,OAAO,GAAGD,IAAI,CAACE,WAAW,CAAC,CAAC;MAChC,IAAIC,UAAU,GAAGF,OAAO,CAAC,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,GAAGH,OAAO,CAACI,KAAK,CAAC,CAAC,CAAC;MAC5D,IAAI,CAACxB,eAAe,CAAC,EAAE,GAAGmB,IAAI,CAAC,GAAG;QAC9Bb,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAGgB,OAAO;QAAEK,UAAU,EAAE,IAAI,GAAGL,OAAO;QAC3DM,IAAI,EAAE,IAAI,CAAChB,IAAI,CAACiB,WAAW,CAACL,UAAU,CAAC;QAAEM,WAAW,EAAE,IAAI,CAAClB,IAAI,CAACiB,WAAW,CAACL,UAAU;MAC1F,CAAC;MACD,IAAIT,UAAU,EAAE;QACZ,IAAI,CAACb,eAAe,CAAC,EAAE,GAAGmB,IAAI,CAAC,CAACO,IAAI,GAAG,EAAE;QACzC,IAAI,CAAC1B,eAAe,CAAC,EAAE,GAAGmB,IAAI,CAAC,CAACU,OAAO,GAAGd,cAAc,CAACe,OAAO,CAACX,IAAI,CAAC,KAAK,CAAC,CAAC;MACjF;IACJ;IACA,IAAI,CAACnB,eAAe,CAAC+B,MAAM,GAAG;MAC1BzB,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,SAAS;MAC3BwB,WAAW,EAAE,IAAI,CAAClB,IAAI,CAACiB,WAAW,CAAC,QAAQ,CAAC;MAAEK,KAAK,EAAE,OAAO;MAAEC,QAAQ,EAAE,kBAAkB;MAC1FC,IAAI,EAAE;IACV,CAAC;IACD,IAAI,CAAC/B,kBAAkB,GAAG,KAAK;IAC/B,IAAI,IAAI,CAACL,MAAM,CAACgB,gBAAgB,IAAI,IAAI,CAACqB,4BAA4B,CAAC,IAAI,CAAC,KAAM,IAAI,CAACrC,MAAM,CAACsC,gBAAgB,KAAK,YAAY,IACzH,IAAI,CAACtC,MAAM,CAACsC,gBAAgB,KAAK,UAAU,IAAI,CAAC,IAAI,CAACtC,MAAM,CAACuC,cAAc,IAAI,CAAC,IAAI,CAACvC,MAAM,CAACwC,YAAa,CAAC,EAAE;MAC5G,IAAI,CAACnC,kBAAkB,GAAG,IAAI;IAClC;IACA,IAAIU,UAAU,IAAI,IAAI,CAACsB,4BAA4B,CAAC,KAAK,CAAC,EAAE;MACxD,IAAI,CAACnC,eAAe,CAACuC,sBAAsB,GAAG;QAC1CjC,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAG,wBAAwB;QAAE6B,QAAQ,EAAE,2CAA2C;QAAEO,UAAU,EAAE,IAAI,GAAG,4BAA4B;QACxJR,KAAK,EAAE,IAAI,CAAC7B,kBAAkB,GAAG,MAAM,GAAG;MAC9C,CAAC;IACL,CAAC,MACI;MACD,IAAI,CAACH,eAAe,CAACyC,aAAa,GAAG;QACjCnC,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAG,eAAe;QAAE6B,QAAQ,EAAE,2BAA2B;QAAEO,UAAU,EAAE,IAAI,GAAG,mBAAmB;QACtHd,IAAI,EAAEb,UAAU,GAAG,EAAE,GAAG,IAAI,CAACH,IAAI,CAACiB,WAAW,CAAC,eAAe,CAAC;QAC9DC,WAAW,EAAE,IAAI,CAAClB,IAAI,CAACiB,WAAW,CAAC,eAAe,CAAC;QAAEK,KAAK,EAAE;MAChE,CAAC;IACL;IACA,IAAI,IAAI,CAAClC,MAAM,CAACsC,gBAAgB,KAAK,UAAU,EAAE;MAC7C,IAAI,IAAI,CAACtC,MAAM,CAACuC,cAAc,IAAI,IAAI,CAACvC,MAAM,CAAC4C,cAAc,CAACR,IAAI,KAAK,WAAW,EAAE;QAC/E,IAAI,CAAClC,eAAe,CAAC2C,gBAAgB,GAAG;UACpCrC,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAG,kBAAkB;UAAE6B,QAAQ,EAAE,+BAA+B;UACrFO,UAAU,EAAE,IAAI,GAAG,gBAAgB;UAAEZ,WAAW,EAAE,IAAI,CAAClB,IAAI,CAACiB,WAAW,CAAC,YAAY;QACxF,CAAC;MACL;MACA,IAAI,IAAI,CAAC7B,MAAM,CAACwC,YAAY,EAAE;QAC1B,IAAI,CAACtC,eAAe,CAAC4C,cAAc,GAAG;UAClCtC,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAG,gBAAgB;UAAE6B,QAAQ,EAAE,+BAA+B;UACnFO,UAAU,EAAE,IAAI,GAAG,cAAc;UAAEZ,WAAW,EAAE,IAAI,CAAClB,IAAI,CAACiB,WAAW,CAAC,UAAU;QACpF,CAAC;MACL;IACJ;IACA,IAAI,IAAI,CAAC7B,MAAM,CAACgB,gBAAgB,IAAI,IAAI,CAAChB,MAAM,CAAC+C,OAAO,IAAI,IAAI,CAAC/C,MAAM,CAAC+C,OAAO,CAACC,IAAI,CAAC,UAAU3B,IAAI,EAAE;MAChG,OAAQ,OAAOA,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACO,IAAI,KAAK,QAAQ,IAAKP,IAAI,KAAK,QAAQ;IACpF,CAAC,CAAC,EAAE;MACA,IAAI,CAACnB,eAAe,CAAC+C,cAAc,GAAG;QAClCzC,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAG,gBAAgB;QAAE6B,QAAQ,EAAE,+BAA+B;QACnFO,UAAU,EAAE,IAAI,GAAG,cAAc;QAAEX,OAAO,EAAE;MAChD,CAAC;IACL;IACA,IAAI,CAACmB,aAAa,CAAC,CAAC;IACpB,IAAI,IAAI,CAAClD,MAAM,CAACgB,gBAAgB,EAAE;MAC9B,IAAIlC,iBAAiB,CAAC,IAAI,CAACqE,qBAAqB,CAAC,EAAE;QAC/C,IAAI,CAACC,4BAA4B,CAAC,CAAC;MACvC;MACA,IAAI,IAAI,CAACL,OAAO,CAACxC,OAAO,EAAE;QACtB,IAAI,CAACwC,OAAO,CAACM,eAAe,CAAC,CAAC;MAClC;IACJ;EACJ,CAAC;EACDnE,OAAO,CAACwB,SAAS,CAAC2B,4BAA4B,GAAG,UAAUiB,OAAO,EAAE;IAChE,IAAIlD,KAAK,GAAGkD,OAAO,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,CAAC;IAC/H,IAAIC,YAAY,GAAG,IAAI,CAACvD,MAAM,CAAC+C,OAAO,IAAI,EAAE;IAC5C,KAAK,IAAIS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpD,KAAK,CAACgB,MAAM,EAAEoC,CAAC,EAAE,EAAE;MACnC,IAAID,YAAY,CAACvB,OAAO,CAAC5B,KAAK,CAACqD,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;QAC9D,OAAOJ,OAAO,GAAG,KAAK,GAAG,IAAI;MACjC;IACJ;IACA,OAAOA,OAAO,GAAG,IAAI,GAAG,KAAK;EACjC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIpE,OAAO,CAACwB,SAAS,CAACiD,UAAU,GAAG,YAAY;IACvC,OAAO,IAAI,CAACZ,OAAO,CAACxC,OAAO;EAC/B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIrB,OAAO,CAACwB,SAAS,CAACkD,OAAO,GAAG,YAAY;IACpC,IAAI,IAAI,CAACb,OAAO,IAAI,CAAC,IAAI,CAACA,OAAO,CAACc,WAAW,EAAE;MAC3C,IAAI,IAAI,CAACV,qBAAqB,EAAE;QAC5B,IAAI,CAACA,qBAAqB,CAACS,OAAO,CAAC,CAAC;MACxC;MACA,IAAI,CAACb,OAAO,CAACe,GAAG,CAAC,+BAA+B,EAAE,IAAI,CAACC,sBAAsB,CAAC;MAC9E,IAAI,CAACC,WAAW,CAAC,CAAC;MAClB,IAAI,CAACC,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAAClB,OAAO,CAACmB,OAAO,GAAG,IAAI;MAC3B,IAAI,CAACnB,OAAO,CAACoB,OAAO,GAAG,IAAI;MAC3B,IAAI,CAAC,IAAI,CAACpB,OAAO,CAACxC,OAAO,EAAE;QACvB,IAAI,CAACP,MAAM,CAACoE,eAAe,CAAC,CAAC,iBAAiB,CAAC,CAAC;QAChD,IAAI,IAAI,CAACpE,MAAM,CAACqE,OAAO,EAAE;UACrB,IAAI,CAACrE,MAAM,CAACsE,eAAe,CAAC,CAAC;QACjC;MACJ,CAAC,MACI;QACD,IAAI,CAACvB,OAAO,CAACa,OAAO,CAAC,CAAC;MAC1B;MACA,IAAI,IAAI,CAAC5D,MAAM,CAACuE,SAAS,EAAE;QACvB,IAAIC,OAAO,GAAG,kBAAkB;QAChC,IAAIC,YAAY,GAAG,oBAAoB;QACvC,IAAI,CAAC1B,OAAO,CAAC,EAAE,GAAGyB,OAAO,CAAC,GAAG,IAAI;QACjC,IAAI,CAACzB,OAAO,CAAC,EAAE,GAAG0B,YAAY,CAAC,GAAG,IAAI;MAC1C;MACA,IAAI,IAAI,CAAClE,OAAO,CAACmE,UAAU,EAAE;QACzB3F,MAAM,CAAC,IAAI,CAACwB,OAAO,CAAC;QACpB,IAAI,CAACwC,OAAO,GAAG,IAAI;MACvB;IACJ;EACJ,CAAC;EACD7D,OAAO,CAACwB,SAAS,CAACiE,gBAAgB,GAAG,YAAY;IAC7C,IAAI,CAACC,aAAa,GAAG5F,MAAM,CAAC,GAAG,GAAG,IAAI,CAACsB,MAAM,GAAG,YAAY,EAAE,IAAI,CAACC,OAAO,CAAC;IAC3E,IAAI,CAACsE,SAAS,CAAC,CAAC;IAChB,IAAI,CAACC,mBAAmB,CAAC,CAAC;IAC1B,IAAI,IAAI,CAAC9E,MAAM,CAAC+E,cAAc,EAAE;MAC5B,IAAI,CAACC,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACD9F,OAAO,CAACwB,SAAS,CAACuE,cAAc,GAAG,UAAUC,QAAQ,EAAE;IACnD,IAAI,IAAI,CAAC3E,OAAO,CAAC4E,aAAa,CAAC,mBAAmB,CAAC,EAAE;MACjD,IAAI,CAAC,IAAI,CAACnF,MAAM,CAACgB,gBAAgB,IAAIkE,QAAQ,EAAE;QAC3C,IAAIE,SAAS,GAAG,IAAI,CAACpF,MAAM,CAACmC,QAAQ,GAAG,yBAAyB,GAAG,IAAI,CAACnC,MAAM,CAACmC,QAAQ,GACjF,wBAAwB;QAC9B,IAAI,CAAC5B,OAAO,CAAC4E,aAAa,CAAC,mBAAmB,CAAC,CAACE,SAAS,GAAG,cAAc,GAAGD,SAAS,GAAG;AACzG,gCAAgC,GAAG,IAAI,CAAC9E,MAAM,GAAG;AACjD,mCAAmC,GAAG,IAAI,CAACM,IAAI,CAACiB,WAAW,CAAC,QAAQ,CAAC,GAAG;AACxE,+BAA+B,GAAG,IAAI,CAACvB,MAAM,GAAG;AAChD;AACA,+BAA+B,GAAG,IAAI,CAACA,MAAM,GAAG;AAChD,0CAA0C,GAAG,IAAI,CAACM,IAAI,CAACiB,WAAW,CAAC,QAAQ,CAAC,GAAG;AAC/E,2BAA2B;MACf,CAAC,MACI;QACD,IAAI,CAACtB,OAAO,CAAC4E,aAAa,CAAC,mBAAmB,CAAC,CAACE,SAAS,GAAG,YAAY,GAAG,IAAI,CAAC/E,MAAM,GAChF;AACtB;AACA,+BAA+B,GAAG,IAAI,CAACA,MAAM,GACvB;AACtB,yDAAyD,GAAG,IAAI,CAACM,IAAI,CAACiB,WAAW,CAAC,QAAQ,CAAC,GAAG;AAC9F,2BAA2B;MACf;MACA,IAAI,CAACtB,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC7E,MAAM,GAAG,cAAc,CAAC,CAACgF,KAAK,CAACC,MAAM,GAAG,SAAS;IAC3F;IACA,IAAI,IAAI,CAAChF,OAAO,CAAC4E,aAAa,CAAC,6BAA6B,CAAC,EAAE;MAC3D,IAAI,CAAC5E,OAAO,CAAC4E,aAAa,CAAC,6BAA6B,CAAC,CAACE,SAAS,GAAG,cAAc,GAAG,IAAI,CAAC/E,MAAM,GAC5F;AAClB;AACA,kHAAkH;MACtG,IAAI,CAACC,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC7E,MAAM,GAAG,yBAAyB,CAAC,CAACgF,KAAK,CAACE,KAAK,GAAG,MAAM;IAClG;IACA,IAAI,CAACb,gBAAgB,CAAC,CAAC;EAC3B,CAAC;EACDzF,OAAO,CAACwB,SAAS,CAACwC,aAAa,GAAG,YAAY;IAC1C,IAAI9C,KAAK,GAAG,IAAI,CAACqF,QAAQ,CAAC,CAAC;IAC3B,IAAI,CAAC1C,OAAO,GAAG,IAAI5D,IAAI,CAAC;MACpBiB,KAAK,EAAEA,KAAK;MACZ+D,OAAO,EAAE,IAAI,CAACuB,mBAAmB,CAACC,IAAI,CAAC,IAAI,CAAC;MAC5CC,iBAAiB,EAAE,IAAI,CAAC5F,MAAM,CAAC4F,iBAAiB;MAChDC,SAAS,EAAE,IAAI,CAAC7F,MAAM,CAAC6F,SAAS;MAChC3B,OAAO,EAAE,IAAI,CAACe,cAAc,CAACU,IAAI,CAAC,IAAI,CAAC;MACvCxD,QAAQ,EAAE,IAAI,CAACnC,MAAM,CAACmC,QAAQ,GAAG,IAAI,CAACnC,MAAM,CAACmC,QAAQ,GAAG;IAC5D,CAAC,CAAC;IACF,IAAI,CAACY,OAAO,CAACsB,OAAO,GAAG,IAAI,CAACrE,MAAM,CAACqE,OAAO;IAC1C,IAAI,CAACtB,OAAO,CAAC+C,EAAE,CAAC,+BAA+B,EAAE,IAAI,CAAC/B,sBAAsB,EAAE,IAAI,CAAC;IACnF,IAAIgC,gBAAgB,GAAG,kBAAkB;IACzC,IAAI,CAAChD,OAAO,CAAC,EAAE,GAAGgD,gBAAgB,CAAC,GAAG,IAAI;IAC1C,IAAIvB,OAAO,GAAG,kBAAkB;IAChC,IAAIC,YAAY,GAAG,oBAAoB;IACvC,IAAI,IAAI,CAACzE,MAAM,CAAC,EAAE,GAAGwE,OAAO,CAAC,EAAE;MAC3B,IAAI,CAACzB,OAAO,CAAC,EAAE,GAAG0B,YAAY,CAAC,GAAG,CAAC,CAAC;MACpC,IAAI,CAAC1B,OAAO,CAAC,EAAE,GAAGyB,OAAO,CAAC,GAAG,IAAI,CAACxE,MAAM,CAAC,EAAE,GAAGwE,OAAO,CAAC;IAC1D;IACA,IAAI,CAACjE,OAAO,GAAG,IAAI,CAACP,MAAM,CAACgG,aAAa,CAAC,KAAK,EAAE;MAAExF,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG;IAAgB,CAAC,CAAC;IACtF,IAAI,IAAI,CAACN,MAAM,CAACgB,gBAAgB,EAAE;MAC9B,IAAI,CAACT,OAAO,CAAC6E,SAAS,CAACa,GAAG,CAAC,eAAe,CAAC;IAC/C;IACA,IAAI,IAAI,CAACjG,MAAM,CAACkG,eAAe,EAAE;MAC7B,IAAIC,KAAK,GAAG,IAAI,CAACnG,MAAM,CAACmG,KAAK,IACrB,IAAI,CAACnG,MAAM,CAACoG,aAAa,IAAI,IAAI,CAACpG,MAAM,CAACoG,aAAa,CAACC,aAAa,IAAI,IAAI,CAACrG,MAAM,CAACoG,aAAa,CAACC,aAAa,CAACF,KAAM;MAC9H,IAAI,OAAQ,IAAI,CAACnG,MAAM,CAACkG,eAAgB,KAAK,QAAQ,IAC9C,EAAEC,KAAK,IAAI,CAACG,QAAQ,CAACC,gBAAgB,CAAC,IAAI,CAACvG,MAAM,CAACkG,eAAe,CAAC,CAAC9E,MAAM,CAAC,IACzEkF,QAAQ,CAACnB,aAAa,CAAC,IAAI,CAACnF,MAAM,CAACkG,eAAe,CAAC,IAAII,QAAQ,CAACnB,aAAa,CAAC,IAAI,CAACnF,MAAM,CAACkG,eAAe,CAAC,CAACM,OAAO,CAACjF,WAAW,CAAC,CAAC,KAAK,QAAS,EAAE;QACpJ,IAAI,CAACwB,OAAO,CAAC0D,QAAQ,CAAC,IAAI,CAACzG,MAAM,CAACkG,eAAe,CAAC;QAClD,IAAI,CAAC3F,OAAO,GAAG,IAAI,CAACwC,OAAO,CAACxC,OAAO;MACvC,CAAC,MACI;QACD,IAAImG,eAAe,GAAG,IAAI,CAAC1G,MAAM,CAACqE,OAAO,IAAI,OAAQ,IAAI,CAACrE,MAAM,CAACkG,eAAgB,KAAK,QAAQ,IAC1F,EAAE,IAAI,CAAClG,MAAM,CAACkG,eAAe,CAACxF,SAAS,IAAI,IAAI,CAACV,MAAM,CAACkG,eAAe,CAACxF,SAAS,CAACiG,WAAW,CAAC;QACjG,IAAIC,YAAY,GAAG,IAAI,CAAC5G,MAAM,CAACoG,aAAa,IAAI,IAAI,CAACpG,MAAM,CAACoG,aAAa,CAACC,aAAa,IACnF,IAAI,CAACrG,MAAM,CAACoG,aAAa,CAACC,aAAa,CAAChC,OAAO;QACnD,IAAIwC,EAAE,GAAG,IAAI,CAAC7G,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,iBAAiB;QACnD,IAAIkG,eAAe,IAAIE,YAAY,EAAE;UACjCvH,gBAAgB,CAAC,IAAI,CAACW,MAAM,CAACkG,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAClG,MAAM,EAAE,iBAAiB,EAAE6G,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAACtG,OAAO,CAAC;UAC/G,IAAI,CAACP,MAAM,CAACsE,eAAe,CAAC,CAAC;QACjC,CAAC,MACI;UACDhF,cAAc,CAAC,IAAI,CAACiB,OAAO,EAAElB,gBAAgB,CAAC,IAAI,CAACW,MAAM,CAACkG,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAClG,MAAM,EAAE,iBAAiB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAACA,MAAM,CAAC8G,IAAI,CAAC,CAAC;QAC7J;MACJ;MACA,IAAI,CAACvG,OAAO,CAAC6E,SAAS,CAACa,GAAG,CAAC,gBAAgB,CAAC;IAChD,CAAC,MACI;MACD,IAAI,CAAClD,OAAO,CAAC0D,QAAQ,CAAC,IAAI,CAAClG,OAAO,CAAC;IACvC;IACA,IAAI,CAACP,MAAM,CAACO,OAAO,CAACwG,YAAY,CAAC,IAAI,CAACxG,OAAO,EAAE,IAAI,CAACP,MAAM,CAACgH,gBAAgB,CAAC,CAAC,CAAC;IAC9E,IAAIC,eAAe,GAAG,IAAI,CAAC1G,OAAO,CAAC4E,aAAa,CAAC,iBAAiB,CAAC;IACnE,IAAI+B,iBAAiB,GAAG,IAAI,CAAC3G,OAAO,CAAC4E,aAAa,CAAC,mBAAmB,CAAC;IACvE,IAAIgC,gBAAgB,GAAG,IAAI,CAAC5G,OAAO,CAAC4E,aAAa,CAAC,kBAAkB,CAAC;IACrE,IAAIiC,SAAS,GAAG,IAAI,CAAC7G,OAAO,CAAC4E,aAAa,CAAC,kBAAkB,CAAC;IAC9D,IAAIkC,WAAW,GAAG,IAAI,CAAC9G,OAAO;IAC9B,IAAI+G,aAAa,GAAGL,eAAe,GAAGA,eAAe,CAACM,WAAW,GAAG,CAAC;IACrE,IAAIC,eAAe,GAAGN,iBAAiB,GAAGA,iBAAiB,CAACK,WAAW,GAAG,CAAC;IAC3E,IAAIE,cAAc,GAAGN,gBAAgB,GAAGA,gBAAgB,CAACI,WAAW,GAAG,CAAC;IACxE,IAAIG,cAAc,GAAGN,SAAS,GAAGA,SAAS,CAACG,WAAW,GAAG,CAAC;IAC1D,IAAII,SAAS,GAAGN,WAAW,GAAGA,WAAW,CAACE,WAAW,GAAG,CAAC;IACzD,IAAID,aAAa,GAAGK,SAAS,IAAIH,eAAe,GAAGG,SAAS,IAAIF,cAAc,GAAGE,SAAS,IAAID,cAAc,GAAGC,SAAS,EAAE;MACtH,IAAI,CAAC5E,OAAO,CAACM,eAAe,CAAC,CAAC;IAClC;EACJ,CAAC;EACDnE,OAAO,CAACwB,SAAS,CAACqD,sBAAsB,GAAG,UAAU6D,IAAI,EAAE;IACvD,IAAI,IAAI,CAAC5H,MAAM,CAACqE,OAAO,IAAIuD,IAAI,EAAE;MAC7B,IAAI,CAAC5H,MAAM,CAAC6H,OAAO,GAAG,IAAI,CAAC7H,MAAM,CAAC6H,OAAO,CAACC,MAAM,CAACF,IAAI,CAAC;MACtD,IAAI,CAAC5H,MAAM,CAACsE,eAAe,CAAC,CAAC;IACjC;EACJ,CAAC;EACDpF,OAAO,CAACwB,SAAS,CAACqH,sBAAsB,GAAG,UAAUC,QAAQ,EAAE;IAC3D,IAAIA,QAAQ,EAAE;MACV,IAAI,CAAC/C,cAAc,CAAC,IAAI,CAAC;MACzB,IAAI,CAACgD,6BAA6B,CAACvI,uBAAuB,CAACwI,QAAQ,CAAC;MACpE,IAAI,CAACtD,aAAa,GAAG5F,MAAM,CAAC,GAAG,GAAG,IAAI,CAACsB,MAAM,GAAG,YAAY,EAAE,IAAI,CAACC,OAAO,CAAC;MAC3E,IAAI4H,KAAK,GAAG5I,YAAY,CAAC,IAAI,CAACqF,aAAa,EAAE,iBAAiB,CAAC;MAC/D,IAAIuD,KAAK,EAAE;QACPA,KAAK,CAAC/C,SAAS,CAACa,GAAG,CAAC,oBAAoB,CAAC;MAC7C;MACA,IAAI,IAAI,CAACjG,MAAM,CAAC+E,cAAc,EAAE;QAC5B,IAAI,CAACC,eAAe,CAAC,CAAC;MAC1B;IACJ,CAAC,MACI;MACD,IAAI,CAACiD,6BAA6B,CAACvI,uBAAuB,CAAC0I,SAAS,CAAC;IACzE;IACA,IAAI,IAAI,CAACrF,OAAO,CAACxC,OAAO,IAAI,IAAI,CAACwC,OAAO,CAACxC,OAAO,CAAC4E,aAAa,CAAC,YAAY,CAAC,EAAE;MAC1E,IAAI,CAACpC,OAAO,CAACM,eAAe,CAAC,CAAC;IAClC;IACA,IAAI2E,QAAQ,EAAE;MACV,IAAI,CAACK,YAAY,CAACC,WAAW,CAAC;QAAEC,MAAM,EAAE,IAAI,CAAC3D;MAAc,CAAC,CAAC;MAC7D,IAAI,CAACA,aAAa,CAAC4D,KAAK,CAAC,CAAC;IAC9B;EACJ,CAAC;EACDtJ,OAAO,CAACwB,SAAS,CAACuH,6BAA6B,GAAG,UAAUQ,MAAM,EAAE;IAChE,IAAIA,MAAM,KAAK/I,uBAAuB,CAAC0I,SAAS,EAAE;MAC9C,IAAI5H,EAAE,GAAG,IAAI,CAACR,MAAM,CAACO,OAAO,CAACC,EAAE;MAC/B,IAAIJ,KAAK,GAAG,CAACI,EAAE,GAAG,OAAO,EAAEA,EAAE,GAAG,SAAS,CAAC;MAC1C,IAAIkI,eAAe,GAAG,IAAI,CAAC1I,MAAM,CAAC2I,qBAAqB,CAAC,CAAC;MACzD,IAAI1H,cAAc,GAAG,CAACT,EAAE,GAAG,iBAAiB,EAAEA,EAAE,GAAG,SAAS,EAAEA,EAAE,GAAG,SAAS,CAAC;MAC7E,KAAK,IAAIU,EAAE,GAAG,CAAC,EAAE0H,EAAE,GAAG,IAAI,CAAC7F,OAAO,CAAC3C,KAAK,EAAEc,EAAE,GAAG0H,EAAE,CAACxH,MAAM,EAAEF,EAAE,EAAE,EAAE;QAC5D,IAAIG,IAAI,GAAGuH,EAAE,CAAC1H,EAAE,CAAC;QACjB,IAAI2H,UAAU,GAAGxH,IAAI,CAACyH,QAAQ,IAAIzH,IAAI,CAACyH,QAAQ,CAAC1H,MAAM,GAClD7B,YAAY,CAAC,IAAI,CAACwD,OAAO,CAACxC,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG9D,IAAI,CAACb,EAAE,CAAC,EAAE,YAAY,CAAC,CAACuI,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAChG,OAAO,CAACxC,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG9D,IAAI,CAACb,EAAE,CAAC;QACjJ,IAAIqI,UAAU,EAAE;UACZ,IAAIzI,KAAK,CAAC4B,OAAO,CAACX,IAAI,CAACb,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;YAC7B,IAAIkI,eAAe,CAACtH,MAAM,EAAE;cACxByH,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACrG,MAAM,CAAC,UAAU,CAAC;YACzD,CAAC,MACI;cACD8J,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACa,GAAG,CAAC,UAAU,CAAC;YACtD;UACJ,CAAC,MACI;YACD,IAAIhF,cAAc,CAACe,OAAO,CAACX,IAAI,CAACb,EAAE,CAAC,KAAK,CAAC,CAAC,IAAKS,cAAc,CAACe,OAAO,CAACX,IAAI,CAACb,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,CAACR,MAAM,CAACiJ,MAAO,EAAE;cACvGJ,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACrG,MAAM,CAAC,UAAU,CAAC;YACzD,CAAC,MACI;cACD8J,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACa,GAAG,CAAC,UAAU,CAAC;YACtD;UACJ;QACJ;MACJ;MACA,IAAI,IAAI,CAACrB,aAAa,EAAE;QACpB,IAAIuD,KAAK,GAAG5I,YAAY,CAAC,IAAI,CAACqF,aAAa,EAAE,iBAAiB,CAAC;QAC/D,IAAIuD,KAAK,EAAE;UACPA,KAAK,CAAC/C,SAAS,CAACrG,MAAM,CAAC,oBAAoB,CAAC;QAChD;QACA,IAAI,CAACkG,cAAc,CAAC,KAAK,CAAC;QAC1B,IAAI,CAACjB,WAAW,CAAC,CAAC;QAClB,IAAI,CAACY,aAAa,GAAGsE,SAAS;MAClC;IACJ;IACA,IAAIT,MAAM,KAAK/I,uBAAuB,CAACwI,QAAQ,EAAE;MAC7C,IAAI9H,KAAK,GAAG,CAAC,IAAI,CAACJ,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,iBAAiB,EAAE,IAAI,CAACR,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,SAAS,CAAC;MAC5F,KAAK,IAAI2I,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,IAAI,CAACrG,OAAO,CAAC3C,KAAK,EAAE+I,EAAE,GAAGC,EAAE,CAAChI,MAAM,EAAE+H,EAAE,EAAE,EAAE;QAC5D,IAAI9H,IAAI,GAAG+H,EAAE,CAACD,EAAE,CAAC;QACjB,IAAIN,UAAU,GAAG,IAAI,CAAC9F,OAAO,CAACxC,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG9D,IAAI,CAACb,EAAE,CAAC;QAClE,IAAIqI,UAAU,EAAE;UACZ,IAAIzI,KAAK,CAAC4B,OAAO,CAACX,IAAI,CAACb,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;YAC7BqI,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACrG,MAAM,CAAC,UAAU,CAAC;UACzD,CAAC,MACI;YACD8J,UAAU,CAACG,aAAa,CAAC5D,SAAS,CAACa,GAAG,CAAC,UAAU,CAAC;UACtD;QACJ;MACJ;IACJ;EACJ,CAAC;EACD;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;EACI/G,OAAO,CAACwB,SAAS,CAACoE,mBAAmB,GAAG,UAAU8C,IAAI,EAAE;IACpD,IAAIyB,IAAI,GAAG,IAAI,CAACrJ,MAAM;IACtB,IAAIsJ,WAAW,GAAG,EAAE;IACpB,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIC,IAAI,GAAGH,IAAI,CAACI,YAAY;IAC5B,IAAIC,OAAO,GAAIL,IAAI,CAACM,eAAe,IAAIN,IAAI,CAACM,eAAe,CAACvI,MAAM,IAC7DiI,IAAI,CAACI,YAAY,CAACG,IAAI,KAAK,OAAO,IAAI,CAAC9K,iBAAiB,CAACuK,IAAI,CAACQ,UAAU,CAAC,IAAIR,IAAI,CAACQ,UAAU,CAACC,eAAe,CAAC,CAAC,CAAC/J,QAAQ,CAACgK,YAAY,CAAC,CAAC3I,MAAO;IAClJ,IAAI4I,MAAM,GAAGR,IAAI,CAACS,aAAa,IAAI,CAACZ,IAAI,CAAC9I,OAAO,CAAC4E,aAAa,CAAC,cAAc,CAAC;IAC9E,IAAIqE,IAAI,CAACU,WAAW,EAAE;MAClBZ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,MAAM,CAAC;IAC1C,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,MAAM,CAAC;IAC3C;IACA,IAAIkJ,IAAI,CAACY,YAAY,IAAIV,OAAO,EAAE;MAC9BJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,OAAO,CAAC;IAC3C,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,OAAO,CAAC;IAC5C;IACA,IAAIkJ,IAAI,CAACa,aAAa,IAAIX,OAAO,EAAE;MAC/BJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;IAC7C,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;IAC9C;IACA,IAAI+I,IAAI,CAACiB,cAAc,IAAIZ,OAAO,EAAE;MAChCJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,YAAY,CAAC;IAChD,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,YAAY,CAAC;IACjD;IACA,IAAI+I,IAAI,CAACkB,gBAAgB,IAAIb,OAAO,EAAE;MAClCJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,cAAc,CAAC;MAC9CgJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,YAAY,CAAC;IAChD,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,cAAc,CAAC;MAC/CiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,YAAY,CAAC;IACjD;IACA,IAAI+I,IAAI,CAACmB,iBAAiB,EAAE;MACxBlB,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,gBAAgB,CAAC;IACpD,CAAC,MACI;MACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,gBAAgB,CAAC;IACrD;IACA,IAAI+I,IAAI,CAACI,YAAY,CAACG,IAAI,KAAK,OAAO,EAAE;MACpC,IAAIP,IAAI,CAAC9I,OAAO,CAACkK,sBAAsB,CAAC,aAAa,CAAC,CAACrJ,MAAM,KAAKoI,IAAI,CAACU,WAAW,IAAIV,IAAI,CAACY,YAAY,CAAC,EAAE;QACtGd,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;QACzCgJ,WAAW,CAACa,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;MAC7C,CAAC,MACI;QACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;QAC1CiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;MAC9C;IACJ,CAAC,MACI;MACD,IAAI,CAAC+I,IAAI,CAACJ,MAAM,IAAIO,IAAI,CAACS,aAAa,MAAMT,IAAI,CAACU,WAAW,IAAIV,IAAI,CAACY,YAAY,CAAC,EAAE;QAChFd,WAAW,GAAGU,MAAM,GAAG,CAAC,IAAI,CAAC1J,MAAM,GAAG,SAAS,EAAE,IAAI,CAACA,MAAM,GAAG,SAAS,EAAE,IAAI,CAACA,MAAM,GAAG,OAAO,EAAE,IAAI,CAACA,MAAM,GAAG,SAAS,CAAC,GACrH,CAAC,IAAI,CAACA,MAAM,GAAG,SAAS,EAAE,IAAI,CAACA,MAAM,GAAG,SAAS,CAAC;QACtDiJ,YAAY,GAAGS,MAAM,GAAG,CAAC,IAAI,CAAC1J,MAAM,GAAG,MAAM,CAAC,GAC1C,CAAC,IAAI,CAACA,MAAM,GAAG,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,OAAO,EAAE,IAAI,CAACA,MAAM,GAAG,SAAS,CAAC;MAC9E,CAAC,MACI;QACDiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;QAC1CiJ,YAAY,CAACY,IAAI,CAAC,IAAI,CAAC7J,MAAM,GAAG,SAAS,CAAC;MAC9C;IACJ;IACA,IAAI,CAACgJ,WAAW,CAACA,WAAW,EAAE,IAAI,CAAC;IACnC,IAAI,CAACA,WAAW,CAACC,YAAY,EAAE,KAAK,CAAC;EACzC,CAAC;EACDrK,OAAO,CAACwB,SAAS,CAAC+E,QAAQ,GAAG,YAAY;IACrC,IAAIrF,KAAK,GAAG,EAAE;IACd,IAAImD,YAAY,GAAG,IAAI,CAACvD,MAAM,CAAC+C,OAAO,IAAI,EAAE;IAC5C,IAAI,OAAQ,IAAI,CAAC/C,MAAM,CAAC+C,OAAQ,KAAK,QAAQ,EAAE;MAC3C,OAAO,EAAE;IACb;IACA,IAAI,IAAI,CAAC/C,MAAM,CAACsC,gBAAgB,KAAK,UAAU,EAAE;MAC7C,IAAI,IAAI,CAACtC,MAAM,CAACuC,cAAc,IAAI,IAAI,CAACvC,MAAM,CAAC4C,cAAc,CAACR,IAAI,KAAK,WAAW,EAAE;QAC/EhC,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAAC,kBAAkB,CAAC,CAAC;MACtD;MACA,IAAI,IAAI,CAAC1K,MAAM,CAACwC,YAAY,EAAE;QAC1BpC,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAAC,gBAAgB,CAAC,CAAC;MACpD;IACJ;IACA,KAAK,IAAIxJ,EAAE,GAAG,CAAC,EAAEyJ,cAAc,GAAGpH,YAAY,EAAErC,EAAE,GAAGyJ,cAAc,CAACvJ,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC9E,IAAIG,IAAI,GAAGsJ,cAAc,CAACzJ,EAAE,CAAC;MAC7B,IAAI,IAAI,CAAClB,MAAM,CAACgB,gBAAgB,IAAI,CAAC,OAAO,EAAE,eAAe,EACzD,WAAW,EAAE,aAAa,EAAE,WAAW,CAAC,CAACgB,OAAO,CAACX,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QAC/D;MACJ;MACA,IAAI,IAAI,CAACrB,MAAM,CAACgB,gBAAgB,KAAM,OAAOK,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACO,IAAI,KAAK,QAAQ,IAAKP,IAAI,KAAK,QAAQ,CAAC,EAAE;QAC7GjB,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAAC,gBAAgB,CAAC,CAAC;MACpD;MACA,QAAQ,OAAOrJ,IAAI;QACf,KAAK,QAAQ;UACTjB,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAAC,IAAI,CAACtK,KAAK,CAACiB,IAAI,CAAC,CAAC,CAAC;UAChD;QACJ,KAAK,QAAQ;UACTjB,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAACrJ,IAAI,CAAC,CAAC;UACpC;QACJ;UACIjB,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACS,OAAO,CAACvJ,IAAI,CAAC,CAAC;MACtC;IACJ;IACA,IAAI,IAAI,CAACrB,MAAM,CAACgB,gBAAgB,IAAI,IAAI,CAACqB,4BAA4B,CAAC,KAAK,CAAC,EAAE;MAC1EjC,KAAK,CAAC+J,IAAI,CAAC,IAAI,CAACO,aAAa,CAAC,wBAAwB,CAAC,CAAC;IAC5D;IACA,OAAOtK,KAAK;EAChB,CAAC;EACDlB,OAAO,CAACwB,SAAS,CAACkK,OAAO,GAAG,UAAUC,UAAU,EAAE;IAC9C,IAAIxJ,IAAI,GAAG,IAAI,CAACnB,eAAe,CAAC2K,UAAU,CAACjJ,IAAI,CAAC;IAChD,OAAOP,IAAI,GAAGxC,MAAM,CAACwC,IAAI,EAAEA,IAAI,EAAEwJ,UAAU,CAAC,GAAGA,UAAU;EAC7D,CAAC;EACD3L,OAAO,CAACwB,SAAS,CAACgK,aAAa,GAAG,UAAUI,QAAQ,EAAE;IAClD,OAAO,IAAI,CAAC5K,eAAe,CAAC,EAAE,GAAG4K,QAAQ,CAAC,IAAI;MAAElJ,IAAI,EAAEkJ,QAAQ;MAAEtK,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAGwK;IAAS,CAAC;EACtG,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI5L,OAAO,CAACwB,SAAS,CAAC4I,WAAW,GAAG,UAAUlJ,KAAK,EAAE2K,QAAQ,EAAE;IACvD,KAAK,IAAI7J,EAAE,GAAG,CAAC,EAAE8J,OAAO,GAAG5K,KAAK,EAAEc,EAAE,GAAG8J,OAAO,CAAC5J,MAAM,EAAEF,EAAE,EAAE,EAAE;MACzD,IAAIG,IAAI,GAAG2J,OAAO,CAAC9J,EAAE,CAAC;MACtB,IAAIX,OAAO,GAAGvB,MAAM,CAAC,GAAG,GAAGqC,IAAI,EAAE,IAAI,CAACd,OAAO,CAAC;MAC9C,IAAIA,OAAO,EAAE;QACT,IAAI,CAACwC,OAAO,CAACuG,WAAW,CAAC/I,OAAO,CAAC0K,OAAO,CAAC,iBAAiB,CAAC,EAAEF,QAAQ,CAAC;MAC1E;IACJ;EACJ,CAAC;EACD7L,OAAO,CAACwB,SAAS,CAACgF,mBAAmB,GAAG,UAAUkC,IAAI,EAAE;IACpD,IAAIsD,KAAK,GAAG,IAAI;IAChB,IAAI7B,IAAI,GAAG,IAAI,CAACrJ,MAAM;IACtB,IAAImL,GAAG,GAAG,IAAI,CAAC7K,MAAM;IACrB,IAAI8K,aAAa,GAAGxD,IAAI,CAACwD,aAAa;IACtC,IAAI,IAAI,CAACpL,MAAM,CAACgB,gBAAgB,IAAI4G,IAAI,CAACvG,IAAI,CAACb,EAAE,KAAK2K,GAAG,GAAG,yBAAyB,EAAE;MAClF,IAAI,CAACE,8BAA8B,CAACD,aAAa,EAAExD,IAAI,CAACvG,IAAI,CAACb,EAAE,CAAC;IACpE,CAAC,MACI;MACD3B,MAAM,CAAC+I,IAAI,EAAE;QAAE0D,MAAM,EAAE;MAAM,CAAC,CAAC;MAC/B,IAAIC,OAAO,GAAG3D,IAAI;MAClByB,IAAI,CAACmC,OAAO,CAACpM,MAAM,CAACqM,YAAY,EAAEF,OAAO,EAAE,UAAUG,WAAW,EAAE;QAC9DA,WAAW,CAACN,aAAa,GAAGM,WAAW,CAACN,aAAa,GAAGM,WAAW,CAACN,aAAa,GAAGA,aAAa;QACjG,IAAI,CAACM,WAAW,CAACJ,MAAM,EAAE;UACrB,QAAQ,CAACxM,iBAAiB,CAAC4M,WAAW,CAACrK,IAAI,CAAC,IAAIqK,WAAW,CAACrK,IAAI,CAACb,EAAE;YAC/D,KAAK2K,GAAG,GAAG,QAAQ;cACf9B,IAAI,CAACsC,KAAK,CAAC,CAAC;cACZ;YACJ,KAAKR,GAAG,GAAG,OAAO;cACd9B,IAAI,CAACuC,SAAS,CAAC,CAAC;cAChB;YACJ,KAAKT,GAAG,GAAG,SAAS;cAChB9B,IAAI,CAACwC,OAAO,CAAC,CAAC;cACd;YACJ,KAAKV,GAAG,GAAG,SAAS;cAChB9B,IAAI,CAACyC,SAAS,CAAC,CAAC;cAChB;YACJ,KAAKX,GAAG,GAAG,MAAM;cACb9B,IAAI,CAAC0C,SAAS,CAAC,CAAC;cAChB;YACJ,KAAKZ,GAAG,GAAG,SAAS;cAChB9B,IAAI,CAAC2C,YAAY,CAAC,CAAC;cACnB;YACJ,KAAKb,GAAG,GAAG,SAAS;cAChB,IAAIO,WAAW,CAACN,aAAa,CAAC7C,MAAM,CAAC/H,EAAE,KAAK2K,GAAG,GAAG,eAAe,IAAID,KAAK,CAACtG,aAAa,EAAE;gBACtFsG,KAAK,CAACe,MAAM,CAAC,CAAC;cAClB,CAAC,MACI,IAAI5C,IAAI,CAACrI,gBAAgB,IAAI,CAACkK,KAAK,CAACtG,aAAa,KAC9C8G,WAAW,CAACN,aAAa,CAAC7C,MAAM,CAACnD,SAAS,CAAC8G,QAAQ,CAAC,kBAAkB,CAAC,IACpER,WAAW,CAACN,aAAa,CAAC7C,MAAM,CAAC/H,EAAE,KAAK2K,GAAG,GAAG,eAAe,CAAC,EAAE;gBACvED,KAAK,CAACnD,sBAAsB,CAAC,IAAI,CAAC;cACtC,CAAC,MACI,IAAI2D,WAAW,CAACN,aAAa,CAAC7C,MAAM,CAACnD,SAAS,CAAC8G,QAAQ,CAAC,cAAc,CAAC,IAAIR,WAAW,CAACN,aAAa,CAAC7C,MAAM,CAAC/H,EAAE,KAAK2K,GAAG,GAAG,cAAc,IAAID,KAAK,CAACtG,aAAa,EAAE;gBACjKsG,KAAK,CAACtG,aAAa,CAACuH,KAAK,GAAG,EAAE;gBAC9B,IAAIjB,KAAK,CAACtG,aAAa,EAAE;kBACrBsG,KAAK,CAACkB,KAAK,GAAGlB,KAAK,CAACtG,aAAa,CAACoE,aAAa,CAAC7D,aAAa,CAAC,UAAU,CAAC;kBACzE+F,KAAK,CAACkB,KAAK,CAAChH,SAAS,CAACrG,MAAM,CAAC,cAAc,CAAC;kBAC5CmM,KAAK,CAACkB,KAAK,CAACC,eAAe,CAAC,OAAO,CAAC;kBACpCnB,KAAK,CAACkB,KAAK,CAAC9G,KAAK,CAACC,MAAM,GAAG,SAAS;gBACxC;gBACA,IAAI2F,KAAK,CAAC/K,UAAU,IAAI+K,KAAK,CAAClL,MAAM,CAAC+E,cAAc,CAACuH,GAAG,CAAClL,MAAM,EAAE;kBAC5D8J,KAAK,CAAClL,MAAM,CAACiM,MAAM,CAACf,KAAK,CAACtG,aAAa,CAACuH,KAAK,CAAC;kBAC9CjB,KAAK,CAAC/K,UAAU,GAAG,KAAK;gBAC5B;cACJ;cACA;YACJ,KAAKgL,GAAG,GAAG,gBAAgB;cACvB,IAAID,KAAK,CAAClL,MAAM,CAACgB,gBAAgB,EAAE;gBAC/BqI,IAAI,CAACkD,iCAAiC,CAAC,CAAC;cAC5C,CAAC,MACI;gBACD;gBACA,IAAIC,UAAU,GAAGtB,KAAK,CAAClL,MAAM,CAACO,OAAO,CAAC4E,aAAa,CAAC,UAAU,CAAC;gBAC/D,IAAIsH,CAAC,GAAGD,UAAU,CAACE,qBAAqB,CAAC,CAAC,CAACC,GAAG;gBAC9C,IAAIC,CAAC,GAAGJ,UAAU,CAACE,qBAAqB,CAAC,CAAC,CAACG,IAAI;gBAC/C,IAAIC,SAAS,GAAGpB,WAAW,CAACN,aAAa,CAAC7C,MAAM;gBAChD;gBACAkE,CAAC,GAAGD,UAAU,CAACE,qBAAqB,CAAC,CAAC,CAACC,GAAG,GAAGH,UAAU,CAACO,SAAS;gBACjE1D,IAAI,CAAC2D,mBAAmB,CAACJ,CAAC,EAAEH,CAAC,EAAEK,SAAS,CAAC;cAC7C;cACA;YACJ,KAAK3B,GAAG,GAAG,mBAAmB;cAC1B9B,IAAI,CAAC4D,MAAM,CAAC7N,MAAM,CAAC8N,4BAA4B,EAAE;gBAAEzE,MAAM,EAAE;cAAE,CAAC,CAAC;cAC/DY,IAAI,CAAC8D,0BAA0B,CAAC,CAAC;cACjC;YACJ,KAAKhC,GAAG,GAAG,iBAAiB;cACxB9B,IAAI,CAAC4D,MAAM,CAAC7N,MAAM,CAAC8N,4BAA4B,EAAE;gBAAEzE,MAAM,EAAE;cAAE,CAAC,CAAC;cAC/DY,IAAI,CAAC+D,wBAAwB,CAAC,CAAC;cAC/B;YACJ,KAAKjC,GAAG,GAAG,iBAAiB;cACxBD,KAAK,CAACnD,sBAAsB,CAAC,KAAK,CAAC;cACnCmD,KAAK,CAACnI,OAAO,CAACM,eAAe,CAAC,CAAC;cAC/B;UACR;QACJ;MACJ,CAAC,CAAC;IACN;EACJ,CAAC;EACDnE,OAAO,CAACwB,SAAS,CAAC2K,8BAA8B,GAAG,UAAUgC,CAAC,EAAE7M,EAAE,EAAE;IAChE,IAAI8M,GAAG,GAAG;MAAEX,GAAG,EAAE,CAAC;MAAEE,IAAI,EAAE;IAAE,CAAC;IAC7B,IAAI,CAACU,kBAAkB,CAACjI,KAAK,CAACkI,OAAO,GAAG,iCAAiC;IACzE,IAAIC,MAAM,GAAG,IAAI,CAACF,kBAAkB,CAACb,qBAAqB,CAAC,CAAC;IAC5D,IAAIgB,OAAO,GAAG,IAAI,CAAC1N,MAAM,CAACO,OAAO,CAACmM,qBAAqB,CAAC,CAAC;IACzD,IAAI,CAACa,kBAAkB,CAACjI,KAAK,CAACkI,OAAO,GAAG,iCAAiC;IACzE,IAAIjF,MAAM;IACV,IAAIzJ,iBAAiB,CAACuO,CAAC,CAAC,EAAE;MACtB9E,MAAM,GAAG,IAAI,CAACvI,MAAM,CAACO,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG3E,EAAE,CAAC;IACxD,CAAC,MACI;MACD+H,MAAM,GAAG8E,CAAC,CAAC9E,MAAM;IACrB;IACA,IAAI,IAAI,CAACvI,MAAM,CAAC6F,SAAS,EAAE;MACvByH,GAAG,GAAGzN,iBAAiB,CAAC0I,MAAM,EAAE,MAAM,EAAE,QAAQ,CAAC;MACjD,IAAI,IAAI,CAAClI,kBAAkB,EAAE;QACzBiN,GAAG,CAACT,IAAI,IAAIY,MAAM,CAACjI,KAAK;MAC5B;IACJ,CAAC,MACI;MACD8H,GAAG,GAAGzN,iBAAiB,CAAC0I,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;MAClD,IAAI,CAAC,IAAI,CAAClI,kBAAkB,EAAE;QAC1BiN,GAAG,CAACT,IAAI,IAAIY,MAAM,CAACjI,KAAK;MAC5B;MACA,IAAK8H,GAAG,CAACT,IAAI,GAAGY,MAAM,CAACjI,KAAK,GAAG,CAAC,IAAKkI,OAAO,CAACvF,KAAK,EAAE;QAChDmF,GAAG,CAACT,IAAI,IAAI,EAAE;MAClB;IACJ;IACA,IAAI,CAAC1J,qBAAqB,CAAC,MAAM,CAAC,CAACmK,GAAG,CAACX,GAAG,EAAEW,GAAG,CAACT,IAAI,CAAC;IACrD,IAAIQ,CAAC,IAAIA,CAAC,CAACM,cAAc,EAAE;MACvBN,CAAC,CAACM,cAAc,CAAC,CAAC;IACtB;IACAlO,gBAAgB,CAAC,IAAI,CAACO,MAAM,CAACO,OAAO,EAAE,IAAI,CAAC4C,qBAAqB,CAAC5C,OAAO,CAACyI,aAAa,CAAC;EAC3F,CAAC;EACD9J,OAAO,CAACwB,SAAS,CAACkN,YAAY,GAAG,YAAY;IACzC,IAAIxN,KAAK,GAAG,EAAE;IACd,IAAImD,YAAY,GAAG,IAAI,CAACvD,MAAM,CAAC+C,OAAO,IAAI,EAAE;IAC5C,KAAK,IAAI7B,EAAE,GAAG,CAAC,EAAE2M,cAAc,GAAGtK,YAAY,EAAErC,EAAE,GAAG2M,cAAc,CAACzM,MAAM,EAAEF,EAAE,EAAE,EAAE;MAC9E,IAAIG,IAAI,GAAGwM,cAAc,CAAC3M,EAAE,CAAC;MAC7B,IAAI,OAAOG,IAAI,KAAK,QAAQ,KAAKA,IAAI,KAAK,eAAe,IAAIA,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,aAAa,IACvGA,IAAI,KAAK,WAAW,IAAIA,IAAI,KAAK,OAAO,CAAC,EAAE;QAC3CjB,KAAK,CAAC+J,IAAI,CAAC;UACPvI,IAAI,EAAE,IAAI,CAACkM,aAAa,CAACzM,IAAI,CAAC;UAC9Bb,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,GAAG,GAAGe,IAAI,CAACE,WAAW,CAAC,CAAC;UAC1CwM,OAAO,EAAE,eAAe,GAAG1M,IAAI,CAACE,WAAW,CAAC,CAAC,GAAG;QACpD,CAAC,CAAC;MACN;IACJ;IACA,OAAOnB,KAAK;EAChB,CAAC;EACDlB,OAAO,CAACwB,SAAS,CAACoN,aAAa,GAAG,UAAUzM,IAAI,EAAE;IAC9C,IAAI2M,KAAK;IACT,IAAI3M,IAAI,KAAK,eAAe,EAAE;MAC1B2M,KAAK,GAAG,IAAI,CAACpN,IAAI,CAACiB,WAAW,CAAC,eAAe,CAAC;IAClD,CAAC,MACI,IAAIR,IAAI,KAAK,WAAW,EAAE;MAC3B2M,KAAK,GAAG,IAAI,CAACpN,IAAI,CAACiB,WAAW,CAAC,WAAW,CAAC;IAC9C,CAAC,MACI,IAAIR,IAAI,KAAK,aAAa,EAAE;MAC7B2M,KAAK,GAAG,IAAI,CAACpN,IAAI,CAACiB,WAAW,CAAC,aAAa,CAAC;IAChD,CAAC,MACI,IAAIR,IAAI,KAAK,WAAW,EAAE;MAC3B2M,KAAK,GAAG,IAAI,CAACpN,IAAI,CAACiB,WAAW,CAAC,WAAW,CAAC;IAC9C,CAAC,MACI,IAAIR,IAAI,KAAK,OAAO,EAAE;MACvB2M,KAAK,GAAG,IAAI,CAACpN,IAAI,CAACiB,WAAW,CAAC,OAAO,CAAC;IAC1C;IACA,OAAOmM,KAAK;EAChB,CAAC;EACD9O,OAAO,CAACwB,SAAS,CAAC0C,4BAA4B,GAAG,YAAY;IACzD,IAAI,CAACxC,IAAI,GAAG,IAAI,CAACX,cAAc,CAACY,UAAU,CAAC,cAAc,CAAC;IAC1D,IAAI,CAAC0M,kBAAkB,GAAG,IAAI,CAACvN,MAAM,CAACgG,aAAa,CAAC,IAAI,EAAE;MACtDxF,EAAE,EAAE,IAAI,CAACF,MAAM,GAAG,oBAAoB;MAAE2N,SAAS,EAAE;IACvD,CAAC,CAAC;IACF,IAAI,CAAC1N,OAAO,CAAC2N,YAAY,CAAC,YAAY,EAAE,IAAI,CAACtN,IAAI,CAACiB,WAAW,CAAC,uBAAuB,CAAC,CAAC;IACvF,IAAI,CAAC7B,MAAM,CAACO,OAAO,CAAC4N,WAAW,CAAC,IAAI,CAACZ,kBAAkB,CAAC;IACxD,IAAI,CAACpK,qBAAqB,GAAG,IAAIvD,IAAI,CAAC;MAClCuC,QAAQ,EAAE,IAAI,CAACnC,MAAM,CAACmC,QAAQ,GAAG,6BAA6B,GAAG,GAAG,GAAG,IAAI,CAACnC,MAAM,CAACmC,QAAQ,GAAG,6BAA6B;MAC3H0D,SAAS,EAAE,IAAI,CAAC7F,MAAM,CAAC6F,SAAS;MAChCD,iBAAiB,EAAE,IAAI,CAAC5F,MAAM,CAAC4F,iBAAiB;MAChDwI,MAAM,EAAE,IAAI,CAACpO,MAAM,CAACoO,MAAM;MAC1BC,UAAU,EAAE,IAAI,CAACC,mCAAmC,CAAC3I,IAAI,CAAC,IAAI,CAAC;MAC/DvF,KAAK,EAAE,IAAI,CAACwN,YAAY,CAAC,CAAC;MAC1B5O,MAAM,EAAE,IAAI,CAACuP,8BAA8B,CAAC5I,IAAI,CAAC,IAAI;IACzD,CAAC,CAAC;IACF,IAAI,CAACxC,qBAAqB,CAACsD,QAAQ,CAAC,IAAI,CAAC8G,kBAAkB,CAAC;EAChE,CAAC;EACDrO,OAAO,CAACwB,SAAS,CAAC6N,8BAA8B,GAAG,UAAU3G,IAAI,EAAE;IAC/D,IAAIsD,KAAK,GAAG,IAAI;IAChB,IAAI7B,IAAI,GAAG,IAAI,CAACrJ,MAAM;IACtB,IAAIO,OAAO,GAAGqH,IAAI,CAACrH,OAAO;IAC1BqH,IAAI,CAACvG,IAAI,CAACb,EAAE,GAAGD,OAAO,CAACC,EAAE;IACzB,IAAI+K,OAAO,GAAG;MAAED,MAAM,EAAE,KAAK;MAAEkD,IAAI,EAAE,SAAS;MAAEnN,IAAI,EAAEuG,IAAI,CAACvG,IAAI;MAAE+J,aAAa,EAAExD,IAAI,CAAC6G;IAAM,CAAC;IAC5FpF,IAAI,CAACmC,OAAO,CAACpM,MAAM,CAACqM,YAAY,EAAEF,OAAO,EAAE,UAAUG,WAAW,EAAE;MAC9D,IAAI,CAACA,WAAW,CAACJ,MAAM,EAAE;QACrB,QAAQ,CAACxM,iBAAiB,CAAC4M,WAAW,CAACrK,IAAI,CAAC,IAAIqK,WAAW,CAACrK,IAAI,CAACb,EAAE;UAC/D,KAAK0K,KAAK,CAAC5K,MAAM,GAAG,gBAAgB;YAChC+I,IAAI,CAAC4D,MAAM,CAAC7N,MAAM,CAAC8N,4BAA4B,EAAE;cAAEzE,MAAM,EAAE;YAAE,CAAC,CAAC;YAC/DY,IAAI,CAACkD,iCAAiC,CAAC,CAAC;YACxC;UACJ,KAAKrB,KAAK,CAAC5K,MAAM,GAAG,QAAQ;YACxB+I,IAAI,CAACsC,KAAK,CAAC,CAAC;YACZ;QACR;MACJ;IACJ,CAAC,CAAC;EACN,CAAC;EACDzM,OAAO,CAACwB,SAAS,CAAC4N,mCAAmC,GAAG,YAAY;IAChE,IAAIpD,KAAK,GAAG,IAAI;IAChB,IAAI3H,YAAY,GAAG,IAAI,CAACvD,MAAM,CAAC+C,OAAO,IAAI,EAAE;IAC5C,IAAI2L,mBAAmB,GAAG,CACtB;MAAEpC,GAAG,EAAE,WAAW;MAAEqC,OAAO,EAAE,IAAI,CAAC3O,MAAM,CAACsK;IAAe,CAAC,EACzD;MAAEgC,GAAG,EAAE,aAAa;MAAEqC,OAAO,EAAE,IAAI,CAAC3O,MAAM,CAACuK;IAAiB,CAAC,EAC7D;MAAE+B,GAAG,EAAE,WAAW;MAAEqC,OAAO,EAAE,IAAI,CAAC3O,MAAM,CAACuK;IAAiB,CAAC,EAC3D;MAAE+B,GAAG,EAAE,eAAe;MAAEqC,OAAO,EAAE,IAAI,CAAC3O,MAAM,CAACwK;IAAkB,CAAC,CACnE;IACD,IAAIlB,WAAW,GAAG,EAAE;IACpB,IAAIC,YAAY,GAAG,EAAE;IACrBmF,mBAAmB,CAACE,OAAO,CAAC,UAAUvN,IAAI,EAAE;MACxC,IAAIkC,YAAY,CAACvB,OAAO,CAACX,IAAI,CAACiL,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;QACvC,IAAIuC,UAAU,GAAG3D,KAAK,CAAC4C,aAAa,CAACzM,IAAI,CAACiL,GAAG,CAAC;QAC9C,IAAIjL,IAAI,CAACsN,OAAO,EAAE;UACdrF,WAAW,CAACa,IAAI,CAAC0E,UAAU,CAAC;QAChC,CAAC,MACI;UACDtF,YAAY,CAACY,IAAI,CAAC0E,UAAU,CAAC;QACjC;MACJ;IACJ,CAAC,CAAC;IACF,IAAI,CAAC1L,qBAAqB,CAACmG,WAAW,CAACA,WAAW,EAAE,IAAI,CAAC;IACzD,IAAI,CAACnG,qBAAqB,CAACmG,WAAW,CAACC,YAAY,EAAE,KAAK,CAAC;EAC/D,CAAC;EACDrK,OAAO,CAACwB,SAAS,CAACoO,YAAY,GAAG,UAAUzB,CAAC,EAAE;IAC1C,IAAIA,CAAC,CAAC0B,MAAM,KAAK,MAAM,EAAE;MACrB,IAAI,CAACjK,mBAAmB,CAAC,CAAC;IAC9B;EACJ,CAAC;EACD5F,OAAO,CAACwB,SAAS,CAACsO,iBAAiB,GAAG,UAAU3B,CAAC,EAAE;IAC/C,IAAIA,CAAC,CAAC0B,MAAM,KAAK,IAAI,CAACE,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAACjP,MAAM,CAAC+C,OAAO,EAAE;MAC3D;IACJ;IACA,IAAI,IAAI,CAACxC,OAAO,EAAE;MACdxB,MAAM,CAAC,IAAI,CAACwB,OAAO,CAAC;IACxB;IACA,IAAI,CAACI,MAAM,CAAC,CAAC;EACjB,CAAC;EACDzB,OAAO,CAACwB,SAAS,CAACwO,YAAY,GAAG,UAAU7B,CAAC,EAAE;IAC1C,IAAIA,CAAC,CAAC8B,OAAO,KAAK,EAAE,EAAE;MAClB,IAAI,CAACnP,MAAM,CAACoP,YAAY,CAACC,aAAa,GAAG,KAAK;MAC9C,IAAI,CAACpD,MAAM,CAAC,CAAC;IACjB;IACA,IAAI,IAAI,CAACrH,aAAa,EAAE;MACpB,IAAI,CAACwH,KAAK,GAAG,IAAI,CAACxH,aAAa,CAACoE,aAAa,CAAC7D,aAAa,CAAC,UAAU,CAAC;MACvE,IAAI,IAAI,CAACP,aAAa,CAACuH,KAAK,CAAC/K,MAAM,IAAI,CAACtC,iBAAiB,CAAC,IAAI,CAACsN,KAAK,CAAC,EAAE;QACnE,IAAI,CAACA,KAAK,CAAChH,SAAS,CAACa,GAAG,CAAC,cAAc,CAAC;QACxC,IAAI,CAACmG,KAAK,CAAC8B,YAAY,CAAC,OAAO,EAAE,IAAI,CAACtN,IAAI,CAACiB,WAAW,CAAC,OAAO,CAAC,CAAC;QAChE,IAAI,CAACuK,KAAK,CAAC9G,KAAK,CAACC,MAAM,GAAG,SAAS;MACvC,CAAC,MACI;QACD,IAAI,CAAC6G,KAAK,CAAChH,SAAS,CAACrG,MAAM,CAAC,cAAc,CAAC;QAC3C,IAAI,CAACqN,KAAK,CAACC,eAAe,CAAC,OAAO,CAAC;QACnC,IAAI,CAACD,KAAK,CAAC9G,KAAK,CAACC,MAAM,GAAG,SAAS;MACvC;IACJ;EACJ,CAAC;EACDrG,OAAO,CAACwB,SAAS,CAACuL,MAAM,GAAG,YAAY;IACnC,IAAI,CAAC9L,UAAU,GAAG,IAAI;IACtB,IAAI,CAACH,MAAM,CAACiM,MAAM,CAAC,IAAI,CAACrH,aAAa,CAACuH,KAAK,CAAC;EAChD,CAAC;EACDjN,OAAO,CAACwB,SAAS,CAACsE,eAAe,GAAG,YAAY;IAC5C,IAAI,IAAI,CAACJ,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACuH,KAAK,GAAG,IAAI,CAACnM,MAAM,CAAC+E,cAAc,CAACuH,GAAG;IAC7D;EACJ,CAAC;EACDpN,OAAO,CAACwB,SAAS,CAACmE,SAAS,GAAG,YAAY;IACtC,IAAI,IAAI,CAACD,aAAa,EAAE;MACpB,IAAI,CAACyD,YAAY,GAAG,IAAIvI,SAAS,CAAC,IAAI,CAAC8E,aAAa,EAAE,IAAI,CAAC3E,cAAc,CAAC;MAC1ErB,YAAY,CAACqH,GAAG,CAAC,IAAI,CAACrB,aAAa,EAAE,OAAO,EAAE,IAAI,CAACsK,YAAY,EAAE,IAAI,CAAC;MACtE,IAAI,CAAC7G,YAAY,CAACxD,SAAS,CAAC,CAAC;IACjC;IACAjG,YAAY,CAACqH,GAAG,CAAC,IAAI,CAAC1F,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC+O,SAAS,EAAE,IAAI,CAAC;IAC/D1Q,YAAY,CAACqH,GAAG,CAAC,IAAI,CAAC1F,OAAO,EAAE,UAAU,EAAE,IAAI,CAACgP,UAAU,EAAE,IAAI,CAAC;EACrE,CAAC;EACDrQ,OAAO,CAACwB,SAAS,CAACsD,WAAW,GAAG,YAAY;IACxC,IAAI,IAAI,CAACY,aAAa,EAAE;MACpBhG,YAAY,CAACG,MAAM,CAAC,IAAI,CAAC6F,aAAa,EAAE,OAAO,EAAE,IAAI,CAACsK,YAAY,CAAC;MACnE,IAAI,CAAC7G,YAAY,CAACrE,WAAW,CAAC,CAAC;IACnC;IACApF,YAAY,CAACG,MAAM,CAAC,IAAI,CAACwB,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC+O,SAAS,CAAC;IAC5D1Q,YAAY,CAACG,MAAM,CAAC,IAAI,CAACwB,OAAO,EAAE,UAAU,EAAE,IAAI,CAACgP,UAAU,CAAC;EAClE,CAAC;EACDrQ,OAAO,CAACwB,SAAS,CAAC4O,SAAS,GAAG,UAAUjC,CAAC,EAAE;IACvC,IAAImC,WAAW,GAAG,IAAI,CAACxP,MAAM,CAACyP,WAAW,CAACD,WAAW;IACrD,IAAIA,WAAW,IAAIA,WAAW,CAACjP,OAAO,EAAE;MACpCtB,WAAW,CAAC,CAACuQ,WAAW,CAACjP,OAAO,EAAEiP,WAAW,CAACE,cAAc,CAAC,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;MACxFF,WAAW,CAACjP,OAAO,CAACoP,QAAQ,GAAG,CAAC,CAAC;IACrC;IACAtC,CAAC,CAAC9E,MAAM,CAACoH,QAAQ,GAAG,CAAC;EACzB,CAAC;EACDzQ,OAAO,CAACwB,SAAS,CAAC6O,UAAU,GAAG,UAAUlC,CAAC,EAAE;IACxCA,CAAC,CAAC9E,MAAM,CAACoH,QAAQ,GAAG,CAAC,CAAC;IACtB,IAAItC,CAAC,CAAC9E,MAAM,IAAI8E,CAAC,CAAC9E,MAAM,CAAC/H,EAAE,KAAK,IAAI,CAACR,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,YAAY,IACjE,EAAE6M,CAAC,CAACuC,aAAa,KAAKvC,CAAC,CAACuC,aAAa,CAACpP,EAAE,KAAK,IAAI,CAACR,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,cAAc,IAChF6M,CAAC,CAACuC,aAAa,CAACpP,EAAE,KAAK,IAAI,CAACR,MAAM,CAACO,OAAO,CAACC,EAAE,GAAG,eAAe,CAAC,CAAC,EAAE;MACvE,IAAI,CAACR,MAAM,CAACoP,YAAY,CAACC,aAAa,GAAG,KAAK;MAC9C,IAAI,CAACpD,MAAM,CAAC,CAAC;IACjB;EACJ,CAAC;EACD/M,OAAO,CAACwB,SAAS,CAACmP,mBAAmB,GAAG,UAAUtP,OAAO,EAAE;IACvD,IAAImP,cAAc,GAAGnP,OAAO,CAAC4E,aAAa,CAAC,uCAAuC,CAAC;IACnF,IAAI,CAACuK,cAAc,IAAI,IAAI,CAAC1P,MAAM,CAACgB,gBAAgB,IAAI,CAAC,IAAI,CAAC4D,aAAa,IACnErE,OAAO,CAAC6E,SAAS,CAAC8G,QAAQ,CAAC,kBAAkB,CAAC,EAAE;MACnDwD,cAAc,GAAGnP,OAAO,CAAC4E,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC7E,MAAM,GAAG,eAAe,CAAC;IAC/E;IACAoP,cAAc,CAAClH,KAAK,CAAC,CAAC;EAC1B,CAAC;EACDtJ,OAAO,CAACwB,SAAS,CAACoP,wBAAwB,GAAG,YAAY;IACrD,IAAIC,uBAAuB,GAAG,EAAE,CAACrO,KAAK,CAACsO,IAAI,CAAC,IAAI,CAACzP,OAAO,CAACgG,gBAAgB,CAAC,gDAAgD,CAAC,CAAC;IAC5H,IAAI0J,oBAAoB,GAAG,EAAE;IAC7B,KAAK,IAAIzM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGuM,uBAAuB,CAAC3O,MAAM,EAAEoC,CAAC,EAAE,EAAE;MACrD,IAAI,CAAC1E,iBAAiB,CAACiR,uBAAuB,CAACtM,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACyB,aAAa,CAAC,uCAAuC,CAAC,CAAC,EAAE;QAChI8K,oBAAoB,CAAC9F,IAAI,CAAC4F,uBAAuB,CAACtM,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MAClF;IACJ;IACA,OAAOuM,oBAAoB;EAC/B,CAAC;EACD/Q,OAAO,CAACwB,SAAS,CAACwP,iBAAiB,GAAG,UAAU7C,CAAC,EAAE;IAC/C,IAAIA,CAAC,CAAC9E,MAAM,IAAIhJ,YAAY,CAAC8N,CAAC,CAAC9E,MAAM,EAAE,gBAAgB,CAAC,EAAE;MACtD,IAAI4H,YAAY,GAAG5Q,YAAY,CAAC8N,CAAC,CAAC9E,MAAM,EAAE,gBAAgB,CAAC;MAC3D,IAAI6H,qBAAqB,GAAG,IAAI,CAACN,wBAAwB,CAAC,CAAC;MAC3D,IAAIzC,CAAC,CAAC5E,MAAM,KAAK,KAAK,IAAI4E,CAAC,CAAC5E,MAAM,KAAK,UAAU,EAAE;QAC/C,IAAK4E,CAAC,CAAC5E,MAAM,KAAK,KAAK,IAAI0H,YAAY,KAAKC,qBAAqB,CAACA,qBAAqB,CAAChP,MAAM,GAAG,CAAC,CAAC,IAC3FiM,CAAC,CAAC5E,MAAM,KAAK,UAAU,IAAI0H,YAAY,KAAKC,qBAAqB,CAAC,CAAC,CAAE,EAAE;UAC3E;QACJ;QACA,KAAK,IAAI5M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4M,qBAAqB,CAAChP,MAAM,EAAEoC,CAAC,EAAE,EAAE;UACnD,IAAI2M,YAAY,KAAKC,qBAAqB,CAAC3M,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;YACpE2J,CAAC,CAACM,cAAc,CAAC,CAAC;YAClB,IAAI0C,KAAK,GAAGhD,CAAC,CAAC5E,MAAM,KAAK,KAAK,GAAGjF,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC;YAC9C,IAAI,CAACqM,mBAAmB,CAACO,qBAAqB,CAAC3M,QAAQ,CAAC4M,KAAK,CAAC3M,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC/E;UACJ;QACJ;MACJ;MACA,IAAI2J,CAAC,CAAC5E,MAAM,KAAK,OAAO,EAAE;QACtB,IAAI,IAAI,CAACzI,MAAM,CAACgB,gBAAgB,IAAI,CAAC,IAAI,CAAC4D,aAAa,IAChDyI,CAAC,CAAC9E,MAAM,CAAC/H,EAAE,KAAK,IAAI,CAACF,MAAM,GAAG,eAAe,EAAE;UAClD,IAAI,CAACyH,sBAAsB,CAAC,IAAI,CAAC;QACrC;MACJ;IACJ;EACJ,CAAC;EACD7I,OAAO,CAACwB,SAAS,CAAC4P,eAAe,GAAG,YAAY;IAC5C,IAAI,IAAI,CAAC/P,OAAO,EAAE;MACdxB,MAAM,CAAC,IAAI,CAACwB,OAAO,CAAC;IACxB;IACA,IAAI,CAACI,MAAM,CAAC,CAAC;EACjB,CAAC;EACDzB,OAAO,CAACwB,SAAS,CAACD,gBAAgB,GAAG,YAAY;IAC7C,IAAI,IAAI,CAACT,MAAM,CAAC6D,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC0M,WAAW,GAAG,CAAC;MAAE9B,KAAK,EAAErP,MAAM,CAACoR,mBAAmB;MAAEC,OAAO,EAAE,IAAI,CAACH;IAAgB,CAAC,EACpF;MAAE7B,KAAK,EAAErP,MAAM,CAACsR,UAAU;MAAED,OAAO,EAAE,IAAI,CAAC9P;IAAO,CAAC,EAClD;MAAE8N,KAAK,EAAErP,MAAM,CAACuR,QAAQ;MAAEF,OAAO,EAAE,IAAI,CAACzB;IAAkB,CAAC,EAC3D;MAAEP,KAAK,EAAErP,MAAM,CAACwR,mBAAmB;MAAEH,OAAO,EAAE,IAAI,CAACzL,eAAe,CAACW,IAAI,CAAC,IAAI;IAAE,CAAC,EAC/E;MAAE8I,KAAK,EAAErP,MAAM,CAAC0P,YAAY;MAAE2B,OAAO,EAAE,IAAI,CAAC3L;IAAoB,CAAC,EACjE;MAAE2J,KAAK,EAAErP,MAAM,CAACyR,cAAc;MAAEJ,OAAO,EAAE,IAAI,CAAC3L;IAAoB,CAAC,EACnE;MAAE2J,KAAK,EAAErP,MAAM,CAACwR,mBAAmB;MAAEH,OAAO,EAAE,IAAI,CAAC3B;IAAa,CAAC,EACjE;MAAEL,KAAK,EAAErP,MAAM,CAAC0R,SAAS;MAAEL,OAAO,EAAE,IAAI,CAAC3L;IAAoB,CAAC,EAC9D;MAAE2J,KAAK,EAAErP,MAAM,CAAC2R,KAAK;MAAEN,OAAO,EAAE,IAAI,CAACO;IAAuB,CAAC,EAC7D;MAAEvC,KAAK,EAAErP,MAAM,CAAC6R,aAAa;MAAER,OAAO,EAAE,IAAI,CAACH;IAAgB,CAAC,EAC9D;MAAE7B,KAAK,EAAErP,MAAM,CAACwE,OAAO;MAAE6M,OAAO,EAAE,IAAI,CAAC7M;IAAQ,CAAC,EAChD;MAAE6K,KAAK,EAAErP,MAAM,CAAC8R,UAAU;MAAET,OAAO,EAAE,IAAI,CAACP;IAAkB,CAAC,CAAC;IAClE1Q,sBAAsB,CAAC,IAAI,CAACQ,MAAM,EAAE,IAAI,CAACuQ,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC;IACjE,IAAI,CAACY,mBAAmB,GAAG,IAAI,CAACC,WAAW,CAACzL,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAAC0L,qBAAqB,GAAG,IAAI,CAACD,WAAW,CAACzL,IAAI,CAAC,IAAI,CAAC;IACxD,IAAI,CAAC3F,MAAM,CAACS,gBAAgB,CAACrB,MAAM,CAACgS,WAAW,EAAE,IAAI,CAACD,mBAAmB,CAAC;IAC1E,IAAI,CAACnR,MAAM,CAACS,gBAAgB,CAACrB,MAAM,CAACkS,aAAa,EAAE,IAAI,CAACD,qBAAqB,CAAC;EAClF,CAAC;EACDnS,OAAO,CAACwB,SAAS,CAACuD,mBAAmB,GAAG,YAAY;IAChD,IAAI,IAAI,CAACjE,MAAM,CAAC6D,WAAW,EAAE;MACzB;IACJ;IACArE,sBAAsB,CAAC,IAAI,CAACQ,MAAM,EAAE,IAAI,CAACuQ,WAAW,EAAE,KAAK,CAAC;IAC5D,IAAI,CAACvQ,MAAM,CAACiE,mBAAmB,CAAC7E,MAAM,CAACgS,WAAW,EAAE,IAAI,CAACD,mBAAmB,CAAC;IAC7E,IAAI,CAACnR,MAAM,CAACiE,mBAAmB,CAAC7E,MAAM,CAACkS,aAAa,EAAE,IAAI,CAACD,qBAAqB,CAAC;EACrF,CAAC;EACDnS,OAAO,CAACwB,SAAS,CAACsQ,sBAAsB,GAAG,UAAU3D,CAAC,EAAE;IACpD,IAAI9E,MAAM,GAAG8E,CAAC,CAAC9E,MAAM;IACrB,IAAIL,QAAQ,GAAGK,MAAM,CAACnD,SAAS,CAAC8G,QAAQ,CAAC,eAAe,CAAC,IAAI3D,MAAM,CAACnD,SAAS,CAAC8G,QAAQ,CAAC,kBAAkB,CAAC;IAC1G,IAAI,IAAI,CAAClM,MAAM,CAACgB,gBAAgB,IAAI,CAACkH,QAAQ,IAAI,IAAI,CAACtD,aAAa,IAC5D,CAACrF,YAAY,CAAC8N,CAAC,CAAC9E,MAAM,EAAE,eAAe,CAAC,EAAE;MAC7C,IAAI,CAACR,sBAAsB,CAAC,KAAK,CAAC;IACtC;EACJ,CAAC;EACD7I,OAAO,CAACwB,SAAS,CAAC0Q,WAAW,GAAG,YAAY;IACxC,IAAI,IAAI,CAACpR,MAAM,CAACgB,gBAAgB,IAAI,IAAI,CAAC+B,OAAO,CAACxC,OAAO,EAAE;MACtD,IAAI,CAAC0H,6BAA6B,CAACvI,uBAAuB,CAAC0I,SAAS,CAAC;MACrE,IAAI,CAACrF,OAAO,CAACM,eAAe,CAAC,CAAC;IAClC;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACInE,OAAO,CAACwB,SAAS,CAACuO,aAAa,GAAG,YAAY;IAC1C,OAAO,SAAS;EACpB,CAAC;EACD,OAAO/P,OAAO;AAClB,CAAC,CAAC,CAAE;AACJ,SAASA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
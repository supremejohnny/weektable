{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { EventHandler, remove, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList, AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { RadioButton, CheckBox } from '@syncfusion/ej2-buttons';\nimport { distinctStringValues, isComplexField, getComplexFieldID, getCustomDateFormat, applyBiggerTheme, performComplexDataOperation, registerEventHandlers, removeEventHandlers, clearReactVueTemplates } from '../base/util';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { parentsUntil, appendChildren, extend, eventPromise, resetDialogAppend } from '../base/util';\nimport * as events from '../base/constant';\nimport { ContextMenu } from '@syncfusion/ej2-navigations';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilterBase = /** @class */function (_super) {\n  __extends(ExcelFilterBase, _super);\n  /**\n   * Constructor for excel filtering module\n   *\n   * @param {IXLFilter} parent - parent details\n   * @param {Object} customFltrOperators - operator details\n   * @hidden\n   */\n  function ExcelFilterBase(parent, customFltrOperators) {\n    var _this = _super.call(this, parent) || this;\n    _this.childRefs = [];\n    _this.eventHandlers = {};\n    _this.isDevice = false;\n    _this.focusedMenuItem = null;\n    _this.customFilterOperators = customFltrOperators;\n    _this.isExcel = true;\n    return _this;\n  }\n  ExcelFilterBase.prototype.getCMenuDS = function (type, operator) {\n    var options = {\n      number: ['Equal', 'NotEqual', '', 'LessThan', 'LessThanOrEqual', 'GreaterThan', 'GreaterThanOrEqual', 'Between', '', 'CustomFilter'],\n      string: ['Equal', 'NotEqual', '', 'StartsWith', 'EndsWith', '', 'Contains', 'NotContains', '', 'CustomFilter']\n    };\n    options.date = options.number;\n    options.datetime = options.number;\n    options.dateonly = options.number;\n    var model = [];\n    for (var i = 0; i < options[\"\" + type].length; i++) {\n      if (options[\"\" + type][parseInt(i.toString(), 10)].length) {\n        if (operator) {\n          model.push({\n            text: this.getLocalizedLabel(options[\"\" + type][parseInt(i.toString(), 10)]) + '...',\n            iconCss: 'e-icons e-icon-check ' + (operator === options[\"\" + type][parseInt(i.toString(), 10)].toLowerCase() ? '' : 'e-emptyicon')\n          });\n        } else {\n          model.push({\n            text: this.getLocalizedLabel(options[\"\" + type][parseInt(i.toString(), 10)]) + '...'\n          });\n        }\n      } else {\n        model.push({\n          separator: true\n        });\n      }\n    }\n    return model;\n  };\n  /**\n   * To destroy the filter bar.\n   *\n   * @returns {void}\n   * @hidden\n   */\n  ExcelFilterBase.prototype.destroy = function () {\n    if (this.dlg) {\n      this.unwireExEvents();\n      _super.prototype.closeDialog.call(this);\n    }\n    if (!this.isDevice && this.menuObj) {\n      var li = this.menuObj.element.querySelector('li.e-focused');\n      if (!(li && parentsUntil(li, 'e-excel-menu'))) {\n        this.destroyCMenu();\n      }\n    }\n    if (this.dlgObj && !this.dlgObj.isDestroyed) {\n      this.removeDialog();\n    }\n  };\n  ExcelFilterBase.prototype.createMenu = function (type, isFiltered, isCheckIcon, eleOptions) {\n    var options = {\n      string: 'TextFilter',\n      date: 'DateFilter',\n      dateonly: 'DateFilter',\n      datetime: 'DateTimeFilter',\n      number: 'NumberFilter'\n    };\n    this.menu = this.parent.createElement('div', {\n      className: 'e-contextmenu-wrapper'\n    });\n    if (this.parent.enableRtl) {\n      this.menu.classList.add('e-rtl');\n    } else {\n      this.menu.classList.remove('e-rtl');\n    }\n    if (this.parent.cssClass) {\n      this.menu.classList.add(this.parent.cssClass);\n    }\n    var ul = this.parent.createElement('ul');\n    var icon = isFiltered ? 'e-excl-filter-icon e-filtered' : 'e-excl-filter-icon';\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.parent.allowSorting && this.parent.getModuleName() === 'grid' && !this.options.isResponsiveFilter) {\n      var hdrele = this.parent.getColumnHeaderByUid(eleOptions.uid).getAttribute('aria-sort');\n      var colIsSort = this.parent.getColumnByField(eleOptions.field).allowSorting;\n      var isAsc = !colIsSort || hdrele === 'ascending' ? 'e-disabled e-excel-ascending' : 'e-excel-ascending';\n      var isDesc = !colIsSort || hdrele === 'descending' ? 'e-disabled e-excel-descending' : 'e-excel-descending';\n      var ascName = type === 'string' ? this.getLocalizedLabel('SortAtoZ') : type === 'datetime' || type === 'date' ? this.getLocalizedLabel('SortByOldest') : this.getLocalizedLabel('SortSmallestToLargest');\n      var descName = type === 'string' ? this.getLocalizedLabel('SortZtoA') : type === 'datetime' || type === 'date' ? this.getLocalizedLabel('SortByNewest') : this.getLocalizedLabel('SortLargestToSmallest');\n      ul.appendChild(this.createMenuElem(ascName, isAsc, 'e-sortascending'));\n      ul.appendChild(this.createMenuElem(descName, isDesc, 'e-sortdescending'));\n      var separator = this.parent.createElement('li', {\n        className: 'e-separator e-menu-item e-excel-separator'\n      });\n      ul.appendChild(separator);\n    }\n    if (!this.options.isResponsiveFilter) {\n      ul.appendChild(this.createMenuElem(this.getLocalizedLabel('ClearFilter'), isFiltered ? '' : 'e-disabled', icon));\n    }\n    if (type !== 'boolean') {\n      ul.appendChild(this.createMenuElem(this.getLocalizedLabel(options[\"\" + type]), 'e-submenu', isCheckIcon && this.ensureTextFilter() ? 'e-icon-check' : icon + ' e-emptyicon', true));\n    }\n    this.menu.appendChild(ul);\n    this.parent.notify(events.beforeFltrcMenuOpen, {\n      element: this.menu\n    });\n    this.parent.notify(events.refreshCustomFilterClearBtn, {\n      isFiltered: isFiltered\n    });\n  };\n  ExcelFilterBase.prototype.createMenuElem = function (val, className, iconName, isSubMenu) {\n    var li = this.parent.createElement('li', {\n      className: className + ' e-menu-item'\n    });\n    li.innerHTML = val;\n    li.tabIndex = li.classList.contains('e-disabled') ? -1 : 0;\n    li.insertBefore(this.parent.createElement('span', {\n      className: 'e-menu-icon e-icons ' + iconName,\n      attrs: {\n        'aria-hidden': 'true'\n      }\n    }), li.firstChild);\n    if (isSubMenu) {\n      li.appendChild(this.parent.createElement('span', {\n        className: 'e-icons e-caret'\n      }));\n    }\n    return li;\n  };\n  ExcelFilterBase.prototype.wireExEvents = function () {\n    if (!Browser.isDevice) {\n      EventHandler.add(this.dlg, 'mouseover', this.hoverHandler, this);\n    }\n    EventHandler.add(this.dlg, 'click', this.clickExHandler, this);\n    EventHandler.add(this.dlg, 'keyup', this.keyUp, this);\n    EventHandler.add(this.dlg, 'keydown', this.keyDown, this);\n  };\n  ExcelFilterBase.prototype.unwireExEvents = function () {\n    if (!Browser.isDevice) {\n      EventHandler.remove(this.dlg, 'mouseover', this.hoverHandler);\n    }\n    EventHandler.remove(this.dlg, 'click', this.clickExHandler);\n    EventHandler.remove(this.dlg, 'keyup', this.keyUp);\n    EventHandler.remove(this.dlg, 'keydown', this.keyDown);\n  };\n  ExcelFilterBase.prototype.clickExHandler = function (e) {\n    var options = {\n      string: 'TextFilter',\n      date: 'DateFilter',\n      datetime: 'DateTimeFilter',\n      number: 'NumberFilter'\n    };\n    var menuItem = parentsUntil(e.target, 'e-menu-item');\n    if (menuItem) {\n      if (this.getLocalizedLabel('ClearFilter') === menuItem.innerText.trim()) {\n        this.clearFilter();\n        this.closeDialog();\n      } else if ((this.options.isResponsiveFilter || Browser.isDevice) && this.getLocalizedLabel(options[this.options.type]) === menuItem.innerText.trim()) {\n        this.hoverHandler(e);\n      }\n    }\n  };\n  ExcelFilterBase.prototype.focusNextOrPrevElement = function (e, focusableElements, focusClassName) {\n    var nextIndex = e.key === 'ArrowUp' || e.key === 'Tab' && e.shiftKey ? focusableElements.indexOf(document.activeElement) - 1 : focusableElements.indexOf(document.activeElement) + 1;\n    var nextElement = focusableElements[(nextIndex + focusableElements.length) % focusableElements.length];\n    // Set focus on the next / previous element\n    if (nextElement) {\n      nextElement.focus();\n      var focusClass = nextElement.classList.contains('e-chk-hidden') ? 'e-chkfocus' : focusClassName;\n      var target = nextElement.classList.contains('e-chk-hidden') ? parentsUntil(nextElement, 'e-ftrchk') : parentsUntil(nextElement, 'e-menu-item');\n      this.excelSetFocus(target, focusClass);\n    }\n  };\n  ExcelFilterBase.prototype.keyUp = function (e) {\n    if (e.key === 'Tab' && e.shiftKey || e.key === 'Tab') {\n      var focusClass = e.target.classList.contains('e-chk-hidden') ? 'e-chkfocus' : 'e-menufocus';\n      var target = e.target.classList.contains('e-menu-item') ? parentsUntil(e.target, 'e-menu-item') : parentsUntil(e.target, 'e-ftrchk');\n      this.excelSetFocus(target, focusClass);\n    } else if ((e.key === 'ArrowUp' || e.key === 'ArrowDown') && !e.altKey) {\n      e.preventDefault();\n      var focusableElements = Array.from(this.dlg.querySelectorAll('input, button, [tabindex]:not([tabindex=\"-1\"]), .e-menu-item:not(.e-disabled):not(.e-separator)'));\n      this.focusNextOrPrevElement(e, focusableElements, 'e-menufocus');\n    } else if ((e.key === 'Enter' || e.code === 'ArrowRight') && e.target.classList.contains('e-menu-item')) {\n      e.preventDefault();\n      e.target.click();\n      if (e.target.classList.contains('e-submenu')) {\n        this.hoverHandler(e);\n        this.menuObj.element.querySelector('.e-menu-item').focus();\n        this.excelSetFocus(parentsUntil(this.menuObj.element.querySelector('.e-menu-item'), 'e-menu-item'), 'e-focused');\n        this.focusedMenuItem = this.menuObj.element.querySelector('.e-menu-item');\n      }\n    }\n  };\n  ExcelFilterBase.prototype.keyDown = function (e) {\n    //prevented up and down arrow key press default functionality to prevent the browser scroll when performing keyboard navigation in excel filter element.\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n    }\n  };\n  ExcelFilterBase.prototype.excelSetFocus = function (elem, className) {\n    var prevElem = this.cmenu.querySelector('.' + className);\n    var menuFocusElem = this.menu.querySelector('.' + className);\n    if (prevElem) {\n      prevElem.classList.remove(className);\n    }\n    if (menuFocusElem && menuFocusElem.classList.contains('e-menufocus')) {\n      menuFocusElem.classList.remove(className);\n    }\n    if (elem) {\n      elem.classList.add(className);\n    }\n  };\n  ExcelFilterBase.prototype.destroyCMenu = function () {\n    this.isCMenuOpen = false;\n    if (this.menuObj && !this.menuObj.isDestroyed) {\n      this.menuObj.destroy();\n      EventHandler.remove(this.menuObj.element, 'keydown', this.contextKeyDownHandler);\n      remove(this.cmenu);\n      this.parent.notify(events.renderResponsiveCmenu, {\n        target: null,\n        header: '',\n        isOpen: false,\n        col: this.options.column\n      });\n    }\n  };\n  ExcelFilterBase.prototype.hoverHandler = function (e) {\n    if (this.options.isResponsiveFilter && e.type === 'mouseover') {\n      return;\n    }\n    var target = e.target.querySelector('.e-contextmenu');\n    var li = parentsUntil(e.target, 'e-menu-item');\n    var focused = this.menu.querySelector('.e-focused');\n    var isSubMenu;\n    if (focused) {\n      focused.classList.remove('e-focused');\n    }\n    if (li) {\n      li.classList.add('e-focused');\n      isSubMenu = li.classList.contains('e-submenu');\n    }\n    if (target) {\n      return;\n    }\n    if (!isSubMenu) {\n      var submenu = this.menu.querySelector('.e-submenu');\n      if (!isNullOrUndefined(submenu)) {\n        submenu.classList.remove('e-selected');\n      }\n      this.destroyCMenu();\n    }\n    var selectedMenu = this.ensureTextFilter();\n    if (!this.isCMenuOpen && isSubMenu) {\n      li.classList.add('e-selected');\n      this.isCMenuOpen = true;\n      var menuOptions = {\n        items: this.getCMenuDS(this.options.type, selectedMenu ? selectedMenu.replace(/\\s/g, '') : undefined),\n        select: this.selectHandler.bind(this),\n        onClose: this.destroyCMenu.bind(this),\n        enableRtl: this.parent.enableRtl,\n        animationSettings: {\n          effect: Browser.isDevice ? 'ZoomIn' : 'None'\n        },\n        beforeClose: this.preventClose.bind(this),\n        cssClass: this.options.isResponsiveFilter && this.parent.cssClass ? 'e-res-contextmenu-wrapper' + ' ' + this.parent.cssClass : this.options.isResponsiveFilter ? 'e-res-contextmenu-wrapper' : this.parent.cssClass ? this.parent.cssClass : ''\n      };\n      this.parent.element.appendChild(this.cmenu);\n      this.menuObj = new ContextMenu(menuOptions, this.cmenu);\n      EventHandler.add(this.menuObj.element, 'keydown', this.contextKeyDownHandler, this);\n      var client = this.menu.querySelector('.e-submenu').getBoundingClientRect();\n      var pos = {\n        top: 0,\n        left: 0\n      };\n      if (this.options.isResponsiveFilter) {\n        var options = {\n          string: 'TextFilter',\n          date: 'DateFilter',\n          datetime: 'DateTimeFilter',\n          number: 'NumberFilter'\n        };\n        var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n        var height = content.offsetHeight + 4;\n        this.menuObj.element.style.height = 'calc(100% - ' + height + 'px)';\n        this.menuObj['open'](height, 0, document.body);\n        var header = this.getLocalizedLabel(options[this.options.type]);\n        this.parent.notify(events.renderResponsiveCmenu, {\n          target: this.menuObj.element.parentElement,\n          header: header,\n          isOpen: true\n        });\n      } else {\n        if (Browser.isDevice) {\n          this.isDevice = true;\n          var contextRect = this.getContextBounds();\n          pos.top = (window.innerHeight - contextRect.height) / 2;\n          pos.left = (window.innerWidth - contextRect.width) / 2;\n          this.closeDialog();\n          this.isDevice = false;\n        } else {\n          pos.top = Browser.isIE ? window.pageYOffset + client.top : window.scrollY + client.top;\n          pos.left = this.getCMenuYPosition(this.dlg);\n        }\n        this.menuObj['open'](pos.top, pos.left, e.target);\n      }\n      applyBiggerTheme(this.parent.element, this.menuObj.element.parentElement);\n    }\n  };\n  ExcelFilterBase.prototype.contextKeyDownHandler = function (e) {\n    if (e.key === 'Tab' && e.shiftKey || e.key === 'Tab') {\n      e.preventDefault();\n      var focusableElements = Array.from(this.menuObj.element.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]), .e-menu-item:not(.e-disabled):not(.e-separator)'));\n      // Focus the next / previous context menu item\n      this.focusNextOrPrevElement(e, focusableElements, 'e-focused');\n    } else if (e.key === 'ArrowLeft' || e.key === 'Escape') {\n      e.preventDefault();\n      this.menuObj.close();\n      this.focusedMenuItem = null;\n      document.querySelector('.e-submenu.e-menu-item').classList.remove('e-selected');\n      document.querySelector('.e-submenu.e-menu-item').focus();\n    }\n  };\n  ExcelFilterBase.prototype.ensureTextFilter = function () {\n    var selectedMenu;\n    var predicates = this.existingPredicate[this.options.field];\n    if (predicates && predicates.length === 2) {\n      if (predicates[0].operator === 'greaterthanorequal' && predicates[1].operator === 'lessthanorequal') {\n        selectedMenu = 'between';\n      } else {\n        selectedMenu = 'customfilter';\n      }\n    } else {\n      if (predicates && predicates.length === 1) {\n        this.optrData = this.customFilterOperators[this.options.type + 'Operator'];\n        selectedMenu = predicates[0].operator;\n      }\n    }\n    return selectedMenu;\n  };\n  ExcelFilterBase.prototype.preventClose = function (args) {\n    if (this.options && this.options.isResponsiveFilter && args.event) {\n      var target = args.event.target;\n      var isFilterBack = target.classList && (target.classList.contains('e-resfilterback') || target.classList.contains('e-res-back-btn') || target.classList.contains('e-menu-item'));\n      args.cancel = !isFilterBack;\n    } else {\n      if (args.event instanceof MouseEvent && args.event.target && args.event.target.classList && args.event.target.classList.contains('e-submenu')) {\n        args.cancel = true;\n      }\n    }\n  };\n  ExcelFilterBase.prototype.getContextBounds = function () {\n    this.menuObj.element.style.display = 'block';\n    return this.menuObj.element.getBoundingClientRect();\n  };\n  ExcelFilterBase.prototype.getCMenuYPosition = function (target) {\n    var contextWidth = this.getContextBounds().width;\n    var targetPosition = target.getBoundingClientRect();\n    var parentElementPosition = this.parent.element.getBoundingClientRect();\n    var rightPosition = targetPosition.left - contextWidth - parentElementPosition.left;\n    var leftPosition = targetPosition.right + contextWidth - parentElementPosition.right;\n    var targetBorder = target.offsetWidth - target.clientWidth;\n    targetBorder = targetBorder ? targetBorder + 1 : 0;\n    var position = this.parent.enableRtl ? rightPosition : leftPosition;\n    return position < 1 ? targetPosition.right + 1 - targetBorder : targetPosition.left - contextWidth - 1 + targetBorder;\n  };\n  ExcelFilterBase.prototype.openDialog = function (options) {\n    var _this = this;\n    this.updateModel(options);\n    this.getAndSetChkElem(options);\n    this.showDialog(options);\n    if (options.cancel) {\n      return;\n    }\n    this.dialogObj.dataBind();\n    var filterLength = this.existingPredicate[options.field] && this.existingPredicate[options.field].length || this.options.filteredColumns.filter(function (col) {\n      return _this.options.field === col.field;\n    }).length;\n    this.createMenu(options.type, filterLength > 0, filterLength === 1 || filterLength === 2, options);\n    this.dlg.insertBefore(this.menu, this.dlg.firstChild);\n    this.dlg.classList.add('e-excelfilter');\n    if (this.parent && !isNullOrUndefined(this.parent.getContent) && this.parent.getContent() && this.parent.getContent().firstElementChild.offsetHeight < this.dlg.offsetHeight && !parentsUntil(this.parent.element, 'e-gantt-dialog')) {\n      resetDialogAppend(this.parent, this.dialogObj);\n    }\n    if (this.parent.enableRtl) {\n      this.dlg.classList.add('e-rtl');\n    }\n    this.dlg.classList.remove('e-checkboxfilter');\n    this.cmenu = this.parent.createElement('ul', {\n      className: 'e-excel-menu'\n    });\n    var menuItems = this.dlg.querySelectorAll('.e-menu-item');\n    menuItems.forEach(function (menuItem) {\n      if (menuItem.scrollWidth > menuItem.clientWidth) {\n        menuItem.setAttribute('title', menuItem.textContent);\n      }\n    });\n    if (options.column.showColumnMenu) {\n      this.parent.notify(events.filterDialogCreated, {});\n    }\n    this.wireExEvents();\n  };\n  ExcelFilterBase.prototype.closeDialog = function () {\n    this.destroy();\n  };\n  ExcelFilterBase.prototype.selectHandler = function (e) {\n    if (e.item) {\n      this.parent.notify(events.filterCmenuSelect, {});\n      this.menuItem = e.item;\n      this.closeDialog();\n      this.renderDialogue(e);\n    }\n  };\n  /**\n   * @hidden\n   * @param {MenuEventArgs} e - event args\n   * @returns {void}\n   */\n  ExcelFilterBase.prototype.renderDialogue = function (e) {\n    var _this = this;\n    var target = e ? e.element : undefined;\n    var column = this.options.field;\n    var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n    var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n    var mainDiv = this.parent.createElement('div', {\n      className: 'e-xlfl-maindiv',\n      id: isComplex ? complexFieldName + '-xlflmenu' : column + '-xlflmenu'\n    });\n    this.dlgDiv = this.parent.createElement('div', {\n      className: 'e-xlflmenu',\n      id: isComplex ? complexFieldName + '-xlfldlg' : column + '-xlfldlg'\n    });\n    if (this.options.isResponsiveFilter) {\n      var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n      responsiveCnt.appendChild(this.dlgDiv);\n    } else {\n      this.parent.element.appendChild(this.dlgDiv);\n    }\n    this.dlgObj = new Dialog({\n      header: this.getLocalizedLabel('CustomFilter'),\n      isModal: true,\n      overlayClick: this.removeDialog.bind(this),\n      showCloseIcon: true,\n      locale: this.parent.locale,\n      closeOnEscape: true,\n      target: document.body,\n      // target: this.parent.element,\n      visible: false,\n      enableRtl: this.parent.enableRtl,\n      open: function () {\n        var rows = [].slice.call(_this.dlgObj.element.querySelectorAll('table.e-xlfl-table tr.e-xlfl-fields'));\n        for (var i = 0; i < rows.length; i++) {\n          var valInput = rows[i].children[1].querySelector('.e-control');\n          var dropDownList = rows[i].querySelector('.e-dropdownlist.e-control')['ej2_instances'][0];\n          if (dropDownList.value === 'isempty' || dropDownList.value === 'isnotempty' || dropDownList.value === 'isnull' || dropDownList.value === 'isnotnull') {\n            valInput['ej2_instances'][0]['enabled'] = false;\n          } else if (valInput && !isNullOrUndefined(valInput.getAttribute('disabled'))) {\n            valInput['ej2_instances'][0]['enabled'] = true;\n          }\n        }\n        var row = _this.dlgObj.element.querySelector('table.e-xlfl-table>tr');\n        if (_this.options.column.filterTemplate) {\n          var templateField_1 = isComplexField(_this.options.column.field) ? getComplexFieldID(_this.options.column.field) : _this.options.column.field;\n          var isReactCompiler = _this.parent.isReact && typeof _this.options.column.filterTemplate !== 'string' && !(_this.options.column.filterTemplate.prototype && _this.options.column.filterTemplate.prototype.CSPTemplate);\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          var isReactChild = _this.parent.parentDetails && _this.parent.parentDetails.parentInstObj &&\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          _this.parent.parentDetails.parentInstObj.isReact;\n          if (isReactCompiler || isReactChild) {\n            _this.parent.renderTemplates(function () {\n              row.querySelector('#' + templateField_1 + '-xlfl-frstvalue').focus();\n            });\n          } else {\n            row.querySelector('#' + templateField_1 + '-xlfl-frstvalue').focus();\n          }\n        } else {\n          //(row.cells[1].querySelector('input:not([type=hidden])') as HTMLElement).focus();\n        }\n      },\n      close: this.removeDialog.bind(this),\n      created: this.createdDialog.bind(this, target, column),\n      buttons: [{\n        click: this.filterBtnClick.bind(this, column),\n        buttonModel: {\n          content: this.getLocalizedLabel('OKButton'),\n          isPrimary: true,\n          cssClass: this.parent.cssClass ? 'e-xlfl-okbtn' + ' ' + this.parent.cssClass : 'e-xlfl-okbtn'\n        }\n      }, {\n        click: this.removeDialog.bind(this),\n        buttonModel: {\n          content: this.getLocalizedLabel('CancelButton'),\n          cssClass: this.parent.cssClass ? 'e-xlfl-cancelbtn' + ' ' + this.parent.cssClass : 'e-xlfl-cancelbtn'\n        }\n      }],\n      content: mainDiv,\n      width: 430,\n      animationSettings: {\n        effect: 'None'\n      },\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    var isStringTemplate = 'isStringTemplate';\n    this.dlgObj[\"\" + isStringTemplate] = true;\n    this.renderResponsiveDialog();\n    this.dlgDiv.setAttribute('aria-label', this.getLocalizedLabel('CustomFilterDialogARIA'));\n    this.childRefs.unshift(this.dlgObj);\n    this.dlgObj.appendTo(this.dlgDiv);\n  };\n  ExcelFilterBase.prototype.renderResponsiveDialog = function () {\n    if (this.options.isResponsiveFilter) {\n      var rowResponsiveDlg = document.querySelector('.e-row-responsive-filter');\n      if (rowResponsiveDlg) {\n        rowResponsiveDlg.classList.remove('e-row-responsive-filter');\n      }\n      this.dlgObj.buttons = [{}];\n      this.dlgObj.header = undefined;\n      this.dlgObj.position = {\n        X: '',\n        Y: ''\n      };\n      this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n      this.dlgObj.width = '100%';\n      this.dlgObj.isModal = false;\n      this.dlgObj.showCloseIcon = false;\n    }\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n  ExcelFilterBase.prototype.removeDialog = function () {\n    this.parent.notify(events.customFilterClose, {});\n    if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n      clearReactVueTemplates(this.parent, ['filterTemplate']);\n    }\n    this.removeObjects(this.childRefs);\n    remove(this.dlgDiv);\n    this.parent.notify(events.filterDialogClose, {});\n  };\n  ExcelFilterBase.prototype.createdDialog = function (target, column) {\n    this.renderCustomFilter(target, column);\n    this.dlgObj.element.style.left = '0px';\n    if (!this.options.isResponsiveFilter) {\n      this.dlgObj.element.style.top = '0px';\n    } else {\n      var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n      var height = content.offsetHeight + 4;\n      this.dlgObj.element.style.top = height + 'px';\n    }\n    if (!this.options.isResponsiveFilter && Browser.isDevice && window.innerWidth < 440) {\n      this.dlgObj.element.style.width = '90%';\n    }\n    this.parent.notify(events.beforeCustomFilterOpen, {\n      column: column,\n      dialog: this.dialogObj\n    });\n    this.dlgObj.show();\n    applyBiggerTheme(this.parent.element, this.dlgObj.element.parentElement);\n  };\n  ExcelFilterBase.prototype.renderCustomFilter = function (target, column) {\n    var dlgConetntEle = this.dlgObj.element.querySelector('.e-xlfl-maindiv');\n    var dlgFields = this.parent.createElement('div', {\n      innerHTML: this.getLocalizedLabel('ShowRowsWhere'),\n      className: 'e-xlfl-dlgfields'\n    });\n    dlgConetntEle.appendChild(dlgFields);\n    //column name\n    var fieldSet = this.parent.createElement('div', {\n      innerHTML: this.options.displayName,\n      className: 'e-xlfl-fieldset'\n    });\n    dlgConetntEle.appendChild(fieldSet);\n    this.renderFilterUI(column, dlgConetntEle);\n  };\n  /**\n   * @hidden\n   * @param {string} col - Defines column details\n   * @returns {void}\n   */\n  ExcelFilterBase.prototype.filterBtnClick = function (col) {\n    var isComplex = !isNullOrUndefined(col) && isComplexField(col);\n    var complexFieldName = !isNullOrUndefined(col) && getComplexFieldID(col);\n    var colValue = isComplex ? complexFieldName : col;\n    var fValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstvalue').ej2_instances[0];\n    var fOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstoptr').ej2_instances[0];\n    var sValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndvalue').ej2_instances[0];\n    var sOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndoptr').ej2_instances[0];\n    var checkBoxValue;\n    if (this.options.type === 'string') {\n      var checkBox = this.dlgDiv.querySelector('#' + colValue + '-xlflmtcase').ej2_instances[0];\n      checkBoxValue = checkBox.checked;\n    }\n    var predicateSelector = this.dlgDiv.querySelector('#' + colValue + 'e-xlfl-frstpredicate').ej2_instances[0];\n    var predicate = predicateSelector.checked ? 'and' : 'or';\n    this.filterByColumn(this.options.field, fOperator.value, fValue.value, predicate, checkBoxValue, this.options.ignoreAccent, sOperator.value, sValue.value);\n    this.removeDialog();\n  };\n  /**\n   * @hidden\n   * Filters grid row by column name with given options.\n   *\n   * @param {string} fieldName - Defines the field name of the filter column.\n   * @param {string} firstOperator - Defines the first operator by how to filter records.\n   * @param {string | number | Date | boolean} firstValue - Defines the first value which is used to filter records.\n   * @param  {string} predicate - Defines the relationship between one filter query with another by using AND or OR predicate.\n   * @param {boolean} matchCase - If ignore case set to true, then filter records with exact match or else\n   * filter records with case insensitive(uppercase and lowercase letters treated as same).\n   * @param {boolean} ignoreAccent - If ignoreAccent set to true, then ignores the diacritic characters or accents when filtering.\n   * @param {string} secondOperator - Defines the second operator by how to filter records.\n   * @param {string | number | Date | boolean} secondValue - Defines the first value which is used to filter records.\n   * @returns {void}\n   */\n  ExcelFilterBase.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n    var col = this.parent.getColumnByField ? this.parent.getColumnByField(fieldName) : this.options.column;\n    var field = this.isForeignColumn(col) ? col.foreignKeyValue : fieldName;\n    var fColl = [];\n    var mPredicate;\n    var arg = {\n      instance: this,\n      handler: this.filterByColumn,\n      arg1: fieldName,\n      arg2: firstOperator,\n      arg3: firstValue,\n      arg4: predicate,\n      arg5: matchCase,\n      arg6: ignoreAccent,\n      arg7: secondOperator,\n      arg8: secondValue,\n      cancel: false\n    };\n    this.parent.notify(events.fltrPrevent, arg);\n    if (arg.cancel) {\n      return;\n    }\n    fColl.push({\n      field: field,\n      predicate: predicate,\n      matchCase: matchCase,\n      ignoreAccent: ignoreAccent,\n      operator: firstOperator,\n      value: arg.arg3,\n      type: this.options.type\n    });\n    mPredicate = new Predicate(field, firstOperator.toLowerCase(), arg.arg3, !matchCase, ignoreAccent);\n    if (!isNullOrUndefined(secondOperator)) {\n      fColl.push({\n        field: field,\n        predicate: predicate,\n        matchCase: matchCase,\n        ignoreAccent: ignoreAccent,\n        operator: secondOperator,\n        value: arg.arg8,\n        type: this.options.type\n      });\n      mPredicate = mPredicate[\"\" + predicate](field, secondOperator.toLowerCase(), secondValue, !matchCase, ignoreAccent);\n    }\n    var args = {\n      action: 'filtering',\n      filterCollection: fColl,\n      field: this.options.field,\n      ejpredicate: mPredicate,\n      actualPredicate: fColl\n    };\n    if (this.isForeignColumn(col)) {\n      this.foreignKeyFilter(args, fColl, mPredicate);\n    } else {\n      this.options.handler(args);\n    }\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderOperatorUI = function (column, table, elementID, predicates, isFirst) {\n    var fieldElement = this.parent.createElement('tr', {\n      className: 'e-xlfl-fields',\n      attrs: {\n        role: 'row'\n      }\n    });\n    table.appendChild(fieldElement);\n    var xlfloptr = this.parent.createElement('td', {\n      className: 'e-xlfl-optr'\n    });\n    fieldElement.appendChild(xlfloptr);\n    var optrDiv = this.parent.createElement('div', {\n      className: 'e-xlfl-optrdiv'\n    });\n    var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n    var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n    var optrInput = this.parent.createElement('input', {\n      id: isComplex ? complexFieldName + elementID : column + elementID\n    });\n    optrDiv.appendChild(optrInput);\n    xlfloptr.appendChild(optrDiv);\n    var optr = this.options.type + 'Operator';\n    var dropDatasource = this.customFilterOperators[\"\" + optr];\n    this.optrData = dropDatasource;\n    var selectedValue = this.dropSelectedVal(this.options.column, predicates, isFirst);\n    //Trailing three dots are sliced.\n    var menuText = '';\n    if (this.menuItem) {\n      menuText = this.menuItem.text.slice(0, -3);\n      if (menuText !== this.getLocalizedLabel('CustomFilter')) {\n        selectedValue = isFirst ? menuText : undefined;\n      }\n      if (menuText === this.getLocalizedLabel('Between')) {\n        selectedValue = this.getLocalizedLabel(isFirst ? 'GreaterThanOrEqual' : 'LessThanOrEqual');\n      }\n    }\n    var col = this.options.column;\n    var dropOptr = new DropDownList(extend({\n      dataSource: dropDatasource,\n      fields: {\n        text: 'text',\n        value: 'value'\n      },\n      text: selectedValue,\n      enableRtl: this.parent.enableRtl,\n      cssClass: this.parent.cssClass ? this.parent.cssClass : null\n    }, col.filter.params));\n    this.childRefs.unshift(dropOptr);\n    var evt = {\n      'open': this.dropDownOpen.bind(this),\n      'change': this.dropDownValueChange.bind(this)\n    };\n    registerEventHandlers(optrInput.id, [literals.open, literals.change], evt, this);\n    dropOptr.addEventListener(literals['open'], this.eventHandlers[optrInput.id][literals.open]);\n    dropOptr.addEventListener(literals.change, this.eventHandlers[optrInput.id][literals.change]);\n    dropOptr.appendTo(optrInput);\n    var operator = this.getSelectedValue(selectedValue);\n    return {\n      fieldElement: fieldElement,\n      operator: operator\n    };\n  };\n  ExcelFilterBase.prototype.removeHandlersFromComponent = function (component) {\n    if (component.element.classList.contains('e-dropdownlist')) {\n      removeEventHandlers(component, [literals.open, literals.change], this);\n    } else if (component.element.classList.contains('e-autocomplete')) {\n      removeEventHandlers(component, [events.actionComplete, literals.focus], this);\n    }\n  };\n  ExcelFilterBase.prototype.dropDownOpen = function (args) {\n    args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n  };\n  ExcelFilterBase.prototype.dropDownValueChange = function (args) {\n    if (args.element.id.includes('-xlfl-frstoptr')) {\n      this.firstOperator = args.value.toString();\n    } else {\n      this.secondOperator = args.value.toString();\n    }\n    var valInput = args.element.closest('.e-xlfl-fields').children[1].querySelector('.e-control');\n    var dropDownList = args.element['ej2_instances'][0];\n    if (dropDownList.value === 'isempty' || dropDownList.value === 'isnotempty' || dropDownList.value === 'isnull' || dropDownList.value === 'isnotnull') {\n      valInput['ej2_instances'][0]['enabled'] = false;\n    } else if (!isNullOrUndefined(valInput.getAttribute('disabled'))) {\n      valInput['ej2_instances'][0]['enabled'] = true;\n    }\n  };\n  /**\n   * @hidden\n   * @returns {FilterUI} returns filter UI\n   */\n  ExcelFilterBase.prototype.getFilterUIInfo = function () {\n    return {\n      firstOperator: this.firstOperator,\n      secondOperator: this.secondOperator,\n      field: this.options.field\n    };\n  };\n  ExcelFilterBase.prototype.getSelectedValue = function (text) {\n    var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('text', 'equal', text));\n    return !isNullOrUndefined(selectedField[0]) ? selectedField[0].value : '';\n  };\n  ExcelFilterBase.prototype.dropSelectedVal = function (col, predicates, isFirst) {\n    var operator;\n    if (predicates && predicates.length > 0) {\n      operator = predicates.length === 2 ? isFirst ? predicates[0].operator : predicates[1].operator : isFirst ? predicates[0].operator : undefined;\n    } else if (isFirst && col.type === 'string' && !col.filter.operator) {\n      operator = 'startswith';\n    } else {\n      operator = isFirst ? col.filter.operator || 'equal' : undefined;\n    }\n    return this.getSelectedText(operator);\n  };\n  ExcelFilterBase.prototype.getSelectedText = function (operator) {\n    var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', operator));\n    return !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n  };\n  ExcelFilterBase.prototype.renderFilterUI = function (column, dlgConetntEle) {\n    var predicates = this.existingPredicate[\"\" + column];\n    var table = this.parent.createElement('table', {\n      className: 'e-xlfl-table',\n      attrs: {\n        role: 'grid'\n      }\n    });\n    dlgConetntEle.appendChild(table);\n    var colGroup = this.parent.createElement(literals.colGroup);\n    colGroup.innerHTML = '<col style=\"width: 50%\"></col><col style=\"width: 50%\"></col>';\n    table.appendChild(colGroup);\n    //Renders first dropdown\n    var optr = this.renderOperatorUI(column, table, '-xlfl-frstoptr', predicates, true);\n    this.firstOperator = optr.operator;\n    //Renders first value\n    this.renderFlValueUI(column, optr, '-xlfl-frstvalue', predicates, true);\n    var predicate = this.parent.createElement('tr', {\n      className: 'e-xlfl-predicate',\n      attrs: {\n        role: 'row'\n      }\n    });\n    table.appendChild(predicate);\n    //Renders first radion button\n    this.renderRadioButton(column, predicate, predicates);\n    //Renders second dropdown\n    optr = this.renderOperatorUI(column, table, '-xlfl-secndoptr', predicates, false);\n    this.secondOperator = optr.operator;\n    //Renders second text box\n    this.renderFlValueUI(column, optr, '-xlfl-secndvalue', predicates, false);\n  };\n  ExcelFilterBase.prototype.renderRadioButton = function (column, tr, predicates) {\n    var td = this.parent.createElement('td', {\n      className: 'e-xlfl-radio',\n      attrs: {\n        'colSpan': '2'\n      }\n    });\n    tr.appendChild(td);\n    var radioDiv = this.parent.createElement('div', {\n      className: 'e-xlfl-radiodiv'\n    });\n    radioDiv.style.display = 'inline-block';\n    var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n    var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n    var frstpredicate = this.parent.createElement('input', {\n      id: isComplex ? complexFieldName + 'e-xlfl-frstpredicate' : column + 'e-xlfl-frstpredicate',\n      attrs: {\n        'type': 'radio'\n      }\n    });\n    var secndpredicate = this.parent.createElement('input', {\n      id: isComplex ? complexFieldName + 'e-xlfl-secndpredicate' : column + 'e-xlfl-secndpredicate',\n      attrs: {\n        'type': 'radio'\n      }\n    });\n    //appends into div\n    radioDiv.appendChild(frstpredicate);\n    radioDiv.appendChild(secndpredicate);\n    td.appendChild(radioDiv);\n    if (this.options.type === 'string') {\n      this.renderMatchCase(column, tr, td, '-xlflmtcase', predicates);\n    }\n    // Initialize AND RadioButton component.\n    var andRadio = new RadioButton({\n      label: this.getLocalizedLabel('AND'),\n      name: 'default',\n      checked: true,\n      enableRtl: this.parent.enableRtl,\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    this.childRefs.unshift(andRadio);\n    // Initialize OR RadioButton component.\n    var orRadio = new RadioButton({\n      label: this.getLocalizedLabel('OR'),\n      name: 'default',\n      enableRtl: this.parent.enableRtl,\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    this.childRefs.unshift(orRadio);\n    var flValue = predicates && predicates.length === 2 ? predicates[1].predicate : 'and';\n    if (flValue === 'and') {\n      andRadio.checked = true;\n      orRadio.checked = false;\n    } else {\n      orRadio.checked = true;\n      andRadio.checked = false;\n    }\n    // Render initialized RadioButton.\n    andRadio.appendTo(frstpredicate);\n    orRadio.appendTo(secndpredicate);\n    andRadio.element.nextElementSibling.classList.add('e-xlfl-radio-and');\n    orRadio.element.nextElementSibling.classList.add('e-xlfl-radio-or');\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ExcelFilterBase.prototype.removeObjects = function (elements) {\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n      var obj = elements_1[_i];\n      if (obj && !obj.isDestroyed) {\n        this.removeHandlersFromComponent(obj);\n        obj.destroy();\n      }\n    }\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderFlValueUI = function (column, optr, elementId, predicates, isFirst) {\n    var value = this.parent.createElement('td', {\n      className: 'e-xlfl-value'\n    });\n    optr.fieldElement.appendChild(value);\n    var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n    var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n    var valueDiv = this.parent.createElement('div', {\n      className: 'e-xlfl-valuediv'\n    });\n    var isFilteredCol = this.options.filteredColumns.some(function (col) {\n      return column === col.field;\n    });\n    var fltrPredicates = this.options.filteredColumns.filter(function (col) {\n      return col.field === column;\n    });\n    if (this.options.column.filterTemplate) {\n      var data = {};\n      var columnObj = this.options.column;\n      if (isFilteredCol && elementId) {\n        data = this.getExcelFilterData(elementId, data, columnObj, predicates, fltrPredicates);\n      }\n      var isReactCompiler = this.parent.isReact && typeof this.options.column.filterTemplate !== 'string' && !(this.options.column.filterTemplate.prototype && this.options.column.filterTemplate.prototype.CSPTemplate);\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj &&\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.parent.parentDetails.parentInstObj.isReact;\n      var tempID = this.parent.element.id + columnObj.uid + 'filterTemplate';\n      if (isReactCompiler || isReactChild) {\n        this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n      } else {\n        var element = this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, null, this.parent.root);\n        appendChildren(valueDiv, element);\n      }\n      if (isReactCompiler || isReactChild) {\n        this.parent.renderTemplates(function () {\n          valueDiv.querySelector('input').id = isComplex ? complexFieldName + elementId : column + elementId;\n          value.appendChild(valueDiv);\n        });\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (this.parent.isAngular ? valueDiv.children[0] : valueDiv.querySelector('input')).id = isComplex ? complexFieldName + elementId : column + elementId;\n        value.appendChild(valueDiv);\n      }\n    } else {\n      var valueInput = this.parent.createElement('input', {\n        id: isComplex ? complexFieldName + elementId : column + elementId\n      });\n      valueDiv.appendChild(valueInput);\n      value.appendChild(valueDiv);\n      var flValue = void 0;\n      var predicate = void 0;\n      if (predicates && predicates.length > 0) {\n        predicate = predicates.length === 2 ? isFirst ? predicates[0] : predicates[1] : isFirst ? predicates[0] : undefined;\n        flValue = predicate && predicate.operator === optr.operator ? predicate.value : undefined;\n        if (isNullOrUndefined(flValue)) {\n          flValue = undefined;\n        }\n      }\n      var types = {\n        'string': this.renderAutoComplete.bind(this),\n        'number': this.renderNumericTextBox.bind(this),\n        'date': this.renderDate.bind(this),\n        'dateonly': this.renderDate.bind(this),\n        'datetime': this.renderDateTime.bind(this)\n      };\n      types[this.options.type](this.options, column, valueInput, flValue, this.parent.enableRtl);\n    }\n  };\n  ExcelFilterBase.prototype.getExcelFilterData = function (elementId, data, columnObj, predicates, fltrPredicates) {\n    var predIndex = elementId === '-xlfl-frstvalue' ? 0 : 1;\n    if (elementId === '-xlfl-frstvalue' || fltrPredicates.length > 1) {\n      data = {\n        column: predicates instanceof Array ? predicates[parseInt(predIndex.toString(), 10)] : predicates\n      };\n      var indx = this.options.column.columnData && fltrPredicates.length > 1 ? this.options.column.columnData.length === 1 ? 0 : 1 : predIndex;\n      data[this.options.field] = columnObj.foreignKeyValue ? this.options.column.columnData[parseInt(indx.toString(), 10)][columnObj.foreignKeyValue] : fltrPredicates[parseInt(indx.toString(), 10)].value;\n      if (this.options.foreignKeyValue) {\n        data[this.options.foreignKeyValue] = this.options.column.columnData[parseInt(indx.toString(), 10)][columnObj.foreignKeyValue];\n      }\n    }\n    return data;\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderMatchCase = function (column, tr, matchCase, elementId, predicates) {\n    var matchCaseDiv = this.parent.createElement('div', {\n      className: 'e-xlfl-matchcasediv'\n    });\n    matchCaseDiv.style.display = 'inline-block';\n    var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n    var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n    var matchCaseInput = this.parent.createElement('input', {\n      id: isComplex ? complexFieldName + elementId : column + elementId,\n      attrs: {\n        'type': 'checkbox'\n      }\n    });\n    matchCaseDiv.appendChild(matchCaseInput);\n    matchCase.appendChild(matchCaseDiv);\n    var flValue = predicates && predicates.length > 0 ? predicates && predicates.length === 2 ? predicates[1].matchCase : predicates[0].matchCase : false;\n    // Initialize Match Case check box.\n    var checkbox = new CheckBox({\n      label: this.getLocalizedLabel('MatchCase'),\n      enableRtl: this.parent.enableRtl,\n      checked: flValue,\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    this.childRefs.unshift(checkbox);\n    // Render initialized CheckBox.\n    checkbox.appendTo(matchCaseInput);\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderDate = function (options, column, inputValue, fValue, isRtl) {\n    var format = getCustomDateFormat(options.format, options.type) || options.format;\n    var datePicker = new DatePicker(extend({\n      format: format,\n      cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n      placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n      width: '100%',\n      enableRtl: isRtl,\n      value: new Date(fValue),\n      locale: this.parent.locale\n    }, options.column.filter.params));\n    this.childRefs.unshift(datePicker);\n    datePicker.appendTo(inputValue);\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderDateTime = function (options, column, inputValue, fValue, isRtl) {\n    var format = getCustomDateFormat(options.format, options.type);\n    var dateTimePicker = new DateTimePicker(extend({\n      format: format,\n      cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n      placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n      width: '100%',\n      enableRtl: isRtl,\n      value: new Date(fValue),\n      locale: this.parent.locale\n    }, options.column.filter.params));\n    this.childRefs.unshift(dateTimePicker);\n    dateTimePicker.appendTo(inputValue);\n  };\n  ExcelFilterBase.prototype.completeAction = function (e) {\n    e.result = distinctStringValues(e.result);\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderNumericTextBox = function (options, column, inputValue, fValue, isRtl) {\n    var numericTextBox = new NumericTextBox(extend({\n      format: options.format,\n      placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n      enableRtl: isRtl,\n      value: fValue,\n      locale: this.parent.locale,\n      cssClass: this.parent.cssClass ? this.parent.cssClass : null\n    }, options.column.filter.params));\n    this.childRefs.unshift(numericTextBox);\n    numericTextBox.appendTo(inputValue);\n  };\n  // eslint-disable-next-line max-len\n  ExcelFilterBase.prototype.renderAutoComplete = function (options, column, inputValue, fValue, isRtl) {\n    var colObj = this.options.column;\n    var isForeignColumn = this.isForeignColumn(colObj);\n    var dataSource = isForeignColumn ? colObj.dataSource : options.dataSource;\n    var fields = {\n      value: isForeignColumn ? colObj.foreignKeyValue : column\n    };\n    var actObj = new AutoComplete(extend({\n      dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n      fields: fields,\n      query: this.getQuery(),\n      sortOrder: 'Ascending',\n      locale: this.parent.locale,\n      cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n      autofill: true,\n      placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n      enableRtl: isRtl,\n      text: fValue\n    }, colObj.filter.params));\n    if (dataSource && 'result' in dataSource) {\n      var defObj = eventPromise({\n        requestType: 'stringfilterrequest'\n      }, this.getQuery());\n      this.parent.trigger(events.dataStateChange, defObj.state);\n      var def = defObj.deffered;\n      def.promise.then(function (e) {\n        actObj.dataSource = new DataManager(e);\n      });\n    }\n    this.childRefs.unshift(actObj);\n    var evt = {\n      'actionComplete': this.acActionComplete(actObj, column),\n      'focus': this.acFocus(actObj, column, options, inputValue)\n    };\n    registerEventHandlers(inputValue.id, [events.actionComplete, literals.focus], evt, this);\n    actObj.addEventListener(literals.focus, this.eventHandlers[inputValue.id][literals.focus]);\n    actObj.addEventListener(events.actionComplete, this.eventHandlers[inputValue.id][events.actionComplete]);\n    actObj.appendTo(inputValue);\n  };\n  ExcelFilterBase.prototype.acActionComplete = function (actObj, column) {\n    return function (e) {\n      var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n      e.result = e.result.filter(function (obj, index, arr) {\n        return arr.map(function (mapObject) {\n          return isComplex ? performComplexDataOperation(actObj.fields.value, mapObject) : mapObject[actObj.fields.value];\n        }).indexOf(isComplex ? performComplexDataOperation(actObj.fields.value, obj) : obj[actObj.fields.value]) === index;\n      });\n    };\n  };\n  ExcelFilterBase.prototype.acFocus = function (actObj, column, options, inputValue) {\n    var _this = this;\n    return function () {\n      var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n      var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n      var columnvalue = isComplex ? complexFieldName : column;\n      actObj.filterType = _this.dlgDiv.querySelector('#' + columnvalue + (inputValue.id === columnvalue + '-xlfl-frstvalue' ? '-xlfl-frstoptr' : '-xlfl-secndoptr')).ej2_instances[0].value;\n      actObj.ignoreCase = options.type === 'string' ? !_this.dlgDiv.querySelector('#' + columnvalue + '-xlflmtcase').ej2_instances[0].checked : true;\n      actObj.filterType = !isNullOrUndefined(actObj.filterType) ? actObj.filterType : 'equal';\n    };\n  };\n  return ExcelFilterBase;\n}(CheckBoxFilterBase);\nexport { ExcelFilterBase };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","remove","Browser","isNullOrUndefined","Query","DataManager","Predicate","Dialog","DropDownList","AutoComplete","NumericTextBox","RadioButton","CheckBox","distinctStringValues","isComplexField","getComplexFieldID","getCustomDateFormat","applyBiggerTheme","performComplexDataOperation","registerEventHandlers","removeEventHandlers","clearReactVueTemplates","DatePicker","DateTimePicker","parentsUntil","appendChildren","extend","eventPromise","resetDialogAppend","events","ContextMenu","CheckBoxFilterBase","literals","ExcelFilterBase","_super","parent","customFltrOperators","_this","call","childRefs","eventHandlers","isDevice","focusedMenuItem","customFilterOperators","isExcel","getCMenuDS","type","operator","options","number","string","date","datetime","dateonly","model","i","length","parseInt","toString","push","text","getLocalizedLabel","iconCss","toLowerCase","separator","destroy","dlg","unwireExEvents","closeDialog","menuObj","li","element","querySelector","destroyCMenu","dlgObj","isDestroyed","removeDialog","createMenu","isFiltered","isCheckIcon","eleOptions","menu","createElement","className","enableRtl","classList","add","cssClass","ul","icon","allowSorting","getModuleName","isResponsiveFilter","hdrele","getColumnHeaderByUid","uid","getAttribute","colIsSort","getColumnByField","field","isAsc","isDesc","ascName","descName","appendChild","createMenuElem","ensureTextFilter","notify","beforeFltrcMenuOpen","refreshCustomFilterClearBtn","val","iconName","isSubMenu","innerHTML","tabIndex","contains","insertBefore","attrs","firstChild","wireExEvents","hoverHandler","clickExHandler","keyUp","keyDown","e","menuItem","target","innerText","trim","clearFilter","focusNextOrPrevElement","focusableElements","focusClassName","nextIndex","key","shiftKey","indexOf","document","activeElement","nextElement","focus","focusClass","excelSetFocus","altKey","preventDefault","from","querySelectorAll","code","click","elem","prevElem","cmenu","menuFocusElem","isCMenuOpen","contextKeyDownHandler","renderResponsiveCmenu","header","isOpen","col","column","focused","submenu","selectedMenu","menuOptions","items","replace","undefined","select","selectHandler","bind","onClose","animationSettings","effect","beforeClose","preventClose","client","getBoundingClientRect","pos","top","left","content","height","offsetHeight","style","body","parentElement","contextRect","getContextBounds","window","innerHeight","innerWidth","width","isIE","pageYOffset","scrollY","getCMenuYPosition","close","predicates","existingPredicate","optrData","args","event","isFilterBack","cancel","MouseEvent","display","contextWidth","targetPosition","parentElementPosition","rightPosition","leftPosition","right","targetBorder","offsetWidth","clientWidth","position","openDialog","updateModel","getAndSetChkElem","showDialog","dialogObj","dataBind","filterLength","filteredColumns","filter","getContent","firstElementChild","menuItems","forEach","scrollWidth","setAttribute","textContent","showColumnMenu","filterDialogCreated","item","filterCmenuSelect","renderDialogue","isComplex","complexFieldName","mainDiv","id","dlgDiv","responsiveCnt","isModal","overlayClick","showCloseIcon","locale","closeOnEscape","visible","open","rows","slice","valInput","children","dropDownList","value","row","filterTemplate","templateField_1","isReactCompiler","isReact","CSPTemplate","isReactChild","parentDetails","parentInstObj","renderTemplates","created","createdDialog","buttons","filterBtnClick","buttonModel","isPrimary","isStringTemplate","renderResponsiveDialog","unshift","appendTo","rowResponsiveDlg","X","Y","customFilterClose","isVue","destroyTemplate","removeObjects","filterDialogClose","renderCustomFilter","beforeCustomFilterOpen","dialog","show","dlgConetntEle","dlgFields","fieldSet","displayName","renderFilterUI","colValue","fValue","ej2_instances","fOperator","sValue","sOperator","checkBoxValue","checkBox","checked","predicateSelector","predicate","filterByColumn","ignoreAccent","fieldName","firstOperator","firstValue","matchCase","secondOperator","secondValue","isForeignColumn","foreignKeyValue","fColl","mPredicate","arg","instance","handler","arg1","arg2","arg3","arg4","arg5","arg6","arg7","arg8","fltrPrevent","action","filterCollection","ejpredicate","actualPredicate","foreignKeyFilter","renderOperatorUI","table","elementID","isFirst","fieldElement","role","xlfloptr","optrDiv","optrInput","optr","dropDatasource","selectedValue","dropSelectedVal","menuText","dropOptr","dataSource","fields","params","evt","dropDownOpen","dropDownValueChange","change","addEventListener","getSelectedValue","removeHandlersFromComponent","component","actionComplete","popup","zIndex","includes","closest","getFilterUIInfo","selectedField","executeLocal","where","getSelectedText","colGroup","renderFlValueUI","renderRadioButton","tr","td","radioDiv","frstpredicate","secndpredicate","renderMatchCase","andRadio","label","name","orRadio","flValue","nextElementSibling","elements","_i","elements_1","obj","elementId","valueDiv","isFilteredCol","some","fltrPredicates","data","columnObj","getExcelFilterData","tempID","getFilterTemplate","root","isAngular","valueInput","types","renderAutoComplete","renderNumericTextBox","renderDate","renderDateTime","predIndex","indx","columnData","matchCaseDiv","matchCaseInput","checkbox","inputValue","isRtl","format","datePicker","placeholder","Date","dateTimePicker","completeAction","result","numericTextBox","colObj","actObj","query","getQuery","sortOrder","autofill","defObj","requestType","trigger","dataStateChange","state","def","deffered","promise","then","acActionComplete","acFocus","index","arr","map","mapObject","columnvalue","filterType","ignoreCase"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/common/excel-filter-base.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, remove, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList, AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { RadioButton, CheckBox } from '@syncfusion/ej2-buttons';\nimport { distinctStringValues, isComplexField, getComplexFieldID, getCustomDateFormat, applyBiggerTheme, performComplexDataOperation, registerEventHandlers, removeEventHandlers, clearReactVueTemplates } from '../base/util';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { parentsUntil, appendChildren, extend, eventPromise, resetDialogAppend } from '../base/util';\nimport * as events from '../base/constant';\nimport { ContextMenu } from '@syncfusion/ej2-navigations';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilterBase = /** @class */ (function (_super) {\n    __extends(ExcelFilterBase, _super);\n    /**\n     * Constructor for excel filtering module\n     *\n     * @param {IXLFilter} parent - parent details\n     * @param {Object} customFltrOperators - operator details\n     * @hidden\n     */\n    function ExcelFilterBase(parent, customFltrOperators) {\n        var _this = _super.call(this, parent) || this;\n        _this.childRefs = [];\n        _this.eventHandlers = {};\n        _this.isDevice = false;\n        _this.focusedMenuItem = null;\n        _this.customFilterOperators = customFltrOperators;\n        _this.isExcel = true;\n        return _this;\n    }\n    ExcelFilterBase.prototype.getCMenuDS = function (type, operator) {\n        var options = {\n            number: ['Equal', 'NotEqual', '', 'LessThan', 'LessThanOrEqual', 'GreaterThan',\n                'GreaterThanOrEqual', 'Between', '', 'CustomFilter'],\n            string: ['Equal', 'NotEqual', '', 'StartsWith', 'EndsWith', '', 'Contains', 'NotContains', '', 'CustomFilter']\n        };\n        options.date = options.number;\n        options.datetime = options.number;\n        options.dateonly = options.number;\n        var model = [];\n        for (var i = 0; i < options[\"\" + type].length; i++) {\n            if (options[\"\" + type][parseInt(i.toString(), 10)].length) {\n                if (operator) {\n                    model.push({\n                        text: this.getLocalizedLabel(options[\"\" + type][parseInt(i.toString(), 10)]) + '...',\n                        iconCss: 'e-icons e-icon-check ' + (operator === options[\"\" + type][parseInt(i.toString(), 10)].toLowerCase() ? '' : 'e-emptyicon')\n                    });\n                }\n                else {\n                    model.push({\n                        text: this.getLocalizedLabel(options[\"\" + type][parseInt(i.toString(), 10)]) + '...'\n                    });\n                }\n            }\n            else {\n                model.push({ separator: true });\n            }\n        }\n        return model;\n    };\n    /**\n     * To destroy the filter bar.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExcelFilterBase.prototype.destroy = function () {\n        if (this.dlg) {\n            this.unwireExEvents();\n            _super.prototype.closeDialog.call(this);\n        }\n        if (!this.isDevice && this.menuObj) {\n            var li = this.menuObj.element.querySelector('li.e-focused');\n            if (!(li && parentsUntil(li, 'e-excel-menu'))) {\n                this.destroyCMenu();\n            }\n        }\n        if (this.dlgObj && !this.dlgObj.isDestroyed) {\n            this.removeDialog();\n        }\n    };\n    ExcelFilterBase.prototype.createMenu = function (type, isFiltered, isCheckIcon, eleOptions) {\n        var options = { string: 'TextFilter', date: 'DateFilter', dateonly: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        this.menu = this.parent.createElement('div', { className: 'e-contextmenu-wrapper' });\n        if (this.parent.enableRtl) {\n            this.menu.classList.add('e-rtl');\n        }\n        else {\n            this.menu.classList.remove('e-rtl');\n        }\n        if (this.parent.cssClass) {\n            this.menu.classList.add(this.parent.cssClass);\n        }\n        var ul = this.parent.createElement('ul');\n        var icon = isFiltered ? 'e-excl-filter-icon e-filtered' : 'e-excl-filter-icon';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.allowSorting && this.parent.getModuleName() === 'grid'\n            && !this.options.isResponsiveFilter) {\n            var hdrele = this.parent.getColumnHeaderByUid(eleOptions.uid).getAttribute('aria-sort');\n            var colIsSort = this.parent.getColumnByField(eleOptions.field).allowSorting;\n            var isAsc = (!colIsSort || hdrele === 'ascending') ? 'e-disabled e-excel-ascending' : 'e-excel-ascending';\n            var isDesc = (!colIsSort || hdrele === 'descending') ? 'e-disabled e-excel-descending' : 'e-excel-descending';\n            var ascName = (type === 'string') ? this.getLocalizedLabel('SortAtoZ') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByOldest') : this.getLocalizedLabel('SortSmallestToLargest');\n            var descName = (type === 'string') ? this.getLocalizedLabel('SortZtoA') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByNewest') : this.getLocalizedLabel('SortLargestToSmallest');\n            ul.appendChild(this.createMenuElem(ascName, isAsc, 'e-sortascending'));\n            ul.appendChild(this.createMenuElem(descName, isDesc, 'e-sortdescending'));\n            var separator = this.parent.createElement('li', { className: 'e-separator e-menu-item e-excel-separator' });\n            ul.appendChild(separator);\n        }\n        if (!this.options.isResponsiveFilter) {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel('ClearFilter'), isFiltered ? '' : 'e-disabled', icon));\n        }\n        if (type !== 'boolean') {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel(options[\"\" + type]), 'e-submenu', isCheckIcon && this.ensureTextFilter() ? 'e-icon-check' : icon + ' e-emptyicon', true));\n        }\n        this.menu.appendChild(ul);\n        this.parent.notify(events.beforeFltrcMenuOpen, { element: this.menu });\n        this.parent.notify(events.refreshCustomFilterClearBtn, { isFiltered: isFiltered });\n    };\n    ExcelFilterBase.prototype.createMenuElem = function (val, className, iconName, isSubMenu) {\n        var li = this.parent.createElement('li', { className: className + ' e-menu-item' });\n        li.innerHTML = val;\n        li.tabIndex = li.classList.contains('e-disabled') ? -1 : 0;\n        li.insertBefore(this.parent.createElement('span', { className: 'e-menu-icon e-icons ' + iconName, attrs: { 'aria-hidden': 'true' } }), li.firstChild);\n        if (isSubMenu) {\n            li.appendChild(this.parent.createElement('span', { className: 'e-icons e-caret' }));\n        }\n        return li;\n    };\n    ExcelFilterBase.prototype.wireExEvents = function () {\n        if (!Browser.isDevice) {\n            EventHandler.add(this.dlg, 'mouseover', this.hoverHandler, this);\n        }\n        EventHandler.add(this.dlg, 'click', this.clickExHandler, this);\n        EventHandler.add(this.dlg, 'keyup', this.keyUp, this);\n        EventHandler.add(this.dlg, 'keydown', this.keyDown, this);\n    };\n    ExcelFilterBase.prototype.unwireExEvents = function () {\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.dlg, 'mouseover', this.hoverHandler);\n        }\n        EventHandler.remove(this.dlg, 'click', this.clickExHandler);\n        EventHandler.remove(this.dlg, 'keyup', this.keyUp);\n        EventHandler.remove(this.dlg, 'keydown', this.keyDown);\n    };\n    ExcelFilterBase.prototype.clickExHandler = function (e) {\n        var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        var menuItem = parentsUntil(e.target, 'e-menu-item');\n        if (menuItem) {\n            if (this.getLocalizedLabel('ClearFilter') === menuItem.innerText.trim()) {\n                this.clearFilter();\n                this.closeDialog();\n            }\n            else if ((this.options.isResponsiveFilter || Browser.isDevice)\n                && this.getLocalizedLabel(options[this.options.type]) === menuItem.innerText.trim()) {\n                this.hoverHandler(e);\n            }\n        }\n    };\n    ExcelFilterBase.prototype.focusNextOrPrevElement = function (e, focusableElements, focusClassName) {\n        var nextIndex = (e.key === 'ArrowUp' || (e.key === 'Tab' && e.shiftKey)) ? focusableElements.indexOf(document.activeElement) - 1\n            : focusableElements.indexOf(document.activeElement) + 1;\n        var nextElement = focusableElements[((nextIndex + focusableElements.length) % focusableElements.length)];\n        // Set focus on the next / previous element\n        if (nextElement) {\n            nextElement.focus();\n            var focusClass = nextElement.classList.contains('e-chk-hidden') ? 'e-chkfocus' : focusClassName;\n            var target = nextElement.classList.contains('e-chk-hidden') ? parentsUntil(nextElement, 'e-ftrchk') : parentsUntil(nextElement, 'e-menu-item');\n            this.excelSetFocus(target, focusClass);\n        }\n    };\n    ExcelFilterBase.prototype.keyUp = function (e) {\n        if ((e.key === 'Tab' && e.shiftKey) || e.key === 'Tab') {\n            var focusClass = e.target.classList.contains('e-chk-hidden') ? 'e-chkfocus' : 'e-menufocus';\n            var target = e.target.classList.contains('e-menu-item')\n                ? parentsUntil(e.target, 'e-menu-item') : parentsUntil(e.target, 'e-ftrchk');\n            this.excelSetFocus(target, focusClass);\n        }\n        else if ((e.key === 'ArrowUp' || e.key === 'ArrowDown') && !e.altKey) {\n            e.preventDefault();\n            var focusableElements = Array.from(this.dlg.querySelectorAll('input, button, [tabindex]:not([tabindex=\"-1\"]), .e-menu-item:not(.e-disabled):not(.e-separator)'));\n            this.focusNextOrPrevElement(e, focusableElements, 'e-menufocus');\n        }\n        else if ((e.key === 'Enter' || e.code === 'ArrowRight') && e.target.classList.contains('e-menu-item')) {\n            e.preventDefault();\n            e.target.click();\n            if (e.target.classList.contains('e-submenu')) {\n                this.hoverHandler(e);\n                this.menuObj.element.querySelector('.e-menu-item').focus();\n                this.excelSetFocus(parentsUntil(this.menuObj.element.querySelector('.e-menu-item'), 'e-menu-item'), 'e-focused');\n                this.focusedMenuItem = this.menuObj.element.querySelector('.e-menu-item');\n            }\n        }\n    };\n    ExcelFilterBase.prototype.keyDown = function (e) {\n        //prevented up and down arrow key press default functionality to prevent the browser scroll when performing keyboard navigation in excel filter element.\n        if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n            e.preventDefault();\n        }\n    };\n    ExcelFilterBase.prototype.excelSetFocus = function (elem, className) {\n        var prevElem = this.cmenu.querySelector('.' + className);\n        var menuFocusElem = this.menu.querySelector('.' + className);\n        if (prevElem) {\n            prevElem.classList.remove(className);\n        }\n        if (menuFocusElem && menuFocusElem.classList.contains('e-menufocus')) {\n            menuFocusElem.classList.remove(className);\n        }\n        if (elem) {\n            elem.classList.add(className);\n        }\n    };\n    ExcelFilterBase.prototype.destroyCMenu = function () {\n        this.isCMenuOpen = false;\n        if (this.menuObj && !this.menuObj.isDestroyed) {\n            this.menuObj.destroy();\n            EventHandler.remove(this.menuObj.element, 'keydown', this.contextKeyDownHandler);\n            remove(this.cmenu);\n            this.parent.notify(events.renderResponsiveCmenu, { target: null, header: '', isOpen: false, col: this.options.column });\n        }\n    };\n    ExcelFilterBase.prototype.hoverHandler = function (e) {\n        if (this.options.isResponsiveFilter && e.type === 'mouseover') {\n            return;\n        }\n        var target = e.target.querySelector('.e-contextmenu');\n        var li = parentsUntil(e.target, 'e-menu-item');\n        var focused = this.menu.querySelector('.e-focused');\n        var isSubMenu;\n        if (focused) {\n            focused.classList.remove('e-focused');\n        }\n        if (li) {\n            li.classList.add('e-focused');\n            isSubMenu = li.classList.contains('e-submenu');\n        }\n        if (target) {\n            return;\n        }\n        if (!isSubMenu) {\n            var submenu = this.menu.querySelector('.e-submenu');\n            if (!isNullOrUndefined(submenu)) {\n                submenu.classList.remove('e-selected');\n            }\n            this.destroyCMenu();\n        }\n        var selectedMenu = this.ensureTextFilter();\n        if (!this.isCMenuOpen && isSubMenu) {\n            li.classList.add('e-selected');\n            this.isCMenuOpen = true;\n            var menuOptions = {\n                items: this.getCMenuDS(this.options.type, selectedMenu ? selectedMenu.replace(/\\s/g, '') : undefined),\n                select: this.selectHandler.bind(this),\n                onClose: this.destroyCMenu.bind(this),\n                enableRtl: this.parent.enableRtl,\n                animationSettings: { effect: Browser.isDevice ? 'ZoomIn' : 'None' },\n                beforeClose: this.preventClose.bind(this),\n                cssClass: this.options.isResponsiveFilter && this.parent.cssClass ?\n                    'e-res-contextmenu-wrapper' + ' ' + this.parent.cssClass : this.options.isResponsiveFilter ?\n                    'e-res-contextmenu-wrapper' : this.parent.cssClass ? this.parent.cssClass : ''\n            };\n            this.parent.element.appendChild(this.cmenu);\n            this.menuObj = new ContextMenu(menuOptions, this.cmenu);\n            EventHandler.add(this.menuObj.element, 'keydown', this.contextKeyDownHandler, this);\n            var client = this.menu.querySelector('.e-submenu').getBoundingClientRect();\n            var pos = { top: 0, left: 0 };\n            if (this.options.isResponsiveFilter) {\n                var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n                var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n                var height = content.offsetHeight + 4;\n                this.menuObj.element.style.height = 'calc(100% - ' + height + 'px)';\n                this.menuObj['open'](height, 0, document.body);\n                var header = this.getLocalizedLabel(options[this.options.type]);\n                this.parent.notify(events.renderResponsiveCmenu, {\n                    target: this.menuObj.element.parentElement, header: header, isOpen: true\n                });\n            }\n            else {\n                if (Browser.isDevice) {\n                    this.isDevice = true;\n                    var contextRect = this.getContextBounds();\n                    pos.top = (window.innerHeight - contextRect.height) / 2;\n                    pos.left = (window.innerWidth - contextRect.width) / 2;\n                    this.closeDialog();\n                    this.isDevice = false;\n                }\n                else {\n                    pos.top = Browser.isIE ? window.pageYOffset + client.top : window.scrollY + client.top;\n                    pos.left = this.getCMenuYPosition(this.dlg);\n                }\n                this.menuObj['open'](pos.top, pos.left, e.target);\n            }\n            applyBiggerTheme(this.parent.element, this.menuObj.element.parentElement);\n        }\n    };\n    ExcelFilterBase.prototype.contextKeyDownHandler = function (e) {\n        if ((e.key === 'Tab' && e.shiftKey) || e.key === 'Tab') {\n            e.preventDefault();\n            var focusableElements = Array.from(this.menuObj.element.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]), .e-menu-item:not(.e-disabled):not(.e-separator)'));\n            // Focus the next / previous context menu item\n            this.focusNextOrPrevElement(e, focusableElements, 'e-focused');\n        }\n        else if (e.key === 'ArrowLeft' || e.key === 'Escape') {\n            e.preventDefault();\n            this.menuObj.close();\n            this.focusedMenuItem = null;\n            document.querySelector('.e-submenu.e-menu-item').classList.remove('e-selected');\n            document.querySelector('.e-submenu.e-menu-item').focus();\n        }\n    };\n    ExcelFilterBase.prototype.ensureTextFilter = function () {\n        var selectedMenu;\n        var predicates = this.existingPredicate[this.options.field];\n        if (predicates && predicates.length === 2) {\n            if (predicates[0].operator === 'greaterthanorequal' && predicates[1].operator === 'lessthanorequal') {\n                selectedMenu = 'between';\n            }\n            else {\n                selectedMenu = 'customfilter';\n            }\n        }\n        else {\n            if (predicates && predicates.length === 1) {\n                this.optrData = this.customFilterOperators[this.options.type + 'Operator'];\n                selectedMenu = predicates[0].operator;\n            }\n        }\n        return selectedMenu;\n    };\n    ExcelFilterBase.prototype.preventClose = function (args) {\n        if (this.options && this.options.isResponsiveFilter && args.event) {\n            var target = args.event.target;\n            var isFilterBack = target.classList && (target.classList.contains('e-resfilterback')\n                || target.classList.contains('e-res-back-btn') || target.classList.contains('e-menu-item'));\n            args.cancel = !isFilterBack;\n        }\n        else {\n            if (args.event instanceof MouseEvent && args.event.target && args.event.target.classList &&\n                args.event.target.classList.contains('e-submenu')) {\n                args.cancel = true;\n            }\n        }\n    };\n    ExcelFilterBase.prototype.getContextBounds = function () {\n        this.menuObj.element.style.display = 'block';\n        return this.menuObj.element.getBoundingClientRect();\n    };\n    ExcelFilterBase.prototype.getCMenuYPosition = function (target) {\n        var contextWidth = this.getContextBounds().width;\n        var targetPosition = target.getBoundingClientRect();\n        var parentElementPosition = this.parent.element.getBoundingClientRect();\n        var rightPosition = targetPosition.left - contextWidth - parentElementPosition.left;\n        var leftPosition = targetPosition.right + contextWidth - parentElementPosition.right;\n        var targetBorder = target.offsetWidth - target.clientWidth;\n        targetBorder = targetBorder ? targetBorder + 1 : 0;\n        var position = this.parent.enableRtl ? rightPosition : leftPosition;\n        return position < 1 ? (targetPosition.right + 1 - targetBorder) : (targetPosition.left - contextWidth - 1 + targetBorder);\n    };\n    ExcelFilterBase.prototype.openDialog = function (options) {\n        var _this = this;\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n        if (options.cancel) {\n            return;\n        }\n        this.dialogObj.dataBind();\n        var filterLength = (this.existingPredicate[options.field] && this.existingPredicate[options.field].length) ||\n            this.options.filteredColumns.filter(function (col) {\n                return _this.options.field === col.field;\n            }).length;\n        this.createMenu(options.type, filterLength > 0, (filterLength === 1 || filterLength === 2), options);\n        this.dlg.insertBefore(this.menu, this.dlg.firstChild);\n        this.dlg.classList.add('e-excelfilter');\n        if (this.parent && !isNullOrUndefined(this.parent.getContent) && this.parent.getContent()\n            && this.parent.getContent().firstElementChild\n                .offsetHeight < this.dlg.offsetHeight && !parentsUntil(this.parent.element, 'e-gantt-dialog')) {\n            resetDialogAppend(this.parent, this.dialogObj);\n        }\n        if (this.parent.enableRtl) {\n            this.dlg.classList.add('e-rtl');\n        }\n        this.dlg.classList.remove('e-checkboxfilter');\n        this.cmenu = this.parent.createElement('ul', { className: 'e-excel-menu' });\n        var menuItems = this.dlg.querySelectorAll('.e-menu-item');\n        menuItems.forEach(function (menuItem) {\n            if (menuItem.scrollWidth > menuItem.clientWidth) {\n                menuItem.setAttribute('title', menuItem.textContent);\n            }\n        });\n        if (options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, {});\n        }\n        this.wireExEvents();\n    };\n    ExcelFilterBase.prototype.closeDialog = function () {\n        this.destroy();\n    };\n    ExcelFilterBase.prototype.selectHandler = function (e) {\n        if (e.item) {\n            this.parent.notify(events.filterCmenuSelect, {});\n            this.menuItem = e.item;\n            this.closeDialog();\n            this.renderDialogue(e);\n        }\n    };\n    /**\n     * @hidden\n     * @param {MenuEventArgs} e - event args\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.renderDialogue = function (e) {\n        var _this = this;\n        var target = e ? e.element : undefined;\n        var column = this.options.field;\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var mainDiv = this.parent.createElement('div', {\n            className: 'e-xlfl-maindiv',\n            id: isComplex ? complexFieldName + '-xlflmenu' : column + '-xlflmenu'\n        });\n        this.dlgDiv = this.parent.createElement('div', {\n            className: 'e-xlflmenu',\n            id: isComplex ? complexFieldName + '-xlfldlg' : column + '-xlfldlg'\n        });\n        if (this.options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            responsiveCnt.appendChild(this.dlgDiv);\n        }\n        else {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            header: this.getLocalizedLabel('CustomFilter'),\n            isModal: true,\n            overlayClick: this.removeDialog.bind(this),\n            showCloseIcon: true,\n            locale: this.parent.locale,\n            closeOnEscape: true,\n            target: document.body,\n            // target: this.parent.element,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            open: function () {\n                var rows = [].slice.call(_this.dlgObj.element.querySelectorAll('table.e-xlfl-table tr.e-xlfl-fields'));\n                for (var i = 0; i < rows.length; i++) {\n                    var valInput = rows[i].children[1].querySelector('.e-control');\n                    var dropDownList = rows[i]\n                        .querySelector('.e-dropdownlist.e-control')['ej2_instances'][0];\n                    if (dropDownList.value === 'isempty' || dropDownList.value === 'isnotempty' ||\n                        dropDownList.value === 'isnull' || dropDownList.value === 'isnotnull') {\n                        valInput['ej2_instances'][0]['enabled'] = false;\n                    }\n                    else if (valInput && !isNullOrUndefined(valInput.getAttribute('disabled'))) {\n                        valInput['ej2_instances'][0]['enabled'] = true;\n                    }\n                }\n                var row = _this.dlgObj.element.querySelector('table.e-xlfl-table>tr');\n                if (_this.options.column.filterTemplate) {\n                    var templateField_1 = isComplexField(_this.options.column.field) ?\n                        getComplexFieldID(_this.options.column.field) : _this.options.column.field;\n                    var isReactCompiler = _this.parent.isReact && typeof (_this.options.column.filterTemplate) !== 'string' &&\n                        !(_this.options.column.filterTemplate.prototype && _this.options.column.filterTemplate.prototype.CSPTemplate);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var isReactChild = _this.parent.parentDetails && _this.parent.parentDetails.parentInstObj &&\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.parent.parentDetails.parentInstObj.isReact;\n                    if (isReactCompiler || isReactChild) {\n                        _this.parent.renderTemplates(function () {\n                            row.querySelector('#' + templateField_1 + '-xlfl-frstvalue').focus();\n                        });\n                    }\n                    else {\n                        row.querySelector('#' + templateField_1 + '-xlfl-frstvalue').focus();\n                    }\n                }\n                else {\n                    //(row.cells[1].querySelector('input:not([type=hidden])') as HTMLElement).focus();\n                }\n            },\n            close: this.removeDialog.bind(this),\n            created: this.createdDialog.bind(this, target, column),\n            buttons: [{\n                    click: this.filterBtnClick.bind(this, column),\n                    buttonModel: {\n                        content: this.getLocalizedLabel('OKButton'), isPrimary: true,\n                        cssClass: this.parent.cssClass ? 'e-xlfl-okbtn' + ' ' + this.parent.cssClass : 'e-xlfl-okbtn'\n                    }\n                },\n                {\n                    click: this.removeDialog.bind(this),\n                    buttonModel: { content: this.getLocalizedLabel('CancelButton'),\n                        cssClass: this.parent.cssClass ? 'e-xlfl-cancelbtn' + ' ' + this.parent.cssClass : 'e-xlfl-cancelbtn' }\n                }],\n            content: mainDiv,\n            width: 430,\n            animationSettings: { effect: 'None' },\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[\"\" + isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dlgDiv.setAttribute('aria-label', this.getLocalizedLabel('CustomFilterDialogARIA'));\n        this.childRefs.unshift(this.dlgObj);\n        this.dlgObj.appendTo(this.dlgDiv);\n    };\n    ExcelFilterBase.prototype.renderResponsiveDialog = function () {\n        if (this.options.isResponsiveFilter) {\n            var rowResponsiveDlg = document.querySelector('.e-row-responsive-filter');\n            if (rowResponsiveDlg) {\n                rowResponsiveDlg.classList.remove('e-row-responsive-filter');\n            }\n            this.dlgObj.buttons = [{}];\n            this.dlgObj.header = undefined;\n            this.dlgObj.position = { X: '', Y: '' };\n            this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            this.dlgObj.width = '100%';\n            this.dlgObj.isModal = false;\n            this.dlgObj.showCloseIcon = false;\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.removeDialog = function () {\n        this.parent.notify(events.customFilterClose, {});\n        if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n            clearReactVueTemplates(this.parent, ['filterTemplate']);\n        }\n        this.removeObjects(this.childRefs);\n        remove(this.dlgDiv);\n        this.parent.notify(events.filterDialogClose, {});\n    };\n    ExcelFilterBase.prototype.createdDialog = function (target, column) {\n        this.renderCustomFilter(target, column);\n        this.dlgObj.element.style.left = '0px';\n        if (!this.options.isResponsiveFilter) {\n            this.dlgObj.element.style.top = '0px';\n        }\n        else {\n            var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n            var height = content.offsetHeight + 4;\n            this.dlgObj.element.style.top = height + 'px';\n        }\n        if (!this.options.isResponsiveFilter && Browser.isDevice && window.innerWidth < 440) {\n            this.dlgObj.element.style.width = '90%';\n        }\n        this.parent.notify(events.beforeCustomFilterOpen, { column: column, dialog: this.dialogObj });\n        this.dlgObj.show();\n        applyBiggerTheme(this.parent.element, this.dlgObj.element.parentElement);\n    };\n    ExcelFilterBase.prototype.renderCustomFilter = function (target, column) {\n        var dlgConetntEle = this.dlgObj.element.querySelector('.e-xlfl-maindiv');\n        var dlgFields = this.parent.createElement('div', { innerHTML: this.getLocalizedLabel('ShowRowsWhere'), className: 'e-xlfl-dlgfields' });\n        dlgConetntEle.appendChild(dlgFields);\n        //column name\n        var fieldSet = this.parent.createElement('div', { innerHTML: this.options.displayName, className: 'e-xlfl-fieldset' });\n        dlgConetntEle.appendChild(fieldSet);\n        this.renderFilterUI(column, dlgConetntEle);\n    };\n    /**\n     * @hidden\n     * @param {string} col - Defines column details\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterBtnClick = function (col) {\n        var isComplex = !isNullOrUndefined(col) && isComplexField(col);\n        var complexFieldName = !isNullOrUndefined(col) && getComplexFieldID(col);\n        var colValue = isComplex ? complexFieldName : col;\n        var fValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstvalue').ej2_instances[0];\n        var fOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstoptr').ej2_instances[0];\n        var sValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndvalue').ej2_instances[0];\n        var sOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndoptr').ej2_instances[0];\n        var checkBoxValue;\n        if (this.options.type === 'string') {\n            var checkBox = this.dlgDiv.querySelector('#' + colValue + '-xlflmtcase').ej2_instances[0];\n            checkBoxValue = checkBox.checked;\n        }\n        var predicateSelector = this.dlgDiv.querySelector('#' + colValue + 'e-xlfl-frstpredicate').ej2_instances[0];\n        var predicate = (predicateSelector.checked ? 'and' : 'or');\n        this.filterByColumn(this.options.field, fOperator.value, fValue.value, predicate, checkBoxValue, this.options.ignoreAccent, sOperator.value, sValue.value);\n        this.removeDialog();\n    };\n    /**\n     * @hidden\n     * Filters grid row by column name with given options.\n     *\n     * @param {string} fieldName - Defines the field name of the filter column.\n     * @param {string} firstOperator - Defines the first operator by how to filter records.\n     * @param {string | number | Date | boolean} firstValue - Defines the first value which is used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query with another by using AND or OR predicate.\n     * @param {boolean} matchCase - If ignore case set to true, then filter records with exact match or else\n     * filter records with case insensitive(uppercase and lowercase letters treated as same).\n     * @param {boolean} ignoreAccent - If ignoreAccent set to true, then ignores the diacritic characters or accents when filtering.\n     * @param {string} secondOperator - Defines the second operator by how to filter records.\n     * @param {string | number | Date | boolean} secondValue - Defines the first value which is used to filter records.\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n        var col = this.parent.getColumnByField ? this.parent.getColumnByField(fieldName) : this.options.column;\n        var field = this.isForeignColumn(col) ? col.foreignKeyValue : fieldName;\n        var fColl = [];\n        var mPredicate;\n        var arg = {\n            instance: this, handler: this.filterByColumn, arg1: fieldName, arg2: firstOperator, arg3: firstValue, arg4: predicate,\n            arg5: matchCase, arg6: ignoreAccent, arg7: secondOperator, arg8: secondValue, cancel: false\n        };\n        this.parent.notify(events.fltrPrevent, arg);\n        if (arg.cancel) {\n            return;\n        }\n        fColl.push({\n            field: field,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: firstOperator,\n            value: arg.arg3,\n            type: this.options.type\n        });\n        mPredicate = new Predicate(field, firstOperator.toLowerCase(), arg.arg3, !matchCase, ignoreAccent);\n        if (!isNullOrUndefined(secondOperator)) {\n            fColl.push({\n                field: field,\n                predicate: predicate,\n                matchCase: matchCase,\n                ignoreAccent: ignoreAccent,\n                operator: secondOperator,\n                value: arg.arg8,\n                type: this.options.type\n            });\n            mPredicate = mPredicate[\"\" + predicate](field, secondOperator.toLowerCase(), secondValue, !matchCase, ignoreAccent);\n        }\n        var args = {\n            action: 'filtering', filterCollection: fColl, field: this.options.field,\n            ejpredicate: mPredicate, actualPredicate: fColl\n        };\n        if (this.isForeignColumn(col)) {\n            this.foreignKeyFilter(args, fColl, mPredicate);\n        }\n        else {\n            this.options.handler(args);\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderOperatorUI = function (column, table, elementID, predicates, isFirst) {\n        var fieldElement = this.parent.createElement('tr', { className: 'e-xlfl-fields', attrs: { role: 'row' } });\n        table.appendChild(fieldElement);\n        var xlfloptr = this.parent.createElement('td', { className: 'e-xlfl-optr' });\n        fieldElement.appendChild(xlfloptr);\n        var optrDiv = this.parent.createElement('div', { className: 'e-xlfl-optrdiv' });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var optrInput = this.parent\n            .createElement('input', { id: isComplex ? complexFieldName + elementID : column + elementID });\n        optrDiv.appendChild(optrInput);\n        xlfloptr.appendChild(optrDiv);\n        var optr = this.options.type + 'Operator';\n        var dropDatasource = this.customFilterOperators[\"\" + optr];\n        this.optrData = dropDatasource;\n        var selectedValue = this.dropSelectedVal(this.options.column, predicates, isFirst);\n        //Trailing three dots are sliced.\n        var menuText = '';\n        if (this.menuItem) {\n            menuText = this.menuItem.text.slice(0, -3);\n            if (menuText !== this.getLocalizedLabel('CustomFilter')) {\n                selectedValue = isFirst ? menuText : undefined;\n            }\n            if (menuText === this.getLocalizedLabel('Between')) {\n                selectedValue = this.getLocalizedLabel(isFirst ? 'GreaterThanOrEqual' : 'LessThanOrEqual');\n            }\n        }\n        var col = this.options.column;\n        var dropOptr = new DropDownList(extend({\n            dataSource: dropDatasource,\n            fields: { text: 'text', value: 'value' },\n            text: selectedValue,\n            enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.cssClass ? this.parent.cssClass : null\n        }, col.filter.params));\n        this.childRefs.unshift(dropOptr);\n        var evt = { 'open': this.dropDownOpen.bind(this), 'change': this.dropDownValueChange.bind(this) };\n        registerEventHandlers(optrInput.id, [literals.open, literals.change], evt, this);\n        dropOptr.addEventListener(literals['open'], this.eventHandlers[optrInput.id][literals.open]);\n        dropOptr.addEventListener(literals.change, this.eventHandlers[optrInput.id][literals.change]);\n        dropOptr.appendTo(optrInput);\n        var operator = this.getSelectedValue(selectedValue);\n        return { fieldElement: fieldElement, operator: operator };\n    };\n    ExcelFilterBase.prototype.removeHandlersFromComponent = function (component) {\n        if (component.element.classList.contains('e-dropdownlist')) {\n            removeEventHandlers(component, [literals.open, literals.change], this);\n        }\n        else if (component.element.classList.contains('e-autocomplete')) {\n            removeEventHandlers(component, [events.actionComplete, literals.focus], this);\n        }\n    };\n    ExcelFilterBase.prototype.dropDownOpen = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n    };\n    ExcelFilterBase.prototype.dropDownValueChange = function (args) {\n        if (args.element.id.includes('-xlfl-frstoptr')) {\n            this.firstOperator = args.value.toString();\n        }\n        else {\n            this.secondOperator = args.value.toString();\n        }\n        var valInput = args.element.closest('.e-xlfl-fields').children[1].querySelector('.e-control');\n        var dropDownList = args.element['ej2_instances'][0];\n        if (dropDownList.value === 'isempty' || dropDownList.value === 'isnotempty' ||\n            dropDownList.value === 'isnull' || dropDownList.value === 'isnotnull') {\n            valInput['ej2_instances'][0]['enabled'] = false;\n        }\n        else if (!isNullOrUndefined(valInput.getAttribute('disabled'))) {\n            valInput['ej2_instances'][0]['enabled'] = true;\n        }\n    };\n    /**\n     * @hidden\n     * @returns {FilterUI} returns filter UI\n     */\n    ExcelFilterBase.prototype.getFilterUIInfo = function () {\n        return { firstOperator: this.firstOperator, secondOperator: this.secondOperator, field: this.options.field };\n    };\n    ExcelFilterBase.prototype.getSelectedValue = function (text) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('text', 'equal', text));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].value : '';\n    };\n    ExcelFilterBase.prototype.dropSelectedVal = function (col, predicates, isFirst) {\n        var operator;\n        if (predicates && predicates.length > 0) {\n            operator = predicates.length === 2 ?\n                (isFirst ? predicates[0].operator : predicates[1].operator) :\n                (isFirst ? predicates[0].operator : undefined);\n        }\n        else if (isFirst && col.type === 'string' && !col.filter.operator) {\n            operator = 'startswith';\n        }\n        else {\n            operator = isFirst ? col.filter.operator || 'equal' : undefined;\n        }\n        return this.getSelectedText(operator);\n    };\n    ExcelFilterBase.prototype.getSelectedText = function (operator) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', operator));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n    };\n    ExcelFilterBase.prototype.renderFilterUI = function (column, dlgConetntEle) {\n        var predicates = this.existingPredicate[\"\" + column];\n        var table = this.parent.createElement('table', { className: 'e-xlfl-table', attrs: { role: 'grid' } });\n        dlgConetntEle.appendChild(table);\n        var colGroup = this.parent.createElement(literals.colGroup);\n        colGroup.innerHTML = '<col style=\"width: 50%\"></col><col style=\"width: 50%\"></col>';\n        table.appendChild(colGroup);\n        //Renders first dropdown\n        var optr = this.renderOperatorUI(column, table, '-xlfl-frstoptr', predicates, true);\n        this.firstOperator = optr.operator;\n        //Renders first value\n        this.renderFlValueUI(column, optr, '-xlfl-frstvalue', predicates, true);\n        var predicate = this.parent.createElement('tr', { className: 'e-xlfl-predicate', attrs: { role: 'row' } });\n        table.appendChild(predicate);\n        //Renders first radion button\n        this.renderRadioButton(column, predicate, predicates);\n        //Renders second dropdown\n        optr = this.renderOperatorUI(column, table, '-xlfl-secndoptr', predicates, false);\n        this.secondOperator = optr.operator;\n        //Renders second text box\n        this.renderFlValueUI(column, optr, '-xlfl-secndvalue', predicates, false);\n    };\n    ExcelFilterBase.prototype.renderRadioButton = function (column, tr, predicates) {\n        var td = this.parent.createElement('td', { className: 'e-xlfl-radio', attrs: { 'colSpan': '2' } });\n        tr.appendChild(td);\n        var radioDiv = this.parent.createElement('div', { className: 'e-xlfl-radiodiv' });\n        radioDiv.style.display = 'inline-block';\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var frstpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-frstpredicate' : column + 'e-xlfl-frstpredicate', attrs: { 'type': 'radio' } });\n        var secndpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-secndpredicate' : column + 'e-xlfl-secndpredicate', attrs: { 'type': 'radio' } });\n        //appends into div\n        radioDiv.appendChild(frstpredicate);\n        radioDiv.appendChild(secndpredicate);\n        td.appendChild(radioDiv);\n        if (this.options.type === 'string') {\n            this.renderMatchCase(column, tr, td, '-xlflmtcase', predicates);\n        }\n        // Initialize AND RadioButton component.\n        var andRadio = new RadioButton({\n            label: this.getLocalizedLabel('AND'),\n            name: 'default', checked: true,\n            enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        this.childRefs.unshift(andRadio);\n        // Initialize OR RadioButton component.\n        var orRadio = new RadioButton({\n            label: this.getLocalizedLabel('OR'),\n            name: 'default',\n            enableRtl: this.parent.enableRtl,\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        this.childRefs.unshift(orRadio);\n        var flValue = predicates && predicates.length === 2 ? predicates[1].predicate : 'and';\n        if (flValue === 'and') {\n            andRadio.checked = true;\n            orRadio.checked = false;\n        }\n        else {\n            orRadio.checked = true;\n            andRadio.checked = false;\n        }\n        // Render initialized RadioButton.\n        andRadio.appendTo(frstpredicate);\n        orRadio.appendTo(secndpredicate);\n        andRadio.element.nextElementSibling.classList.add('e-xlfl-radio-and');\n        orRadio.element.nextElementSibling.classList.add('e-xlfl-radio-or');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExcelFilterBase.prototype.removeObjects = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var obj = elements_1[_i];\n            if (obj && !obj.isDestroyed) {\n                this.removeHandlersFromComponent(obj);\n                obj.destroy();\n            }\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderFlValueUI = function (column, optr, elementId, predicates, isFirst) {\n        var value = this.parent.createElement('td', { className: 'e-xlfl-value' });\n        optr.fieldElement.appendChild(value);\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var valueDiv = this.parent.createElement('div', { className: 'e-xlfl-valuediv' });\n        var isFilteredCol = this.options.filteredColumns.some(function (col) { return column === col.field; });\n        var fltrPredicates = this.options.filteredColumns.filter(function (col) { return col.field === column; });\n        if (this.options.column.filterTemplate) {\n            var data = {};\n            var columnObj = this.options.column;\n            if (isFilteredCol && elementId) {\n                data = this.getExcelFilterData(elementId, data, columnObj, predicates, fltrPredicates);\n            }\n            var isReactCompiler = this.parent.isReact && typeof (this.options.column.filterTemplate) !== 'string' &&\n                !(this.options.column.filterTemplate.prototype && this.options.column.filterTemplate.prototype.CSPTemplate);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var isReactChild = this.parent.parentDetails && this.parent.parentDetails.parentInstObj &&\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.parent.parentDetails.parentInstObj.isReact;\n            var tempID = this.parent.element.id + columnObj.uid + 'filterTemplate';\n            if (isReactCompiler || isReactChild) {\n                this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n            }\n            else {\n                var element = this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, null, this.parent.root);\n                appendChildren(valueDiv, element);\n            }\n            if (isReactCompiler || isReactChild) {\n                this.parent.renderTemplates(function () {\n                    valueDiv.querySelector('input').id = isComplex ? complexFieldName + elementId : column + elementId;\n                    value.appendChild(valueDiv);\n                });\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                (this.parent.isAngular ? valueDiv.children[0] : valueDiv.querySelector('input')).id = isComplex ?\n                    complexFieldName + elementId : column + elementId;\n                value.appendChild(valueDiv);\n            }\n        }\n        else {\n            var valueInput = this.parent\n                .createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId });\n            valueDiv.appendChild(valueInput);\n            value.appendChild(valueDiv);\n            var flValue = void 0;\n            var predicate = void 0;\n            if (predicates && predicates.length > 0) {\n                predicate = predicates.length === 2 ?\n                    (isFirst ? predicates[0] : predicates[1]) :\n                    (isFirst ? predicates[0] : undefined);\n                flValue = (predicate && predicate.operator === optr.operator) ? predicate.value : undefined;\n                if (isNullOrUndefined(flValue)) {\n                    flValue = undefined;\n                }\n            }\n            var types = {\n                'string': this.renderAutoComplete.bind(this),\n                'number': this.renderNumericTextBox.bind(this),\n                'date': this.renderDate.bind(this),\n                'dateonly': this.renderDate.bind(this),\n                'datetime': this.renderDateTime.bind(this)\n            };\n            types[this.options.type](this.options, column, valueInput, flValue, this.parent.enableRtl);\n        }\n    };\n    ExcelFilterBase.prototype.getExcelFilterData = function (elementId, data, columnObj, predicates, fltrPredicates) {\n        var predIndex = elementId === '-xlfl-frstvalue' ? 0 : 1;\n        if (elementId === '-xlfl-frstvalue' || fltrPredicates.length > 1) {\n            data = { column: predicates instanceof Array ? predicates[parseInt(predIndex.toString(), 10)] : predicates };\n            var indx = this.options.column.columnData && fltrPredicates.length > 1 ?\n                (this.options.column.columnData.length === 1 ? 0 : 1) : predIndex;\n            data[this.options.field] = columnObj.foreignKeyValue ?\n                this.options.column.columnData[parseInt(indx.toString(), 10)][columnObj.foreignKeyValue] :\n                fltrPredicates[parseInt(indx.toString(), 10)].value;\n            if (this.options.foreignKeyValue) {\n                data[this.options.foreignKeyValue] = this.options.column\n                    .columnData[parseInt(indx.toString(), 10)][columnObj.foreignKeyValue];\n            }\n        }\n        return data;\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderMatchCase = function (column, tr, matchCase, elementId, predicates) {\n        var matchCaseDiv = this.parent.createElement('div', { className: 'e-xlfl-matchcasediv' });\n        matchCaseDiv.style.display = 'inline-block';\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var matchCaseInput = this.parent.createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId, attrs: { 'type': 'checkbox' } });\n        matchCaseDiv.appendChild(matchCaseInput);\n        matchCase.appendChild(matchCaseDiv);\n        var flValue = predicates && predicates.length > 0 ?\n            (predicates && predicates.length === 2 ? predicates[1].matchCase : predicates[0].matchCase) :\n            false;\n        // Initialize Match Case check box.\n        var checkbox = new CheckBox({\n            label: this.getLocalizedLabel('MatchCase'),\n            enableRtl: this.parent.enableRtl, checked: flValue,\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        this.childRefs.unshift(checkbox);\n        // Render initialized CheckBox.\n        checkbox.appendTo(matchCaseInput);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDate = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type) || options.format;\n        var datePicker = new DatePicker(extend({\n            format: format,\n            cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.unshift(datePicker);\n        datePicker.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDateTime = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type);\n        var dateTimePicker = new DateTimePicker(extend({\n            format: format,\n            cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.unshift(dateTimePicker);\n        dateTimePicker.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.completeAction = function (e) {\n        e.result = distinctStringValues(e.result);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderNumericTextBox = function (options, column, inputValue, fValue, isRtl) {\n        var numericTextBox = new NumericTextBox(extend({\n            format: options.format,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            value: fValue,\n            locale: this.parent.locale,\n            cssClass: this.parent.cssClass ? this.parent.cssClass : null\n        }, options.column.filter.params));\n        this.childRefs.unshift(numericTextBox);\n        numericTextBox.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderAutoComplete = function (options, column, inputValue, fValue, isRtl) {\n        var colObj = this.options.column;\n        var isForeignColumn = this.isForeignColumn(colObj);\n        var dataSource = isForeignColumn ? colObj.dataSource : options.dataSource;\n        var fields = { value: isForeignColumn ? colObj.foreignKeyValue : column };\n        var actObj = new AutoComplete(extend({\n            dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n            fields: fields,\n            query: this.getQuery(),\n            sortOrder: 'Ascending',\n            locale: this.parent.locale,\n            cssClass: this.parent.cssClass ? 'e-popup-flmenu' + ' ' + this.parent.cssClass : 'e-popup-flmenu',\n            autofill: true,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            text: fValue\n        }, colObj.filter.params));\n        if (dataSource && 'result' in dataSource) {\n            var defObj = eventPromise({ requestType: 'stringfilterrequest' }, this.getQuery());\n            this.parent.trigger(events.dataStateChange, defObj.state);\n            var def = defObj.deffered;\n            def.promise.then(function (e) {\n                actObj.dataSource = new DataManager(e);\n            });\n        }\n        this.childRefs.unshift(actObj);\n        var evt = { 'actionComplete': this.acActionComplete(actObj, column), 'focus': this.acFocus(actObj, column, options, inputValue) };\n        registerEventHandlers(inputValue.id, [events.actionComplete, literals.focus], evt, this);\n        actObj.addEventListener(literals.focus, this.eventHandlers[inputValue.id][literals.focus]);\n        actObj.addEventListener(events.actionComplete, this.eventHandlers[inputValue.id][events.actionComplete]);\n        actObj.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.acActionComplete = function (actObj, column) {\n        return function (e) {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            e.result = e.result.filter(function (obj, index, arr) {\n                return arr.map(function (mapObject) {\n                    return isComplex ? performComplexDataOperation(actObj.fields.value, mapObject)\n                        : mapObject[actObj.fields.value];\n                }).indexOf(isComplex ? performComplexDataOperation(actObj.fields.value, obj) :\n                    obj[actObj.fields.value]) === index;\n            });\n        };\n    };\n    ExcelFilterBase.prototype.acFocus = function (actObj, column, options, inputValue) {\n        var _this = this;\n        return function () {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n            var columnvalue = isComplex ? complexFieldName : column;\n            actObj.filterType = _this.dlgDiv.querySelector('#' + columnvalue +\n                (inputValue.id === (columnvalue + '-xlfl-frstvalue') ?\n                    '-xlfl-frstoptr' :\n                    '-xlfl-secndoptr')).ej2_instances[0].value;\n            actObj.ignoreCase = options.type === 'string' ?\n                !_this.dlgDiv.querySelector('#' + columnvalue + '-xlflmtcase').ej2_instances[0].checked :\n                true;\n            actObj.filterType = !isNullOrUndefined(actObj.filterType) ? actObj.filterType :\n                'equal';\n        };\n    };\n    return ExcelFilterBase;\n}(CheckBoxFilterBase));\nexport { ExcelFilterBase };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
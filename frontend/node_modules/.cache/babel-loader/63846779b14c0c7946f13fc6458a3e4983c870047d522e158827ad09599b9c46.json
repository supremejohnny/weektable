{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n  container: null,\n  buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */function (_super) {\n  __extends(ComboBox, _super);\n  /**\n   * *Constructor for creating the component\n   *\n   * @param {ComboBoxModel} options - Specifies the ComboBox model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function ComboBox(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.preRender = function () {\n    _super.prototype.preRender.call(this);\n  };\n  ComboBox.prototype.getLocaleName = function () {\n    return 'combo-box';\n  };\n  ComboBox.prototype.wireEvent = function () {\n    if (this.getModuleName() === 'combobox') {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n      EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n    }\n    EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n    if (!this.readonly) {\n      EventHandler.add(this.inputElement, 'input', this.onInput, this);\n      EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n      EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n      EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n      EventHandler.add(window, 'resize', this.windowResize, this);\n    }\n    this.bindCommonEvent();\n  };\n  ComboBox.prototype.preventBlur = function (e) {\n    if (!this.allowFiltering && document.activeElement !== this.inputElement && !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice) {\n      e.preventDefault();\n    }\n  };\n  ComboBox.prototype.onBlurHandler = function (e) {\n    var inputValue = this.inputElement && this.inputElement.value === '' ? null : this.inputElement && this.inputElement.value;\n    var text = !isNullOrUndefined(this.text) ? this.text.replace(/\\r\\n|\\n|\\r/g, '') : this.text;\n    if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== text) {\n      this.customValue(e);\n    }\n    _super.prototype.onBlurHandler.call(this, e);\n  };\n  ComboBox.prototype.targetElement = function () {\n    return this.inputElement;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.setOldText = function (text) {\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    this.customValue();\n    this.removeSelection();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.setOldValue = function (value) {\n    if (this.allowCustom) {\n      this.selectedLI = this.getElementByValue(this.value);\n      this.valueMuteChange(this.value);\n    } else {\n      this.valueMuteChange(null);\n    }\n    this.removeSelection();\n    this.setHiddenValue();\n  };\n  ComboBox.prototype.valueMuteChange = function (value) {\n    value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue(this.fields.value ? this.fields.value : '', value) : value;\n    var inputValue = isNullOrUndefined(value) ? null : value.toString();\n    Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    var changeData = {};\n    if (this.allowObjectBinding) {\n      value = this.getDataByValue(value);\n      if (isNullOrUndefined(value)) {\n        var fields_1 = this.fields;\n        var isvalidTextField_1 = false;\n        var isValidValue_1 = false;\n        if (this.allowObjectBinding) {\n          var keys = Object.keys(this.value);\n          keys.forEach(function (key) {\n            if (key === fields_1.value) {\n              isValidValue_1 = true;\n              return;\n            }\n          });\n          keys.forEach(function (key) {\n            if (key === fields_1.text) {\n              isvalidTextField_1 = true;\n              return;\n            }\n          });\n        }\n        changeData = {\n          text: isValidValue_1 ? isvalidTextField_1 ? getValue(fields_1.text, this.value) : getValue(fields_1.value, this.value) : null,\n          value: isValidValue_1 ? this.value : null,\n          index: null\n        };\n      }\n    }\n    if (this.allowObjectBinding) {\n      this.setProperties(changeData, true);\n    } else {\n      this.setProperties({\n        value: value,\n        text: value ? value.toString() : value,\n        index: null\n      }, true);\n    }\n    this.activeIndex = this.index;\n    var fields = this.fields;\n    var dataItem = {};\n    dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n    dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n    this.itemData = dataItem;\n    this.item = null;\n    if (!this.allowObjectBinding && this.previousValue !== this.value || this.allowObjectBinding && this.previousValue && this.value && !this.isObjectInArray(this.previousValue, [this.value])) {\n      this.detachChangeEvent(null);\n    }\n  };\n  ComboBox.prototype.updateValues = function () {\n    var _this = this;\n    if (this.fields.disabled) {\n      if (this.value != null) {\n        this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n      }\n      if (this.text != null) {\n        this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n      }\n      if (this.index != null) {\n        this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n        this.activeIndex = this.index;\n      }\n    }\n    if (!isNullOrUndefined(this.value)) {\n      var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n      var li = this.getElementByValue(currentValue);\n      var doesItemExist = !isNullOrUndefined(li) ? true : false;\n      if (this.enableVirtualization && this.value) {\n        var fields = this.fields.value ? this.fields.value : '';\n        var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n        if (this.dataSource instanceof DataManager) {\n          this.dataSource.executeQuery(new Query().where(new Predicate(fields, 'equal', currentValue_1))).then(function (e) {\n            if (e.result.length > 0) {\n              _this.itemData = e.result[0];\n              var dataItem = _this.getItemData();\n              var value = _this.allowObjectBinding ? _this.getDataByValue(dataItem.value) : dataItem.value;\n              if (_this.value === dataItem.value && _this.text !== dataItem.text || _this.value !== dataItem.value && _this.text === dataItem.text) {\n                _this.setProperties({\n                  'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n                  'value': value\n                });\n              }\n            } else {\n              _this.valueMuteChange(null);\n            }\n          });\n        } else {\n          var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n          if (getItem && getItem.length > 0) {\n            this.itemData = getItem[0];\n            doesItemExist = true;\n            var dataItem = this.getItemData();\n            var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n            if (this.value === dataItem.value && this.text !== dataItem.text || this.value !== dataItem.value && this.text === dataItem.text) {\n              this.setProperties({\n                'text': dataItem.text ? dataItem.text.toString() : dataItem.text,\n                'value': value\n              });\n              if (isNullOrUndefined(li)) {\n                this.previousValue = this.value;\n              }\n            }\n          }\n        }\n      }\n      if (li) {\n        this.setSelection(li, null);\n      } else if (!this.enableVirtualization && this.allowCustom || this.allowCustom && this.enableVirtualization && !doesItemExist) {\n        this.valueMuteChange(this.value);\n      } else if (!this.enableVirtualization || this.enableVirtualization && !(this.dataSource instanceof DataManager) && !doesItemExist) {\n        this.valueMuteChange(null);\n      }\n    } else if (this.text && isNullOrUndefined(this.value)) {\n      var li = this.getElementByText(this.text);\n      if (li) {\n        this.setSelection(li, null);\n      } else {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n      }\n    } else {\n      this.setSelection(this.liCollections[this.activeIndex], null);\n    }\n    this.setHiddenValue();\n    Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n  ComboBox.prototype.updateIconState = function () {\n    if (this.showClearButton) {\n      if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n        removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      } else {\n        addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n      }\n    }\n  };\n  ComboBox.prototype.getAriaAttributes = function () {\n    var ariaAttributes = {\n      'role': 'combobox',\n      'aria-autocomplete': 'both',\n      'aria-labelledby': this.hiddenElement.id,\n      'aria-expanded': 'false',\n      'aria-readonly': this.readonly ? this.readonly.toString() : 'false',\n      'autocomplete': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    };\n    return ariaAttributes;\n  };\n  ComboBox.prototype.searchLists = function (e) {\n    this.isTyped = true;\n    if (this.isFiltering()) {\n      _super.prototype.searchLists.call(this, e);\n      if (this.ulElement && this.filterInput.value.trim() === '') {\n        this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n      }\n    } else {\n      if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n        this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n      }\n      this.incrementalSearch(e);\n    }\n  };\n  ComboBox.prototype.getNgDirective = function () {\n    return 'EJS-COMBOBOX';\n  };\n  ComboBox.prototype.setSearchBox = function () {\n    this.filterInput = this.inputElement;\n    var searchBoxContainer = this.isFiltering() || this.isReact && this.getModuleName() === 'combobox' ? this.inputWrapper : inputObject;\n    return searchBoxContainer;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n    var _this = this;\n    _super.prototype.onActionComplete.call(this, ulElement, list, e);\n    if (this.isSelectCustom) {\n      this.removeSelection();\n    }\n    if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n      setTimeout(function () {\n        _this.inlineSearch();\n      });\n    }\n  };\n  ComboBox.prototype.getFocusElement = function () {\n    var dataItem = this.isSelectCustom ? {\n      text: ''\n    } : this.getItemData();\n    var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n    var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n    if (isSelected) {\n      return selected;\n    }\n    if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) && !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n      var inputValue = this.inputElement.value;\n      var dataSource = this.sortedData;\n      var type = this.typeOfData(dataSource).typeof;\n      var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type, this.ignoreAccent);\n      if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n        var updatingincrementalindex = false;\n        var isEndIndexValid = this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount;\n        var isIncrementalEndIndexZero = this.incrementalEndIndex === 0;\n        if (isEndIndexValid || isIncrementalEndIndexZero) {\n          updatingincrementalindex = true;\n          this.incrementalStartIndex = this.incrementalEndIndex;\n          if (isIncrementalEndIndexZero) {\n            this.incrementalEndIndex = Math.min(100, this.totalItemCount);\n          } else {\n            this.incrementalEndIndex = Math.min(this.incrementalEndIndex + 100, this.totalItemCount);\n          }\n          this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n          updatingincrementalindex = true;\n        }\n        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n          this.updateIncrementalView(0, this.itemCount);\n        }\n        activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n        while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n          this.incrementalStartIndex = this.incrementalEndIndex;\n          this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n          this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n          updatingincrementalindex = true;\n          if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n            this.updateIncrementalView(0, this.itemCount);\n          }\n          activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n          if (!isNullOrUndefined(activeItem)) {\n            activeItem.index = activeItem.index + this.incrementalStartIndex;\n            break;\n          }\n          if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n            this.incrementalStartIndex = 0;\n            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n            break;\n          }\n        }\n        var startIndex = activeItem.index - (this.itemCount / 2 - 2) > 0 ? activeItem.index - (this.itemCount / 2 - 2) : 0;\n        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n        if (startIndex !== this.viewPortInfo.startIndex) {\n          this.updateIncrementalView(startIndex, endIndex);\n        }\n        if (!isNullOrUndefined(activeItem.item)) {\n          var startIndex_1 = this.viewPortInfo.startIndex + (this.itemCount / 2 - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + (this.itemCount / 2 - 2) : this.totalItemCount;\n          var endIndex_1 = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n          this.updateIncrementalView(startIndex_1, endIndex_1);\n          activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n        } else {\n          this.updateIncrementalView(0, this.itemCount);\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n          this.list.scrollTop = 0;\n        }\n        if (activeItem && activeItem.item) {\n          activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n        }\n      }\n      var activeElement = activeItem.item;\n      var dataItem_1 = this.getItemData();\n      if (!isNullOrUndefined(activeElement) && !this.enableVirtualization || this.enableVirtualization && this.isTyped && isNullOrUndefined(dataItem_1) && isNullOrUndefined(dataItem_1.value) && dataItem_1.value.toString() === activeElement.getAttribute('data-value').toString()) {\n        var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n        var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n        if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n          this.removeFocus();\n          var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n          if (!this.enableVirtualization) {\n            this.list.scrollTop = count * height + fixedHead;\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var virtualContent = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n            virtualContent.style = this.getTransformValues();\n            if (this.enableVirtualization && !this.fields.groupBy) {\n              var selectedLiOffsetTop = activeElement.offsetTop;\n              var virtualListInfoStartIndex = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex : 0;\n              var virtualListHeight = activeElement.offsetHeight;\n              var selectedLiOffsetTopWithStartIndex = selectedLiOffsetTop + virtualListInfoStartIndex * virtualListHeight;\n              var virtualListLength = this.list.querySelectorAll('.e-virtual-list').length;\n              var scrollTopOffset = virtualListLength * virtualListHeight;\n              this.list.scrollTop = selectedLiOffsetTopWithStartIndex - scrollTopOffset;\n            }\n          }\n          addClass([activeElement], dropDownListClasses.focus);\n        }\n      } else {\n        if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n          this.removeFocus();\n          if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n          }\n        }\n      }\n      return activeElement;\n    } else {\n      return null;\n    }\n  };\n  ComboBox.prototype.setValue = function (e) {\n    if (e && e.type === 'keydown' && e.action === 'enter' || e && e.type === 'click') {\n      this.removeFillSelection();\n    }\n    if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n      this.preventAutoFill = false;\n      this.inlineSearch(e);\n      return false;\n    } else {\n      return _super.prototype.setValue.call(this, e);\n    }\n  };\n  ComboBox.prototype.checkCustomValue = function () {\n    var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n    this.itemData = this.getDataByValue(value);\n    var dataItem = this.getItemData();\n    var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n    if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n      this.setProperties({\n        'value': setValue\n      }, !this.allowCustom);\n    }\n  };\n  /**\n   * Shows the spinner loader.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.showSpinner = function () {\n    if (isNullOrUndefined(this.spinnerElement)) {\n      this.spinnerElement = this.getModuleName() === 'autocomplete' ? this.inputWrapper.buttons[0] || this.inputWrapper.clearButton || Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement) : this.inputWrapper.buttons[0] || this.inputWrapper.clearButton;\n      addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      createSpinner({\n        target: this.spinnerElement,\n        width: Browser.isDevice ? '16px' : '14px'\n      }, this.createElement);\n      showSpinner(this.spinnerElement);\n    }\n  };\n  /**\n   * Hides the spinner loader.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.hideSpinner = function () {\n    if (!isNullOrUndefined(this.spinnerElement)) {\n      hideSpinner(this.spinnerElement);\n      removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n      if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n        detach(this.spinnerElement);\n      } else {\n        this.spinnerElement.innerHTML = '';\n      }\n      this.spinnerElement = null;\n    }\n  };\n  ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n    if (!isHover) {\n      this.setHoverList(activeElement);\n    }\n    if (this.autofill && !this.preventAutoFill) {\n      var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n      var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n      if (this.getModuleName() === 'combobox') {\n        if (!this.isSelected && !this.allowObjectBinding && this.previousValue !== currentFillValue || this.allowObjectBinding && this.previousValue && currentFillValue && !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)])) {\n          this.updateSelectedItem(activeElement, null);\n          this.isSelected = true;\n          this.previousValue = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) : this.getFormattedValue(activeElement.getAttribute('data-value'));\n        } else {\n          this.updateSelectedItem(activeElement, null, true);\n        }\n      }\n      if (!this.isAndroidAutoFill(currentValue)) {\n        this.setAutoFillSelection(currentValue, isHover);\n      }\n    }\n  };\n  ComboBox.prototype.isAndroidAutoFill = function (value) {\n    if (Browser.isAndroid) {\n      var currentPoints = this.getSelectionPoints();\n      var prevEnd = this.prevSelectPoints.end;\n      var curEnd = currentPoints.end;\n      var prevStart = this.prevSelectPoints.start;\n      var curStart = currentPoints.start;\n      if (prevEnd !== 0 && (prevEnd === value.length && prevStart === value.length || prevStart > curStart && prevEnd > curEnd || prevEnd === curEnd && prevStart === curStart)) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n  ComboBox.prototype.clearAll = function (e, property) {\n    if (isNullOrUndefined(property) || !isNullOrUndefined(property) && isNullOrUndefined(property.dataSource)) {\n      _super.prototype.clearAll.call(this, e);\n    }\n    if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n      this.typedString = this.filterInput.value;\n      this.searchLists(e);\n    }\n  };\n  ComboBox.prototype.isSelectFocusItem = function (element) {\n    return !isNullOrUndefined(element);\n  };\n  ComboBox.prototype.inlineSearch = function (e) {\n    var isKeyNavigate = e && (e.action === 'down' || e.action === 'up' || e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n    var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n    if (!isNullOrUndefined(activeElement)) {\n      if (!isKeyNavigate) {\n        var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n        this.activeIndex = this.getIndexByValue(value);\n        this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n      }\n      this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n      this.setAutoFill(activeElement, isKeyNavigate);\n    } else if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n      this.activeIndex = null;\n      if (!isNullOrUndefined(this.list)) {\n        if (!this.enableVirtualization) {\n          this.list.scrollTop = 0;\n        }\n        var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n        this.setHoverList(focusItem);\n      }\n    } else {\n      this.activeIndex = null;\n      this.removeSelection();\n      if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n        this.removeFocus();\n      }\n    }\n  };\n  ComboBox.prototype.incrementalSearch = function (e) {\n    this.showPopup(e);\n    if (!isNullOrUndefined(this.listData)) {\n      this.inlineSearch(e);\n      e.preventDefault();\n    }\n  };\n  ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n    if (isKeyNavigate === void 0) {\n      isKeyNavigate = false;\n    }\n    var selection = this.getSelectionPoints();\n    var value = this.inputElement.value.substr(0, selection.start);\n    if (value && value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase()) {\n      var inputValue = value + currentValue.substr(value.length, currentValue.length);\n      Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n    } else if (isKeyNavigate) {\n      Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n    }\n  };\n  ComboBox.prototype.getValueByText = function (text) {\n    return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n  };\n  ComboBox.prototype.unWireEvent = function () {\n    if (this.getModuleName() === 'combobox') {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n      EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n    }\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n    }\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n      if (!this.readonly) {\n        EventHandler.remove(this.inputElement, 'input', this.onInput);\n        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n        EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n      }\n    }\n    this.unBindCommonEvent();\n  };\n  ComboBox.prototype.setSelection = function (li, e) {\n    _super.prototype.setSelection.call(this, li, e);\n    if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n      this.removeFocus();\n    }\n  };\n  ComboBox.prototype.selectCurrentItem = function (e) {\n    var li;\n    if (this.isPopupOpen) {\n      if (this.isSelected) {\n        li = this.list.querySelector('.' + dropDownListClasses.selected);\n      } else {\n        li = this.list.querySelector('.' + dropDownListClasses.focus);\n      }\n      if (this.isDisabledElement(li)) {\n        return;\n      }\n      if (li) {\n        this.setSelection(li, e);\n        this.isTyped = false;\n      }\n      if (this.isSelected) {\n        this.isSelectCustom = false;\n        this.onChangeEvent(e);\n      }\n    }\n    if (e.action === 'enter' && this.inputElement.value === '') {\n      this.clearAll(e);\n    } else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n      this.customValue(e);\n    }\n    this.hidePopup(e);\n  };\n  ComboBox.prototype.setHoverList = function (li) {\n    this.removeSelection();\n    if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n      this.removeFocus();\n      li.classList.add(dropDownListClasses.focus);\n    }\n  };\n  ComboBox.prototype.targetFocus = function (e) {\n    if (Browser.isDevice && !this.allowFiltering) {\n      this.preventFocus = false;\n    }\n    this.onFocus(e);\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n  };\n  ComboBox.prototype.dropDownClick = function (e) {\n    e.preventDefault();\n    if (Browser.isDevice && !this.isFiltering()) {\n      this.preventFocus = true;\n    }\n    _super.prototype.dropDownClick.call(this, e);\n  };\n  ComboBox.prototype.customValue = function (e) {\n    var _this = this;\n    var value = this.getValueByText(this.inputElement.value);\n    if (!this.allowCustom && this.inputElement.value !== '') {\n      var previousValue = this.previousValue;\n      var currentValue = this.value;\n      value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n      this.setProperties({\n        value: value\n      });\n      if (isNullOrUndefined(this.value)) {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n      if (this.autofill && (!this.allowObjectBinding && previousValue === this.value || this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value])) && (!this.allowObjectBinding && currentValue !== this.value || this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value]))) {\n        this.onChangeEvent(null);\n      }\n    } else if (this.inputElement.value !== '') {\n      var previousValue_1 = this.value;\n      if (isNullOrUndefined(value)) {\n        var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n        // eslint-disable-next-line max-len\n        var eventArgs = {\n          text: value_1,\n          item: {}\n        };\n        this.isObjectCustomValue = true;\n        if (!this.initial) {\n          this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n            _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n          });\n        } else {\n          this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n        }\n      } else {\n        this.isSelectCustom = false;\n        value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n        this.setProperties({\n          value: value\n        });\n        if (!this.allowObjectBinding && previousValue_1 !== this.value || this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value])) {\n          this.onChangeEvent(e);\n        }\n      }\n    } else if (this.allowCustom && this.isFocused) {\n      this.isSelectCustom = true;\n    }\n  };\n  ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n    var _this = this;\n    var fields = this.fields;\n    var item = eventArgs.item;\n    var dataItem = {};\n    if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n      dataItem = item;\n    } else {\n      setValue(fields.text, value, dataItem);\n      setValue(fields.value, value, dataItem);\n    }\n    this.itemData = dataItem;\n    var emptyObject = {};\n    if (this.allowObjectBinding) {\n      var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n      if (!(this.listData && this.listData.length > 0) && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox' && this.allowFiltering)) {\n        keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n      }\n      // Create an empty object with predefined keys\n      keys.forEach(function (key) {\n        emptyObject[key] = key === fields.value || key === fields.text ? getValue(fields.value, _this.itemData) : null;\n      });\n    }\n    var changeData = {\n      text: getValue(fields.text, this.itemData),\n      value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n      index: null\n    };\n    this.setProperties(changeData, true);\n    this.setSelection(null, null);\n    this.isSelectCustom = true;\n    this.isObjectCustomValue = false;\n    if (!this.allowObjectBinding && previousValue !== this.value || this.allowObjectBinding && (previousValue == null && this.value !== null || previousValue && !this.isObjectInArray(previousValue, [this.value]))) {\n      this.onChangeEvent(e, true);\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n   * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (this.getModuleName() === 'combobox') {\n      this.checkData(newProp);\n      this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          if (this.readonly) {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n            EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n          } else {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n          }\n          this.setReadOnly();\n          break;\n        case 'allowFiltering':\n          this.setSearchBox();\n          if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n          }\n          break;\n        case 'allowCustom':\n          break;\n        default:\n          {\n            // eslint-disable-next-line max-len\n            var comboProps = this.getPropObject(prop, newProp, oldProp);\n            _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n            if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate && this.getModuleName() === 'combobox') {\n              _super.prototype.renderList.call(this);\n            }\n            break;\n          }\n      }\n    }\n  };\n  /**\n   * To initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n  ComboBox.prototype.render = function () {\n    _super.prototype.render.call(this);\n    this.setSearchBox();\n    this.renderComplete();\n    this.autoFill = this.autofill;\n  };\n  /**\n   * Return the module name of this component.\n   *\n   * @private\n   * @returns {string} Return the module name of this component.\n   */\n  ComboBox.prototype.getModuleName = function () {\n    return 'combobox';\n  };\n  /**\n   * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n   * but you can insert based on the index parameter.\n   *\n   * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n   * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n   * @returns {void}\n    */\n  ComboBox.prototype.addItem = function (items, itemIndex) {\n    _super.prototype.addItem.call(this, items, itemIndex);\n  };\n  /**\n   * To filter the data from given data source by using query\n   *\n   * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n   * @param {Query} query - Specify the query to filter the data.\n   * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n   * @returns {void}\n    */\n  ComboBox.prototype.filter = function (dataSource, query, fields) {\n    _super.prototype.filter.call(this, dataSource, query, fields);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Opens the popup that displays the list of items.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.showPopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    _super.prototype.showPopup.call(this, e);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Hides the popup if it is in open state.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.hidePopup = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    var inputValue = this.inputElement && this.inputElement.value === '' ? null : this.inputElement && this.inputElement.value;\n    if (!isNullOrUndefined(this.listData)) {\n      var isEscape = this.isEscapeKey;\n      if (this.isEscapeKey) {\n        Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.isEscapeKey = false;\n      }\n      if (this.autofill) {\n        this.removeFillSelection();\n      }\n      var dataItem = this.isSelectCustom ? {\n        text: ''\n      } : this.getItemData();\n      var text = !isNullOrUndefined(dataItem.text) ? dataItem.text.replace(/\\r\\n|\\n|\\r/g, '') : dataItem.text;\n      var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n      if (this.inputElement && text === this.inputElement.value && !isNullOrUndefined(selected)) {\n        if (this.isSelected) {\n          this.onChangeEvent(e);\n          this.isSelectCustom = false;\n        }\n        _super.prototype.hidePopup.call(this, e);\n        return;\n      }\n      if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n        var dataSource = this.sortedData;\n        var type = this.typeOfData(dataSource).typeof;\n        var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n        this.selectedLI = searchItem.item;\n        if (isNullOrUndefined(searchItem.index)) {\n          searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n        }\n        this.activeIndex = searchItem.index;\n        if (!isNullOrUndefined(this.selectedLI)) {\n          this.updateSelectedItem(this.selectedLI, null, true);\n        } else if (isEscape) {\n          this.isSelectCustom = true;\n          this.removeSelection();\n        }\n      }\n      if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n        this.customValue(e);\n      }\n    }\n    var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(this.fields.value ? this.fields.value : '', this.value) : this.value;\n    if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n      this.customValue();\n    }\n    _super.prototype.hidePopup.call(this, e);\n  };\n  /**\n   * Sets the focus to the component for interaction.\n   *\n   * @returns {void}\n   */\n  ComboBox.prototype.focusIn = function () {\n    if (!this.enabled) {\n      return;\n    }\n    if (Browser.isDevice && !this.isFiltering()) {\n      this.preventFocus = true;\n    }\n    _super.prototype.focusIn.call(this);\n  };\n  /**\n   * Allows you to clear the selected values from the component.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.clear = function () {\n    this.value = null;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n  /**\n   * Moves the focus from the component if the component is already focused.\n   *\n   * @returns {void}\n    */\n  ComboBox.prototype.focusOut = function (e) {\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    _super.prototype.focusOut.call(this, e);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets all the list items bound on this component.\n   *\n   * @returns {Element[]}\n    */\n  ComboBox.prototype.getItems = function () {\n    return _super.prototype.getItems.call(this);\n  };\n  /**\n   * Gets the data Object that matches the given value.\n   *\n   * @param { string | number } value - Specifies the value of the list item.\n   * @returns {Object}\n    */\n  ComboBox.prototype.getDataByValue = function (value) {\n    return _super.prototype.getDataByValue.call(this, value);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  ComboBox.prototype.renderHightSearch = function () {\n    // update high light search\n  };\n  __decorate([Property(false)], ComboBox.prototype, \"autofill\", void 0);\n  __decorate([Property(true)], ComboBox.prototype, \"allowCustom\", void 0);\n  __decorate([Property({})], ComboBox.prototype, \"htmlAttributes\", void 0);\n  __decorate([Property(false)], ComboBox.prototype, \"allowFiltering\", void 0);\n  __decorate([Property(true)], ComboBox.prototype, \"isDeviceFullScreen\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"query\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"index\", void 0);\n  __decorate([Property(true)], ComboBox.prototype, \"showClearButton\", void 0);\n  __decorate([Event()], ComboBox.prototype, \"customValueSpecifier\", void 0);\n  __decorate([Event()], ComboBox.prototype, \"filtering\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"valueTemplate\", void 0);\n  __decorate([Property('Never')], ComboBox.prototype, \"floatLabelType\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"cssClass\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"headerTemplate\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"footerTemplate\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"placeholder\", void 0);\n  __decorate([Property('100%')], ComboBox.prototype, \"width\", void 0);\n  __decorate([Property('300px')], ComboBox.prototype, \"popupHeight\", void 0);\n  __decorate([Property('100%')], ComboBox.prototype, \"popupWidth\", void 0);\n  __decorate([Property(false)], ComboBox.prototype, \"readonly\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"text\", void 0);\n  __decorate([Property(null)], ComboBox.prototype, \"value\", void 0);\n  __decorate([Property(false)], ComboBox.prototype, \"allowObjectBinding\", void 0);\n  ComboBox = __decorate([NotifyPropertyChanges], ComboBox);\n  return ComboBox;\n}(DropDownList);\nexport { ComboBox };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Property","Event","addClass","Browser","removeClass","detach","isNullOrUndefined","NotifyPropertyChanges","getValue","setValue","DropDownList","dropDownListClasses","Search","createSpinner","showSpinner","hideSpinner","Input","DataManager","Predicate","Query","SPINNER_CLASS","root","inputObject","container","buttons","ComboBox","_super","options","element","call","preRender","getLocaleName","wireEvent","getModuleName","add","inputWrapper","preventBlur","onBlurHandler","dropDownClick","inputElement","targetFocus","readonly","onInput","onFilterUp","onFilterDown","pasteHandler","window","windowResize","bindCommonEvent","e","allowFiltering","document","activeElement","classList","contains","input","isDevice","preventDefault","inputValue","value","text","replace","listData","customValue","targetElement","setOldText","floatLabelType","showClearButton","removeSelection","setOldValue","allowCustom","selectedLI","getElementByValue","valueMuteChange","setHiddenValue","allowObjectBinding","fields","toString","changeData","getDataByValue","fields_1","isvalidTextField_1","isValidValue_1","keys","forEach","index","setProperties","activeIndex","dataItem","itemData","item","previousValue","isObjectInArray","detachChangeEvent","updateValues","_this","disabled","isDisableItemValue","isDisabledItemByIndex","getIndexByValue","getValueByText","currentValue","li","doesItemExist","enableVirtualization","currentValue_1","dataSource","executeQuery","where","then","result","getItemData","getItem","executeLocal","setSelection","getElementByText","liCollections","updateIconState","clearButton","clearIconHide","getAriaAttributes","ariaAttributes","hiddenElement","id","searchLists","isTyped","isFiltering","ulElement","filterInput","trim","setHoverList","querySelector","preventAutoFill","incrementalSearch","getNgDirective","setSearchBox","searchBoxContainer","isReact","onActionComplete","list","isUpdated","isSelectCustom","setTimeout","inlineSearch","getFocusElement","selected","isSelected","isDropDownClick","sortedData","type","typeOfData","typeof","activeItem","filterType","ignoreAccent","updatingincrementalindex","isEndIndexValid","viewPortInfo","endIndex","incrementalEndIndex","totalItemCount","isIncrementalEndIndexZero","incrementalStartIndex","Math","min","updateIncrementalInfo","startIndex","updateIncrementalView","itemCount","incrementalLiCollections","startIndex_1","endIndex_1","getAttribute","getElementsByClassName","style","getTransformValues","scrollTop","dataItem_1","count","height","parseInt","getComputedStyle","getPropertyValue","isNaN","removeFocus","fixedHead","groupBy","offsetHeight","virtualContent","selectedLiOffsetTop","offsetTop","virtualListInfoStartIndex","virtualListInfo","virtualListHeight","selectedLiOffsetTopWithStartIndex","virtualListLength","querySelectorAll","scrollTopOffset","focus","action","removeFillSelection","autofill","checkCustomValue","spinnerElement","appendSpan","createElement","disableIcon","width","innerHTML","setAutoFill","isHover","getTextByValue","currentFillValue","getFormattedValue","updateSelectedItem","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","getSelectionPoints","prevEnd","prevSelectPoints","end","curEnd","prevStart","start","curStart","clearAll","property","typedString","isSelectFocusItem","isKeyNavigate","focusItem","isCustomFilter","showPopup","selection","substr","toLowerCase","setSelectionRange","unWireEvent","remove","unBindCommonEvent","selectCurrentItem","isPopupOpen","isDisabledElement","onChangeEvent","hidePopup","isValidLI","preventFocus","onFocus","calculateWidth","previousValue_1","value_1","eventArgs","isObjectCustomValue","initial","trigger","updateCustomValueCallback","isFocused","emptyObject","firstItem","onPropertyChanged","newProp","oldProp","checkData","setUpdateInitial","_i","_a","prop","setReadonly","setReadOnly","renderList","comboProps","getPropObject","newProperty","oldProperty","itemTemplate","render","renderComplete","autoFill","addItem","items","itemIndex","filter","query","isEscape","isEscapeKey","searchItem","isInteracted","focusIn","enabled","clear","focusOut","getItems","renderHightSearch"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-dropdowns/src/combo-box/combo-box.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        var text = !isNullOrUndefined(this.text) ? this.text.replace(/\\r\\n|\\n|\\r/g, '') : this.text;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.selectedLI = this.getElementByValue(this.value);\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        var changeData = {};\n        if (this.allowObjectBinding) {\n            value = this.getDataByValue(value);\n            if (isNullOrUndefined(value)) {\n                var fields_1 = this.fields;\n                var isvalidTextField_1 = false;\n                var isValidValue_1 = false;\n                if (this.allowObjectBinding) {\n                    var keys = Object.keys(this.value);\n                    keys.forEach(function (key) {\n                        if (key === fields_1.value) {\n                            isValidValue_1 = true;\n                            return;\n                        }\n                    });\n                    keys.forEach(function (key) {\n                        if (key === fields_1.text) {\n                            isvalidTextField_1 = true;\n                            return;\n                        }\n                    });\n                }\n                changeData = {\n                    text: isValidValue_1 ? isvalidTextField_1 ? getValue(fields_1.text, this.value) : getValue(fields_1.value, this.value) : null,\n                    value: isValidValue_1 ? this.value : null,\n                    index: null\n                };\n            }\n        }\n        if (this.allowObjectBinding) {\n            this.setProperties(changeData, true);\n        }\n        else {\n            this.setProperties({ value: value, text: value ? value.toString() : value, index: null }, true);\n        }\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if ((!this.allowObjectBinding && (this.previousValue !== this.value)) ||\n            (this.allowObjectBinding && this.previousValue && this.value &&\n                !this.isObjectInArray(this.previousValue, [this.value]))) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        var _this = this;\n        if (this.fields.disabled) {\n            if (this.value != null) {\n                this.value = !this.isDisableItemValue(this.value) ? this.value : null;\n            }\n            if (this.text != null) {\n                this.text = !this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text))) ? this.text : null;\n            }\n            if (this.index != null) {\n                this.index = !this.isDisabledItemByIndex(this.index) ? this.index : null;\n                this.activeIndex = this.index;\n            }\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var li = this.getElementByValue(currentValue);\n            var doesItemExist = !isNullOrUndefined(li) ? true : false;\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    this.dataSource.executeQuery(new Query().where(new Predicate(fields, 'equal', currentValue_1)))\n                        .then(function (e) {\n                        if (e.result.length > 0) {\n                            _this.itemData = e.result[0];\n                            var dataItem = _this.getItemData();\n                            var value = _this.allowObjectBinding ?\n                                _this.getDataByValue(dataItem.value) : dataItem.value;\n                            if ((_this.value === dataItem.value && _this.text !== dataItem.text) ||\n                                (_this.value !== dataItem.value && _this.text === dataItem.text)) {\n                                _this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                            }\n                        }\n                        else {\n                            _this.valueMuteChange(null);\n                        }\n                    });\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding\n                            ? this.getDataByValue(dataItem.value)\n                            : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text)\n                            || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text ? dataItem.text.toString() : dataItem.text, 'value': value });\n                            if (isNullOrUndefined(li)) {\n                                this.previousValue = this.value;\n                            }\n                        }\n                    }\n                }\n            }\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if ((!this.enableVirtualization && this.allowCustom) ||\n                (this.allowCustom && this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(this.value);\n            }\n            else if (!this.enableVirtualization || (this.enableVirtualization && !(this.dataSource instanceof DataManager)\n                && !doesItemExist)) {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly ? this.readonly.toString() : 'false',\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type, this.ignoreAccent);\n            if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n                var updatingincrementalindex = false;\n                var isEndIndexValid = this.viewPortInfo.endIndex >= this.incrementalEndIndex &&\n                    this.incrementalEndIndex <= this.totalItemCount;\n                var isIncrementalEndIndexZero = this.incrementalEndIndex === 0;\n                if (isEndIndexValid || isIncrementalEndIndexZero) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (isIncrementalEndIndexZero) {\n                        this.incrementalEndIndex = Math.min(100, this.totalItemCount);\n                    }\n                    else {\n                        this.incrementalEndIndex = Math.min(this.incrementalEndIndex + 100, this.totalItemCount);\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount\n                        ? this.totalItemCount\n                        : this.incrementalEndIndex + 100;\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                    if (!isNullOrUndefined(activeItem)) {\n                        activeItem.index = activeItem.index + this.incrementalStartIndex;\n                        break;\n                    }\n                    if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        break;\n                    }\n                }\n                var startIndex = activeItem.index - ((this.itemCount / 2) - 2) > 0\n                    ? activeItem.index - ((this.itemCount / 2) - 2)\n                    : 0;\n                var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount\n                    ? this.totalItemCount\n                    : this.viewPortInfo.startIndex + this.itemCount;\n                if (startIndex !== this.viewPortInfo.startIndex) {\n                    this.updateIncrementalView(startIndex, endIndex);\n                }\n                if (!isNullOrUndefined(activeItem.item)) {\n                    var startIndex_1 = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount\n                        ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2)\n                        : this.totalItemCount;\n                    var endIndex_1 = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount\n                        ? this.totalItemCount\n                        : this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateIncrementalView(startIndex_1, endIndex_1);\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n                if (activeItem && activeItem.item) {\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n            }\n            var activeElement = activeItem.item;\n            var dataItem_1 = this.getItemData();\n            if ((!isNullOrUndefined(activeElement) && !this.enableVirtualization) || (this.enableVirtualization &&\n                this.isTyped && isNullOrUndefined(dataItem_1) && isNullOrUndefined(dataItem_1.value) &&\n                dataItem_1.value.toString() === activeElement.getAttribute('data-value').toString())) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var virtualContent = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n                        virtualContent.style = this.getTransformValues();\n                        if (this.enableVirtualization && !this.fields.groupBy) {\n                            var selectedLiOffsetTop = activeElement.offsetTop;\n                            var virtualListInfoStartIndex = this.virtualListInfo && this.virtualListInfo.startIndex\n                                ? this.virtualListInfo.startIndex\n                                : 0;\n                            var virtualListHeight = activeElement.offsetHeight;\n                            var selectedLiOffsetTopWithStartIndex = selectedLiOffsetTop +\n                                (virtualListInfoStartIndex * virtualListHeight);\n                            var virtualListLength = this.list.querySelectorAll('.e-virtual-list').length;\n                            var scrollTopOffset = virtualListLength * virtualListHeight;\n                            this.list.scrollTop = selectedLiOffsetTopWithStartIndex - scrollTopOffset;\n                        }\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if ((e && e.type === 'keydown' && e.action === 'enter') || (e && e.type === 'click')) {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(value);\n        var dataItem = this.getItemData();\n        var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': setValue }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && ((!this.allowObjectBinding && this.previousValue !== currentFillValue)) ||\n                    (this.allowObjectBinding && this.previousValue && currentFillValue &&\n                        !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)]))) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.allowObjectBinding ?\n                        this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) :\n                        this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.typedString = this.filterInput.value;\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (this.isDisabledElement(li)) {\n                return;\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && ((!this.allowObjectBinding && previousValue === this.value) ||\n                (this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value]))) && ((!this.allowObjectBinding && currentValue !== this.value) ||\n                (this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value])))) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                this.isObjectCustomValue = true;\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                this.setProperties({ value: value });\n                if ((!this.allowObjectBinding && previousValue_1 !== this.value) ||\n                    (this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value]))) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom && this.isFocused) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var _this = this;\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var emptyObject = {};\n        if (this.allowObjectBinding) {\n            var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n            if ((!(this.listData && this.listData.length > 0)) && (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'combobox' && this.allowFiltering))) {\n                keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n            }\n            // Create an empty object with predefined keys\n            keys.forEach(function (key) {\n                emptyObject[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, _this.itemData) : null;\n            });\n        }\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        this.isObjectCustomValue = false;\n        if ((!this.allowObjectBinding && (previousValue !== this.value)) ||\n            (this.allowObjectBinding && ((previousValue == null && this.value !== null) ||\n                (previousValue && !this.isObjectInArray(previousValue, [this.value]))))) {\n            this.onChangeEvent(e, true);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        this.renderComplete();\n        this.autoFill = this.autofill;\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var text = !isNullOrUndefined(dataItem.text) ? dataItem.text.replace(/\\r\\n|\\n|\\r/g, '') : dataItem.text;\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"isDeviceFullScreen\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowObjectBinding\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
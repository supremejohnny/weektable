{"ast":null,"code":"import { Dialog } from '@syncfusion/ej2-popups';\nimport { EventHandler, isNullOrUndefined, remove, Browser } from '@syncfusion/ej2-base';\nimport { parentsUntil, addBiggerDialog, addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ResponsiveDialogAction } from '../base/enum';\n/**\n *\n * The `ResponsiveDialogRenderer` module is used to render the responsive dialogs.\n */\nvar ResponsiveDialogRenderer = /** @class */function () {\n  function ResponsiveDialogRenderer(parent, serviceLocator) {\n    this.sortedCols = [];\n    this.sortPredicate = [];\n    /** @hidden */\n    this.isCustomDialog = false;\n    this.parent = parent;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  ResponsiveDialogRenderer.prototype.addEventListener = function () {\n    this.evtHandlers = [{\n      event: events.filterDialogClose,\n      handler: this.closeCustomDialog\n    }, {\n      event: events.refreshCustomFilterOkBtn,\n      handler: this.refreshCustomFilterOkBtn\n    }, {\n      event: events.renderResponsiveCmenu,\n      handler: this.renderResponsiveContextMenu\n    }, {\n      event: events.filterCmenuSelect,\n      handler: this.renderCustomFilterDiv\n    }, {\n      event: events.customFilterClose,\n      handler: this.customExFilterClose\n    }, {\n      event: events.refreshCustomFilterClearBtn,\n      handler: this.refreshCustomFilterClearBtn\n    }];\n    addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    this.onActionCompleteFn = this.editComplate.bind(this);\n    this.parent.addEventListener(events.actionComplete, this.onActionCompleteFn);\n  };\n  ResponsiveDialogRenderer.prototype.customExFilterClose = function () {\n    this.isCustomDlgRender = false;\n  };\n  ResponsiveDialogRenderer.prototype.renderCustomFilterDiv = function () {\n    var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n    var title = header.querySelector('.e-dlg-custom-header');\n    var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n    this.isCustomDlgRender = true;\n    this.parent.filterModule.filterModule.closeDialog();\n    this.saveBtn.element.style.display = '';\n    this.refreshCustomFilterOkBtn({\n      disabled: false\n    });\n    this.backBtn.element.style.display = 'none';\n    closeBtn.style.display = '';\n    title.innerHTML = this.parent.localeObj.getConstant('CustomFilter');\n    var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n    this.customExcelFilterParent = this.parent.createElement('div', {\n      className: 'e-xl-customfilterdiv e-default-filter'\n    });\n    content.appendChild(this.customExcelFilterParent);\n  };\n  ResponsiveDialogRenderer.prototype.renderResponsiveContextMenu = function (args) {\n    if (this.action === ResponsiveDialogAction.isFilter) {\n      var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n      var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n      var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n      var text = header.querySelector('.e-dlg-custom-header');\n      if (args.isOpen) {\n        content.firstChild.style.display = 'none';\n        content.appendChild(args.target);\n        closeBtn.style.display = 'none';\n        this.saveBtn.element.style.display = 'none';\n        this.filterClearBtn.element.style.display = 'none';\n        text.innerHTML = args.header;\n        var backBtn = this.parent.createElement('button');\n        var span = this.parent.createElement('span', {\n          className: 'e-btn-icon e-resfilterback e-icons'\n        });\n        backBtn.appendChild(span);\n        this.backBtn = new Button({\n          cssClass: this.parent.cssClass ? 'e-res-back-btn' + ' ' + this.parent.cssClass : 'e-res-back-btn'\n        });\n        this.backBtn.appendTo(backBtn);\n        text.parentElement.insertBefore(backBtn, text);\n      } else if (this.backBtn && !this.isCustomDlgRender) {\n        content.firstChild.style.display = '';\n        remove(this.backBtn.element);\n        closeBtn.style.display = '';\n        this.saveBtn.element.style.display = '';\n        if (this.isFiltered) {\n          this.filterClearBtn.element.style.display = '';\n        }\n        text.innerHTML = this.getHeaderTitle({\n          action: ResponsiveDialogAction.isFilter\n        }, args.col);\n      }\n    }\n  };\n  ResponsiveDialogRenderer.prototype.refreshCustomFilterClearBtn = function (args) {\n    if (this.filterClearBtn) {\n      this.isFiltered = args.isFiltered;\n      this.filterClearBtn.element.style.display = args.isFiltered ? '' : 'none';\n    }\n  };\n  ResponsiveDialogRenderer.prototype.refreshCustomFilterOkBtn = function (args) {\n    if (this.saveBtn) {\n      this.saveBtn.disabled = args.disabled;\n    }\n    if (this.parent.columnChooserModule && this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn) {\n      this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn.disabled = args.disabled;\n    }\n  };\n  ResponsiveDialogRenderer.prototype.columnMenuResponsiveContent = function (str, locale, disabled) {\n    var cDiv = this.parent.createElement('div', {\n      className: 'e-responsivecoldiv e-responsive' + str.toLowerCase() + 'div' + (disabled ? ' e-disabled' : '')\n    });\n    var span = this.parent.createElement('span', {\n      className: 'e-icons e-res' + str.toLowerCase() + '-icon e-btn-icon'\n    });\n    var icon = this.parent.createElement('span', {\n      innerHTML: locale,\n      className: 'e-rescolumn-menu e-res-header-text'\n    });\n    cDiv.appendChild(span);\n    cDiv.appendChild(icon);\n    this.customColumnDiv.appendChild(cDiv);\n  };\n  ResponsiveDialogRenderer.prototype.renderResponsiveContent = function (col, column) {\n    var _this = this;\n    var gObj = this.parent;\n    var isColumnChooser = this.action === ResponsiveDialogAction.isColumnChooser;\n    if (col || isColumnChooser) {\n      this.filterParent = this.parent.createElement('div', {\n        className: (isColumnChooser ? 'e-maincolumnchooserdiv ' : '') + 'e-mainfilterdiv e-default-filter',\n        id: (isColumnChooser ? 'columchooser' : col.uid) + '-main-filter'\n      });\n      return this.filterParent;\n    } else {\n      this.customColumnDiv = gObj.createElement('div', {\n        className: 'columndiv columnmenudiv'\n      });\n      this.customColumnDiv.style.width = '100%';\n      if (this.parent.showColumnMenu && this.parent.rowRenderingMode === 'Horizontal' && this.action === ResponsiveDialogAction.isColMenu) {\n        this.columnMenuResponsiveContent('AutoFitAll', gObj.localeObj.getConstant('AutoFitAll'));\n        this.columnMenuResponsiveContent('AutoFit', gObj.localeObj.getConstant('AutoFit'));\n        if (column.allowGrouping && gObj.allowGrouping) {\n          this.columnMenuResponsiveContent('Group', gObj.localeObj.getConstant('Group'), gObj.groupSettings.columns.indexOf(column.field) >= 0);\n          this.columnMenuResponsiveContent('UnGroup', gObj.localeObj.getConstant('Ungroup'), gObj.groupSettings.columns.indexOf(column.field) < 0);\n        }\n        if (column.allowSorting && gObj.allowSorting) {\n          var direction = 'None';\n          var sortColumns = this.parent.sortSettings.columns;\n          for (var i = 0; i < sortColumns.length; i++) {\n            if (sortColumns[parseInt(i.toString(), 10)].field === column.field) {\n              direction = sortColumns[parseInt(i.toString(), 10)].direction;\n              break;\n            }\n          }\n          this.columnMenuResponsiveContent('ascending', gObj.localeObj.getConstant('SortAscending'), direction === 'Ascending');\n          this.columnMenuResponsiveContent('descending', gObj.localeObj.getConstant('SortDescending'), direction === 'Descending');\n        }\n        if (gObj.showColumnChooser) {\n          this.columnMenuResponsiveContent('Column', gObj.localeObj.getConstant('Columnchooser'));\n        }\n        if (column.allowFiltering && gObj.allowFiltering) {\n          this.columnMenuResponsiveContent('Filter', gObj.localeObj.getConstant('FilterMenu'));\n        }\n      } else {\n        var cols = gObj.getColumns();\n        var sortBtnParent = gObj.createElement('div', {\n          className: 'e-ressortbutton-parent'\n        });\n        var filteredCols = [];\n        var isSort = this.action === ResponsiveDialogAction.isSort;\n        var isFilter = this.action === ResponsiveDialogAction.isFilter;\n        if (isFilter) {\n          for (var i = 0; i < gObj.filterSettings.columns.length; i++) {\n            filteredCols.push(gObj.filterSettings.columns[parseInt(i.toString(), 10)].field);\n          }\n        }\n        for (var i = 0; i < cols.length; i++) {\n          if (!cols[parseInt(i.toString(), 10)].visible || !cols[parseInt(i.toString(), 10)].allowSorting && isSort || !cols[parseInt(i.toString(), 10)].allowFiltering && isFilter) {\n            continue;\n          }\n          var cDiv = gObj.createElement('div', {\n            className: 'e-responsivecoldiv'\n          });\n          cDiv.setAttribute('data-e-mappingname', cols[parseInt(i.toString(), 10)].field);\n          cDiv.setAttribute('data-e-mappinguid', cols[parseInt(i.toString(), 10)].uid);\n          var span = gObj.createElement('span', {\n            innerHTML: cols[parseInt(i.toString(), 10)].headerText,\n            className: 'e-res-header-text'\n          });\n          cDiv.appendChild(span);\n          this.customColumnDiv.appendChild(cDiv);\n          if (isSort) {\n            var fields = this.getSortedFieldsAndDirections('field');\n            var index = fields.indexOf(cols[parseInt(i.toString(), 10)].field);\n            var button = gObj.createElement('button', {\n              id: gObj.element.id + cols[parseInt(i.toString(), 10)].field + 'sortbutton'\n            });\n            var clone = sortBtnParent.cloneNode();\n            clone.appendChild(button);\n            cDiv.appendChild(clone);\n            var btnObj = new Button({\n              cssClass: this.parent.cssClass ? 'e-ressortbutton' + ' ' + this.parent.cssClass : 'e-ressortbutton'\n            });\n            btnObj.appendTo(button);\n            var buttonInnerText = void 0;\n            if (!isNullOrUndefined(this.parent.sortSettings.columns[parseInt(index.toString(), 10)])) {\n              buttonInnerText = this.parent.sortSettings.columns[parseInt(index.toString(), 10)].direction === 'Ascending' ? this.parent.localeObj.getConstant('AscendingText') : this.parent.localeObj.getConstant('DescendingText');\n            }\n            button.innerHTML = index > -1 ? buttonInnerText : this.parent.localeObj.getConstant('NoneText');\n            button.onclick = function (e) {\n              _this.sortButtonClickHandler(e.target);\n            };\n          }\n          if (isFilter && filteredCols.indexOf(cols[parseInt(i.toString(), 10)].field) > -1) {\n            var divIcon = gObj.createElement('div', {\n              className: 'e-icons e-res-icon e-filtersetdiv'\n            });\n            var iconSpan = gObj.createElement('span', {\n              className: 'e-icons e-res-icon e-filterset'\n            });\n            iconSpan.setAttribute('colType', cols[parseInt(i.toString(), 10)].type);\n            divIcon.appendChild(iconSpan);\n            cDiv.appendChild(divIcon);\n          }\n        }\n      }\n      EventHandler.add(this.customColumnDiv, Browser.isDevice ? 'touchend' : 'click', this.customFilterColumnClickHandler, this);\n      return this.customColumnDiv;\n    }\n  };\n  ResponsiveDialogRenderer.prototype.getSortedFieldsAndDirections = function (name) {\n    var fields = [];\n    for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n      fields.push(this.parent.sortSettings.columns[parseInt(i.toString(), 10)][\"\" + name]);\n    }\n    return fields;\n  };\n  ResponsiveDialogRenderer.prototype.sortButtonClickHandler = function (target) {\n    if (target) {\n      var columndiv = parentsUntil(target, 'e-responsivecoldiv');\n      var field = columndiv.getAttribute('data-e-mappingname');\n      if (!this.parent.allowMultiSorting) {\n        this.sortPredicate = [];\n        this.sortedCols = [];\n        this.isSortApplied = false;\n        this.resetSortButtons(target);\n      }\n      var txt = target.textContent;\n      var directionTxt = txt === this.parent.localeObj.getConstant('NoneText') ? this.parent.localeObj.getConstant('AscendingText') : txt === this.parent.localeObj.getConstant('AscendingText') ? this.parent.localeObj.getConstant('DescendingText') : this.parent.localeObj.getConstant('NoneText');\n      var direction = directionTxt === this.parent.localeObj.getConstant('AscendingText') ? 'Ascending' : directionTxt === this.parent.localeObj.getConstant('DescendingText') ? 'Descending' : 'None';\n      target.innerHTML = directionTxt;\n      this.setSortedCols(field, direction);\n    }\n  };\n  ResponsiveDialogRenderer.prototype.resetSortButtons = function (target) {\n    var buttons = [].slice.call(this.customColumnDiv.getElementsByClassName('e-ressortbutton'));\n    for (var i = 0; i < buttons.length; i++) {\n      if (buttons[parseInt(i.toString(), 10)] !== target) {\n        buttons[parseInt(i.toString(), 10)].innerHTML = this.parent.localeObj.getConstant('NoneText');\n      }\n    }\n  };\n  ResponsiveDialogRenderer.prototype.setSortedCols = function (field, direction) {\n    var fields = this.getCurrentSortedFields();\n    var index = fields.indexOf(field);\n    if (this.parent.allowMultiSorting && index > -1) {\n      this.sortedCols.splice(index, 1);\n      this.sortPredicate.splice(index, 1);\n    }\n    this.isSortApplied = true;\n    if (direction !== 'None') {\n      this.sortedCols.push(field);\n      this.sortPredicate.push({\n        field: field,\n        direction: direction\n      });\n    }\n  };\n  ResponsiveDialogRenderer.prototype.getCurrentSortedFields = function () {\n    var fields = [];\n    for (var i = 0; i < this.sortedCols.length; i++) {\n      fields.push(this.sortedCols[parseInt(i.toString(), 10)]);\n    }\n    return fields;\n  };\n  ResponsiveDialogRenderer.prototype.customFilterColumnClickHandler = function (e) {\n    var gObj = this.parent;\n    var target = e.target;\n    if (parentsUntil(target, 'columnmenudiv') && this.action === ResponsiveDialogAction.isColMenu && !parentsUntil(target, 'e-disabled')) {\n      var column = this.menuCol ? this.menuCol : this.filteredCol;\n      if (parentsUntil(target, 'e-responsiveautofitalldiv')) {\n        gObj.autoFitColumns([]);\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsiveautofitdiv')) {\n        gObj.autoFitColumns(column.field);\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsivegroupdiv')) {\n        gObj.groupColumn(column.field);\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsiveungroupdiv')) {\n        gObj.ungroupColumn(column.field);\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsiveascendingdiv')) {\n        gObj.sortColumn(column.field, 'Ascending');\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsivedescendingdiv')) {\n        gObj.sortColumn(column.field, 'Descending');\n        this.closeCustomFilter();\n      } else if (parentsUntil(target, 'e-responsivecolumndiv')) {\n        gObj.notify(events.renderResponsiveChangeAction, {\n          action: 5\n        });\n        gObj.showResponsiveCustomColumnChooser();\n      } else if (parentsUntil(target, 'e-responsivefilterdiv')) {\n        gObj.notify(events.renderResponsiveChangeAction, {\n          action: 3\n        });\n        this.isRowResponsive = true;\n        this.isCustomDialog = false;\n        if (gObj.filterModule) {\n          gObj.filterModule.responsiveDialogRenderer.showResponsiveDialog(column);\n        }\n      }\n      e.preventDefault();\n    }\n    if (this.action !== ResponsiveDialogAction.isFilter) {\n      return;\n    }\n    if (gObj.filterSettings.type !== 'FilterBar') {\n      if (target.classList.contains('e-responsivecoldiv') || target.parentElement.classList.contains('e-responsivecoldiv')) {\n        var field = target.getAttribute('data-e-mappingname');\n        if (!field) {\n          field = target.parentElement.getAttribute('data-e-mappingname');\n        }\n        if (field) {\n          var col = gObj.getColumnByField(field);\n          this.isRowResponsive = true;\n          this.showResponsiveDialog(col);\n        }\n      } else if (target.classList.contains('e-filterset') || target.parentElement.classList.contains('e-filtersetdiv')) {\n        var colDiv = parentsUntil(target, 'e-responsivecoldiv');\n        if (colDiv) {\n          var field = colDiv.getAttribute('data-e-mappingname');\n          var col = gObj.getColumnByField(field);\n          if (col.filter.type === 'Menu' || !col.filter.type && gObj.filterSettings.type === 'Menu') {\n            this.isDialogClose = true;\n          }\n          this.parent.filterModule.filterModule.clearCustomFilter(col);\n          this.removeCustomDlgFilterEle(target);\n        }\n      }\n    }\n  };\n  /**\n   * Function to show the responsive dialog\n   *\n   * @param {Column} col - specifies the filter column\n   * @param {Column} column - specifies the menu column\n   * @returns {void}\n   */\n  ResponsiveDialogRenderer.prototype.showResponsiveDialog = function (col, column) {\n    if (this.isCustomDialog && this.action === ResponsiveDialogAction.isFilter && !this.isRowResponsive || column && this.action === ResponsiveDialogAction.isColMenu) {\n      this.menuCol = column;\n      this.renderCustomFilterDialog(null, column);\n    } else {\n      this.filteredCol = col;\n      this.renderResponsiveDialog(col);\n      if (this.parent.enableAdaptiveUI && col) {\n        this.parent.filterModule.setFilterModel(col);\n        this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(col, undefined));\n      }\n      if (this.action === ResponsiveDialogAction.isColumnChooser) {\n        this.parent.notify(events.renderResponsiveColumnChooserDiv, {\n          action: 'open'\n        });\n      }\n      if (this.action === ResponsiveDialogAction.isSort) {\n        var args = {\n          cancel: false,\n          dialogObj: this.customResponsiveDlg,\n          requestType: 'beforeOpenAptiveSortDialog'\n        };\n        this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n        if (args.cancel) {\n          return;\n        }\n      }\n      this.customResponsiveDlg.show(true);\n      this.customResponsiveDlg.element.style.maxHeight = '100%';\n      this.setTopToChildDialog(this.customResponsiveDlg.element);\n      if (this.parent.enableAdaptiveUI && this.parent.filterSettings && (this.parent.filterSettings.type === 'CheckBox' || this.parent.filterSettings.type === 'Excel') && this.parent.filterSettings.enableInfiniteScrolling && this.parent.filterSettings.loadingIndicator === 'Shimmer') {\n        var filterBase = this.parent.filterSettings.type === 'CheckBox' ? this.parent.filterModule.filterModule.checkBoxBase : this.parent.filterModule.filterModule.excelFilterBase;\n        filterBase.showMask();\n      }\n    }\n  };\n  ResponsiveDialogRenderer.prototype.setTopToChildDialog = function (dialogEle) {\n    var child = dialogEle.querySelector('.e-dialog');\n    if (child) {\n      var top_1 = dialogEle.querySelector('.e-dlg-header-content').getBoundingClientRect().height;\n      child.style.top = top_1 + 'px';\n    }\n  };\n  ResponsiveDialogRenderer.prototype.renderCustomFilterDialog = function (col, column) {\n    var gObj = this.parent;\n    var isColMenu = this.action === ResponsiveDialogAction.isColMenu;\n    if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n      return;\n    }\n    var colMenu = isColMenu ? 'e-customcolumnmenudiv ' : '';\n    var outerDiv = this.parent.createElement('div', {\n      id: gObj.element.id + (isColMenu ? 'customcolumnmenu' : 'customfilter'),\n      className: this.parent.cssClass ? colMenu + 'e-customfilterdiv e-responsive-dialog ' + this.parent.cssClass : colMenu + 'e-customfilterdiv e-responsive-dialog'\n    });\n    this.parent.element.appendChild(outerDiv);\n    this.customFilterDlg = this.getDialogOptions(col, true, null, column);\n    var args = {\n      cancel: false,\n      dialogObj: this.customFilterDlg,\n      requestType: 'beforeOpenAptiveFilterDialog'\n    };\n    this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n    if (args.cancel) {\n      return;\n    }\n    this.customFilterDlg.appendTo(outerDiv);\n    this.customFilterDlg.show(true);\n    this.customFilterDlg.element.style.maxHeight = '100%';\n  };\n  ResponsiveDialogRenderer.prototype.getDialogOptions = function (col, isCustomFilter, id, column) {\n    var options = new Dialog({\n      isModal: true,\n      showCloseIcon: id === 'columnchooser' && this.parent.columnChooserSettings.headerTemplate && !this.parent.enableColumnVirtualization ? false : true,\n      closeOnEscape: false,\n      locale: this.parent.locale,\n      target: this.parent.adaptiveDlgTarget ? this.parent.adaptiveDlgTarget : document.body,\n      visible: false,\n      enableRtl: this.parent.enableRtl,\n      content: this.renderResponsiveContent(col, column),\n      open: this.dialogOpen.bind(this),\n      created: this.dialogCreated.bind(this),\n      close: this.beforeDialogClose.bind(this),\n      width: '100%',\n      height: '100%',\n      animationSettings: {\n        effect: 'None'\n      },\n      cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n    });\n    var isStringTemplate = 'isStringTemplate';\n    options[\"\" + isStringTemplate] = true;\n    if (isCustomFilter) {\n      options.header = this.renderResponsiveHeader(col, undefined, true);\n      var colMenu = this.action === ResponsiveDialogAction.isColMenu ? 'e-customcolumnmenu ' : '';\n      options.cssClass = colMenu + 'e-customfilter';\n    } else {\n      options.header = this.renderResponsiveHeader(col);\n      options.cssClass = this.parent.rowRenderingMode === 'Vertical' && this.action === ResponsiveDialogAction.isFilter ? 'e-res' + id + ' e-row-responsive-filter' : 'e-res' + id;\n    }\n    return options;\n  };\n  ResponsiveDialogRenderer.prototype.renderResponsiveDialog = function (col) {\n    var gObj = this.parent;\n    if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n      return;\n    }\n    var id = this.action === ResponsiveDialogAction.isFilter ? 'filter' : 'sort';\n    id = this.action === ResponsiveDialogAction.isColumnChooser ? 'columnchooser' : id;\n    var outerDiv = this.parent.createElement('div', {\n      id: gObj.element.id + 'responsive' + id,\n      className: this.parent.cssClass ? 'e-res' + id + 'div e-responsive-dialog ' + this.parent.cssClass : 'e-res' + id + 'div e-responsive-dialog'\n    });\n    this.parent.element.appendChild(outerDiv);\n    this.customResponsiveDlg = this.getDialogOptions(col, false, id);\n    this.customResponsiveDlg.appendTo(outerDiv);\n  };\n  ResponsiveDialogRenderer.prototype.dialogCreated = function () {\n    addBiggerDialog(this.parent);\n  };\n  ResponsiveDialogRenderer.prototype.dialogOpen = function () {\n    if (this.action === ResponsiveDialogAction.isSort && this.parent.allowMultiSorting) {\n      for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n        this.sortedCols.push(this.parent.sortSettings.columns[parseInt(i.toString(), 10)].field);\n        var sortField = this.parent.sortSettings.columns[parseInt(i.toString(), 10)].field;\n        var sortDirection = this.parent.sortSettings.columns[parseInt(i.toString(), 10)].direction;\n        this.sortPredicate.push({\n          field: sortField,\n          direction: sortDirection\n        });\n      }\n    }\n  };\n  ResponsiveDialogRenderer.prototype.beforeDialogClose = function (args) {\n    this.isDialogClose = args.element && !args.element.querySelector('.e-xl-customfilterdiv') && args.element.classList.contains('e-resfilterdiv');\n    if (this.action === ResponsiveDialogAction.isFilter) {\n      if (args.element.classList.contains('e-resfilterdiv')) {\n        this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender);\n      } else if (args.element.classList.contains('e-customfilterdiv')) {\n        this.closeCustomFilter();\n      }\n      if (this.parent.rowRenderingMode === 'Horizontal' && this.parent.showColumnMenu) {\n        this.parent.notify(events.renderResponsiveChangeAction, {\n          action: 4\n        });\n        var custom = document.querySelector('.e-resfilter');\n        if (custom) {\n          remove(custom);\n        }\n      }\n    } else if (this.action === ResponsiveDialogAction.isSort) {\n      this.closeCustomDialog();\n    } else if (this.action === ResponsiveDialogAction.isColMenu) {\n      this.closeCustomFilter();\n      var custom = document.querySelector('.e-rescolummenu');\n      if (custom) {\n        remove(custom);\n      }\n    } else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n      this.parent.notify(events.renderResponsiveColumnChooserDiv, {\n        action: 'clear'\n      });\n      var custom = document.querySelector('.e-rescolumnchooser');\n      if (custom) {\n        remove(custom);\n      }\n      if (this.parent.rowRenderingMode === 'Horizontal' && this.parent.showColumnMenu) {\n        this.parent.notify(events.renderResponsiveChangeAction, {\n          action: 4\n        });\n      }\n      this.isCustomDialog = false;\n      this.isDialogClose = false;\n    }\n    this.parent.off(events.enterKeyHandler, this.keyHandler);\n  };\n  ResponsiveDialogRenderer.prototype.sortColumn = function () {\n    if (!this.isSortApplied) {\n      this.closeCustomDialog();\n      return;\n    }\n    if (this.sortPredicate.length) {\n      this.parent.setProperties({\n        sortSettings: {\n          columns: []\n        }\n      }, true);\n    }\n    for (var i = 0; i < this.sortPredicate.length; i++) {\n      this.parent.sortColumn(this.sortPredicate[parseInt(i.toString(), 10)].field, this.sortPredicate[parseInt(i.toString(), 10)].direction, this.parent.allowMultiSorting);\n    }\n    if (!this.sortPredicate.length) {\n      this.parent.clearSorting();\n    }\n    this.closeCustomDialog();\n  };\n  ResponsiveDialogRenderer.prototype.getHeaderTitle = function (args, col) {\n    var gObj = this.parent;\n    var title;\n    if (this.action === ResponsiveDialogAction.isEdit) {\n      title = gObj.localeObj.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n    } else if (this.action === ResponsiveDialogAction.isAdd) {\n      title = gObj.localeObj.getConstant('AddFormTitle');\n    } else if (this.action === ResponsiveDialogAction.isFilter) {\n      title = col ? col.headerText || col.field : gObj.localeObj.getConstant('FilterTitle');\n    } else if (this.action === ResponsiveDialogAction.isSort) {\n      title = gObj.localeObj.getConstant('Sort');\n    } else if (this.action === ResponsiveDialogAction.isColMenu) {\n      title = gObj.localeObj.getConstant('ColumnMenu');\n    } else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n      title = gObj.localeObj.getConstant('ChooseColumns');\n    }\n    return title;\n  };\n  ResponsiveDialogRenderer.prototype.getDialogName = function (action) {\n    var name;\n    if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n      name = 'dialogEdit_wrapper_title';\n    } else if (action === ResponsiveDialogAction.isFilter) {\n      name = 'responsive_filter_dialog_wrapper';\n    } else if (action === ResponsiveDialogAction.isColumnChooser) {\n      name = 'responsive_column_chooser_dialog_wrapper';\n    }\n    return name;\n  };\n  ResponsiveDialogRenderer.prototype.getButtonText = function (action) {\n    var text;\n    if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n      text = 'Save';\n    } else if (action === ResponsiveDialogAction.isFilter || this.action === ResponsiveDialogAction.isSort || action === ResponsiveDialogAction.isColumnChooser || this.action === ResponsiveDialogAction.isColumnChooser) {\n      text = 'OKButton';\n    }\n    return text;\n  };\n  /**\n   * Function to render the responsive header\n   *\n   * @param {Column} col - specifies the column\n   * @param {ResponsiveDialogArgs} args - specifies the responsive dialog arguments\n   * @param {boolean} isCustomFilter - specifies whether it is custom filter or not\n   * @returns {HTMLElement | string} returns the html element or string\n   */\n  ResponsiveDialogRenderer.prototype.renderResponsiveHeader = function (col, args, isCustomFilter) {\n    var _this = this;\n    var gObj = this.parent;\n    gObj.on(events.enterKeyHandler, this.keyHandler, this);\n    var id = gObj.element.id + this.getDialogName(this.action);\n    if (this.parent.columnChooserSettings.headerTemplate && !this.parent.enableColumnVirtualization && this.getHeaderTitle(args, col) === gObj.localeObj.getConstant('ChooseColumns')) {\n      var headerTempteElement = this.parent.columnChooserModule.renderHeader();\n      return headerTempteElement;\n    }\n    var header = gObj.createElement('div', {\n      className: 'e-res-custom-element'\n    });\n    var titleDiv = gObj.createElement('div', {\n      className: 'e-dlg-custom-header',\n      id: id\n    });\n    titleDiv.innerHTML = this.getHeaderTitle(args, col);\n    header.appendChild(titleDiv);\n    var saveBtn = gObj.createElement('button');\n    if (!isCustomFilter) {\n      this.saveBtn = new Button({\n        cssClass: this.parent.cssClass ? 'e-primary e-flat e-res-apply-btn' + ' ' + this.parent.cssClass : 'e-primary e-flat e-res-apply-btn'\n      });\n      saveBtn.innerHTML = gObj.localeObj.getConstant(this.getButtonText(this.action));\n      this.saveBtn.appendTo(saveBtn);\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      saveBtn.onclick = function (e) {\n        _this.dialogHdrBtnClickHandler();\n      };\n    }\n    var isSort = this.action === ResponsiveDialogAction.isSort;\n    var isFilter = this.action === ResponsiveDialogAction.isFilter;\n    if (isFilter || isSort) {\n      var id_1 = isSort ? 'sort' : 'filter';\n      var clearBtn = gObj.createElement('button');\n      this.filterClearBtn = new Button({\n        cssClass: this.parent.cssClass ? 'e-primary e-flat e-res-' + id_1 + '-clear-btn' + ' ' + this.parent.cssClass : 'e-primary e-flat e-res-' + id_1 + '-clear-btn'\n      });\n      if (isFilter) {\n        var span = gObj.createElement('span', {\n          className: 'e-btn-icon e-icon-filter-clear e-icons'\n        });\n        clearBtn.appendChild(span);\n      } else {\n        clearBtn.innerHTML = gObj.localeObj.getConstant('Clear');\n      }\n      header.appendChild(clearBtn);\n      this.filterClearBtn.appendTo(clearBtn);\n      clearBtn.onclick = function (e) {\n        if (parentsUntil(e.target, 'e-customfilter')) {\n          _this.parent.filterModule.clearFiltering();\n          _this.removeCustomDlgFilterEle();\n        } else {\n          if (isFilter) {\n            _this.filterClear();\n          } else {\n            _this.resetSortButtons();\n            _this.sortedCols = [];\n            _this.sortPredicate = [];\n            _this.isSortApplied = true;\n          }\n        }\n      };\n      header.appendChild(clearBtn);\n    }\n    if (!isCustomFilter) {\n      header.appendChild(saveBtn);\n    }\n    return header;\n  };\n  ResponsiveDialogRenderer.prototype.filterClear = function () {\n    this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol);\n    this.parent.filterModule.filterModule.closeResponsiveDialog();\n  };\n  ResponsiveDialogRenderer.prototype.removeCustomFilterElement = function () {\n    var elem = document.getElementById(this.parent.element.id + 'customcolumnmenu');\n    if (elem) {\n      remove(elem);\n      var custom = document.querySelector('.e-customfilter');\n      if (custom) {\n        remove(custom);\n      }\n    }\n    var custommenu = document.querySelector('.e-rescolumnchooser');\n    if (custommenu) {\n      remove(custommenu);\n    }\n  };\n  /**\n   * Function to close the Responsive Column Chooser dialog.\n   * @returns {void}\n   * @hidden\n   */\n  ResponsiveDialogRenderer.prototype.hideResponsiveColumnChooser = function () {\n    var columnChooserElement = document.querySelector('.e-rescolumnchooser');\n    if (columnChooserElement) {\n      remove(columnChooserElement);\n      this.isCustomDialog = false;\n      this.isDialogClose = false;\n    }\n  };\n  ResponsiveDialogRenderer.prototype.dialogHdrBtnClickHandler = function () {\n    if (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd) {\n      this.parent.endEdit();\n    } else if (this.action === ResponsiveDialogAction.isFilter) {\n      this.parent.filterModule.filterModule.applyCustomFilter({\n        col: this.filteredCol,\n        isCustomFilter: this.isCustomDlgRender\n      });\n      this.removeCustomFilterElement();\n    } else if (this.action === ResponsiveDialogAction.isSort) {\n      this.sortColumn();\n      this.removeCustomFilterElement();\n    } else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n      this.parent.notify(events.renderResponsiveColumnChooserDiv, {\n        action: 'confirm'\n      });\n      this.removeCustomFilterElement();\n      this.isCustomDialog = false;\n      this.isDialogClose = false;\n    }\n  };\n  ResponsiveDialogRenderer.prototype.closeCustomDialog = function () {\n    if (this.isCustomDlgRender) {\n      var mainfilterdiv = this.customResponsiveDlg.element.querySelector('.e-mainfilterdiv');\n      remove(mainfilterdiv);\n      return;\n    }\n    this.isRowResponsive = false;\n    this.isCustomDlgRender = false;\n    this.destroyCustomFilterDialog();\n  };\n  ResponsiveDialogRenderer.prototype.destroyCustomFilterDialog = function () {\n    if (!this.customResponsiveDlg) {\n      return;\n    }\n    var elem = document.getElementById(this.customResponsiveDlg.element.id);\n    if (this.customResponsiveDlg && !this.customResponsiveDlg.isDestroyed && elem) {\n      this.customResponsiveDlg.destroy();\n      remove(elem);\n    }\n    this.closeCustomFilter();\n    if (this.action === ResponsiveDialogAction.isSort) {\n      this.sortPredicate = [];\n      this.sortedCols = [];\n      this.isSortApplied = false;\n    }\n  };\n  ResponsiveDialogRenderer.prototype.closeCustomFilter = function () {\n    if (!this.isDialogClose && this.customFilterDlg) {\n      var customEle = document.getElementById(this.customFilterDlg.element.id);\n      if (this.customFilterDlg && !this.customFilterDlg.isDestroyed && customEle) {\n        this.customFilterDlg.destroy();\n        remove(customEle);\n      }\n    }\n    this.isCustomDialog = false;\n    this.isDialogClose = false;\n  };\n  ResponsiveDialogRenderer.prototype.removeCustomDlgFilterEle = function (target) {\n    if (target) {\n      if (target.parentElement.classList.contains('e-filtersetdiv')) {\n        remove(target.parentElement);\n      } else {\n        remove(target);\n      }\n    } else {\n      var child = this.customColumnDiv.children;\n      for (var i = 0; i < child.length; i++) {\n        target = child[parseInt(i.toString(), 10)].querySelector('.e-filtersetdiv');\n        if (target) {\n          remove(target);\n          i--;\n        }\n      }\n    }\n  };\n  ResponsiveDialogRenderer.prototype.keyHandler = function (e) {\n    if (e.keyCode === 13 && (this.action === ResponsiveDialogAction.isFilter && e.target.classList.contains('e-searchinput') || this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd)) {\n      this.dialogHdrBtnClickHandler();\n    }\n  };\n  ResponsiveDialogRenderer.prototype.editComplate = function (args) {\n    if (args.requestType === 'save' || args.requestType === 'cancel') {\n      this.parent.off(events.enterKeyHandler, this.keyHandler);\n    }\n  };\n  ResponsiveDialogRenderer.prototype.removeEventListener = function () {\n    if (this.customColumnDiv) {\n      EventHandler.remove(this.customColumnDiv, Browser.isDevice ? 'touchend' : 'click', this.customFilterColumnClickHandler);\n    }\n    addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    this.parent.removeEventListener(events.actionComplete, this.onActionCompleteFn);\n  };\n  return ResponsiveDialogRenderer;\n}();\nexport { ResponsiveDialogRenderer };","map":{"version":3,"names":["Dialog","EventHandler","isNullOrUndefined","remove","Browser","parentsUntil","addBiggerDialog","addRemoveEventListener","events","Button","ResponsiveDialogAction","ResponsiveDialogRenderer","parent","serviceLocator","sortedCols","sortPredicate","isCustomDialog","addEventListener","prototype","evtHandlers","event","filterDialogClose","handler","closeCustomDialog","refreshCustomFilterOkBtn","renderResponsiveCmenu","renderResponsiveContextMenu","filterCmenuSelect","renderCustomFilterDiv","customFilterClose","customExFilterClose","refreshCustomFilterClearBtn","onActionCompleteFn","editComplate","bind","actionComplete","isCustomDlgRender","header","customResponsiveDlg","element","querySelector","title","closeBtn","filterModule","closeDialog","saveBtn","style","display","disabled","backBtn","innerHTML","localeObj","getConstant","content","customExcelFilterParent","createElement","className","appendChild","args","action","isFilter","text","isOpen","firstChild","target","filterClearBtn","span","cssClass","appendTo","parentElement","insertBefore","isFiltered","getHeaderTitle","col","columnChooserModule","responsiveDialogRenderer","columnMenuResponsiveContent","str","locale","cDiv","toLowerCase","icon","customColumnDiv","renderResponsiveContent","column","_this","gObj","isColumnChooser","filterParent","id","uid","width","showColumnMenu","rowRenderingMode","isColMenu","allowGrouping","groupSettings","columns","indexOf","field","allowSorting","direction","sortColumns","sortSettings","i","length","parseInt","toString","showColumnChooser","allowFiltering","cols","getColumns","sortBtnParent","filteredCols","isSort","filterSettings","push","visible","setAttribute","headerText","fields","getSortedFieldsAndDirections","index","button","clone","cloneNode","btnObj","buttonInnerText","onclick","e","sortButtonClickHandler","divIcon","iconSpan","type","add","isDevice","customFilterColumnClickHandler","name","columndiv","getAttribute","allowMultiSorting","isSortApplied","resetSortButtons","txt","textContent","directionTxt","setSortedCols","buttons","slice","call","getElementsByClassName","getCurrentSortedFields","splice","menuCol","filteredCol","autoFitColumns","closeCustomFilter","groupColumn","ungroupColumn","sortColumn","notify","renderResponsiveChangeAction","showResponsiveCustomColumnChooser","isRowResponsive","showResponsiveDialog","preventDefault","classList","contains","getColumnByField","colDiv","filter","isDialogClose","clearCustomFilter","removeCustomDlgFilterEle","renderCustomFilterDialog","renderResponsiveDialog","enableAdaptiveUI","setFilterModel","openDialog","createOptions","undefined","renderResponsiveColumnChooserDiv","cancel","dialogObj","requestType","trigger","beforeOpenAdaptiveDialog","show","maxHeight","setTopToChildDialog","enableInfiniteScrolling","loadingIndicator","filterBase","checkBoxBase","excelFilterBase","showMask","dialogEle","child","top_1","getBoundingClientRect","height","top","colMenu","outerDiv","customFilterDlg","getDialogOptions","isCustomFilter","options","isModal","showCloseIcon","columnChooserSettings","headerTemplate","enableColumnVirtualization","closeOnEscape","adaptiveDlgTarget","document","body","enableRtl","open","dialogOpen","created","dialogCreated","close","beforeDialogClose","animationSettings","effect","isStringTemplate","renderResponsiveHeader","sortField","sortDirection","closeResponsiveDialog","custom","off","enterKeyHandler","keyHandler","setProperties","clearSorting","isEdit","primaryKeyValue","isAdd","getDialogName","getButtonText","on","headerTempteElement","renderHeader","titleDiv","dialogHdrBtnClickHandler","id_1","clearBtn","clearFiltering","filterClear","removeCustomFilterElement","elem","getElementById","custommenu","hideResponsiveColumnChooser","columnChooserElement","endEdit","applyCustomFilter","mainfilterdiv","destroyCustomFilterDialog","isDestroyed","destroy","customEle","children","keyCode","removeEventListener"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/responsive-dialog-renderer.js"],"sourcesContent":["import { Dialog } from '@syncfusion/ej2-popups';\nimport { EventHandler, isNullOrUndefined, remove, Browser } from '@syncfusion/ej2-base';\nimport { parentsUntil, addBiggerDialog, addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ResponsiveDialogAction } from '../base/enum';\n/**\n *\n * The `ResponsiveDialogRenderer` module is used to render the responsive dialogs.\n */\nvar ResponsiveDialogRenderer = /** @class */ (function () {\n    function ResponsiveDialogRenderer(parent, serviceLocator) {\n        this.sortedCols = [];\n        this.sortPredicate = [];\n        /** @hidden */\n        this.isCustomDialog = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    ResponsiveDialogRenderer.prototype.addEventListener = function () {\n        this.evtHandlers = [{ event: events.filterDialogClose, handler: this.closeCustomDialog },\n            { event: events.refreshCustomFilterOkBtn, handler: this.refreshCustomFilterOkBtn },\n            { event: events.renderResponsiveCmenu, handler: this.renderResponsiveContextMenu },\n            { event: events.filterCmenuSelect, handler: this.renderCustomFilterDiv },\n            { event: events.customFilterClose, handler: this.customExFilterClose },\n            { event: events.refreshCustomFilterClearBtn, handler: this.refreshCustomFilterClearBtn }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.onActionCompleteFn = this.editComplate.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    ResponsiveDialogRenderer.prototype.customExFilterClose = function () {\n        this.isCustomDlgRender = false;\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDiv = function () {\n        var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n        var title = header.querySelector('.e-dlg-custom-header');\n        var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n        this.isCustomDlgRender = true;\n        this.parent.filterModule.filterModule.closeDialog();\n        this.saveBtn.element.style.display = '';\n        this.refreshCustomFilterOkBtn({ disabled: false });\n        this.backBtn.element.style.display = 'none';\n        closeBtn.style.display = '';\n        title.innerHTML = this.parent.localeObj.getConstant('CustomFilter');\n        var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n        this.customExcelFilterParent = this.parent.createElement('div', { className: 'e-xl-customfilterdiv e-default-filter' });\n        content.appendChild(this.customExcelFilterParent);\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContextMenu = function (args) {\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n            var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n            var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n            var text = header.querySelector('.e-dlg-custom-header');\n            if (args.isOpen) {\n                content.firstChild.style.display = 'none';\n                content.appendChild(args.target);\n                closeBtn.style.display = 'none';\n                this.saveBtn.element.style.display = 'none';\n                this.filterClearBtn.element.style.display = 'none';\n                text.innerHTML = args.header;\n                var backBtn = this.parent.createElement('button');\n                var span = this.parent.createElement('span', { className: 'e-btn-icon e-resfilterback e-icons' });\n                backBtn.appendChild(span);\n                this.backBtn = new Button({\n                    cssClass: this.parent.cssClass ? 'e-res-back-btn' + ' ' + this.parent.cssClass : 'e-res-back-btn'\n                });\n                this.backBtn.appendTo(backBtn);\n                text.parentElement.insertBefore(backBtn, text);\n            }\n            else if (this.backBtn && !this.isCustomDlgRender) {\n                content.firstChild.style.display = '';\n                remove(this.backBtn.element);\n                closeBtn.style.display = '';\n                this.saveBtn.element.style.display = '';\n                if (this.isFiltered) {\n                    this.filterClearBtn.element.style.display = '';\n                }\n                text.innerHTML = this.getHeaderTitle({ action: ResponsiveDialogAction.isFilter }, args.col);\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterClearBtn = function (args) {\n        if (this.filterClearBtn) {\n            this.isFiltered = args.isFiltered;\n            this.filterClearBtn.element.style.display = args.isFiltered ? '' : 'none';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterOkBtn = function (args) {\n        if (this.saveBtn) {\n            this.saveBtn.disabled = args.disabled;\n        }\n        if (this.parent.columnChooserModule && this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn) {\n            this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn.disabled = args.disabled;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.columnMenuResponsiveContent = function (str, locale, disabled) {\n        var cDiv = this.parent.createElement('div', { className: 'e-responsivecoldiv e-responsive' + str.toLowerCase() + 'div' + (disabled ? ' e-disabled' : '') });\n        var span = this.parent.createElement('span', { className: 'e-icons e-res' + str.toLowerCase() + '-icon e-btn-icon' });\n        var icon = this.parent.createElement('span', { innerHTML: locale, className: 'e-rescolumn-menu e-res-header-text' });\n        cDiv.appendChild(span);\n        cDiv.appendChild(icon);\n        this.customColumnDiv.appendChild(cDiv);\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContent = function (col, column) {\n        var _this = this;\n        var gObj = this.parent;\n        var isColumnChooser = this.action === ResponsiveDialogAction.isColumnChooser;\n        if (col || isColumnChooser) {\n            this.filterParent = this.parent.createElement('div', { className: (isColumnChooser ? 'e-maincolumnchooserdiv ' : '') + 'e-mainfilterdiv e-default-filter',\n                id: (isColumnChooser ? 'columchooser' : col.uid) + '-main-filter' });\n            return this.filterParent;\n        }\n        else {\n            this.customColumnDiv = gObj.createElement('div', { className: 'columndiv columnmenudiv' });\n            this.customColumnDiv.style.width = '100%';\n            if (this.parent.showColumnMenu && this.parent.rowRenderingMode === 'Horizontal' && this.action === ResponsiveDialogAction.isColMenu) {\n                this.columnMenuResponsiveContent('AutoFitAll', gObj.localeObj.getConstant('AutoFitAll'));\n                this.columnMenuResponsiveContent('AutoFit', gObj.localeObj.getConstant('AutoFit'));\n                if (column.allowGrouping && gObj.allowGrouping) {\n                    this.columnMenuResponsiveContent('Group', gObj.localeObj.getConstant('Group'), gObj.groupSettings.columns.indexOf(column.field) >= 0);\n                    this.columnMenuResponsiveContent('UnGroup', gObj.localeObj.getConstant('Ungroup'), gObj.groupSettings.columns.indexOf(column.field) < 0);\n                }\n                if (column.allowSorting && gObj.allowSorting) {\n                    var direction = 'None';\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[parseInt(i.toString(), 10)].field === column.field) {\n                            direction = sortColumns[parseInt(i.toString(), 10)].direction;\n                            break;\n                        }\n                    }\n                    this.columnMenuResponsiveContent('ascending', gObj.localeObj.getConstant('SortAscending'), direction === 'Ascending');\n                    this.columnMenuResponsiveContent('descending', gObj.localeObj.getConstant('SortDescending'), direction === 'Descending');\n                }\n                if (gObj.showColumnChooser) {\n                    this.columnMenuResponsiveContent('Column', gObj.localeObj.getConstant('Columnchooser'));\n                }\n                if (column.allowFiltering && gObj.allowFiltering) {\n                    this.columnMenuResponsiveContent('Filter', gObj.localeObj.getConstant('FilterMenu'));\n                }\n            }\n            else {\n                var cols = gObj.getColumns();\n                var sortBtnParent = gObj.createElement('div', { className: 'e-ressortbutton-parent' });\n                var filteredCols = [];\n                var isSort = this.action === ResponsiveDialogAction.isSort;\n                var isFilter = this.action === ResponsiveDialogAction.isFilter;\n                if (isFilter) {\n                    for (var i = 0; i < gObj.filterSettings.columns.length; i++) {\n                        filteredCols.push(gObj.filterSettings.columns[parseInt(i.toString(), 10)].field);\n                    }\n                }\n                for (var i = 0; i < cols.length; i++) {\n                    if (!cols[parseInt(i.toString(), 10)].visible || (!cols[parseInt(i.toString(), 10)].allowSorting && isSort)\n                        || (!cols[parseInt(i.toString(), 10)].allowFiltering && isFilter)) {\n                        continue;\n                    }\n                    var cDiv = gObj.createElement('div', { className: 'e-responsivecoldiv' });\n                    cDiv.setAttribute('data-e-mappingname', cols[parseInt(i.toString(), 10)].field);\n                    cDiv.setAttribute('data-e-mappinguid', cols[parseInt(i.toString(), 10)].uid);\n                    var span = gObj.createElement('span', { innerHTML: cols[parseInt(i.toString(), 10)].headerText, className: 'e-res-header-text' });\n                    cDiv.appendChild(span);\n                    this.customColumnDiv.appendChild(cDiv);\n                    if (isSort) {\n                        var fields = this.getSortedFieldsAndDirections('field');\n                        var index = fields.indexOf(cols[parseInt(i.toString(), 10)].field);\n                        var button = gObj.createElement('button', { id: gObj.element.id + cols[parseInt(i.toString(), 10)].field + 'sortbutton' });\n                        var clone = sortBtnParent.cloneNode();\n                        clone.appendChild(button);\n                        cDiv.appendChild(clone);\n                        var btnObj = new Button({\n                            cssClass: this.parent.cssClass ? 'e-ressortbutton' + ' ' + this.parent.cssClass : 'e-ressortbutton'\n                        });\n                        btnObj.appendTo(button);\n                        var buttonInnerText = void 0;\n                        if ((!isNullOrUndefined(this.parent.sortSettings.columns[parseInt(index.toString(), 10)]))) {\n                            buttonInnerText = (this.parent.sortSettings.columns[parseInt(index.toString(), 10)].direction === 'Ascending') ?\n                                this.parent.localeObj.getConstant('AscendingText') : this.parent.localeObj.getConstant('DescendingText');\n                        }\n                        button.innerHTML = index > -1 ? buttonInnerText : this.parent.localeObj.getConstant('NoneText');\n                        button.onclick = function (e) {\n                            _this.sortButtonClickHandler(e.target);\n                        };\n                    }\n                    if (isFilter && filteredCols.indexOf(cols[parseInt(i.toString(), 10)].field) > -1) {\n                        var divIcon = gObj.createElement('div', { className: 'e-icons e-res-icon e-filtersetdiv' });\n                        var iconSpan = gObj.createElement('span', { className: 'e-icons e-res-icon e-filterset' });\n                        iconSpan.setAttribute('colType', cols[parseInt(i.toString(), 10)].type);\n                        divIcon.appendChild(iconSpan);\n                        cDiv.appendChild(divIcon);\n                    }\n                }\n            }\n            EventHandler.add(this.customColumnDiv, Browser.isDevice ? 'touchend' : 'click', this.customFilterColumnClickHandler, this);\n            return this.customColumnDiv;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getSortedFieldsAndDirections = function (name) {\n        var fields = [];\n        for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n            fields.push(this.parent.sortSettings.columns[parseInt(i.toString(), 10)][\"\" + name]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.sortButtonClickHandler = function (target) {\n        if (target) {\n            var columndiv = parentsUntil(target, 'e-responsivecoldiv');\n            var field = columndiv.getAttribute('data-e-mappingname');\n            if (!this.parent.allowMultiSorting) {\n                this.sortPredicate = [];\n                this.sortedCols = [];\n                this.isSortApplied = false;\n                this.resetSortButtons(target);\n            }\n            var txt = target.textContent;\n            var directionTxt = txt === this.parent.localeObj.getConstant('NoneText') ? this.parent.localeObj.getConstant('AscendingText')\n                : txt === this.parent.localeObj.getConstant('AscendingText') ? this.parent.localeObj.getConstant('DescendingText')\n                    : this.parent.localeObj.getConstant('NoneText');\n            var direction = directionTxt === this.parent.localeObj.getConstant('AscendingText') ? 'Ascending'\n                : directionTxt === this.parent.localeObj.getConstant('DescendingText') ? 'Descending' : 'None';\n            target.innerHTML = directionTxt;\n            this.setSortedCols(field, direction);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.resetSortButtons = function (target) {\n        var buttons = [].slice.call(this.customColumnDiv.getElementsByClassName('e-ressortbutton'));\n        for (var i = 0; i < buttons.length; i++) {\n            if (buttons[parseInt(i.toString(), 10)] !== target) {\n                buttons[parseInt(i.toString(), 10)].innerHTML = this.parent.localeObj.getConstant('NoneText');\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setSortedCols = function (field, direction) {\n        var fields = this.getCurrentSortedFields();\n        var index = fields.indexOf(field);\n        if (this.parent.allowMultiSorting && index > -1) {\n            this.sortedCols.splice(index, 1);\n            this.sortPredicate.splice(index, 1);\n        }\n        this.isSortApplied = true;\n        if (direction !== 'None') {\n            this.sortedCols.push(field);\n            this.sortPredicate.push({ field: field, direction: direction });\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getCurrentSortedFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.sortedCols.length; i++) {\n            fields.push(this.sortedCols[parseInt(i.toString(), 10)]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.customFilterColumnClickHandler = function (e) {\n        var gObj = this.parent;\n        var target = e.target;\n        if (parentsUntil(target, 'columnmenudiv') && this.action === ResponsiveDialogAction.isColMenu && !parentsUntil(target, 'e-disabled')) {\n            var column = this.menuCol ? this.menuCol : this.filteredCol;\n            if (parentsUntil(target, 'e-responsiveautofitalldiv')) {\n                gObj.autoFitColumns([]);\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsiveautofitdiv')) {\n                gObj.autoFitColumns(column.field);\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsivegroupdiv')) {\n                gObj.groupColumn(column.field);\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsiveungroupdiv')) {\n                gObj.ungroupColumn(column.field);\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsiveascendingdiv')) {\n                gObj.sortColumn(column.field, 'Ascending');\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsivedescendingdiv')) {\n                gObj.sortColumn(column.field, 'Descending');\n                this.closeCustomFilter();\n            }\n            else if (parentsUntil(target, 'e-responsivecolumndiv')) {\n                gObj.notify(events.renderResponsiveChangeAction, { action: 5 });\n                gObj.showResponsiveCustomColumnChooser();\n            }\n            else if (parentsUntil(target, 'e-responsivefilterdiv')) {\n                gObj.notify(events.renderResponsiveChangeAction, { action: 3 });\n                this.isRowResponsive = true;\n                this.isCustomDialog = false;\n                if (gObj.filterModule) {\n                    gObj.filterModule.responsiveDialogRenderer.showResponsiveDialog(column);\n                }\n            }\n            e.preventDefault();\n        }\n        if (this.action !== ResponsiveDialogAction.isFilter) {\n            return;\n        }\n        if (gObj.filterSettings.type !== 'FilterBar') {\n            if (target.classList.contains('e-responsivecoldiv') || target.parentElement.classList.contains('e-responsivecoldiv')) {\n                var field = target.getAttribute('data-e-mappingname');\n                if (!field) {\n                    field = target.parentElement.getAttribute('data-e-mappingname');\n                }\n                if (field) {\n                    var col = gObj.getColumnByField(field);\n                    this.isRowResponsive = true;\n                    this.showResponsiveDialog(col);\n                }\n            }\n            else if (target.classList.contains('e-filterset') || target.parentElement.classList.contains('e-filtersetdiv')) {\n                var colDiv = parentsUntil(target, 'e-responsivecoldiv');\n                if (colDiv) {\n                    var field = colDiv.getAttribute('data-e-mappingname');\n                    var col = gObj.getColumnByField(field);\n                    if (col.filter.type === 'Menu' || (!col.filter.type && gObj.filterSettings.type === 'Menu')) {\n                        this.isDialogClose = true;\n                    }\n                    this.parent.filterModule.filterModule.clearCustomFilter(col);\n                    this.removeCustomDlgFilterEle(target);\n                }\n            }\n        }\n    };\n    /**\n     * Function to show the responsive dialog\n     *\n     * @param {Column} col - specifies the filter column\n     * @param {Column} column - specifies the menu column\n     * @returns {void}\n     */\n    ResponsiveDialogRenderer.prototype.showResponsiveDialog = function (col, column) {\n        if ((this.isCustomDialog && this.action === ResponsiveDialogAction.isFilter && !this.isRowResponsive) ||\n            (column && this.action === ResponsiveDialogAction.isColMenu)) {\n            this.menuCol = column;\n            this.renderCustomFilterDialog(null, column);\n        }\n        else {\n            this.filteredCol = col;\n            this.renderResponsiveDialog(col);\n            if (this.parent.enableAdaptiveUI && col) {\n                this.parent.filterModule.setFilterModel(col);\n                this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(col, undefined));\n            }\n            if (this.action === ResponsiveDialogAction.isColumnChooser) {\n                this.parent.notify(events.renderResponsiveColumnChooserDiv, { action: 'open' });\n            }\n            if (this.action === ResponsiveDialogAction.isSort) {\n                var args = {\n                    cancel: false, dialogObj: this.customResponsiveDlg, requestType: 'beforeOpenAptiveSortDialog'\n                };\n                this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            this.customResponsiveDlg.show(true);\n            this.customResponsiveDlg.element.style.maxHeight = '100%';\n            this.setTopToChildDialog(this.customResponsiveDlg.element);\n            if (this.parent.enableAdaptiveUI && this.parent.filterSettings && (this.parent.filterSettings.type === 'CheckBox'\n                || this.parent.filterSettings.type === 'Excel') && this.parent.filterSettings.enableInfiniteScrolling\n                && this.parent.filterSettings.loadingIndicator === 'Shimmer') {\n                var filterBase = this.parent.filterSettings.type === 'CheckBox' ? this.parent.filterModule.filterModule.checkBoxBase : this.parent.filterModule.filterModule.excelFilterBase;\n                filterBase.showMask();\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setTopToChildDialog = function (dialogEle) {\n        var child = dialogEle.querySelector('.e-dialog');\n        if (child) {\n            var top_1 = dialogEle.querySelector('.e-dlg-header-content').getBoundingClientRect().height;\n            child.style.top = top_1 + 'px';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDialog = function (col, column) {\n        var gObj = this.parent;\n        var isColMenu = this.action === ResponsiveDialogAction.isColMenu;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var colMenu = isColMenu ? 'e-customcolumnmenudiv ' : '';\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + (isColMenu ? 'customcolumnmenu' : 'customfilter'),\n            className: this.parent.cssClass ? colMenu +\n                'e-customfilterdiv e-responsive-dialog ' + this.parent.cssClass : colMenu + 'e-customfilterdiv e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customFilterDlg = this.getDialogOptions(col, true, null, column);\n        var args = {\n            cancel: false, dialogObj: this.customFilterDlg, requestType: 'beforeOpenAptiveFilterDialog'\n        };\n        this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n        if (args.cancel) {\n            return;\n        }\n        this.customFilterDlg.appendTo(outerDiv);\n        this.customFilterDlg.show(true);\n        this.customFilterDlg.element.style.maxHeight = '100%';\n    };\n    ResponsiveDialogRenderer.prototype.getDialogOptions = function (col, isCustomFilter, id, column) {\n        var options = new Dialog({\n            isModal: true,\n            showCloseIcon: (id === 'columnchooser' && this.parent.columnChooserSettings.headerTemplate &&\n                !this.parent.enableColumnVirtualization) ? false : true,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            target: this.parent.adaptiveDlgTarget ? this.parent.adaptiveDlgTarget : document.body,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.renderResponsiveContent(col, column),\n            open: this.dialogOpen.bind(this),\n            created: this.dialogCreated.bind(this),\n            close: this.beforeDialogClose.bind(this),\n            width: '100%',\n            height: '100%',\n            animationSettings: { effect: 'None' },\n            cssClass: this.parent.cssClass ? this.parent.cssClass : ''\n        });\n        var isStringTemplate = 'isStringTemplate';\n        options[\"\" + isStringTemplate] = true;\n        if (isCustomFilter) {\n            options.header = this.renderResponsiveHeader(col, undefined, true);\n            var colMenu = this.action === ResponsiveDialogAction.isColMenu ? 'e-customcolumnmenu ' : '';\n            options.cssClass = colMenu + 'e-customfilter';\n        }\n        else {\n            options.header = this.renderResponsiveHeader(col);\n            options.cssClass = this.parent.rowRenderingMode === 'Vertical' && this.action === ResponsiveDialogAction.isFilter\n                ? 'e-res' + id + ' e-row-responsive-filter' : 'e-res' + id;\n        }\n        return options;\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var id = this.action === ResponsiveDialogAction.isFilter ? 'filter' : 'sort';\n        id = this.action === ResponsiveDialogAction.isColumnChooser ? 'columnchooser' : id;\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'responsive' + id,\n            className: this.parent.cssClass ?\n                'e-res' + id + 'div e-responsive-dialog ' + this.parent.cssClass : 'e-res' + id + 'div e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customResponsiveDlg = this.getDialogOptions(col, false, id);\n        this.customResponsiveDlg.appendTo(outerDiv);\n    };\n    ResponsiveDialogRenderer.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    ResponsiveDialogRenderer.prototype.dialogOpen = function () {\n        if (this.action === ResponsiveDialogAction.isSort && this.parent.allowMultiSorting) {\n            for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n                this.sortedCols.push(this.parent.sortSettings.columns[parseInt(i.toString(), 10)].field);\n                var sortField = this.parent.sortSettings.columns[parseInt(i.toString(), 10)].field;\n                var sortDirection = this.parent.sortSettings.columns[parseInt(i.toString(), 10)].direction;\n                this.sortPredicate.push({ field: sortField, direction: sortDirection });\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.beforeDialogClose = function (args) {\n        this.isDialogClose = args.element && !args.element.querySelector('.e-xl-customfilterdiv')\n            && args.element.classList.contains('e-resfilterdiv');\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            if (args.element.classList.contains('e-resfilterdiv')) {\n                this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender);\n            }\n            else if (args.element.classList.contains('e-customfilterdiv')) {\n                this.closeCustomFilter();\n            }\n            if (this.parent.rowRenderingMode === 'Horizontal' && this.parent.showColumnMenu) {\n                this.parent.notify(events.renderResponsiveChangeAction, { action: 4 });\n                var custom = document.querySelector('.e-resfilter');\n                if (custom) {\n                    remove(custom);\n                }\n            }\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.closeCustomDialog();\n        }\n        else if (this.action === ResponsiveDialogAction.isColMenu) {\n            this.closeCustomFilter();\n            var custom = document.querySelector('.e-rescolummenu');\n            if (custom) {\n                remove(custom);\n            }\n        }\n        else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n            this.parent.notify(events.renderResponsiveColumnChooserDiv, { action: 'clear' });\n            var custom = document.querySelector('.e-rescolumnchooser');\n            if (custom) {\n                remove(custom);\n            }\n            if (this.parent.rowRenderingMode === 'Horizontal' && this.parent.showColumnMenu) {\n                this.parent.notify(events.renderResponsiveChangeAction, { action: 4 });\n            }\n            this.isCustomDialog = false;\n            this.isDialogClose = false;\n        }\n        this.parent.off(events.enterKeyHandler, this.keyHandler);\n    };\n    ResponsiveDialogRenderer.prototype.sortColumn = function () {\n        if (!this.isSortApplied) {\n            this.closeCustomDialog();\n            return;\n        }\n        if (this.sortPredicate.length) {\n            this.parent.setProperties({ sortSettings: { columns: [] } }, true);\n        }\n        for (var i = 0; i < this.sortPredicate.length; i++) {\n            this.parent.sortColumn(this.sortPredicate[parseInt(i.toString(), 10)].field, this.sortPredicate[parseInt(i.toString(), 10)].direction, this.parent.allowMultiSorting);\n        }\n        if (!this.sortPredicate.length) {\n            this.parent.clearSorting();\n        }\n        this.closeCustomDialog();\n    };\n    ResponsiveDialogRenderer.prototype.getHeaderTitle = function (args, col) {\n        var gObj = this.parent;\n        var title;\n        if (this.action === ResponsiveDialogAction.isEdit) {\n            title = gObj.localeObj.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n        }\n        else if (this.action === ResponsiveDialogAction.isAdd) {\n            title = gObj.localeObj.getConstant('AddFormTitle');\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            title = col ? col.headerText || col.field : gObj.localeObj.getConstant('FilterTitle');\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            title = gObj.localeObj.getConstant('Sort');\n        }\n        else if (this.action === ResponsiveDialogAction.isColMenu) {\n            title = gObj.localeObj.getConstant('ColumnMenu');\n        }\n        else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n            title = gObj.localeObj.getConstant('ChooseColumns');\n        }\n        return title;\n    };\n    ResponsiveDialogRenderer.prototype.getDialogName = function (action) {\n        var name;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            name = 'dialogEdit_wrapper_title';\n        }\n        else if (action === ResponsiveDialogAction.isFilter) {\n            name = 'responsive_filter_dialog_wrapper';\n        }\n        else if (action === ResponsiveDialogAction.isColumnChooser) {\n            name = 'responsive_column_chooser_dialog_wrapper';\n        }\n        return name;\n    };\n    ResponsiveDialogRenderer.prototype.getButtonText = function (action) {\n        var text;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            text = 'Save';\n        }\n        else if (action === ResponsiveDialogAction.isFilter || this.action === ResponsiveDialogAction.isSort ||\n            action === ResponsiveDialogAction.isColumnChooser || this.action === ResponsiveDialogAction.isColumnChooser) {\n            text = 'OKButton';\n        }\n        return text;\n    };\n    /**\n     * Function to render the responsive header\n     *\n     * @param {Column} col - specifies the column\n     * @param {ResponsiveDialogArgs} args - specifies the responsive dialog arguments\n     * @param {boolean} isCustomFilter - specifies whether it is custom filter or not\n     * @returns {HTMLElement | string} returns the html element or string\n     */\n    ResponsiveDialogRenderer.prototype.renderResponsiveHeader = function (col, args, isCustomFilter) {\n        var _this = this;\n        var gObj = this.parent;\n        gObj.on(events.enterKeyHandler, this.keyHandler, this);\n        var id = gObj.element.id + this.getDialogName(this.action);\n        if (this.parent.columnChooserSettings.headerTemplate && !this.parent.enableColumnVirtualization &&\n            this.getHeaderTitle(args, col) === gObj.localeObj.getConstant('ChooseColumns')) {\n            var headerTempteElement = this.parent.columnChooserModule.renderHeader();\n            return headerTempteElement;\n        }\n        var header = gObj.createElement('div', { className: 'e-res-custom-element' });\n        var titleDiv = gObj.createElement('div', { className: 'e-dlg-custom-header', id: id });\n        titleDiv.innerHTML = this.getHeaderTitle(args, col);\n        header.appendChild(titleDiv);\n        var saveBtn = gObj.createElement('button');\n        if (!isCustomFilter) {\n            this.saveBtn = new Button({\n                cssClass: this.parent.cssClass ?\n                    'e-primary e-flat e-res-apply-btn' + ' ' + this.parent.cssClass : 'e-primary e-flat e-res-apply-btn'\n            });\n            saveBtn.innerHTML = gObj.localeObj.getConstant(this.getButtonText(this.action));\n            this.saveBtn.appendTo(saveBtn);\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            saveBtn.onclick = function (e) {\n                _this.dialogHdrBtnClickHandler();\n            };\n        }\n        var isSort = this.action === ResponsiveDialogAction.isSort;\n        var isFilter = this.action === ResponsiveDialogAction.isFilter;\n        if (isFilter || isSort) {\n            var id_1 = isSort ? 'sort' : 'filter';\n            var clearBtn = gObj.createElement('button');\n            this.filterClearBtn = new Button({\n                cssClass: this.parent.cssClass ? 'e-primary e-flat e-res-' + id_1 + '-clear-btn' + ' ' + this.parent.cssClass\n                    : 'e-primary e-flat e-res-' + id_1 + '-clear-btn'\n            });\n            if (isFilter) {\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-icon-filter-clear e-icons' });\n                clearBtn.appendChild(span);\n            }\n            else {\n                clearBtn.innerHTML = gObj.localeObj.getConstant('Clear');\n            }\n            header.appendChild(clearBtn);\n            this.filterClearBtn.appendTo(clearBtn);\n            clearBtn.onclick = function (e) {\n                if ((parentsUntil(e.target, 'e-customfilter'))) {\n                    _this.parent.filterModule.clearFiltering();\n                    _this.removeCustomDlgFilterEle();\n                }\n                else {\n                    if (isFilter) {\n                        _this.filterClear();\n                    }\n                    else {\n                        _this.resetSortButtons();\n                        _this.sortedCols = [];\n                        _this.sortPredicate = [];\n                        _this.isSortApplied = true;\n                    }\n                }\n            };\n            header.appendChild(clearBtn);\n        }\n        if (!isCustomFilter) {\n            header.appendChild(saveBtn);\n        }\n        return header;\n    };\n    ResponsiveDialogRenderer.prototype.filterClear = function () {\n        this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol);\n        this.parent.filterModule.filterModule.closeResponsiveDialog();\n    };\n    ResponsiveDialogRenderer.prototype.removeCustomFilterElement = function () {\n        var elem = document.getElementById(this.parent.element.id + 'customcolumnmenu');\n        if (elem) {\n            remove(elem);\n            var custom = document.querySelector('.e-customfilter');\n            if (custom) {\n                remove(custom);\n            }\n        }\n        var custommenu = document.querySelector('.e-rescolumnchooser');\n        if (custommenu) {\n            remove(custommenu);\n        }\n    };\n    /**\n     * Function to close the Responsive Column Chooser dialog.\n     * @returns {void}\n     * @hidden\n     */\n    ResponsiveDialogRenderer.prototype.hideResponsiveColumnChooser = function () {\n        var columnChooserElement = document.querySelector('.e-rescolumnchooser');\n        if (columnChooserElement) {\n            remove(columnChooserElement);\n            this.isCustomDialog = false;\n            this.isDialogClose = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.dialogHdrBtnClickHandler = function () {\n        if (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd) {\n            this.parent.endEdit();\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            this.parent.filterModule.filterModule.applyCustomFilter({ col: this.filteredCol, isCustomFilter: this.isCustomDlgRender });\n            this.removeCustomFilterElement();\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortColumn();\n            this.removeCustomFilterElement();\n        }\n        else if (this.action === ResponsiveDialogAction.isColumnChooser) {\n            this.parent.notify(events.renderResponsiveColumnChooserDiv, { action: 'confirm' });\n            this.removeCustomFilterElement();\n            this.isCustomDialog = false;\n            this.isDialogClose = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomDialog = function () {\n        if (this.isCustomDlgRender) {\n            var mainfilterdiv = this.customResponsiveDlg.element.querySelector('.e-mainfilterdiv');\n            remove(mainfilterdiv);\n            return;\n        }\n        this.isRowResponsive = false;\n        this.isCustomDlgRender = false;\n        this.destroyCustomFilterDialog();\n    };\n    ResponsiveDialogRenderer.prototype.destroyCustomFilterDialog = function () {\n        if (!this.customResponsiveDlg) {\n            return;\n        }\n        var elem = document.getElementById(this.customResponsiveDlg.element.id);\n        if (this.customResponsiveDlg && !this.customResponsiveDlg.isDestroyed && elem) {\n            this.customResponsiveDlg.destroy();\n            remove(elem);\n        }\n        this.closeCustomFilter();\n        if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortPredicate = [];\n            this.sortedCols = [];\n            this.isSortApplied = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomFilter = function () {\n        if (!this.isDialogClose && this.customFilterDlg) {\n            var customEle = document.getElementById(this.customFilterDlg.element.id);\n            if (this.customFilterDlg && !this.customFilterDlg.isDestroyed && customEle) {\n                this.customFilterDlg.destroy();\n                remove(customEle);\n            }\n        }\n        this.isCustomDialog = false;\n        this.isDialogClose = false;\n    };\n    ResponsiveDialogRenderer.prototype.removeCustomDlgFilterEle = function (target) {\n        if (target) {\n            if (target.parentElement.classList.contains('e-filtersetdiv')) {\n                remove(target.parentElement);\n            }\n            else {\n                remove(target);\n            }\n        }\n        else {\n            var child = this.customColumnDiv.children;\n            for (var i = 0; i < child.length; i++) {\n                target = child[parseInt(i.toString(), 10)].querySelector('.e-filtersetdiv');\n                if (target) {\n                    remove(target);\n                    i--;\n                }\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.keyHandler = function (e) {\n        if (e.keyCode === 13 && ((this.action === ResponsiveDialogAction.isFilter\n            && e.target.classList.contains('e-searchinput'))\n            || (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd))) {\n            this.dialogHdrBtnClickHandler();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.editComplate = function (args) {\n        if (args.requestType === 'save' || args.requestType === 'cancel') {\n            this.parent.off(events.enterKeyHandler, this.keyHandler);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.removeEventListener = function () {\n        if (this.customColumnDiv) {\n            EventHandler.remove(this.customColumnDiv, Browser.isDevice ? 'touchend' : 'click', this.customFilterColumnClickHandler);\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.parent.removeEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    return ResponsiveDialogRenderer;\n}());\nexport { ResponsiveDialogRenderer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
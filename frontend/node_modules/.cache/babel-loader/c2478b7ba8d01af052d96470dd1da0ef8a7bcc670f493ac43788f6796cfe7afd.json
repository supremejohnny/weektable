{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\nvar LINEARSTEP = 'e-linear';\nvar PREVSTEP = 'e-previous';\nvar NEXTSTEP = 'e-next';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */function (_super) {\n  __extends(StepperAnimationSettings, _super);\n  function StepperAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(true)], StepperAnimationSettings.prototype, \"enable\", void 0);\n  __decorate([Property(2000)], StepperAnimationSettings.prototype, \"duration\", void 0);\n  __decorate([Property(0)], StepperAnimationSettings.prototype, \"delay\", void 0);\n  return StepperAnimationSettings;\n}(ChildProperty);\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n  /**\n   * Displays the label on top position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Top\"] = \"Top\";\n  /**\n   * Displays the label on bottom position regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Bottom\"] = \"Bottom\";\n  /**\n   * Displays the label on left side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"Start\"] = \"Start\";\n  /**\n   * Displays the label on right side regardless of the Stepper's orientation.\n   */\n  StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n  /**\n   * Steps are shown indicator with label defined.\n   */\n  StepType[\"Default\"] = \"Default\";\n  /**\n   * Steps are shown with only label.\n   */\n  StepType[\"Label\"] = \"Label\";\n  /**\n   * Steps are shown with only indicator.\n   */\n  StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */function (_super) {\n  __extends(Stepper, _super);\n  /**\n   * * Constructor for creating the Stepper component.\n   *\n   * @param {StepperModel} options - Specifies the Stepper model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Stepper(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.stepperItemElements = [];\n    return _this;\n  }\n  Stepper.prototype.preRender = function () {\n    if (!this.element.id) {\n      this.element.id = getUniqueID('e-' + this.getModuleName());\n    }\n    var localeText = {\n      optional: 'Optional'\n    };\n    this.l10n = new L10n('stepper', localeText, this.locale);\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      leftarrow: 'leftarrow',\n      rightarrow: 'rightarrow',\n      uparrow: 'uparrow',\n      space: 'space',\n      enter: 'enter',\n      home: 'home',\n      end: 'end',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      escape: 'escape'\n    };\n    this.tooltipOpen = false;\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n  Stepper.prototype.getModuleName = function () {\n    return 'stepper';\n  };\n  Stepper.prototype.render = function () {\n    this.initialize();\n    this.navigationHandler(this.activeStep, null, false);\n    this.updateStepperStatus(true);\n  };\n  Stepper.prototype.initialize = function () {\n    this.element.setAttribute('aria-label', this.element.id);\n    this.updatePosition();\n    this.stepperItemList = this.createElement('ol', {\n      className: ITEMLIST\n    });\n    this.updateOrientaion(this.element);\n    this.updateStepType();\n    this.element.appendChild(this.stepperItemList);\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.trim().split(' '));\n    }\n    if (this.readOnly) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl) {\n      this.element.classList.add(RTL);\n    }\n    this.wireEvents();\n    this.updateTemplateFunction();\n    this.renderItems();\n    if (this.steps.length > 0) {\n      this.initiateProgressBar();\n      this.checkValidStep();\n      this.updateAnimation();\n      this.updateTooltip();\n      this.wireKeyboardEvent();\n    }\n  };\n  Stepper.prototype.initiateProgressBar = function () {\n    var _this = this;\n    if (this.steps.length > 1) {\n      if (this.isAngular && this.template) {\n        setTimeout(function () {\n          _this.renderProgressBar(_this.element);\n        });\n      } else {\n        this.renderProgressBar(this.element);\n      }\n    }\n  };\n  Stepper.prototype.updatePosition = function () {\n    this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n  };\n  Stepper.prototype.renderDefault = function (index) {\n    var step = this.steps[parseInt(index.toString(), 10)];\n    return !step.iconCss && !step.text && !step.label;\n  };\n  Stepper.prototype.updateAnimation = function () {\n    var progressEle = this.element.querySelector('.e-progressbar-value');\n    if (this.animation.enable) {\n      if (this.animation.duration >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--duration', this.animation.duration + 'ms');\n        }\n      }\n      if (this.animation.delay >= 0) {\n        if (progressEle) {\n          progressEle.style.setProperty('--delay', this.animation.delay + 'ms');\n        }\n      }\n    } else {\n      if (progressEle) {\n        progressEle.style.setProperty('--delay', 0 + 'ms');\n        progressEle.style.setProperty('--duration', 0 + 'ms');\n      }\n    }\n  };\n  Stepper.prototype.updateStepType = function () {\n    if (!isNullOrUndefined(this.stepType)) {\n      var stepTypeLower = this.stepType.toLowerCase();\n      var validStepTypes = ['indicator', 'label', 'default'];\n      if (validStepTypes.indexOf(stepTypeLower) !== -1) {\n        if (stepTypeLower !== 'default') {\n          this.element.classList.add('e-step-type-' + stepTypeLower);\n        }\n        if ((stepTypeLower === 'indicator' || stepTypeLower === 'label') && this.labelContainer) {\n          this.clearLabelPosition();\n        }\n      }\n    }\n  };\n  Stepper.prototype.wireEvents = function () {\n    EventHandler.add(window, 'resize', this.updateResize, this);\n    EventHandler.add(window, 'click', this.updateStepFocus, this);\n  };\n  Stepper.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.updateResize);\n    EventHandler.remove(window, 'click', this.updateStepFocus);\n  };\n  Stepper.prototype.updateResize = function () {\n    if (this.stepperItemList && this.progressbar && this.element.classList.contains(HORIZSTEP)) {\n      this.setProgressPosition(this.element, true);\n    }\n    this.navigateToStep(this.activeStep, null, null, false, false);\n  };\n  Stepper.prototype.updateStepFocus = function () {\n    if (this.isKeyNavFocus) {\n      this.isKeyNavFocus = false;\n      var isFocus = this.element.querySelector('.' + FOCUS);\n      if (isFocus) {\n        isFocus.classList.remove(FOCUS);\n        this.element.classList.remove('e-steps-focus');\n      }\n    }\n  };\n  Stepper.prototype.updateStepperStatus = function (isInitial) {\n    for (var index = 0; index < this.steps.length; index++) {\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var status_1 = item.status.toLowerCase();\n      if (isInitial && this.activeStep === 0 && index === 0) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        item.status = StepStatus.InProgress;\n        this.isProtectedOnChange = prevOnChange;\n      }\n      if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n        for (var i = 0; i < this.steps.length; i++) {\n          var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          if (status_1 === 'completed') {\n            this.updateStatusClass(i, index, itemElement);\n          } else {\n            this.updateStatusClass(i, index, itemElement, true);\n          }\n          this.isProtectedOnChange = prevOnChange;\n        }\n      } else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n        this.navigationHandler(this.activeStep, null, true);\n      }\n    }\n  };\n  Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n    var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n    if (currentStep < index) {\n      ele.classList.add(COMPLETED);\n      stepItem.status = StepStatus.Completed;\n    } else if (currentStep === index) {\n      ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n    } else {\n      ele.classList.add(NOTSTARTED);\n    }\n  };\n  Stepper.prototype.renderItems = function () {\n    var _this = this;\n    var _a;\n    var isHorizontal = this.element.classList.contains(HORIZSTEP);\n    var isVertical = this.element.classList.contains(VERTICALSTEP);\n    var labelPositionLower = !isNullOrUndefined(this.labelPosition) ? this.labelPosition.toLowerCase() : '';\n    for (var index = 0; index < this.steps.length; index++) {\n      this.stepperItemContainer = this.createElement('li', {\n        className: ITEMCONTAINER\n      });\n      var stepSpan = this.createElement('span', {\n        className: 'e-step'\n      });\n      var item = this.steps[parseInt(index.toString(), 10)];\n      var isItemLabel = item.label ? true : false;\n      var isItemText = item.text ? true : false;\n      var isIndicator = this.element.classList.contains(STEPINDICATOR);\n      this.stepperItemContainer.classList[index === 0 ? 'add' : 'remove'](SELECTED, INPROGRESS);\n      this.stepperItemContainer.classList[index !== 0 ? 'add' : 'remove'](NOTSTARTED);\n      if (isHorizontal) {\n        this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n      }\n      if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n        var isIndicator_1 = !this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator';\n        if (isIndicator_1) {\n          stepSpan.classList.add('e-icons', INDICATORICON);\n        }\n        if (!isIndicator_1 && item.isValid == null) {\n          stepSpan.classList.add('e-step-content');\n          stepSpan.innerHTML = (index + 1).toString();\n        }\n        this.stepperItemContainer.appendChild(stepSpan);\n      } else if (isNullOrUndefined(this.template) || this.template === '') {\n        var isRender = true;\n        if ((item.iconCss || !item.iconCss && isItemText && isItemLabel) && (!isItemText && !isItemLabel || !this.element.classList.contains(LABELINDICATOR))) {\n          if (item.iconCss) {\n            var itemIcon = item.iconCss.trim().split(' ');\n            (_a = stepSpan.classList).add.apply(_a, [ICONCSS].concat(itemIcon));\n            this.stepperItemContainer.classList.add(STEPICON);\n          } else if (!item.iconCss && isItemText && isItemLabel) {\n            stepSpan.classList.add(ICONCSS);\n            stepSpan.innerHTML = item.text;\n            this.stepperItemContainer.classList.add(STEPICON);\n          }\n          this.stepperItemContainer.appendChild(stepSpan);\n          if ((isHorizontal && (labelPositionLower === 'start' || labelPositionLower === 'end') && isItemLabel || isVertical && (labelPositionLower === 'top' || labelPositionLower === 'bottom') && isItemLabel) && !isIndicator) {\n            this.element.classList.add('e-label-' + labelPositionLower);\n            this.createTextLabelElement(item.label);\n            isRender = false;\n          }\n        }\n        if (isItemText && (!item.iconCss || !isIndicator) && isRender && !(item.iconCss && isItemLabel)) {\n          if (!item.iconCss && isIndicator || (!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !isItemLabel) {\n            if (!item.iconCss && !isItemLabel) {\n              this.element.classList.add('e-step-type-indicator');\n            }\n            this.checkValidState(item, stepSpan);\n            isItemLabel = false;\n          } else {\n            if (!isItemLabel) {\n              this.createTextLabelElement(item.text);\n            }\n            if (isItemLabel && this.element.classList.contains(LABELINDICATOR)) {\n              var textSpan = this.createElement('span', {\n                className: TEXT\n              });\n              textSpan.innerText = item.label;\n            }\n            isItemText = isItemLabel ? false : true;\n          }\n        }\n        if (isItemLabel && isItemLabel && (!item.iconCss || !isIndicator) && isRender) {\n          if (!item.iconCss && !isItemText && isIndicator) {\n            this.checkValidState(item, stepSpan, true);\n          } else if (!(this.element.classList.contains(LABELINDICATOR) && isItemText) || this.element.classList.contains(LABELINDICATOR) && isItemLabel) {\n            this.createTextLabelElement(item.label, true);\n            this.updateLabelPosition();\n            if (!item.iconCss && !isItemText && !this.stepperItemContainer.classList.contains(STEPICON) || this.element.classList.contains(LABELINDICATOR)) {\n              this.stepperItemContainer.classList.add('e-step-label-only');\n              if (item.isValid !== null) {\n                var iconSpan = this.createElement('span', {\n                  className: 'e-step-validation-icon e-icons'\n                });\n                this.labelContainer.appendChild(iconSpan);\n              }\n            }\n          }\n        }\n      }\n      if (item.optional) {\n        var optionalSpan = this.createElement('span', {\n          className: OPTIONAL\n        });\n        this.l10n.setLocale(this.locale);\n        var optionalContent = this.l10n.getConstant('optional');\n        optionalSpan.innerText = optionalContent;\n        if (isItemLabel && this.labelContainer && (this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only') || isHorizontal && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only')) || isVertical && this.element.classList.contains(LABELBEFORE)) {\n          this.labelContainer.appendChild(optionalSpan);\n        } else {\n          this.stepperItemContainer.appendChild(optionalSpan);\n        }\n        if (item.isValid !== null) {\n          this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n        }\n      }\n      if (item.cssClass) {\n        addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n      }\n      if (item.disabled) {\n        this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1',\n          'aria-disabled': 'true'\n        });\n      }\n      if (item.isValid !== null) {\n        if (item.isValid) {\n          this.stepperItemContainer.classList.add('e-step-valid');\n        } else {\n          this.stepperItemContainer.classList.add('e-step-error');\n        }\n      }\n      this.renderItemContent(index, false);\n      if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(this.stepperItemContainer, {\n          'tabindex': '-1'\n        });\n      }\n      this.wireItemsEvents(this.stepperItemContainer, index);\n      this.stepperItemElements.push(this.stepperItemContainer);\n      var eventArgs = {\n        element: this.stepperItemContainer,\n        index: index\n      };\n      this.trigger('beforeStepRender', eventArgs, function (args) {\n        _this.stepperItemList.appendChild(args.element);\n      });\n      if (isVertical) {\n        if (this.isAngular && this.template) {\n          setTimeout(function () {\n            _this.calculateProgressBarPosition();\n          });\n        } else {\n          this.calculateProgressBarPosition();\n        }\n      }\n    }\n    if (isVertical) {\n      if (this.element.classList.contains(LABELBEFORE)) {\n        var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n        for (var i = 0; i < listItems.length; i++) {\n          var labelEle = listItems[parseInt(i.toString(), 10)];\n          labelEle.style.setProperty('--label-width', this.beforeLabelWidth + 5 + 'px');\n        }\n      }\n    }\n  };\n  Stepper.prototype.createTextLabelElement = function (content, isLabelEle) {\n    if (isLabelEle === void 0) {\n      isLabelEle = false;\n    }\n    var spanEle = this.createElement('span', {\n      className: isLabelEle ? LABEL : TEXTCSS + \" \" + TEXT\n    });\n    spanEle.innerText = content;\n    if (isLabelEle) {\n      this.labelContainer = this.createElement('span', {\n        className: STEPLABEL\n      });\n      this.labelContainer.appendChild(spanEle);\n    } else {\n      this.stepperItemContainer.appendChild(spanEle);\n    }\n    this.stepperItemContainer.classList.add(isLabelEle ? STEPSLABEL : STEPTEXT);\n  };\n  Stepper.prototype.calculateProgressBarPosition = function () {\n    var isBeforeLabel = this.element.classList.contains(LABELBEFORE) ? true : false;\n    var iconOnly = this.stepperItemContainer.classList.contains(STEPICON) && !this.stepperItemContainer.classList.contains(STEPTEXT) && !this.stepperItemContainer.classList.contains(STEPSLABEL);\n    var textEle = this.stepperItemContainer.querySelector('.' + TEXTCSS);\n    if (textEle) {\n      this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n    }\n    if (isBeforeLabel) {\n      var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n      this.beforeLabelWidth = Math.max(this.beforeLabelWidth, labelWidth);\n      var iconEle = this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS);\n      var textEle_1 = this.stepperItemContainer.querySelector('.' + TEXTCSS);\n      if (iconEle || textEle_1) {\n        var itemWidth = this.beforeLabelWidth + (this.stepperItemContainer.querySelector('.' + ICONCSS) || textEle_1).offsetWidth / 2;\n        this.progressBarPosition = Math.max(this.progressBarPosition, itemWidth);\n      } else {\n        this.progressBarPosition = Math.max(this.progressBarPosition, this.beforeLabelWidth / 2);\n      }\n    } else {\n      var lastChild = this.element.querySelector('ol').lastChild;\n      var lastChildWidth = iconOnly ? this.stepperItemContainer.offsetWidth : lastChild.firstChild.offsetWidth;\n      this.progressBarPosition = Math.max(this.progressBarPosition, lastChildWidth);\n    }\n  };\n  Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n    if (item.isValid == null) {\n      stepSpan.classList.add('e-step-content');\n      if (isLabel) {\n        stepSpan.innerHTML = item.label;\n      } else {\n        stepSpan.innerHTML = item.label ? item.label : item.text;\n      }\n      this.stepperItemContainer.appendChild(stepSpan);\n    } else {\n      stepSpan.classList.add(ICONCSS);\n      this.stepperItemContainer.appendChild(stepSpan);\n      this.stepperItemContainer.classList.add(STEPICON);\n    }\n  };\n  Stepper.prototype.updateCurrentLabel = function () {\n    var labelPos = this.labelPosition.toLowerCase();\n    var currentLabelPos = this.element.classList.contains(HORIZSTEP) ? labelPos === 'top' ? 'before' : labelPos === 'bottom' ? 'after' : labelPos : labelPos === 'start' ? 'before' : labelPos === 'end' ? 'after' : labelPos;\n    return currentLabelPos;\n  };\n  Stepper.prototype.updateLabelPosition = function () {\n    this.clearLabelPosition();\n    this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n    if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n      if (this.stepperItemContainer.firstChild) {\n        this.stepperItemContainer.firstChild.before(this.labelContainer);\n      } else {\n        this.stepperItemContainer.appendChild(this.labelContainer);\n      }\n    } else {\n      this.stepperItemContainer.appendChild(this.labelContainer);\n    }\n    this.element.classList.add('e-label-' + this.updateCurrentLabel());\n  };\n  Stepper.prototype.clearLabelPosition = function () {\n    var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n    if (removeCss) {\n      removeClass([this.labelContainer], removeCss);\n      removeClass([this.element], removeCss);\n    }\n  };\n  Stepper.prototype.checkValidStep = function () {\n    var isStepIndicator = this.element.classList.contains(STEPINDICATOR);\n    var _loop_1 = function (index) {\n      var item = this_1.steps[parseInt(index.toString(), 10)];\n      var itemElement = this_1.stepperItemElements[parseInt(index.toString(), 10)];\n      if (item.isValid !== null) {\n        var indicatorEle = void 0;\n        var iconEle_1;\n        if (isStepIndicator && !item.iconCss) {\n          indicatorEle = itemElement.querySelector('.' + ICONCSS);\n        } else {\n          iconEle_1 = itemElement.querySelector('.' + ICONCSS);\n        }\n        if (!indicatorEle && isStepIndicator && this_1.renderDefault(index)) {\n          indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n        }\n        var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n        var itemIcon = item.iconCss.trim().split(' ');\n        var validStep = itemElement.classList.contains('e-step-valid');\n        var validIconClass = validStep ? 'e-check' : 'e-circle-info';\n        if (indicatorEle) {\n          indicatorEle.classList.remove(INDICATORICON);\n          if (indicatorEle.innerHTML !== '') {\n            indicatorEle.innerHTML = '';\n          }\n          indicatorEle.classList.add('e-icons', validIconClass, ICONCSS);\n        }\n        if (this_1.renderDefault(index) && !isStepIndicator) {\n          var stepSpan = itemElement.querySelector('.e-step');\n          stepSpan.classList.add('e-icons', validIconClass, ICONCSS);\n        }\n        if (iconEle_1) {\n          if (iconEle_1.innerHTML !== '') {\n            iconEle_1.innerHTML = '';\n          } else if (itemIcon.length > 0) {\n            itemIcon.forEach(function (icon) {\n              iconEle_1.classList.remove(icon);\n            });\n          }\n          iconEle_1.classList.add('e-icons', validIconClass);\n        }\n        if (textLabelIcon) {\n          textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n          if (this_1.element.classList.contains(VERTICALSTEP)) {\n            var labelEle = itemElement.querySelector('.' + LABEL);\n            var textEle = itemElement.querySelector('.' + TEXT);\n            var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left : labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n            var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n            validationIcon.style.setProperty('--icon-position', itemWidth + 20 + 'px');\n          }\n        }\n      }\n    };\n    var this_1 = this;\n    for (var index = 0; index < this.steps.length; index++) {\n      _loop_1(index);\n    }\n  };\n  Stepper.prototype.updateTooltip = function () {\n    if (this.showTooltip) {\n      this.tooltipObj = new Tooltip({\n        target: '.e-step-container',\n        windowCollision: true,\n        opensOn: 'Custom',\n        cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP,\n        position: 'TopCenter'\n      });\n      this.tooltipObj.appendTo(this.stepperItemList);\n    } else {\n      if (!isNullOrUndefined(this.tooltipObj)) {\n        this.tooltipObj.destroy();\n        this.tooltipObj = null;\n      }\n    }\n  };\n  Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n    EventHandler.add(itemElement, 'click', this.linearModeHandler.bind(this, itemElement, index), this);\n    EventHandler.add(itemElement, 'mouseover', this.openStepperTooltip.bind(this, index), this);\n    EventHandler.add(itemElement, 'mouseleave', this.closeStepperTooltip, this);\n  };\n  Stepper.prototype.unWireItemsEvents = function () {\n    for (var index = 0; index < this.steps.length; index++) {\n      var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n      EventHandler.remove(itemElement, 'click', this.linearModeHandler.bind(this, itemElement, index));\n      EventHandler.remove(itemElement, 'mouseover', this.openStepperTooltip.bind(this, index));\n      EventHandler.remove(itemElement, 'mouseleave', this.closeStepperTooltip);\n    }\n  };\n  Stepper.prototype.linearModeHandler = function (itemElement, index, e) {\n    if (this.linear) {\n      var linearModeValue = index - this.activeStep;\n      if (Math.abs(linearModeValue) === 1) {\n        this.stepClickHandler(index, e, itemElement);\n      }\n    } else {\n      this.stepClickHandler(index, e, itemElement);\n    }\n  };\n  Stepper.prototype.openStepperTooltip = function (index) {\n    var currentStep = this.steps[parseInt(index.toString(), 10)];\n    if (this.showTooltip && (currentStep.label || currentStep.text)) {\n      if (!this.tooltipOpen) {\n        this.updateTooltipContent(index);\n        this.tooltipObj.open(this.stepperItemElements[parseInt(index.toString(), 10)]);\n        if (this.stepType.toLocaleLowerCase() !== 'label' && (this.stepType.toLocaleLowerCase() === 'indicator' || currentStep.label !== '' && currentStep.iconCss !== '' || currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== '')) {\n          var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ? STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n          this.tooltipObj.setProperties({\n            cssClass: tooltipPopupClass.trim()\n          });\n        }\n        this.tooltipOpen = true;\n      }\n    }\n  };\n  Stepper.prototype.closeStepperTooltip = function () {\n    if (this.tooltipOpen) {\n      this.tooltipObj.close();\n      this.tooltipOpen = false;\n    }\n  };\n  Stepper.prototype.updateTooltipContent = function (index) {\n    if (this.showTooltip) {\n      if (this.isReact) {\n        this.clearTemplate(['stepperTooltipTemplate']);\n      }\n      var content = void 0;\n      var currentStep = this.steps[parseInt(index.toString(), 10)];\n      if (this.tooltipTemplate) {\n        content = this.createElement('span', {\n          className: 'e-stepper-tooltip-content'\n        });\n        var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n        append(templateFunction({\n          value: currentStep\n        }, this, 'stepperTooltipTemplate', this.element.id + 'tooltipTemplate', this.isStringTemplate), content);\n        this.tooltipObj.setProperties({\n          content: content\n        }, true);\n      } else {\n        var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n        this.tooltipObj.setProperties({\n          content: initializeCSPTemplate(function () {\n            return content_1;\n          })\n        }, true);\n      }\n      this.renderReactTemplates();\n    }\n  };\n  Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n    var clickEventArgs = {\n      element: itemElement,\n      event: e,\n      previousStep: this.activeStep,\n      activeStep: index\n    };\n    this.trigger('stepClick', clickEventArgs);\n    this.navigateToStep(index, e, itemElement, true);\n  };\n  Stepper.prototype.updateTemplateFunction = function () {\n    this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n  };\n  Stepper.prototype.renderItemContent = function (index, isrerender) {\n    var listItems = this.stepperItemList.querySelectorAll('li');\n    if (isrerender) {\n      this.removeItemContent(listItems[parseInt(index.toString(), 10)]);\n    }\n    if (this.template) {\n      if (isrerender) {\n        listItems[parseInt(index.toString(), 10)].classList.add(TEMPLATE);\n      } else {\n        this.stepperItemContainer.classList.add(TEMPLATE);\n      }\n      var item = this.steps[parseInt(index.toString(), 10)];\n      append(this.templateFunction({\n        step: item,\n        currentStep: index\n      }, this, 'stepperTemplate', this.element.id + '_stepperTemplate', this.isStringTemplate), isrerender ? listItems[parseInt(index.toString(), 10)] : this.stepperItemContainer);\n    }\n    this.renderReactTemplates();\n  };\n  Stepper.prototype.removeItemContent = function (ele) {\n    ele.classList.remove(TEMPLATE);\n    var firstChild = ele.firstElementChild;\n    for (var i = 0; i < ele.childElementCount; i++) {\n      firstChild.remove();\n    }\n  };\n  Stepper.prototype.updateContent = function () {\n    if (this.isReact) {\n      this.clearTemplate(['stepperTemplate']);\n    }\n    for (var i = 0; i < this.steps.length; i++) {\n      this.renderItemContent(i, true);\n    }\n  };\n  /**\n   * Gets template content based on the template property value.\n   *\n   * @param {string | Function} template - Template property value.\n   * @returns {Function} - Return template function.\n   * @hidden\n   */\n  Stepper.prototype.getTemplateFunction = function (template) {\n    if (typeof template === 'string') {\n      var content = '';\n      try {\n        var tempEle = select(template);\n        if (tempEle) {\n          //Return innerHTML incase of jsrenderer script else outerHTML\n          content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n        } else {\n          content = template;\n        }\n      } catch (e) {\n        content = template;\n      }\n      return compile(content);\n    } else {\n      /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n      return compile(template);\n    }\n  };\n  Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n    var _this = this;\n    var eventArgs = {\n      element: itemElement,\n      event: e,\n      isInteracted: isInteracted,\n      previousStep: this.activeStep,\n      activeStep: index,\n      cancel: false\n    };\n    if (isUpdated !== false) {\n      var previousStep_1 = this.activeStep;\n      this.trigger('stepChanging', eventArgs, function (args) {\n        if (args.cancel) {\n          return;\n        }\n        _this.navigationHandler(index);\n        var eventArgs = {\n          element: itemElement,\n          event: e,\n          isInteracted: isInteracted,\n          previousStep: previousStep_1,\n          activeStep: _this.activeStep\n        };\n        _this.trigger('stepChanged', eventArgs);\n      });\n    } else {\n      this.navigationHandler(index);\n    }\n  };\n  Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n    index = Math.min(index, this.steps.length - 1);\n    var Itemslength = this.stepperItemElements.length;\n    if (index >= 0 && index < Itemslength - 1) {\n      index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n    }\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.activeStep = parseInt(index.toString(), 10);\n    this.isProtectedOnChange = prevOnChange;\n    for (var i = 0; i < this.steps.length; i++) {\n      var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n      var item = this.steps[parseInt(i.toString(), 10)];\n      itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n      if (i === this.activeStep) {\n        itemElement.classList.add(SELECTED);\n      }\n      if (this.activeStep >= 0 && this.progressbar) {\n        if (this.element.classList.contains(HORIZSTEP)) {\n          this.calculateProgressbarPos();\n        } else {\n          this.progressbar.style.setProperty(PROGRESSVALUE, 100 / (this.steps.length - 1) * index + '%');\n        }\n      } else if (this.activeStep < 0 && this.progressbar) {\n        this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n      }\n      if (i === this.activeStep) {\n        itemElement.classList.add(INPROGRESS);\n      } else if (this.activeStep > 0 && i < this.activeStep) {\n        itemElement.classList.add(COMPLETED);\n      } else {\n        itemElement.classList.add(NOTSTARTED);\n      }\n      if (itemElement.classList.contains(INPROGRESS)) {\n        attributes(itemElement, {\n          'tabindex': '0',\n          'aria-current': 'true'\n        });\n      } else {\n        attributes(itemElement, {\n          'tabindex': '-1',\n          'aria-current': 'false'\n        });\n      }\n      var prevOnChange_1 = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      if (isUpdated !== false) {\n        if (i < this.activeStep || this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed') {\n          item.status = StepStatus.Completed;\n        } else if (i === this.activeStep) {\n          item.status = StepStatus.InProgress;\n        } else if (i > this.activeStep) {\n          item.status = StepStatus.NotStarted;\n        }\n        if (stepStatus && this.activeStep === i) {\n          item.status = stepStatus;\n        }\n        if (item.status.toLowerCase() === 'completed') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n          itemElement.classList.add(COMPLETED);\n        }\n        if (item.status.toLowerCase() === 'notstarted') {\n          itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n          itemElement.classList.add(NOTSTARTED);\n        }\n      }\n      this.isProtectedOnChange = prevOnChange_1;\n      this.updateIndicatorStatus(i, itemElement);\n    }\n    this.updateStepInteractions();\n  };\n  Stepper.prototype.calculateProgressbarPos = function () {\n    var _this = this;\n    if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) && !this.element.classList.contains(STEPINDICATOR) && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n      var progressPos = this.element.querySelector('.e-stepper-progressbar');\n      var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].firstChild;\n      var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n      if (this.element.classList.contains(RTL)) {\n        value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right + selectedEle.offsetWidth / 2) / progressPos.offsetWidth * 100;\n        this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n      } else {\n        this.progressbar.style.setProperty(PROGRESSVALUE, value + '%');\n      }\n    } else {\n      var totalLiWidth_1 = 0;\n      var activeLiWidth_1 = 0;\n      this.stepperItemElements.forEach(function (element, index) {\n        var itemWidth = element.offsetWidth;\n        totalLiWidth_1 += itemWidth;\n        if (index <= _this.activeStep) {\n          activeLiWidth_1 += index === _this.activeStep && index !== 0 ? itemWidth / 2 : itemWidth;\n        }\n      });\n      var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth_1) / (this.stepperItemElements.length - 1);\n      var progressValue = (activeLiWidth_1 + spaceWidth * this.activeStep) / this.stepperItemList.offsetWidth * 100;\n      this.progressbar.style.setProperty(PROGRESSVALUE, progressValue + '%');\n    }\n  };\n  Stepper.prototype.updateIndicatorStatus = function (index, itemElement) {\n    if (this.renderDefault(index) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid') && !itemElement.classList.contains('e-step-error')) {\n      if (itemElement.classList.contains(COMPLETED)) {\n        itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n        itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n      } else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n        itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n        itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n      }\n    }\n  };\n  Stepper.prototype.updateStepInteractions = function () {\n    var _this = this;\n    this.element.classList.toggle(LINEARSTEP, this.linear);\n    this.stepperItemElements.forEach(function (step, index) {\n      step.classList.toggle(PREVSTEP, index === _this.activeStep - 1);\n      step.classList.toggle(NEXTSTEP, index === _this.activeStep + 1);\n    });\n  };\n  Stepper.prototype.removeItemElements = function () {\n    for (var i = 0; i < this.stepperItemElements.length; i++) {\n      remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n    }\n    this.stepperItemElements = [];\n  };\n  /**\n   * Move to next step from current step in Stepper.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.nextStep = function () {\n    if (this.activeStep !== this.steps.length - 1) {\n      this.navigateToStep(this.activeStep + 1, null, null, false);\n    }\n  };\n  /**\n   * Move to previous step from current step in Stepper.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.previousStep = function () {\n    if (this.activeStep > 0) {\n      this.navigateToStep(this.activeStep - 1, null, null, false);\n    }\n  };\n  /**\n   * Reset the state of the Stepper and move to the first step.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.reset = function () {\n    if (this.activeStep === 0) {\n      this.updateStepInteractions();\n    } else {\n      var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n      this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n    }\n  };\n  /**\n   * Refreshes the position of the progress bar programmatically when the dimensions of the parent container are changed.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.refreshProgressbar = function () {\n    if (this.stepperItemList && this.progressbar) {\n      this.setProgressPosition(this.element);\n    }\n    this.navigateToStep(this.activeStep, null, null, false, false);\n  };\n  Stepper.prototype.updateElementClassArray = function () {\n    var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top', 'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP, LINEARSTEP];\n    removeClass([this.element], classArray);\n  };\n  /**\n   * Destroy the stepper control.\n   *\n   * @returns {void}\n   */\n  Stepper.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    this.unWireEvents();\n    this.unWireItemsEvents();\n    // unwires the events and detach the li elements\n    this.removeItemElements();\n    this.clearTemplate();\n    if (this.stepperItemList) {\n      remove(this.stepperItemList);\n    }\n    this.stepperItemList = null;\n    if (this.progressStep) {\n      remove(this.progressStep);\n    }\n    this.progressStep = null;\n    this.progressbar = null;\n    this.progressBarPosition = null;\n    this.stepperItemContainer = null;\n    this.textContainer = null;\n    this.labelContainer = null;\n    this.updateElementClassArray();\n    this.element.removeAttribute('aria-label');\n    if (this.showTooltip) {\n      this.tooltipObj.destroy();\n      this.tooltipObj = null;\n    }\n    if (this.keyboardModuleStepper) {\n      this.keyboardModuleStepper.destroy();\n    }\n    this.keyboardModuleStepper = null;\n  };\n  Stepper.prototype.wireKeyboardEvent = function () {\n    this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  Stepper.prototype.keyActionHandler = function (e) {\n    if (this.readOnly) {\n      return;\n    }\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n      case 'leftarrow':\n      case 'rightarrow':\n      case 'tab':\n      case 'shiftTab':\n        this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow' : e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow', e);\n        break;\n      case 'space':\n      case 'enter':\n      case 'escape':\n        this.handleNavigation(null, e);\n        break;\n      case 'home':\n      case 'end':\n        this.handleNavigation(null, e, this.enableRtl);\n        break;\n    }\n  };\n  Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n    this.isKeyNavFocus = true;\n    this.element.classList.add('e-steps-focus');\n    var focusedEle = this.element.querySelector('.' + FOCUS);\n    if (!focusedEle) {\n      focusedEle = this.element.querySelector('.' + SELECTED);\n    }\n    var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n    var index = stepItems.indexOf(focusedEle);\n    if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n      if (e.action === 'tab' && index === stepItems.length - 1 || e.action === 'shiftTab' && index === 0) {\n        if (focusedEle.classList.contains(FOCUS)) {\n          this.updateStepFocus();\n          return;\n        }\n      } else {\n        e.preventDefault();\n      }\n    }\n    if (e.action === 'escape') {\n      stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n      this.element.classList.remove('e-steps-focus');\n    }\n    if (!(e.action === 'space' || e.action === 'enter')) {\n      var prevIndex = index;\n      index = isNextStep ? index + 1 : index - 1;\n      while (index >= 0 && index < stepItems.length && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n        index = isNextStep ? index + 1 : index - 1;\n      }\n      index = index < 0 ? 0 : index > stepItems.length - 1 ? stepItems.length - 1 : index;\n      if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n        stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n      }\n      if (e.action === 'home' || e.action === 'end') {\n        if (e.action === 'home') {\n          index = isRTL ? stepItems.length - 1 : 0;\n        } else {\n          index = isRTL ? 0 : stepItems.length - 1;\n        }\n      }\n      if (index >= 0 && index < stepItems.length) {\n        stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n      }\n    } else if (e.action === 'space' || e.action === 'enter') {\n      var isupdateFocus = false;\n      if (this.linear) {\n        var linearModeValue = this.activeStep - index;\n        if (Math.abs(linearModeValue) === 1) {\n          this.navigateToStep(index, null, null, true);\n          isupdateFocus = true;\n        }\n      } else {\n        this.navigateToStep(index, null, null, true);\n        isupdateFocus = true;\n      }\n      if (isupdateFocus) {\n        this.updateStepFocus();\n        this.stepperItemElements[index].focus();\n      }\n    }\n  };\n  Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n    this.updateElementClassArray();\n    this.removeItemElements();\n    this.element.querySelector('.e-stepper-progressbar').remove();\n    if (isUpdate) {\n      this.updatePosition();\n    }\n    if (isStepType) {\n      this.updateStepType();\n    }\n    if (this.readOnly && !this.element.classList.contains(READONLY)) {\n      this.element.classList.add(READONLY);\n    }\n    if (this.enableRtl && !this.element.classList.contains(RTL)) {\n      this.element.classList.add(RTL);\n    }\n    this.updateOrientaion(this.element);\n    this.renderItems();\n    this.renderProgressBar(this.element);\n    this.checkValidStep();\n    this.updateAnimation();\n    this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n  };\n  Stepper.prototype.updateDynamicSteps = function (steps, prevSteps) {\n    if (!(steps instanceof Array && prevSteps instanceof Array)) {\n      var stepCounts = Object.keys(steps);\n      for (var i = 0; i < stepCounts.length; i++) {\n        var index = parseInt(Object.keys(steps)[i], 10);\n        var changedPropsCount = Object.keys(steps[index]).length;\n        for (var j = 0; j < changedPropsCount; j++) {\n          var property = Object.keys(steps[index])[j];\n          if (property === 'status') {\n            if (this.activeStep === index) {\n              this.navigationHandler(index, steps[index].status);\n            } else {\n              this.steps[index].status = prevSteps[index].status;\n            }\n          } else {\n            this.removeItemElements();\n            this.renderItems();\n            this.updateStepperStatus();\n          }\n          if (property === 'label' && (this.steps[index].iconCss || this.steps[index].text) && this.stepType.toLowerCase() === 'default') {\n            this.refreshProgressbar();\n          }\n          this.updateStepInteractions();\n          this.checkValidStep();\n        }\n      }\n    } else {\n      this.renderStepperItems(true, true);\n    }\n  };\n  Stepper.prototype.updateDynamicActiveStep = function (activeStep, preActiveStep) {\n    this.activeStep = activeStep > this.steps.length - 1 || activeStep < -1 ? preActiveStep : this.activeStep;\n    if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(DISABLED)) {\n      this.activeStep = preActiveStep;\n    }\n    if (this.linear) {\n      var linearModeValue = preActiveStep - this.activeStep;\n      if (Math.abs(linearModeValue) === 1) {\n        this.navigateToStep(this.activeStep, null, null, true);\n      }\n    } else {\n      this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n    }\n  };\n  Stepper.prototype.updateDynamicCssClass = function (cssClass, prevCssClass) {\n    if (prevCssClass) {\n      removeClass([this.element], prevCssClass.trim().split(' '));\n    }\n    if (cssClass) {\n      addClass([this.element], cssClass.trim().split(' '));\n    }\n    if (this.tooltipObj) {\n      this.tooltipObj.setProperties({\n        cssClass: this.cssClass ? STEPPERTOOLTIP + ' ' + this.cssClass : STEPPERTOOLTIP\n      });\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {StepperModel} newProp - Specifies new properties\n   * @param  {StepperModel} oldProp - Specifies old properties\n   * @returns {void}\n   * @private\n   */\n  Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'steps':\n          {\n            this.updateDynamicSteps(newProp.steps, oldProp.steps);\n            break;\n          }\n        case 'orientation':\n          this.updateOrientaion(this.element);\n          this.renderStepperItems(true);\n          break;\n        case 'activeStep':\n          this.updateDynamicActiveStep(newProp.activeStep, oldProp.activeStep);\n          break;\n        case 'enableRtl':\n          this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n          break;\n        case 'readOnly':\n          this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n          break;\n        case 'cssClass':\n          this.updateDynamicCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n        case 'labelPosition':\n          this.renderStepperItems(true);\n          break;\n        case 'showTooltip':\n          this.updateTooltip();\n          break;\n        case 'stepType':\n          this.renderStepperItems(true, true);\n          break;\n        case 'template':\n          this.updateTemplateFunction();\n          this.updateContent();\n          break;\n        case 'animation':\n          this.updateAnimation();\n          break;\n        case 'linear':\n          this.updateStepInteractions();\n          break;\n      }\n    }\n  };\n  __decorate([Property(0)], Stepper.prototype, \"activeStep\", void 0);\n  __decorate([Complex({}, StepperAnimationSettings)], Stepper.prototype, \"animation\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"linear\", void 0);\n  __decorate([Property(false)], Stepper.prototype, \"showTooltip\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"template\", void 0);\n  __decorate([Property('')], Stepper.prototype, \"tooltipTemplate\", void 0);\n  __decorate([Property(StepLabelPosition.Bottom)], Stepper.prototype, \"labelPosition\", void 0);\n  __decorate([Property(StepType.Default)], Stepper.prototype, \"stepType\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanged\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepChanging\", void 0);\n  __decorate([Event()], Stepper.prototype, \"stepClick\", void 0);\n  __decorate([Event()], Stepper.prototype, \"beforeStepRender\", void 0);\n  Stepper = __decorate([NotifyPropertyChanges], Stepper);\n  return Stepper;\n}(StepperBase);\nexport { Stepper };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","attributes","NotifyPropertyChanges","L10n","append","isNullOrUndefined","getUniqueID","Complex","KeyboardEvents","ChildProperty","Property","EventHandler","Event","addClass","remove","removeClass","initializeCSPTemplate","select","compile","StepperBase","StepStatus","Tooltip","ITEMCONTAINER","ITEMLIST","ICONCSS","TEXTCSS","STEPLABEL","OPTIONAL","SELECTED","INPROGRESS","NOTSTARTED","FOCUS","COMPLETED","DISABLED","READONLY","PROGRESSVALUE","RTL","TEMPLATE","LABELAFTER","LABELBEFORE","VERTICALSTEP","HORIZSTEP","STEPICON","STEPTEXT","TEXT","STEPSLABEL","LABEL","STEPINDICATOR","LABELINDICATOR","INDICATORICON","STEPPERTOOLTIP","STEPPERIPROGRESSTIP","LINEARSTEP","PREVSTEP","NEXTSTEP","StepperAnimationSettings","_super","apply","StepLabelPosition","StepType","Stepper","options","element","_this","call","stepperItemElements","preRender","id","getModuleName","localeText","optional","l10n","locale","keyConfigs","downarrow","leftarrow","rightarrow","uparrow","space","enter","home","end","tab","shiftTab","escape","tooltipOpen","render","initialize","navigationHandler","activeStep","updateStepperStatus","setAttribute","updatePosition","stepperItemList","createElement","className","updateOrientaion","updateStepType","appendChild","cssClass","trim","split","readOnly","classList","add","enableRtl","wireEvents","updateTemplateFunction","renderItems","steps","initiateProgressBar","checkValidStep","updateAnimation","updateTooltip","wireKeyboardEvent","isAngular","template","setTimeout","renderProgressBar","progressBarPosition","beforeLabelWidth","textEleWidth","renderDefault","index","step","parseInt","toString","iconCss","text","label","progressEle","querySelector","animation","enable","duration","style","setProperty","delay","stepType","stepTypeLower","toLowerCase","validStepTypes","indexOf","labelContainer","clearLabelPosition","window","updateResize","updateStepFocus","unWireEvents","progressbar","contains","setProgressPosition","navigateToStep","isKeyNavFocus","isFocus","isInitial","item","status_1","status","prevOnChange","isProtectedOnChange","InProgress","itemElement","updateStatusClass","currentStep","ele","isInprogress","stepItem","Completed","_a","isHorizontal","isVertical","labelPositionLower","labelPosition","stepperItemContainer","stepSpan","isItemLabel","isItemText","isIndicator","isIndicator_1","isValid","innerHTML","isRender","itemIcon","concat","createTextLabelElement","checkValidState","textSpan","innerText","updateLabelPosition","iconSpan","optionalSpan","setLocale","optionalContent","getConstant","disabled","renderItemContent","wireItemsEvents","push","eventArgs","trigger","args","calculateProgressBarPosition","listItems","querySelectorAll","labelEle","content","isLabelEle","spanEle","isBeforeLabel","iconOnly","textEle","offsetWidth","labelWidth","Math","max","iconEle","lastChild","textEle_1","itemWidth","lastChildWidth","firstChild","isLabel","updateCurrentLabel","labelPos","currentLabelPos","orientation","before","removeCss","value","match","isStepIndicator","_loop_1","this_1","indicatorEle","iconEle_1","textLabelIcon","validStep","validIconClass","forEach","icon","getBoundingClientRect","left","validationIcon","showTooltip","tooltipObj","windowCollision","opensOn","position","appendTo","destroy","linearModeHandler","bind","openStepperTooltip","closeStepperTooltip","unWireItemsEvents","e","linear","linearModeValue","abs","stepClickHandler","updateTooltipContent","open","toLocaleLowerCase","tooltipPopupClass","setProperties","close","isReact","clearTemplate","tooltipTemplate","templateFunction","getTemplateFunction","isStringTemplate","content_1","renderReactTemplates","clickEventArgs","event","previousStep","isrerender","removeItemContent","firstElementChild","childElementCount","updateContent","tempEle","tagName","outerHTML","isInteracted","isUpdated","cancel","previousStep_1","stepStatus","min","Itemslength","calculateProgressbarPos","prevOnChange_1","NotStarted","updateIndicatorStatus","updateStepInteractions","progressPos","selectedEle","offsetLeft","right","totalLiWidth_1","activeLiWidth_1","spaceWidth","progressValue","toggle","removeItemElements","nextStep","reset","isDisabled","refreshProgressbar","updateElementClassArray","classArray","progressStep","textContainer","removeAttribute","keyboardModuleStepper","keyAction","keyActionHandler","eventName","action","handleNavigation","isNextStep","isRTL","focusedEle","stepItems","slice","children","preventDefault","prevIndex","isupdateFocus","focus","renderStepperItems","isUpdate","isStepType","updateDynamicSteps","prevSteps","stepCounts","keys","changedPropsCount","j","property","updateDynamicActiveStep","preActiveStep","updateDynamicCssClass","prevCssClass","onPropertyChanged","newProp","oldProp","_i","prop","Bottom","Default"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-navigations/src/stepper/stepper.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../stepper-base/stepper-base-model.d.ts'/>\nimport { attributes, NotifyPropertyChanges, L10n, append, isNullOrUndefined, getUniqueID, Complex, KeyboardEvents, ChildProperty, Property, EventHandler, Event, addClass, remove, removeClass, initializeCSPTemplate, select, compile } from '@syncfusion/ej2-base';\nimport { StepperBase, StepStatus } from '../stepper-base/stepper-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nvar ITEMCONTAINER = 'e-step-container';\nvar ITEMLIST = 'e-stepper-steps';\nvar ICONCSS = 'e-indicator';\nvar TEXTCSS = 'e-step-text-container';\nvar STEPLABEL = 'e-step-label-container';\nvar OPTIONAL = 'e-step-label-optional';\nvar SELECTED = 'e-step-selected';\nvar INPROGRESS = 'e-step-inprogress';\nvar NOTSTARTED = 'e-step-notstarted';\nvar FOCUS = 'e-step-focus';\nvar COMPLETED = 'e-step-completed';\nvar DISABLED = 'e-step-disabled';\nvar READONLY = 'e-stepper-readonly';\nvar PROGRESSVALUE = '--progress-value';\nvar RTL = 'e-rtl';\nvar TEMPLATE = 'e-step-template';\nvar LABELAFTER = 'e-label-after';\nvar LABELBEFORE = 'e-label-before';\nvar VERTICALSTEP = 'e-vertical';\nvar HORIZSTEP = 'e-horizontal';\nvar STEPICON = 'e-step-item';\nvar STEPTEXT = 'e-step-text';\nvar TEXT = 'e-text';\nvar STEPSLABEL = 'e-step-label';\nvar LABEL = 'e-label';\nvar STEPINDICATOR = 'e-step-type-indicator';\nvar LABELINDICATOR = 'e-step-type-label';\nvar INDICATORICON = 'e-step-indicator';\nvar STEPPERTOOLTIP = 'e-stepper-tooltip';\nvar STEPPERIPROGRESSTIP = 'e-step-inprogress-tip';\nvar LINEARSTEP = 'e-linear';\nvar PREVSTEP = 'e-previous';\nvar NEXTSTEP = 'e-next';\n/**\n * Defines the step progress animation of the Stepper.\n */\nvar StepperAnimationSettings = /** @class */ (function (_super) {\n    __extends(StepperAnimationSettings, _super);\n    function StepperAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], StepperAnimationSettings.prototype, \"enable\", void 0);\n    __decorate([\n        Property(2000)\n    ], StepperAnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], StepperAnimationSettings.prototype, \"delay\", void 0);\n    return StepperAnimationSettings;\n}(ChildProperty));\nexport { StepperAnimationSettings };\n/**\n * Defines the label position in the Stepper.\n */\nexport var StepLabelPosition;\n(function (StepLabelPosition) {\n    /**\n     * Displays the label on top position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Top\"] = \"Top\";\n    /**\n     * Displays the label on bottom position regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Bottom\"] = \"Bottom\";\n    /**\n     * Displays the label on left side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"Start\"] = \"Start\";\n    /**\n     * Displays the label on right side regardless of the Stepper's orientation.\n     */\n    StepLabelPosition[\"End\"] = \"End\";\n})(StepLabelPosition || (StepLabelPosition = {}));\n/**\n * Defines whether steps are display with only indicator, only labels or combination of both.\n */\nexport var StepType;\n(function (StepType) {\n    /**\n     * Steps are shown indicator with label defined.\n     */\n    StepType[\"Default\"] = \"Default\";\n    /**\n     * Steps are shown with only label.\n     */\n    StepType[\"Label\"] = \"Label\";\n    /**\n     * Steps are shown with only indicator.\n     */\n    StepType[\"Indicator\"] = \"Indicator\";\n})(StepType || (StepType = {}));\n/**\n * The Stepper component visualizes several steps and indicates the current progress by highlighting already completed steps.\n *\n * ```html\n * <nav id=\"stepper\"></nav>\n * ```\n * ```typescript\n * <script>\n *   let stepperObj: Stepper = new Stepper({steps : [{}, {}, {}, {}, {}]});\n *   stepperObj.appendTo('#stepper');\n * </script>\n * ```\n */\nvar Stepper = /** @class */ (function (_super) {\n    __extends(Stepper, _super);\n    /**\n     * * Constructor for creating the Stepper component.\n     *\n     * @param {StepperModel} options - Specifies the Stepper model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Stepper(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.stepperItemElements = [];\n        return _this;\n    }\n    Stepper.prototype.preRender = function () {\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        var localeText = { optional: 'Optional' };\n        this.l10n = new L10n('stepper', localeText, this.locale);\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            leftarrow: 'leftarrow',\n            rightarrow: 'rightarrow',\n            uparrow: 'uparrow',\n            space: 'space',\n            enter: 'enter',\n            home: 'home',\n            end: 'end',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            escape: 'escape'\n        };\n        this.tooltipOpen = false;\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Stepper.prototype.getModuleName = function () {\n        return 'stepper';\n    };\n    Stepper.prototype.render = function () {\n        this.initialize();\n        this.navigationHandler(this.activeStep, null, false);\n        this.updateStepperStatus(true);\n    };\n    Stepper.prototype.initialize = function () {\n        this.element.setAttribute('aria-label', this.element.id);\n        this.updatePosition();\n        this.stepperItemList = this.createElement('ol', { className: ITEMLIST });\n        this.updateOrientaion(this.element);\n        this.updateStepType();\n        this.element.appendChild(this.stepperItemList);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.trim().split(' '));\n        }\n        if (this.readOnly) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(RTL);\n        }\n        this.wireEvents();\n        this.updateTemplateFunction();\n        this.renderItems();\n        if (this.steps.length > 0) {\n            this.initiateProgressBar();\n            this.checkValidStep();\n            this.updateAnimation();\n            this.updateTooltip();\n            this.wireKeyboardEvent();\n        }\n    };\n    Stepper.prototype.initiateProgressBar = function () {\n        var _this = this;\n        if (this.steps.length > 1) {\n            if (this.isAngular && this.template) {\n                setTimeout(function () { _this.renderProgressBar(_this.element); });\n            }\n            else {\n                this.renderProgressBar(this.element);\n            }\n        }\n    };\n    Stepper.prototype.updatePosition = function () {\n        this.progressBarPosition = this.beforeLabelWidth = this.textEleWidth = 0;\n    };\n    Stepper.prototype.renderDefault = function (index) {\n        var step = this.steps[parseInt(index.toString(), 10)];\n        return !step.iconCss && !step.text && !step.label;\n    };\n    Stepper.prototype.updateAnimation = function () {\n        var progressEle = this.element.querySelector('.e-progressbar-value');\n        if (this.animation.enable) {\n            if (this.animation.duration >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--duration', ((this.animation.duration) + 'ms'));\n                }\n            }\n            if (this.animation.delay >= 0) {\n                if (progressEle) {\n                    progressEle.style.setProperty('--delay', ((this.animation.delay) + 'ms'));\n                }\n            }\n        }\n        else {\n            if (progressEle) {\n                progressEle.style.setProperty('--delay', (0 + 'ms'));\n                progressEle.style.setProperty('--duration', (0 + 'ms'));\n            }\n        }\n    };\n    Stepper.prototype.updateStepType = function () {\n        if (!isNullOrUndefined(this.stepType)) {\n            var stepTypeLower = this.stepType.toLowerCase();\n            var validStepTypes = ['indicator', 'label', 'default'];\n            if (validStepTypes.indexOf(stepTypeLower) !== -1) {\n                if (stepTypeLower !== 'default') {\n                    this.element.classList.add('e-step-type-' + stepTypeLower);\n                }\n                if ((stepTypeLower === 'indicator' || stepTypeLower === 'label') && this.labelContainer) {\n                    this.clearLabelPosition();\n                }\n            }\n        }\n    };\n    Stepper.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.updateResize, this);\n        EventHandler.add(window, 'click', this.updateStepFocus, this);\n    };\n    Stepper.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.updateResize);\n        EventHandler.remove(window, 'click', this.updateStepFocus);\n    };\n    Stepper.prototype.updateResize = function () {\n        if (this.stepperItemList && this.progressbar && this.element.classList.contains(HORIZSTEP)) {\n            this.setProgressPosition(this.element, true);\n        }\n        this.navigateToStep(this.activeStep, null, null, false, false);\n    };\n    Stepper.prototype.updateStepFocus = function () {\n        if (this.isKeyNavFocus) {\n            this.isKeyNavFocus = false;\n            var isFocus = this.element.querySelector('.' + FOCUS);\n            if (isFocus) {\n                isFocus.classList.remove(FOCUS);\n                this.element.classList.remove('e-steps-focus');\n            }\n        }\n    };\n    Stepper.prototype.updateStepperStatus = function (isInitial) {\n        for (var index = 0; index < this.steps.length; index++) {\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var status_1 = item.status.toLowerCase();\n            if (isInitial && this.activeStep === 0 && index === 0) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                item.status = StepStatus.InProgress;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            if (item && status_1 !== 'notstarted' && index === this.activeStep) {\n                for (var i = 0; i < this.steps.length; i++) {\n                    var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    if (status_1 === 'completed') {\n                        this.updateStatusClass(i, index, itemElement);\n                    }\n                    else {\n                        this.updateStatusClass(i, index, itemElement, true);\n                    }\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            else if (item && status_1 !== 'notstarted' && index !== this.activeStep) {\n                this.navigationHandler(this.activeStep, null, true);\n            }\n        }\n    };\n    Stepper.prototype.updateStatusClass = function (currentStep, index, ele, isInprogress) {\n        var stepItem = this.steps[parseInt(currentStep.toString(), 10)];\n        if (currentStep < index) {\n            ele.classList.add(COMPLETED);\n            stepItem.status = StepStatus.Completed;\n        }\n        else if (currentStep === index) {\n            ele.classList.add(isInprogress ? INPROGRESS : COMPLETED, SELECTED);\n        }\n        else {\n            ele.classList.add(NOTSTARTED);\n        }\n    };\n    Stepper.prototype.renderItems = function () {\n        var _this = this;\n        var _a;\n        var isHorizontal = this.element.classList.contains(HORIZSTEP);\n        var isVertical = this.element.classList.contains(VERTICALSTEP);\n        var labelPositionLower = !isNullOrUndefined(this.labelPosition) ? this.labelPosition.toLowerCase() : '';\n        for (var index = 0; index < this.steps.length; index++) {\n            this.stepperItemContainer = this.createElement('li', { className: ITEMCONTAINER });\n            var stepSpan = this.createElement('span', { className: 'e-step' });\n            var item = this.steps[parseInt(index.toString(), 10)];\n            var isItemLabel = item.label ? true : false;\n            var isItemText = item.text ? true : false;\n            var isIndicator = this.element.classList.contains(STEPINDICATOR);\n            this.stepperItemContainer.classList[(index === 0) ? 'add' : 'remove'](SELECTED, INPROGRESS);\n            this.stepperItemContainer.classList[(index !== 0) ? 'add' : 'remove'](NOTSTARTED);\n            if (isHorizontal) {\n                this.stepperItemContainer.style.setProperty('--max-width', 100 / this.steps.length + '%');\n            }\n            if (this.renderDefault(index) && (isNullOrUndefined(this.template) || this.template === '')) {\n                var isIndicator_1 = !this.element.classList.contains('e-step-type-default') && this.stepType.toLowerCase() === 'indicator';\n                if (isIndicator_1) {\n                    stepSpan.classList.add('e-icons', INDICATORICON);\n                }\n                if (!isIndicator_1 && item.isValid == null) {\n                    stepSpan.classList.add('e-step-content');\n                    stepSpan.innerHTML = (index + 1).toString();\n                }\n                this.stepperItemContainer.appendChild(stepSpan);\n            }\n            else if (isNullOrUndefined(this.template) || this.template === '') {\n                var isRender = true;\n                if ((item.iconCss || (!item.iconCss && isItemText && isItemLabel)) && (((!isItemText && !isItemLabel) ||\n                    !this.element.classList.contains(LABELINDICATOR)))) {\n                    if (item.iconCss) {\n                        var itemIcon = item.iconCss.trim().split(' ');\n                        (_a = stepSpan.classList).add.apply(_a, [ICONCSS].concat(itemIcon));\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    else if (!item.iconCss && isItemText && isItemLabel) {\n                        stepSpan.classList.add(ICONCSS);\n                        stepSpan.innerHTML = item.text;\n                        this.stepperItemContainer.classList.add(STEPICON);\n                    }\n                    this.stepperItemContainer.appendChild(stepSpan);\n                    if (((isHorizontal && (labelPositionLower === 'start' || labelPositionLower === 'end') && isItemLabel) ||\n                        (isVertical && (labelPositionLower === 'top' || labelPositionLower === 'bottom') && isItemLabel)) && !isIndicator) {\n                        this.element.classList.add('e-label-' + labelPositionLower);\n                        this.createTextLabelElement(item.label);\n                        isRender = false;\n                    }\n                }\n                if (isItemText && (!item.iconCss || !isIndicator) && isRender &&\n                    !(item.iconCss && isItemLabel)) {\n                    if ((!item.iconCss && isIndicator) ||\n                        ((!item.iconCss || this.element.classList.contains(LABELINDICATOR)) && !isItemLabel)) {\n                        if (!item.iconCss && !isItemLabel) {\n                            this.element.classList.add('e-step-type-indicator');\n                        }\n                        this.checkValidState(item, stepSpan);\n                        isItemLabel = false;\n                    }\n                    else {\n                        if (!isItemLabel) {\n                            this.createTextLabelElement(item.text);\n                        }\n                        if (isItemLabel && this.element.classList.contains(LABELINDICATOR)) {\n                            var textSpan = this.createElement('span', { className: TEXT });\n                            textSpan.innerText = item.label;\n                        }\n                        isItemText = isItemLabel ? false : true;\n                    }\n                }\n                if (isItemLabel && isItemLabel && (!item.iconCss || !isIndicator) && isRender) {\n                    if (!item.iconCss && !isItemText && isIndicator) {\n                        this.checkValidState(item, stepSpan, true);\n                    }\n                    else if ((!((this.element.classList.contains(LABELINDICATOR)) && isItemText)) ||\n                        (this.element.classList.contains(LABELINDICATOR) && isItemLabel)) {\n                        this.createTextLabelElement(item.label, true);\n                        this.updateLabelPosition();\n                        if ((!item.iconCss && !isItemText && !this.stepperItemContainer.classList.contains(STEPICON)) ||\n                            this.element.classList.contains(LABELINDICATOR)) {\n                            this.stepperItemContainer.classList.add('e-step-label-only');\n                            if (item.isValid !== null) {\n                                var iconSpan = this.createElement('span', { className: 'e-step-validation-icon e-icons' });\n                                this.labelContainer.appendChild(iconSpan);\n                            }\n                        }\n                    }\n                }\n            }\n            if (item.optional) {\n                var optionalSpan = this.createElement('span', { className: OPTIONAL });\n                this.l10n.setLocale(this.locale);\n                var optionalContent = this.l10n.getConstant('optional');\n                optionalSpan.innerText = optionalContent;\n                if (isItemLabel && (this.labelContainer && ((this.element.classList.contains(LABELAFTER) && !this.stepperItemContainer.classList.contains('e-step-label-only'))\n                    || (isHorizontal && this.element.classList.contains(LABELBEFORE) && !this.stepperItemContainer.classList.contains('e-step-label-only'))))\n                    || (isVertical && this.element.classList.contains(LABELBEFORE))) {\n                    this.labelContainer.appendChild(optionalSpan);\n                }\n                else {\n                    this.stepperItemContainer.appendChild(optionalSpan);\n                }\n                if (item.isValid !== null) {\n                    this.stepperItemContainer.classList.add(item.isValid ? 'e-step-valid' : 'e-step-error');\n                }\n            }\n            if (item.cssClass) {\n                addClass([this.stepperItemContainer], item.cssClass.trim().split(' '));\n            }\n            if (item.disabled) {\n                this.stepperItemContainer.classList[item.disabled ? 'add' : 'remove'](DISABLED);\n                attributes(this.stepperItemContainer, { 'tabindex': '-1', 'aria-disabled': 'true' });\n            }\n            if (item.isValid !== null) {\n                if (item.isValid) {\n                    this.stepperItemContainer.classList.add('e-step-valid');\n                }\n                else {\n                    this.stepperItemContainer.classList.add('e-step-error');\n                }\n            }\n            this.renderItemContent(index, false);\n            if (this.stepperItemContainer.classList.contains(INPROGRESS)) {\n                attributes(this.stepperItemContainer, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(this.stepperItemContainer, { 'tabindex': '-1' });\n            }\n            this.wireItemsEvents(this.stepperItemContainer, index);\n            this.stepperItemElements.push(this.stepperItemContainer);\n            var eventArgs = { element: this.stepperItemContainer, index: index };\n            this.trigger('beforeStepRender', eventArgs, function (args) {\n                _this.stepperItemList.appendChild(args.element);\n            });\n            if (isVertical) {\n                if (this.isAngular && this.template) {\n                    setTimeout(function () { _this.calculateProgressBarPosition(); });\n                }\n                else {\n                    this.calculateProgressBarPosition();\n                }\n            }\n        }\n        if (isVertical) {\n            if (this.element.classList.contains(LABELBEFORE)) {\n                var listItems = this.stepperItemList.querySelectorAll('.' + LABEL);\n                for (var i = 0; i < listItems.length; i++) {\n                    var labelEle = listItems[parseInt((i).toString(), 10)];\n                    labelEle.style.setProperty('--label-width', (this.beforeLabelWidth) + 5 + 'px');\n                }\n            }\n        }\n    };\n    Stepper.prototype.createTextLabelElement = function (content, isLabelEle) {\n        if (isLabelEle === void 0) { isLabelEle = false; }\n        var spanEle = this.createElement('span', { className: isLabelEle ? LABEL : TEXTCSS + \" \" + TEXT });\n        spanEle.innerText = content;\n        if (isLabelEle) {\n            this.labelContainer = this.createElement('span', { className: STEPLABEL });\n            this.labelContainer.appendChild(spanEle);\n        }\n        else {\n            this.stepperItemContainer.appendChild(spanEle);\n        }\n        this.stepperItemContainer.classList.add(isLabelEle ? STEPSLABEL : STEPTEXT);\n    };\n    Stepper.prototype.calculateProgressBarPosition = function () {\n        var isBeforeLabel = (this.element.classList.contains(LABELBEFORE)) ? true : false;\n        var iconOnly = (this.stepperItemContainer.classList.contains(STEPICON) &&\n            !this.stepperItemContainer.classList.contains(STEPTEXT) &&\n            !this.stepperItemContainer.classList.contains(STEPSLABEL));\n        var textEle = (this.stepperItemContainer.querySelector('.' + TEXTCSS));\n        if (textEle) {\n            this.textEleWidth = this.textEleWidth < textEle.offsetWidth ? textEle.offsetWidth : this.textEleWidth;\n        }\n        if (isBeforeLabel) {\n            var labelWidth = this.stepperItemContainer.querySelector('.' + LABEL).offsetWidth + 15;\n            this.beforeLabelWidth = Math.max(this.beforeLabelWidth, labelWidth);\n            var iconEle = this.element.querySelector('ol').lastChild.querySelector('.' + ICONCSS);\n            var textEle_1 = this.stepperItemContainer.querySelector('.' + TEXTCSS);\n            if (iconEle || textEle_1) {\n                var itemWidth = this.beforeLabelWidth + ((this.stepperItemContainer.querySelector('.' + ICONCSS)\n                    || textEle_1).offsetWidth / 2);\n                this.progressBarPosition = Math.max(this.progressBarPosition, itemWidth);\n            }\n            else {\n                this.progressBarPosition = Math.max(this.progressBarPosition, (this.beforeLabelWidth / 2));\n            }\n        }\n        else {\n            var lastChild = this.element.querySelector('ol').lastChild;\n            var lastChildWidth = iconOnly ? this.stepperItemContainer.offsetWidth :\n                lastChild.firstChild.offsetWidth;\n            this.progressBarPosition = Math.max(this.progressBarPosition, lastChildWidth);\n        }\n    };\n    Stepper.prototype.checkValidState = function (item, stepSpan, isLabel) {\n        if (item.isValid == null) {\n            stepSpan.classList.add('e-step-content');\n            if (isLabel) {\n                stepSpan.innerHTML = item.label;\n            }\n            else {\n                stepSpan.innerHTML = item.label ? item.label : item.text;\n            }\n            this.stepperItemContainer.appendChild(stepSpan);\n        }\n        else {\n            stepSpan.classList.add(ICONCSS);\n            this.stepperItemContainer.appendChild(stepSpan);\n            this.stepperItemContainer.classList.add(STEPICON);\n        }\n    };\n    Stepper.prototype.updateCurrentLabel = function () {\n        var labelPos = this.labelPosition.toLowerCase();\n        var currentLabelPos = this.element.classList.contains(HORIZSTEP)\n            ? (labelPos === 'top' ? 'before' : labelPos === 'bottom' ? 'after' : labelPos)\n            : (labelPos === 'start' ? 'before' : labelPos === 'end' ? 'after' : labelPos);\n        return currentLabelPos;\n    };\n    Stepper.prototype.updateLabelPosition = function () {\n        this.clearLabelPosition();\n        this.labelContainer.classList.add('e-label-' + this.updateCurrentLabel());\n        if (this.labelPosition.toLowerCase() === 'start' && this.orientation.toLowerCase() === 'vertical') {\n            if (this.stepperItemContainer.firstChild) {\n                this.stepperItemContainer.firstChild.before(this.labelContainer);\n            }\n            else {\n                this.stepperItemContainer.appendChild(this.labelContainer);\n            }\n        }\n        else {\n            this.stepperItemContainer.appendChild(this.labelContainer);\n        }\n        this.element.classList.add('e-label-' + this.updateCurrentLabel());\n    };\n    Stepper.prototype.clearLabelPosition = function () {\n        var removeCss = this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);\n        if (removeCss) {\n            removeClass([this.labelContainer], removeCss);\n            removeClass([this.element], removeCss);\n        }\n    };\n    Stepper.prototype.checkValidStep = function () {\n        var isStepIndicator = this.element.classList.contains(STEPINDICATOR);\n        var _loop_1 = function (index) {\n            var item = this_1.steps[parseInt(index.toString(), 10)];\n            var itemElement = this_1.stepperItemElements[parseInt(index.toString(), 10)];\n            if (item.isValid !== null) {\n                var indicatorEle = void 0;\n                var iconEle_1;\n                if (isStepIndicator && !item.iconCss) {\n                    indicatorEle = itemElement.querySelector('.' + ICONCSS);\n                }\n                else {\n                    iconEle_1 = itemElement.querySelector('.' + ICONCSS);\n                }\n                if (!indicatorEle && isStepIndicator && this_1.renderDefault(index)) {\n                    indicatorEle = itemElement.querySelector('.' + INDICATORICON);\n                }\n                var textLabelIcon = itemElement.querySelector('.e-step-validation-icon');\n                var itemIcon = item.iconCss.trim().split(' ');\n                var validStep = itemElement.classList.contains('e-step-valid');\n                var validIconClass = validStep ? 'e-check' : 'e-circle-info';\n                if (indicatorEle) {\n                    indicatorEle.classList.remove(INDICATORICON);\n                    if (indicatorEle.innerHTML !== '') {\n                        indicatorEle.innerHTML = '';\n                    }\n                    indicatorEle.classList.add('e-icons', validIconClass, ICONCSS);\n                }\n                if (this_1.renderDefault(index) && !isStepIndicator) {\n                    var stepSpan = itemElement.querySelector('.e-step');\n                    stepSpan.classList.add('e-icons', validIconClass, ICONCSS);\n                }\n                if (iconEle_1) {\n                    if (iconEle_1.innerHTML !== '') {\n                        iconEle_1.innerHTML = '';\n                    }\n                    else if (itemIcon.length > 0) {\n                        itemIcon.forEach(function (icon) { iconEle_1.classList.remove(icon); });\n                    }\n                    iconEle_1.classList.add('e-icons', validIconClass);\n                }\n                if (textLabelIcon) {\n                    textLabelIcon.classList.add(validStep ? 'e-circle-check' : 'e-circle-info');\n                    if (this_1.element.classList.contains(VERTICALSTEP)) {\n                        var labelEle = itemElement.querySelector('.' + LABEL);\n                        var textEle = itemElement.querySelector('.' + TEXT);\n                        var itemWidth = textEle ? textEle.offsetWidth + textEle.getBoundingClientRect().left :\n                            labelEle.offsetWidth + labelEle.getBoundingClientRect().left;\n                        var validationIcon = itemElement.querySelector('.e-step-validation-icon');\n                        validationIcon.style.setProperty('--icon-position', (itemWidth + 20) + 'px');\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var index = 0; index < this.steps.length; index++) {\n            _loop_1(index);\n        }\n    };\n    Stepper.prototype.updateTooltip = function () {\n        if (this.showTooltip) {\n            this.tooltipObj = new Tooltip({\n                target: '.e-step-container', windowCollision: true,\n                opensOn: 'Custom', cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP,\n                position: 'TopCenter'\n            });\n            this.tooltipObj.appendTo(this.stepperItemList);\n        }\n        else {\n            if (!isNullOrUndefined(this.tooltipObj)) {\n                this.tooltipObj.destroy();\n                this.tooltipObj = null;\n            }\n        }\n    };\n    Stepper.prototype.wireItemsEvents = function (itemElement, index) {\n        EventHandler.add(itemElement, 'click', this.linearModeHandler.bind(this, itemElement, index), this);\n        EventHandler.add(itemElement, 'mouseover', this.openStepperTooltip.bind(this, index), this);\n        EventHandler.add(itemElement, 'mouseleave', this.closeStepperTooltip, this);\n    };\n    Stepper.prototype.unWireItemsEvents = function () {\n        for (var index = 0; index < this.steps.length; index++) {\n            var itemElement = this.stepperItemElements[parseInt(index.toString(), 10)];\n            EventHandler.remove(itemElement, 'click', this.linearModeHandler.bind(this, itemElement, index));\n            EventHandler.remove(itemElement, 'mouseover', this.openStepperTooltip.bind(this, index));\n            EventHandler.remove(itemElement, 'mouseleave', this.closeStepperTooltip);\n        }\n    };\n    Stepper.prototype.linearModeHandler = function (itemElement, index, e) {\n        if (this.linear) {\n            var linearModeValue = index - this.activeStep;\n            if (Math.abs(linearModeValue) === 1) {\n                this.stepClickHandler(index, e, itemElement);\n            }\n        }\n        else {\n            this.stepClickHandler(index, e, itemElement);\n        }\n    };\n    Stepper.prototype.openStepperTooltip = function (index) {\n        var currentStep = this.steps[parseInt(index.toString(), 10)];\n        if (this.showTooltip && (currentStep.label || currentStep.text)) {\n            if (!this.tooltipOpen) {\n                this.updateTooltipContent(index);\n                this.tooltipObj.open(this.stepperItemElements[parseInt((index).toString(), 10)]);\n                if (this.stepType.toLocaleLowerCase() !== 'label' && ((this.stepType.toLocaleLowerCase() === 'indicator') ||\n                    (currentStep.label !== '' && currentStep.iconCss !== '') || (currentStep.label === null && currentStep.iconCss === '' && currentStep.text !== ''))) {\n                    var tooltipPopupClass = currentStep.status.toLowerCase() === 'inprogress' ?\n                        STEPPERTOOLTIP + \" \" + STEPPERIPROGRESSTIP + \" \" + (this.cssClass ? this.cssClass : '') : STEPPERTOOLTIP + \" \" + (this.cssClass ? this.cssClass : '');\n                    this.tooltipObj.setProperties({ cssClass: tooltipPopupClass.trim() });\n                }\n                this.tooltipOpen = true;\n            }\n        }\n    };\n    Stepper.prototype.closeStepperTooltip = function () {\n        if (this.tooltipOpen) {\n            this.tooltipObj.close();\n            this.tooltipOpen = false;\n        }\n    };\n    Stepper.prototype.updateTooltipContent = function (index) {\n        if (this.showTooltip) {\n            if (this.isReact) {\n                this.clearTemplate(['stepperTooltipTemplate']);\n            }\n            var content = void 0;\n            var currentStep = this.steps[parseInt(index.toString(), 10)];\n            if (this.tooltipTemplate) {\n                content = this.createElement('span', { className: 'e-stepper-tooltip-content' });\n                var templateFunction = this.getTemplateFunction(this.tooltipTemplate);\n                append(templateFunction({ value: currentStep }, this, 'stepperTooltipTemplate', (this.element.id + 'tooltipTemplate'), this.isStringTemplate), content);\n                this.tooltipObj.setProperties({ content: content }, true);\n            }\n            else {\n                var content_1 = currentStep.label ? currentStep.label : currentStep.text;\n                this.tooltipObj.setProperties({ content: initializeCSPTemplate(function () { return content_1; }) }, true);\n            }\n            this.renderReactTemplates();\n        }\n    };\n    Stepper.prototype.stepClickHandler = function (index, e, itemElement) {\n        var clickEventArgs = {\n            element: itemElement, event: e, previousStep: this.activeStep,\n            activeStep: index\n        };\n        this.trigger('stepClick', clickEventArgs);\n        this.navigateToStep(index, e, itemElement, true);\n    };\n    Stepper.prototype.updateTemplateFunction = function () {\n        this.templateFunction = this.template ? this.getTemplateFunction(this.template) : null;\n    };\n    Stepper.prototype.renderItemContent = function (index, isrerender) {\n        var listItems = this.stepperItemList.querySelectorAll('li');\n        if (isrerender) {\n            this.removeItemContent(listItems[parseInt((index).toString(), 10)]);\n        }\n        if (this.template) {\n            if (isrerender) {\n                listItems[parseInt((index).toString(), 10)].classList.add(TEMPLATE);\n            }\n            else {\n                this.stepperItemContainer.classList.add(TEMPLATE);\n            }\n            var item = this.steps[parseInt(index.toString(), 10)];\n            append(this.templateFunction({ step: item, currentStep: index }, this, 'stepperTemplate', (this.element.id + '_stepperTemplate'), this.isStringTemplate), isrerender ? listItems[parseInt((index).toString(), 10)] : this.stepperItemContainer);\n        }\n        this.renderReactTemplates();\n    };\n    Stepper.prototype.removeItemContent = function (ele) {\n        ele.classList.remove(TEMPLATE);\n        var firstChild = ele.firstElementChild;\n        for (var i = 0; i < ele.childElementCount; i++) {\n            firstChild.remove();\n        }\n    };\n    Stepper.prototype.updateContent = function () {\n        if (this.isReact) {\n            this.clearTemplate(['stepperTemplate']);\n        }\n        for (var i = 0; i < this.steps.length; i++) {\n            this.renderItemContent(i, true);\n        }\n    };\n    /**\n     * Gets template content based on the template property value.\n     *\n     * @param {string | Function} template - Template property value.\n     * @returns {Function} - Return template function.\n     * @hidden\n     */\n    Stepper.prototype.getTemplateFunction = function (template) {\n        if (typeof template === 'string') {\n            var content = '';\n            try {\n                var tempEle = select(template);\n                if (tempEle) {\n                    //Return innerHTML incase of jsrenderer script else outerHTML\n                    content = tempEle.tagName === 'SCRIPT' ? tempEle.innerHTML : tempEle.outerHTML;\n                }\n                else {\n                    content = template;\n                }\n            }\n            catch (e) {\n                content = template;\n            }\n            return compile(content);\n        }\n        else {\n            /* eslint-disable-next-line  @typescript-eslint/no-explicit-any */\n            return compile(template);\n        }\n    };\n    Stepper.prototype.navigateToStep = function (index, e, itemElement, isInteracted, isUpdated) {\n        var _this = this;\n        var eventArgs = {\n            element: itemElement, event: e, isInteracted: isInteracted,\n            previousStep: this.activeStep, activeStep: index, cancel: false\n        };\n        if (isUpdated !== false) {\n            var previousStep_1 = this.activeStep;\n            this.trigger('stepChanging', eventArgs, function (args) {\n                if (args.cancel) {\n                    return;\n                }\n                _this.navigationHandler(index);\n                var eventArgs = {\n                    element: itemElement, event: e, isInteracted: isInteracted,\n                    previousStep: previousStep_1, activeStep: _this.activeStep\n                };\n                _this.trigger('stepChanged', eventArgs);\n            });\n        }\n        else {\n            this.navigationHandler(index);\n        }\n    };\n    Stepper.prototype.navigationHandler = function (index, stepStatus, isUpdated) {\n        index = Math.min(index, this.steps.length - 1);\n        var Itemslength = this.stepperItemElements.length;\n        if (index >= 0 && index < Itemslength - 1) {\n            index = this.stepperItemElements[parseInt(index.toString(), 10)].classList.contains(DISABLED) ? this.activeStep : index;\n        }\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.activeStep = parseInt(index.toString(), 10);\n        this.isProtectedOnChange = prevOnChange;\n        for (var i = 0; i < this.steps.length; i++) {\n            var itemElement = this.stepperItemElements[parseInt(i.toString(), 10)];\n            var item = this.steps[parseInt(i.toString(), 10)];\n            itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED, NOTSTARTED);\n            if (i === this.activeStep) {\n                itemElement.classList.add(SELECTED);\n            }\n            if (this.activeStep >= 0 && this.progressbar) {\n                if (this.element.classList.contains(HORIZSTEP)) {\n                    this.calculateProgressbarPos();\n                }\n                else {\n                    this.progressbar.style.setProperty(PROGRESSVALUE, ((100 / (this.steps.length - 1)) * index) + '%');\n                }\n            }\n            else if (this.activeStep < 0 && this.progressbar) {\n                this.progressbar.style.setProperty(PROGRESSVALUE, 0 + '%');\n            }\n            if (i === this.activeStep) {\n                itemElement.classList.add(INPROGRESS);\n            }\n            else if (this.activeStep > 0 && i < this.activeStep) {\n                itemElement.classList.add(COMPLETED);\n            }\n            else {\n                itemElement.classList.add(NOTSTARTED);\n            }\n            if (itemElement.classList.contains(INPROGRESS)) {\n                attributes(itemElement, { 'tabindex': '0', 'aria-current': 'true' });\n            }\n            else {\n                attributes(itemElement, { 'tabindex': '-1', 'aria-current': 'false' });\n            }\n            var prevOnChange_1 = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            if (isUpdated !== false) {\n                if (i < this.activeStep || (this.steps.length - 1 === this.activeStep && item.status.toLowerCase() === 'completed')) {\n                    item.status = StepStatus.Completed;\n                }\n                else if (i === this.activeStep) {\n                    item.status = StepStatus.InProgress;\n                }\n                else if (i > this.activeStep) {\n                    item.status = StepStatus.NotStarted;\n                }\n                if (stepStatus && this.activeStep === i) {\n                    item.status = stepStatus;\n                }\n                if (item.status.toLowerCase() === 'completed') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, NOTSTARTED);\n                    itemElement.classList.add(COMPLETED);\n                }\n                if (item.status.toLowerCase() === 'notstarted') {\n                    itemElement.classList.remove(SELECTED, INPROGRESS, COMPLETED);\n                    itemElement.classList.add(NOTSTARTED);\n                }\n            }\n            this.isProtectedOnChange = prevOnChange_1;\n            this.updateIndicatorStatus(i, itemElement);\n        }\n        this.updateStepInteractions();\n    };\n    Stepper.prototype.calculateProgressbarPos = function () {\n        var _this = this;\n        if ((this.element.classList.contains(LABELBEFORE) || this.element.classList.contains(LABELAFTER)) &&\n            !this.element.classList.contains(STEPINDICATOR) &&\n            this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(STEPICON)) {\n            var progressPos = this.element.querySelector('.e-stepper-progressbar');\n            var selectedEle = this.stepperItemElements[parseInt(this.activeStep.toString(), 10)]\n                .firstChild;\n            var value = this.activeStep === 0 ? 0 : (selectedEle.offsetLeft - progressPos.offsetLeft +\n                (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n            if (this.element.classList.contains(RTL)) {\n                value = (progressPos.getBoundingClientRect().right - selectedEle.getBoundingClientRect().right +\n                    (selectedEle.offsetWidth / 2)) / progressPos.offsetWidth * 100;\n                this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n            }\n            else {\n                this.progressbar.style.setProperty(PROGRESSVALUE, (value) + '%');\n            }\n        }\n        else {\n            var totalLiWidth_1 = 0;\n            var activeLiWidth_1 = 0;\n            this.stepperItemElements.forEach(function (element, index) {\n                var itemWidth = element.offsetWidth;\n                totalLiWidth_1 += itemWidth;\n                if (index <= _this.activeStep) {\n                    activeLiWidth_1 += (index === _this.activeStep && index !== 0) ? (itemWidth / 2) : itemWidth;\n                }\n            });\n            var spaceWidth = (this.stepperItemList.offsetWidth - totalLiWidth_1) /\n                (this.stepperItemElements.length - 1);\n            var progressValue = ((activeLiWidth_1 + (spaceWidth * this.activeStep)) /\n                this.stepperItemList.offsetWidth) * 100;\n            this.progressbar.style.setProperty(PROGRESSVALUE, (progressValue) + '%');\n        }\n    };\n    Stepper.prototype.updateIndicatorStatus = function (index, itemElement) {\n        if (this.renderDefault(index) && this.element.classList.contains(STEPINDICATOR) && !itemElement.classList.contains('e-step-valid')\n            && !itemElement.classList.contains('e-step-error')) {\n            if (itemElement.classList.contains(COMPLETED)) {\n                itemElement.firstChild.classList.remove('e-icons', 'e-step-indicator');\n                itemElement.firstChild.classList.add(ICONCSS, 'e-icons', 'e-check');\n            }\n            else if (itemElement.classList.contains(INPROGRESS) || itemElement.classList.contains(NOTSTARTED)) {\n                itemElement.firstChild.classList.remove(ICONCSS, 'e-icons', 'e-check');\n                itemElement.firstChild.classList.add('e-icons', 'e-step-indicator');\n            }\n        }\n    };\n    Stepper.prototype.updateStepInteractions = function () {\n        var _this = this;\n        this.element.classList.toggle(LINEARSTEP, this.linear);\n        this.stepperItemElements.forEach(function (step, index) {\n            step.classList.toggle(PREVSTEP, (index === _this.activeStep - 1));\n            step.classList.toggle(NEXTSTEP, (index === _this.activeStep + 1));\n        });\n    };\n    Stepper.prototype.removeItemElements = function () {\n        for (var i = 0; i < this.stepperItemElements.length; i++) {\n            remove(this.stepperItemElements[parseInt(i.toString(), 10)]);\n        }\n        this.stepperItemElements = [];\n    };\n    /**\n     * Move to next step from current step in Stepper.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.nextStep = function () {\n        if (this.activeStep !== this.steps.length - 1) {\n            this.navigateToStep(this.activeStep + 1, null, null, false);\n        }\n    };\n    /**\n     * Move to previous step from current step in Stepper.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.previousStep = function () {\n        if (this.activeStep > 0) {\n            this.navigateToStep(this.activeStep - 1, null, null, false);\n        }\n    };\n    /**\n     * Reset the state of the Stepper and move to the first step.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.reset = function () {\n        if (this.activeStep === 0) {\n            this.updateStepInteractions();\n        }\n        else {\n            var isDisabled = this.stepperItemElements[0].classList.contains(DISABLED) ? true : false;\n            this.navigateToStep(isDisabled ? -1 : 0, null, null, false);\n        }\n    };\n    /**\n     * Refreshes the position of the progress bar programmatically when the dimensions of the parent container are changed.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.refreshProgressbar = function () {\n        if (this.stepperItemList && this.progressbar) {\n            this.setProgressPosition(this.element);\n        }\n        this.navigateToStep(this.activeStep, null, null, false, false);\n    };\n    Stepper.prototype.updateElementClassArray = function () {\n        var classArray = [RTL, READONLY, 'e-steps-focus', LABELAFTER, LABELBEFORE, 'e-label-top',\n            'e-label-bottom', 'e-label-start', 'e-label-end', STEPINDICATOR, LABELINDICATOR, VERTICALSTEP, HORIZSTEP, LINEARSTEP];\n        removeClass([this.element], classArray);\n    };\n    /**\n     * Destroy the stepper control.\n     *\n     * @returns {void}\n     */\n    Stepper.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unWireEvents();\n        this.unWireItemsEvents();\n        // unwires the events and detach the li elements\n        this.removeItemElements();\n        this.clearTemplate();\n        if (this.stepperItemList) {\n            remove(this.stepperItemList);\n        }\n        this.stepperItemList = null;\n        if (this.progressStep) {\n            remove(this.progressStep);\n        }\n        this.progressStep = null;\n        this.progressbar = null;\n        this.progressBarPosition = null;\n        this.stepperItemContainer = null;\n        this.textContainer = null;\n        this.labelContainer = null;\n        this.updateElementClassArray();\n        this.element.removeAttribute('aria-label');\n        if (this.showTooltip) {\n            this.tooltipObj.destroy();\n            this.tooltipObj = null;\n        }\n        if (this.keyboardModuleStepper) {\n            this.keyboardModuleStepper.destroy();\n        }\n        this.keyboardModuleStepper = null;\n    };\n    Stepper.prototype.wireKeyboardEvent = function () {\n        this.keyboardModuleStepper = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    Stepper.prototype.keyActionHandler = function (e) {\n        if (this.readOnly) {\n            return;\n        }\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n            case 'leftarrow':\n            case 'rightarrow':\n            case 'tab':\n            case 'shiftTab':\n                this.handleNavigation(this.enableRtl && this.element.classList.contains(HORIZSTEP) ? (e.action === 'leftarrow' || e.action === 'tab' || e.action === 'uparrow') : (e.action === 'rightarrow' || e.action === 'tab' || e.action === 'downarrow'), e);\n                break;\n            case 'space':\n            case 'enter':\n            case 'escape':\n                this.handleNavigation(null, e);\n                break;\n            case 'home':\n            case 'end':\n                this.handleNavigation(null, e, this.enableRtl);\n                break;\n        }\n    };\n    Stepper.prototype.handleNavigation = function (isNextStep, e, isRTL) {\n        this.isKeyNavFocus = true;\n        this.element.classList.add('e-steps-focus');\n        var focusedEle = this.element.querySelector('.' + FOCUS);\n        if (!focusedEle) {\n            focusedEle = this.element.querySelector('.' + SELECTED);\n        }\n        var stepItems = Array.prototype.slice.call(this.stepperItemList.children);\n        var index = stepItems.indexOf(focusedEle);\n        if (e.action === 'tab' || e.action === 'shiftTab' || e.action === 'downarrow' || e.action === 'uparrow' || e.action === 'space' || e.action === 'home' || e.action === 'end') {\n            if ((e.action === 'tab' && index === stepItems.length - 1) || (e.action === 'shiftTab' && index === 0)) {\n                if (focusedEle.classList.contains(FOCUS)) {\n                    this.updateStepFocus();\n                    return;\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n        }\n        if (e.action === 'escape') {\n            stepItems[parseInt(index.toString(), 10)].classList.remove(FOCUS);\n            this.element.classList.remove('e-steps-focus');\n        }\n        if (!(e.action === 'space' || e.action === 'enter')) {\n            var prevIndex = index;\n            index = isNextStep ? index + 1 : index - 1;\n            while ((index >= 0 && index < stepItems.length) && stepItems[parseInt(index.toString(), 10)].classList.contains(DISABLED)) {\n                index = isNextStep ? index + 1 : index - 1;\n            }\n            index = (index < 0) ? 0 : (index > stepItems.length - 1) ? stepItems.length - 1 : index;\n            if (stepItems[parseInt(prevIndex.toString(), 10)].classList.contains(FOCUS)) {\n                stepItems[parseInt(prevIndex.toString(), 10)].classList.remove(FOCUS);\n            }\n            if ((e.action === 'home' || e.action === 'end')) {\n                if (e.action === 'home') {\n                    index = isRTL ? stepItems.length - 1 : 0;\n                }\n                else {\n                    index = isRTL ? 0 : stepItems.length - 1;\n                }\n            }\n            if (index >= 0 && index < stepItems.length) {\n                stepItems[parseInt(index.toString(), 10)].classList.add(FOCUS);\n            }\n        }\n        else if ((e.action === 'space' || e.action === 'enter')) {\n            var isupdateFocus = false;\n            if (this.linear) {\n                var linearModeValue = this.activeStep - index;\n                if (Math.abs(linearModeValue) === 1) {\n                    this.navigateToStep(index, null, null, true);\n                    isupdateFocus = true;\n                }\n            }\n            else {\n                this.navigateToStep(index, null, null, true);\n                isupdateFocus = true;\n            }\n            if (isupdateFocus) {\n                this.updateStepFocus();\n                this.stepperItemElements[index].focus();\n            }\n        }\n    };\n    Stepper.prototype.renderStepperItems = function (isUpdate, isStepType) {\n        this.updateElementClassArray();\n        this.removeItemElements();\n        this.element.querySelector('.e-stepper-progressbar').remove();\n        if (isUpdate) {\n            this.updatePosition();\n        }\n        if (isStepType) {\n            this.updateStepType();\n        }\n        if (this.readOnly && !this.element.classList.contains(READONLY)) {\n            this.element.classList.add(READONLY);\n        }\n        if (this.enableRtl && !this.element.classList.contains(RTL)) {\n            this.element.classList.add(RTL);\n        }\n        this.updateOrientaion(this.element);\n        this.renderItems();\n        this.renderProgressBar(this.element);\n        this.checkValidStep();\n        this.updateAnimation();\n        this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n    };\n    Stepper.prototype.updateDynamicSteps = function (steps, prevSteps) {\n        if (!(steps instanceof Array && prevSteps instanceof Array)) {\n            var stepCounts = Object.keys(steps);\n            for (var i = 0; i < stepCounts.length; i++) {\n                var index = parseInt(Object.keys(steps)[i], 10);\n                var changedPropsCount = Object.keys(steps[index]).length;\n                for (var j = 0; j < changedPropsCount; j++) {\n                    var property = Object.keys(steps[index])[j];\n                    if (property === 'status') {\n                        if (this.activeStep === index) {\n                            this.navigationHandler(index, steps[index].status);\n                        }\n                        else {\n                            this.steps[index].status = prevSteps[index].status;\n                        }\n                    }\n                    else {\n                        this.removeItemElements();\n                        this.renderItems();\n                        this.updateStepperStatus();\n                    }\n                    if (property === 'label' && (this.steps[index].iconCss || this.steps[index].text) &&\n                        this.stepType.toLowerCase() === 'default') {\n                        this.refreshProgressbar();\n                    }\n                    this.updateStepInteractions();\n                    this.checkValidStep();\n                }\n            }\n        }\n        else {\n            this.renderStepperItems(true, true);\n        }\n    };\n    Stepper.prototype.updateDynamicActiveStep = function (activeStep, preActiveStep) {\n        this.activeStep = (activeStep > this.steps.length - 1 || activeStep < -1) ? preActiveStep : this.activeStep;\n        if (this.activeStep >= 0 && this.stepperItemElements[parseInt(this.activeStep.toString(), 10)].classList.contains(DISABLED)) {\n            this.activeStep = preActiveStep;\n        }\n        if (this.linear) {\n            var linearModeValue = preActiveStep - this.activeStep;\n            if (Math.abs(linearModeValue) === 1) {\n                this.navigateToStep(this.activeStep, null, null, true);\n            }\n        }\n        else {\n            this.navigateToStep(this.activeStep, null, this.stepperItemElements[this.activeStep], true);\n        }\n    };\n    Stepper.prototype.updateDynamicCssClass = function (cssClass, prevCssClass) {\n        if (prevCssClass) {\n            removeClass([this.element], prevCssClass.trim().split(' '));\n        }\n        if (cssClass) {\n            addClass([this.element], cssClass.trim().split(' '));\n        }\n        if (this.tooltipObj) {\n            this.tooltipObj.setProperties({ cssClass: this.cssClass ? (STEPPERTOOLTIP + ' ' + this.cssClass) : STEPPERTOOLTIP });\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {StepperModel} newProp - Specifies new properties\n     * @param  {StepperModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Stepper.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'steps': {\n                    this.updateDynamicSteps(newProp.steps, oldProp.steps);\n                    break;\n                }\n                case 'orientation':\n                    this.updateOrientaion(this.element);\n                    this.renderStepperItems(true);\n                    break;\n                case 'activeStep':\n                    this.updateDynamicActiveStep(newProp.activeStep, oldProp.activeStep);\n                    break;\n                case 'enableRtl':\n                    this.element.classList[this.enableRtl ? 'add' : 'remove'](RTL);\n                    break;\n                case 'readOnly':\n                    this.element.classList[this.readOnly ? 'add' : 'remove'](READONLY);\n                    break;\n                case 'cssClass':\n                    this.updateDynamicCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'labelPosition':\n                    this.renderStepperItems(true);\n                    break;\n                case 'showTooltip':\n                    this.updateTooltip();\n                    break;\n                case 'stepType':\n                    this.renderStepperItems(true, true);\n                    break;\n                case 'template':\n                    this.updateTemplateFunction();\n                    this.updateContent();\n                    break;\n                case 'animation':\n                    this.updateAnimation();\n                    break;\n                case 'linear':\n                    this.updateStepInteractions();\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(0)\n    ], Stepper.prototype, \"activeStep\", void 0);\n    __decorate([\n        Complex({}, StepperAnimationSettings)\n    ], Stepper.prototype, \"animation\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"linear\", void 0);\n    __decorate([\n        Property(false)\n    ], Stepper.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], Stepper.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Property(StepLabelPosition.Bottom)\n    ], Stepper.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property(StepType.Default)\n    ], Stepper.prototype, \"stepType\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanged\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepChanging\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"stepClick\", void 0);\n    __decorate([\n        Event()\n    ], Stepper.prototype, \"beforeStepRender\", void 0);\n    Stepper = __decorate([\n        NotifyPropertyChanges\n    ], Stepper);\n    return Stepper;\n}(StepperBase));\nexport { Stepper };\n"],"mappings":"AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIA,CAAC,CAACM,cAAc,CAACD,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IAC9E,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASO,EAAEA,CAAA,EAAG;MAAE,IAAI,CAACC,WAAW,GAAGT,CAAC;IAAE;IACtCA,CAAC,CAACU,SAAS,GAAGT,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACS,MAAM,CAACV,CAAC,CAAC,IAAIO,EAAE,CAACE,SAAS,GAAGT,CAAC,CAACS,SAAS,EAAE,IAAIF,EAAE,CAAC,CAAC,CAAC;EACxF,CAAC;AACL,CAAC,CAAE,CAAC;AACJ,IAAII,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGd,MAAM,CAACmB,wBAAwB,CAACP,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEhB,CAAC;EAC5H,IAAI,OAAOsB,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEH,CAAC,GAAGE,OAAO,CAACC,QAAQ,CAACV,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIQ,CAAC,GAAGX,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIxB,CAAC,GAAGa,UAAU,CAACW,CAAC,CAAC,EAAEJ,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACoB,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACc,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGpB,CAAC,CAACc,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIlB,MAAM,CAACuB,cAAc,CAACX,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD;AACA;AACA,SAASM,UAAU,EAAEC,qBAAqB,EAAEC,IAAI,EAAEC,MAAM,EAAEC,iBAAiB,EAAEC,WAAW,EAAEC,OAAO,EAAEC,cAAc,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,qBAAqB,EAAEC,MAAM,EAAEC,OAAO,QAAQ,sBAAsB;AACpQ,SAASC,WAAW,EAAEC,UAAU,QAAQ,8BAA8B;AACtE,SAASC,OAAO,QAAQ,wBAAwB;AAChD,IAAIC,aAAa,GAAG,kBAAkB;AACtC,IAAIC,QAAQ,GAAG,iBAAiB;AAChC,IAAIC,OAAO,GAAG,aAAa;AAC3B,IAAIC,OAAO,GAAG,uBAAuB;AACrC,IAAIC,SAAS,GAAG,wBAAwB;AACxC,IAAIC,QAAQ,GAAG,uBAAuB;AACtC,IAAIC,QAAQ,GAAG,iBAAiB;AAChC,IAAIC,UAAU,GAAG,mBAAmB;AACpC,IAAIC,UAAU,GAAG,mBAAmB;AACpC,IAAIC,KAAK,GAAG,cAAc;AAC1B,IAAIC,SAAS,GAAG,kBAAkB;AAClC,IAAIC,QAAQ,GAAG,iBAAiB;AAChC,IAAIC,QAAQ,GAAG,oBAAoB;AACnC,IAAIC,aAAa,GAAG,kBAAkB;AACtC,IAAIC,GAAG,GAAG,OAAO;AACjB,IAAIC,QAAQ,GAAG,iBAAiB;AAChC,IAAIC,UAAU,GAAG,eAAe;AAChC,IAAIC,WAAW,GAAG,gBAAgB;AAClC,IAAIC,YAAY,GAAG,YAAY;AAC/B,IAAIC,SAAS,GAAG,cAAc;AAC9B,IAAIC,QAAQ,GAAG,aAAa;AAC5B,IAAIC,QAAQ,GAAG,aAAa;AAC5B,IAAIC,IAAI,GAAG,QAAQ;AACnB,IAAIC,UAAU,GAAG,cAAc;AAC/B,IAAIC,KAAK,GAAG,SAAS;AACrB,IAAIC,aAAa,GAAG,uBAAuB;AAC3C,IAAIC,cAAc,GAAG,mBAAmB;AACxC,IAAIC,aAAa,GAAG,kBAAkB;AACtC,IAAIC,cAAc,GAAG,mBAAmB;AACxC,IAAIC,mBAAmB,GAAG,uBAAuB;AACjD,IAAIC,UAAU,GAAG,UAAU;AAC3B,IAAIC,QAAQ,GAAG,YAAY;AAC3B,IAAIC,QAAQ,GAAG,QAAQ;AACvB;AACA;AACA;AACA,IAAIC,wBAAwB,GAAG,aAAe,UAAUC,MAAM,EAAE;EAC5DnF,SAAS,CAACkF,wBAAwB,EAAEC,MAAM,CAAC;EAC3C,SAASD,wBAAwBA,CAAA,EAAG;IAChC,OAAOC,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACC,KAAK,CAAC,IAAI,EAAEhE,SAAS,CAAC,IAAI,IAAI;EACnE;EACAN,UAAU,CAAC,CACPuB,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAE6C,wBAAwB,CAACtE,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACxDE,UAAU,CAAC,CACPuB,QAAQ,CAAC,IAAI,CAAC,CACjB,EAAE6C,wBAAwB,CAACtE,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EAC1DE,UAAU,CAAC,CACPuB,QAAQ,CAAC,CAAC,CAAC,CACd,EAAE6C,wBAAwB,CAACtE,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EACvD,OAAOsE,wBAAwB;AACnC,CAAC,CAAC9C,aAAa,CAAE;AACjB,SAAS8C,wBAAwB;AACjC;AACA;AACA;AACA,OAAO,IAAIG,iBAAiB;AAC5B,CAAC,UAAUA,iBAAiB,EAAE;EAC1B;AACJ;AACA;EACIA,iBAAiB,CAAC,KAAK,CAAC,GAAG,KAAK;EAChC;AACJ;AACA;EACIA,iBAAiB,CAAC,QAAQ,CAAC,GAAG,QAAQ;EACtC;AACJ;AACA;EACIA,iBAAiB,CAAC,OAAO,CAAC,GAAG,OAAO;EACpC;AACJ;AACA;EACIA,iBAAiB,CAAC,KAAK,CAAC,GAAG,KAAK;AACpC,CAAC,EAAEA,iBAAiB,KAAKA,iBAAiB,GAAG,CAAC,CAAC,CAAC,CAAC;AACjD;AACA;AACA;AACA,OAAO,IAAIC,QAAQ;AACnB,CAAC,UAAUA,QAAQ,EAAE;EACjB;AACJ;AACA;EACIA,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS;EAC/B;AACJ;AACA;EACIA,QAAQ,CAAC,OAAO,CAAC,GAAG,OAAO;EAC3B;AACJ;AACA;EACIA,QAAQ,CAAC,WAAW,CAAC,GAAG,WAAW;AACvC,CAAC,EAAEA,QAAQ,KAAKA,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,OAAO,GAAG,aAAe,UAAUJ,MAAM,EAAE;EAC3CnF,SAAS,CAACuF,OAAO,EAAEJ,MAAM,CAAC;EAC1B;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,SAASI,OAAOA,CAACC,OAAO,EAAEC,OAAO,EAAE;IAC/B,IAAIC,KAAK,GAAGP,MAAM,CAACQ,IAAI,CAAC,IAAI,EAAEH,OAAO,EAAEC,OAAO,CAAC,IAAI,IAAI;IACvDC,KAAK,CAACE,mBAAmB,GAAG,EAAE;IAC9B,OAAOF,KAAK;EAChB;EACAH,OAAO,CAAC3E,SAAS,CAACiF,SAAS,GAAG,YAAY;IACtC,IAAI,CAAC,IAAI,CAACJ,OAAO,CAACK,EAAE,EAAE;MAClB,IAAI,CAACL,OAAO,CAACK,EAAE,GAAG7D,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC8D,aAAa,CAAC,CAAC,CAAC;IAC9D;IACA,IAAIC,UAAU,GAAG;MAAEC,QAAQ,EAAE;IAAW,CAAC;IACzC,IAAI,CAACC,IAAI,GAAG,IAAIpE,IAAI,CAAC,SAAS,EAAEkE,UAAU,EAAE,IAAI,CAACG,MAAM,CAAC;IACxD,IAAI,CAACC,UAAU,GAAG;MACdC,SAAS,EAAE,WAAW;MACtBC,SAAS,EAAE,WAAW;MACtBC,UAAU,EAAE,YAAY;MACxBC,OAAO,EAAE,SAAS;MAClBC,KAAK,EAAE,OAAO;MACdC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAE,MAAM;MACZC,GAAG,EAAE,KAAK;MACVC,GAAG,EAAE,KAAK;MACVC,QAAQ,EAAE,WAAW;MACrBC,MAAM,EAAE;IACZ,CAAC;IACD,IAAI,CAACC,WAAW,GAAG,KAAK;EAC5B,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIzB,OAAO,CAAC3E,SAAS,CAACmF,aAAa,GAAG,YAAY;IAC1C,OAAO,SAAS;EACpB,CAAC;EACDR,OAAO,CAAC3E,SAAS,CAACqG,MAAM,GAAG,YAAY;IACnC,IAAI,CAACC,UAAU,CAAC,CAAC;IACjB,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC;IACpD,IAAI,CAACC,mBAAmB,CAAC,IAAI,CAAC;EAClC,CAAC;EACD9B,OAAO,CAAC3E,SAAS,CAACsG,UAAU,GAAG,YAAY;IACvC,IAAI,CAACzB,OAAO,CAAC6B,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC7B,OAAO,CAACK,EAAE,CAAC;IACxD,IAAI,CAACyB,cAAc,CAAC,CAAC;IACrB,IAAI,CAACC,eAAe,GAAG,IAAI,CAACC,aAAa,CAAC,IAAI,EAAE;MAAEC,SAAS,EAAExE;IAAS,CAAC,CAAC;IACxE,IAAI,CAACyE,gBAAgB,CAAC,IAAI,CAAClC,OAAO,CAAC;IACnC,IAAI,CAACmC,cAAc,CAAC,CAAC;IACrB,IAAI,CAACnC,OAAO,CAACoC,WAAW,CAAC,IAAI,CAACL,eAAe,CAAC;IAC9C,IAAI,IAAI,CAACM,QAAQ,EAAE;MACftF,QAAQ,CAAC,CAAC,IAAI,CAACiD,OAAO,CAAC,EAAE,IAAI,CAACqC,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC7D;IACA,IAAI,IAAI,CAACC,QAAQ,EAAE;MACf,IAAI,CAACxC,OAAO,CAACyC,SAAS,CAACC,GAAG,CAACtE,QAAQ,CAAC;IACxC;IACA,IAAI,IAAI,CAACuE,SAAS,EAAE;MAChB,IAAI,CAAC3C,OAAO,CAACyC,SAAS,CAACC,GAAG,CAACpE,GAAG,CAAC;IACnC;IACA,IAAI,CAACsE,UAAU,CAAC,CAAC;IACjB,IAAI,CAACC,sBAAsB,CAAC,CAAC;IAC7B,IAAI,CAACC,WAAW,CAAC,CAAC;IAClB,IAAI,IAAI,CAACC,KAAK,CAACnH,MAAM,GAAG,CAAC,EAAE;MACvB,IAAI,CAACoH,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAACC,cAAc,CAAC,CAAC;MACrB,IAAI,CAACC,eAAe,CAAC,CAAC;MACtB,IAAI,CAACC,aAAa,CAAC,CAAC;MACpB,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAC5B;EACJ,CAAC;EACDtD,OAAO,CAAC3E,SAAS,CAAC6H,mBAAmB,GAAG,YAAY;IAChD,IAAI/C,KAAK,GAAG,IAAI;IAChB,IAAI,IAAI,CAAC8C,KAAK,CAACnH,MAAM,GAAG,CAAC,EAAE;MACvB,IAAI,IAAI,CAACyH,SAAS,IAAI,IAAI,CAACC,QAAQ,EAAE;QACjCC,UAAU,CAAC,YAAY;UAAEtD,KAAK,CAACuD,iBAAiB,CAACvD,KAAK,CAACD,OAAO,CAAC;QAAE,CAAC,CAAC;MACvE,CAAC,MACI;QACD,IAAI,CAACwD,iBAAiB,CAAC,IAAI,CAACxD,OAAO,CAAC;MACxC;IACJ;EACJ,CAAC;EACDF,OAAO,CAAC3E,SAAS,CAAC2G,cAAc,GAAG,YAAY;IAC3C,IAAI,CAAC2B,mBAAmB,GAAG,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACC,YAAY,GAAG,CAAC;EAC5E,CAAC;EACD7D,OAAO,CAAC3E,SAAS,CAACyI,aAAa,GAAG,UAAUC,KAAK,EAAE;IAC/C,IAAIC,IAAI,GAAG,IAAI,CAACf,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACrD,OAAO,CAACF,IAAI,CAACG,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,IAAI,CAACJ,IAAI,CAACK,KAAK;EACrD,CAAC;EACDrE,OAAO,CAAC3E,SAAS,CAAC+H,eAAe,GAAG,YAAY;IAC5C,IAAIkB,WAAW,GAAG,IAAI,CAACpE,OAAO,CAACqE,aAAa,CAAC,sBAAsB,CAAC;IACpE,IAAI,IAAI,CAACC,SAAS,CAACC,MAAM,EAAE;MACvB,IAAI,IAAI,CAACD,SAAS,CAACE,QAAQ,IAAI,CAAC,EAAE;QAC9B,IAAIJ,WAAW,EAAE;UACbA,WAAW,CAACK,KAAK,CAACC,WAAW,CAAC,YAAY,EAAI,IAAI,CAACJ,SAAS,CAACE,QAAQ,GAAI,IAAK,CAAC;QACnF;MACJ;MACA,IAAI,IAAI,CAACF,SAAS,CAACK,KAAK,IAAI,CAAC,EAAE;QAC3B,IAAIP,WAAW,EAAE;UACbA,WAAW,CAACK,KAAK,CAACC,WAAW,CAAC,SAAS,EAAI,IAAI,CAACJ,SAAS,CAACK,KAAK,GAAI,IAAK,CAAC;QAC7E;MACJ;IACJ,CAAC,MACI;MACD,IAAIP,WAAW,EAAE;QACbA,WAAW,CAACK,KAAK,CAACC,WAAW,CAAC,SAAS,EAAG,CAAC,GAAG,IAAK,CAAC;QACpDN,WAAW,CAACK,KAAK,CAACC,WAAW,CAAC,YAAY,EAAG,CAAC,GAAG,IAAK,CAAC;MAC3D;IACJ;EACJ,CAAC;EACD5E,OAAO,CAAC3E,SAAS,CAACgH,cAAc,GAAG,YAAY;IAC3C,IAAI,CAAC5F,iBAAiB,CAAC,IAAI,CAACqI,QAAQ,CAAC,EAAE;MACnC,IAAIC,aAAa,GAAG,IAAI,CAACD,QAAQ,CAACE,WAAW,CAAC,CAAC;MAC/C,IAAIC,cAAc,GAAG,CAAC,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC;MACtD,IAAIA,cAAc,CAACC,OAAO,CAACH,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE;QAC9C,IAAIA,aAAa,KAAK,SAAS,EAAE;UAC7B,IAAI,CAAC7E,OAAO,CAACyC,SAAS,CAACC,GAAG,CAAC,cAAc,GAAGmC,aAAa,CAAC;QAC9D;QACA,IAAI,CAACA,aAAa,KAAK,WAAW,IAAIA,aAAa,KAAK,OAAO,KAAK,IAAI,CAACI,cAAc,EAAE;UACrF,IAAI,CAACC,kBAAkB,CAAC,CAAC;QAC7B;MACJ;IACJ;EACJ,CAAC;EACDpF,OAAO,CAAC3E,SAAS,CAACyH,UAAU,GAAG,YAAY;IACvC/F,YAAY,CAAC6F,GAAG,CAACyC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAACC,YAAY,EAAE,IAAI,CAAC;IAC3DvI,YAAY,CAAC6F,GAAG,CAACyC,MAAM,EAAE,OAAO,EAAE,IAAI,CAACE,eAAe,EAAE,IAAI,CAAC;EACjE,CAAC;EACDvF,OAAO,CAAC3E,SAAS,CAACmK,YAAY,GAAG,YAAY;IACzCzI,YAAY,CAACG,MAAM,CAACmI,MAAM,EAAE,QAAQ,EAAE,IAAI,CAACC,YAAY,CAAC;IACxDvI,YAAY,CAACG,MAAM,CAACmI,MAAM,EAAE,OAAO,EAAE,IAAI,CAACE,eAAe,CAAC;EAC9D,CAAC;EACDvF,OAAO,CAAC3E,SAAS,CAACiK,YAAY,GAAG,YAAY;IACzC,IAAI,IAAI,CAACrD,eAAe,IAAI,IAAI,CAACwD,WAAW,IAAI,IAAI,CAACvF,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC7G,SAAS,CAAC,EAAE;MACxF,IAAI,CAAC8G,mBAAmB,CAAC,IAAI,CAACzF,OAAO,EAAE,IAAI,CAAC;IAChD;IACA,IAAI,CAAC0F,cAAc,CAAC,IAAI,CAAC/D,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;EAClE,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAACkK,eAAe,GAAG,YAAY;IAC5C,IAAI,IAAI,CAACM,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,GAAG,KAAK;MAC1B,IAAIC,OAAO,GAAG,IAAI,CAAC5F,OAAO,CAACqE,aAAa,CAAC,GAAG,GAAGpG,KAAK,CAAC;MACrD,IAAI2H,OAAO,EAAE;QACTA,OAAO,CAACnD,SAAS,CAACzF,MAAM,CAACiB,KAAK,CAAC;QAC/B,IAAI,CAAC+B,OAAO,CAACyC,SAAS,CAACzF,MAAM,CAAC,eAAe,CAAC;MAClD;IACJ;EACJ,CAAC;EACD8C,OAAO,CAAC3E,SAAS,CAACyG,mBAAmB,GAAG,UAAUiE,SAAS,EAAE;IACzD,KAAK,IAAIhC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACd,KAAK,CAACnH,MAAM,EAAEiI,KAAK,EAAE,EAAE;MACpD,IAAIiC,IAAI,GAAG,IAAI,CAAC/C,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACrD,IAAI+B,QAAQ,GAAGD,IAAI,CAACE,MAAM,CAAClB,WAAW,CAAC,CAAC;MACxC,IAAIe,SAAS,IAAI,IAAI,CAAClE,UAAU,KAAK,CAAC,IAAIkC,KAAK,KAAK,CAAC,EAAE;QACnD,IAAIoC,YAAY,GAAG,IAAI,CAACC,mBAAmB;QAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;QAC/BJ,IAAI,CAACE,MAAM,GAAG1I,UAAU,CAAC6I,UAAU;QACnC,IAAI,CAACD,mBAAmB,GAAGD,YAAY;MAC3C;MACA,IAAIH,IAAI,IAAIC,QAAQ,KAAK,YAAY,IAAIlC,KAAK,KAAK,IAAI,CAAClC,UAAU,EAAE;QAChE,KAAK,IAAI1F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC8G,KAAK,CAACnH,MAAM,EAAEK,CAAC,EAAE,EAAE;UACxC,IAAImK,WAAW,GAAG,IAAI,CAACjG,mBAAmB,CAAC4D,QAAQ,CAAC9H,CAAC,CAAC+H,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;UACtEoC,WAAW,CAAC3D,SAAS,CAACzF,MAAM,CAACc,QAAQ,EAAEC,UAAU,EAAEG,SAAS,EAAEF,UAAU,CAAC;UACzE,IAAIiI,YAAY,GAAG,IAAI,CAACC,mBAAmB;UAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;UAC/B,IAAIH,QAAQ,KAAK,WAAW,EAAE;YAC1B,IAAI,CAACM,iBAAiB,CAACpK,CAAC,EAAE4H,KAAK,EAAEuC,WAAW,CAAC;UACjD,CAAC,MACI;YACD,IAAI,CAACC,iBAAiB,CAACpK,CAAC,EAAE4H,KAAK,EAAEuC,WAAW,EAAE,IAAI,CAAC;UACvD;UACA,IAAI,CAACF,mBAAmB,GAAGD,YAAY;QAC3C;MACJ,CAAC,MACI,IAAIH,IAAI,IAAIC,QAAQ,KAAK,YAAY,IAAIlC,KAAK,KAAK,IAAI,CAAClC,UAAU,EAAE;QACrE,IAAI,CAACD,iBAAiB,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC;MACvD;IACJ;EACJ,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAACkL,iBAAiB,GAAG,UAAUC,WAAW,EAAEzC,KAAK,EAAE0C,GAAG,EAAEC,YAAY,EAAE;IACnF,IAAIC,QAAQ,GAAG,IAAI,CAAC1D,KAAK,CAACgB,QAAQ,CAACuC,WAAW,CAACtC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAC/D,IAAIsC,WAAW,GAAGzC,KAAK,EAAE;MACrB0C,GAAG,CAAC9D,SAAS,CAACC,GAAG,CAACxE,SAAS,CAAC;MAC5BuI,QAAQ,CAACT,MAAM,GAAG1I,UAAU,CAACoJ,SAAS;IAC1C,CAAC,MACI,IAAIJ,WAAW,KAAKzC,KAAK,EAAE;MAC5B0C,GAAG,CAAC9D,SAAS,CAACC,GAAG,CAAC8D,YAAY,GAAGzI,UAAU,GAAGG,SAAS,EAAEJ,QAAQ,CAAC;IACtE,CAAC,MACI;MACDyI,GAAG,CAAC9D,SAAS,CAACC,GAAG,CAAC1E,UAAU,CAAC;IACjC;EACJ,CAAC;EACD8B,OAAO,CAAC3E,SAAS,CAAC2H,WAAW,GAAG,YAAY;IACxC,IAAI7C,KAAK,GAAG,IAAI;IAChB,IAAI0G,EAAE;IACN,IAAIC,YAAY,GAAG,IAAI,CAAC5G,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC7G,SAAS,CAAC;IAC7D,IAAIkI,UAAU,GAAG,IAAI,CAAC7G,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC9G,YAAY,CAAC;IAC9D,IAAIoI,kBAAkB,GAAG,CAACvK,iBAAiB,CAAC,IAAI,CAACwK,aAAa,CAAC,GAAG,IAAI,CAACA,aAAa,CAACjC,WAAW,CAAC,CAAC,GAAG,EAAE;IACvG,KAAK,IAAIjB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACd,KAAK,CAACnH,MAAM,EAAEiI,KAAK,EAAE,EAAE;MACpD,IAAI,CAACmD,oBAAoB,GAAG,IAAI,CAAChF,aAAa,CAAC,IAAI,EAAE;QAAEC,SAAS,EAAEzE;MAAc,CAAC,CAAC;MAClF,IAAIyJ,QAAQ,GAAG,IAAI,CAACjF,aAAa,CAAC,MAAM,EAAE;QAAEC,SAAS,EAAE;MAAS,CAAC,CAAC;MAClE,IAAI6D,IAAI,GAAG,IAAI,CAAC/C,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACrD,IAAIkD,WAAW,GAAGpB,IAAI,CAAC3B,KAAK,GAAG,IAAI,GAAG,KAAK;MAC3C,IAAIgD,UAAU,GAAGrB,IAAI,CAAC5B,IAAI,GAAG,IAAI,GAAG,KAAK;MACzC,IAAIkD,WAAW,GAAG,IAAI,CAACpH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACvG,aAAa,CAAC;MAChE,IAAI,CAAC+H,oBAAoB,CAACvE,SAAS,CAAEoB,KAAK,KAAK,CAAC,GAAI,KAAK,GAAG,QAAQ,CAAC,CAAC/F,QAAQ,EAAEC,UAAU,CAAC;MAC3F,IAAI,CAACiJ,oBAAoB,CAACvE,SAAS,CAAEoB,KAAK,KAAK,CAAC,GAAI,KAAK,GAAG,QAAQ,CAAC,CAAC7F,UAAU,CAAC;MACjF,IAAI4I,YAAY,EAAE;QACd,IAAI,CAACI,oBAAoB,CAACvC,KAAK,CAACC,WAAW,CAAC,aAAa,EAAE,GAAG,GAAG,IAAI,CAAC3B,KAAK,CAACnH,MAAM,GAAG,GAAG,CAAC;MAC7F;MACA,IAAI,IAAI,CAACgI,aAAa,CAACC,KAAK,CAAC,KAAKtH,iBAAiB,CAAC,IAAI,CAAC+G,QAAQ,CAAC,IAAI,IAAI,CAACA,QAAQ,KAAK,EAAE,CAAC,EAAE;QACzF,IAAI+D,aAAa,GAAG,CAAC,IAAI,CAACrH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC,qBAAqB,CAAC,IAAI,IAAI,CAACZ,QAAQ,CAACE,WAAW,CAAC,CAAC,KAAK,WAAW;QAC1H,IAAIuC,aAAa,EAAE;UACfJ,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAC,SAAS,EAAEvD,aAAa,CAAC;QACpD;QACA,IAAI,CAACkI,aAAa,IAAIvB,IAAI,CAACwB,OAAO,IAAI,IAAI,EAAE;UACxCL,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC;UACxCuE,QAAQ,CAACM,SAAS,GAAG,CAAC1D,KAAK,GAAG,CAAC,EAAEG,QAAQ,CAAC,CAAC;QAC/C;QACA,IAAI,CAACgD,oBAAoB,CAAC5E,WAAW,CAAC6E,QAAQ,CAAC;MACnD,CAAC,MACI,IAAI1K,iBAAiB,CAAC,IAAI,CAAC+G,QAAQ,CAAC,IAAI,IAAI,CAACA,QAAQ,KAAK,EAAE,EAAE;QAC/D,IAAIkE,QAAQ,GAAG,IAAI;QACnB,IAAI,CAAC1B,IAAI,CAAC7B,OAAO,IAAK,CAAC6B,IAAI,CAAC7B,OAAO,IAAIkD,UAAU,IAAID,WAAY,MAAQ,CAACC,UAAU,IAAI,CAACD,WAAW,IAChG,CAAC,IAAI,CAAClH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,CAAE,EAAE;UACpD,IAAI4G,IAAI,CAAC7B,OAAO,EAAE;YACd,IAAIwD,QAAQ,GAAG3B,IAAI,CAAC7B,OAAO,CAAC3B,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;YAC7C,CAACoE,EAAE,GAAGM,QAAQ,CAACxE,SAAS,EAAEC,GAAG,CAAC/C,KAAK,CAACgH,EAAE,EAAE,CAACjJ,OAAO,CAAC,CAACgK,MAAM,CAACD,QAAQ,CAAC,CAAC;YACnE,IAAI,CAACT,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC9D,QAAQ,CAAC;UACrD,CAAC,MACI,IAAI,CAACkH,IAAI,CAAC7B,OAAO,IAAIkD,UAAU,IAAID,WAAW,EAAE;YACjDD,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAChF,OAAO,CAAC;YAC/BuJ,QAAQ,CAACM,SAAS,GAAGzB,IAAI,CAAC5B,IAAI;YAC9B,IAAI,CAAC8C,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC9D,QAAQ,CAAC;UACrD;UACA,IAAI,CAACoI,oBAAoB,CAAC5E,WAAW,CAAC6E,QAAQ,CAAC;UAC/C,IAAI,CAAEL,YAAY,KAAKE,kBAAkB,KAAK,OAAO,IAAIA,kBAAkB,KAAK,KAAK,CAAC,IAAII,WAAW,IAChGL,UAAU,KAAKC,kBAAkB,KAAK,KAAK,IAAIA,kBAAkB,KAAK,QAAQ,CAAC,IAAII,WAAY,KAAK,CAACE,WAAW,EAAE;YACnH,IAAI,CAACpH,OAAO,CAACyC,SAAS,CAACC,GAAG,CAAC,UAAU,GAAGoE,kBAAkB,CAAC;YAC3D,IAAI,CAACa,sBAAsB,CAAC7B,IAAI,CAAC3B,KAAK,CAAC;YACvCqD,QAAQ,GAAG,KAAK;UACpB;QACJ;QACA,IAAIL,UAAU,KAAK,CAACrB,IAAI,CAAC7B,OAAO,IAAI,CAACmD,WAAW,CAAC,IAAII,QAAQ,IACzD,EAAE1B,IAAI,CAAC7B,OAAO,IAAIiD,WAAW,CAAC,EAAE;UAChC,IAAK,CAACpB,IAAI,CAAC7B,OAAO,IAAImD,WAAW,IAC5B,CAAC,CAACtB,IAAI,CAAC7B,OAAO,IAAI,IAAI,CAACjE,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,KAAK,CAACgI,WAAY,EAAE;YACtF,IAAI,CAACpB,IAAI,CAAC7B,OAAO,IAAI,CAACiD,WAAW,EAAE;cAC/B,IAAI,CAAClH,OAAO,CAACyC,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC;YACvD;YACA,IAAI,CAACkF,eAAe,CAAC9B,IAAI,EAAEmB,QAAQ,CAAC;YACpCC,WAAW,GAAG,KAAK;UACvB,CAAC,MACI;YACD,IAAI,CAACA,WAAW,EAAE;cACd,IAAI,CAACS,sBAAsB,CAAC7B,IAAI,CAAC5B,IAAI,CAAC;YAC1C;YACA,IAAIgD,WAAW,IAAI,IAAI,CAAClH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,EAAE;cAChE,IAAI2I,QAAQ,GAAG,IAAI,CAAC7F,aAAa,CAAC,MAAM,EAAE;gBAAEC,SAAS,EAAEnD;cAAK,CAAC,CAAC;cAC9D+I,QAAQ,CAACC,SAAS,GAAGhC,IAAI,CAAC3B,KAAK;YACnC;YACAgD,UAAU,GAAGD,WAAW,GAAG,KAAK,GAAG,IAAI;UAC3C;QACJ;QACA,IAAIA,WAAW,IAAIA,WAAW,KAAK,CAACpB,IAAI,CAAC7B,OAAO,IAAI,CAACmD,WAAW,CAAC,IAAII,QAAQ,EAAE;UAC3E,IAAI,CAAC1B,IAAI,CAAC7B,OAAO,IAAI,CAACkD,UAAU,IAAIC,WAAW,EAAE;YAC7C,IAAI,CAACQ,eAAe,CAAC9B,IAAI,EAAEmB,QAAQ,EAAE,IAAI,CAAC;UAC9C,CAAC,MACI,IAAK,EAAG,IAAI,CAACjH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,IAAKiI,UAAU,CAAC,IACvE,IAAI,CAACnH,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,IAAIgI,WAAY,EAAE;YAClE,IAAI,CAACS,sBAAsB,CAAC7B,IAAI,CAAC3B,KAAK,EAAE,IAAI,CAAC;YAC7C,IAAI,CAAC4D,mBAAmB,CAAC,CAAC;YAC1B,IAAK,CAACjC,IAAI,CAAC7B,OAAO,IAAI,CAACkD,UAAU,IAAI,CAAC,IAAI,CAACH,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAAC5G,QAAQ,CAAC,IACxF,IAAI,CAACoB,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACtG,cAAc,CAAC,EAAE;cACjD,IAAI,CAAC8H,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC;cAC5D,IAAIoD,IAAI,CAACwB,OAAO,KAAK,IAAI,EAAE;gBACvB,IAAIU,QAAQ,GAAG,IAAI,CAAChG,aAAa,CAAC,MAAM,EAAE;kBAAEC,SAAS,EAAE;gBAAiC,CAAC,CAAC;gBAC1F,IAAI,CAACgD,cAAc,CAAC7C,WAAW,CAAC4F,QAAQ,CAAC;cAC7C;YACJ;UACJ;QACJ;MACJ;MACA,IAAIlC,IAAI,CAACtF,QAAQ,EAAE;QACf,IAAIyH,YAAY,GAAG,IAAI,CAACjG,aAAa,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAEpE;QAAS,CAAC,CAAC;QACtE,IAAI,CAAC4C,IAAI,CAACyH,SAAS,CAAC,IAAI,CAACxH,MAAM,CAAC;QAChC,IAAIyH,eAAe,GAAG,IAAI,CAAC1H,IAAI,CAAC2H,WAAW,CAAC,UAAU,CAAC;QACvDH,YAAY,CAACH,SAAS,GAAGK,eAAe;QACxC,IAAIjB,WAAW,IAAK,IAAI,CAACjC,cAAc,KAAM,IAAI,CAACjF,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAChH,UAAU,CAAC,IAAI,CAAC,IAAI,CAACwI,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAAC,mBAAmB,CAAC,IACtJoB,YAAY,IAAI,IAAI,CAAC5G,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC/G,WAAW,CAAC,IAAI,CAAC,IAAI,CAACuI,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAAC,mBAAmB,CAAE,CAAE,IACrIqB,UAAU,IAAI,IAAI,CAAC7G,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC/G,WAAW,CAAE,EAAE;UACjE,IAAI,CAACwG,cAAc,CAAC7C,WAAW,CAAC6F,YAAY,CAAC;QACjD,CAAC,MACI;UACD,IAAI,CAACjB,oBAAoB,CAAC5E,WAAW,CAAC6F,YAAY,CAAC;QACvD;QACA,IAAInC,IAAI,CAACwB,OAAO,KAAK,IAAI,EAAE;UACvB,IAAI,CAACN,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAACoD,IAAI,CAACwB,OAAO,GAAG,cAAc,GAAG,cAAc,CAAC;QAC3F;MACJ;MACA,IAAIxB,IAAI,CAACzD,QAAQ,EAAE;QACftF,QAAQ,CAAC,CAAC,IAAI,CAACiK,oBAAoB,CAAC,EAAElB,IAAI,CAACzD,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;MAC1E;MACA,IAAIuD,IAAI,CAACuC,QAAQ,EAAE;QACf,IAAI,CAACrB,oBAAoB,CAACvE,SAAS,CAACqD,IAAI,CAACuC,QAAQ,GAAG,KAAK,GAAG,QAAQ,CAAC,CAAClK,QAAQ,CAAC;QAC/EhC,UAAU,CAAC,IAAI,CAAC6K,oBAAoB,EAAE;UAAE,UAAU,EAAE,IAAI;UAAE,eAAe,EAAE;QAAO,CAAC,CAAC;MACxF;MACA,IAAIlB,IAAI,CAACwB,OAAO,KAAK,IAAI,EAAE;QACvB,IAAIxB,IAAI,CAACwB,OAAO,EAAE;UACd,IAAI,CAACN,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3D,CAAC,MACI;UACD,IAAI,CAACsE,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3D;MACJ;MACA,IAAI,CAAC4F,iBAAiB,CAACzE,KAAK,EAAE,KAAK,CAAC;MACpC,IAAI,IAAI,CAACmD,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAACzH,UAAU,CAAC,EAAE;QAC1D5B,UAAU,CAAC,IAAI,CAAC6K,oBAAoB,EAAE;UAAE,UAAU,EAAE,GAAG;UAAE,cAAc,EAAE;QAAO,CAAC,CAAC;MACtF,CAAC,MACI;QACD7K,UAAU,CAAC,IAAI,CAAC6K,oBAAoB,EAAE;UAAE,UAAU,EAAE;QAAK,CAAC,CAAC;MAC/D;MACA,IAAI,CAACuB,eAAe,CAAC,IAAI,CAACvB,oBAAoB,EAAEnD,KAAK,CAAC;MACtD,IAAI,CAAC1D,mBAAmB,CAACqI,IAAI,CAAC,IAAI,CAACxB,oBAAoB,CAAC;MACxD,IAAIyB,SAAS,GAAG;QAAEzI,OAAO,EAAE,IAAI,CAACgH,oBAAoB;QAAEnD,KAAK,EAAEA;MAAM,CAAC;MACpE,IAAI,CAAC6E,OAAO,CAAC,kBAAkB,EAAED,SAAS,EAAE,UAAUE,IAAI,EAAE;QACxD1I,KAAK,CAAC8B,eAAe,CAACK,WAAW,CAACuG,IAAI,CAAC3I,OAAO,CAAC;MACnD,CAAC,CAAC;MACF,IAAI6G,UAAU,EAAE;QACZ,IAAI,IAAI,CAACxD,SAAS,IAAI,IAAI,CAACC,QAAQ,EAAE;UACjCC,UAAU,CAAC,YAAY;YAAEtD,KAAK,CAAC2I,4BAA4B,CAAC,CAAC;UAAE,CAAC,CAAC;QACrE,CAAC,MACI;UACD,IAAI,CAACA,4BAA4B,CAAC,CAAC;QACvC;MACJ;IACJ;IACA,IAAI/B,UAAU,EAAE;MACZ,IAAI,IAAI,CAAC7G,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC/G,WAAW,CAAC,EAAE;QAC9C,IAAIoK,SAAS,GAAG,IAAI,CAAC9G,eAAe,CAAC+G,gBAAgB,CAAC,GAAG,GAAG9J,KAAK,CAAC;QAClE,KAAK,IAAI/C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4M,SAAS,CAACjN,MAAM,EAAEK,CAAC,EAAE,EAAE;UACvC,IAAI8M,QAAQ,GAAGF,SAAS,CAAC9E,QAAQ,CAAE9H,CAAC,CAAE+H,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;UACtD+E,QAAQ,CAACtE,KAAK,CAACC,WAAW,CAAC,eAAe,EAAG,IAAI,CAAChB,gBAAgB,GAAI,CAAC,GAAG,IAAI,CAAC;QACnF;MACJ;IACJ;EACJ,CAAC;EACD5D,OAAO,CAAC3E,SAAS,CAACwM,sBAAsB,GAAG,UAAUqB,OAAO,EAAEC,UAAU,EAAE;IACtE,IAAIA,UAAU,KAAK,KAAK,CAAC,EAAE;MAAEA,UAAU,GAAG,KAAK;IAAE;IACjD,IAAIC,OAAO,GAAG,IAAI,CAAClH,aAAa,CAAC,MAAM,EAAE;MAAEC,SAAS,EAAEgH,UAAU,GAAGjK,KAAK,GAAGrB,OAAO,GAAG,GAAG,GAAGmB;IAAK,CAAC,CAAC;IAClGoK,OAAO,CAACpB,SAAS,GAAGkB,OAAO;IAC3B,IAAIC,UAAU,EAAE;MACZ,IAAI,CAAChE,cAAc,GAAG,IAAI,CAACjD,aAAa,CAAC,MAAM,EAAE;QAAEC,SAAS,EAAErE;MAAU,CAAC,CAAC;MAC1E,IAAI,CAACqH,cAAc,CAAC7C,WAAW,CAAC8G,OAAO,CAAC;IAC5C,CAAC,MACI;MACD,IAAI,CAAClC,oBAAoB,CAAC5E,WAAW,CAAC8G,OAAO,CAAC;IAClD;IACA,IAAI,CAAClC,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAACuG,UAAU,GAAGlK,UAAU,GAAGF,QAAQ,CAAC;EAC/E,CAAC;EACDiB,OAAO,CAAC3E,SAAS,CAACyN,4BAA4B,GAAG,YAAY;IACzD,IAAIO,aAAa,GAAI,IAAI,CAACnJ,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC/G,WAAW,CAAC,GAAI,IAAI,GAAG,KAAK;IACjF,IAAI2K,QAAQ,GAAI,IAAI,CAACpC,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAAC5G,QAAQ,CAAC,IAClE,CAAC,IAAI,CAACoI,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAAC3G,QAAQ,CAAC,IACvD,CAAC,IAAI,CAACmI,oBAAoB,CAACvE,SAAS,CAAC+C,QAAQ,CAACzG,UAAU,CAAE;IAC9D,IAAIsK,OAAO,GAAI,IAAI,CAACrC,oBAAoB,CAAC3C,aAAa,CAAC,GAAG,GAAG1G,OAAO,CAAE;IACtE,IAAI0L,OAAO,EAAE;MACT,IAAI,CAAC1F,YAAY,GAAG,IAAI,CAACA,YAAY,GAAG0F,OAAO,CAACC,WAAW,GAAGD,OAAO,CAACC,WAAW,GAAG,IAAI,CAAC3F,YAAY;IACzG;IACA,IAAIwF,aAAa,EAAE;MACf,IAAII,UAAU,GAAG,IAAI,CAACvC,oBAAoB,CAAC3C,aAAa,CAAC,GAAG,GAAGrF,KAAK,CAAC,CAACsK,WAAW,GAAG,EAAE;MACtF,IAAI,CAAC5F,gBAAgB,GAAG8F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAC/F,gBAAgB,EAAE6F,UAAU,CAAC;MACnE,IAAIG,OAAO,GAAG,IAAI,CAAC1J,OAAO,CAACqE,aAAa,CAAC,IAAI,CAAC,CAACsF,SAAS,CAACtF,aAAa,CAAC,GAAG,GAAG3G,OAAO,CAAC;MACrF,IAAIkM,SAAS,GAAG,IAAI,CAAC5C,oBAAoB,CAAC3C,aAAa,CAAC,GAAG,GAAG1G,OAAO,CAAC;MACtE,IAAI+L,OAAO,IAAIE,SAAS,EAAE;QACtB,IAAIC,SAAS,GAAG,IAAI,CAACnG,gBAAgB,GAAI,CAAC,IAAI,CAACsD,oBAAoB,CAAC3C,aAAa,CAAC,GAAG,GAAG3G,OAAO,CAAC,IACzFkM,SAAS,EAAEN,WAAW,GAAG,CAAE;QAClC,IAAI,CAAC7F,mBAAmB,GAAG+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,mBAAmB,EAAEoG,SAAS,CAAC;MAC5E,CAAC,MACI;QACD,IAAI,CAACpG,mBAAmB,GAAG+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,mBAAmB,EAAG,IAAI,CAACC,gBAAgB,GAAG,CAAE,CAAC;MAC9F;IACJ,CAAC,MACI;MACD,IAAIiG,SAAS,GAAG,IAAI,CAAC3J,OAAO,CAACqE,aAAa,CAAC,IAAI,CAAC,CAACsF,SAAS;MAC1D,IAAIG,cAAc,GAAGV,QAAQ,GAAG,IAAI,CAACpC,oBAAoB,CAACsC,WAAW,GACjEK,SAAS,CAACI,UAAU,CAACT,WAAW;MACpC,IAAI,CAAC7F,mBAAmB,GAAG+F,IAAI,CAACC,GAAG,CAAC,IAAI,CAAChG,mBAAmB,EAAEqG,cAAc,CAAC;IACjF;EACJ,CAAC;EACDhK,OAAO,CAAC3E,SAAS,CAACyM,eAAe,GAAG,UAAU9B,IAAI,EAAEmB,QAAQ,EAAE+C,OAAO,EAAE;IACnE,IAAIlE,IAAI,CAACwB,OAAO,IAAI,IAAI,EAAE;MACtBL,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC;MACxC,IAAIsH,OAAO,EAAE;QACT/C,QAAQ,CAACM,SAAS,GAAGzB,IAAI,CAAC3B,KAAK;MACnC,CAAC,MACI;QACD8C,QAAQ,CAACM,SAAS,GAAGzB,IAAI,CAAC3B,KAAK,GAAG2B,IAAI,CAAC3B,KAAK,GAAG2B,IAAI,CAAC5B,IAAI;MAC5D;MACA,IAAI,CAAC8C,oBAAoB,CAAC5E,WAAW,CAAC6E,QAAQ,CAAC;IACnD,CAAC,MACI;MACDA,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAChF,OAAO,CAAC;MAC/B,IAAI,CAACsJ,oBAAoB,CAAC5E,WAAW,CAAC6E,QAAQ,CAAC;MAC/C,IAAI,CAACD,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAAC9D,QAAQ,CAAC;IACrD;EACJ,CAAC;EACDkB,OAAO,CAAC3E,SAAS,CAAC8O,kBAAkB,GAAG,YAAY;IAC/C,IAAIC,QAAQ,GAAG,IAAI,CAACnD,aAAa,CAACjC,WAAW,CAAC,CAAC;IAC/C,IAAIqF,eAAe,GAAG,IAAI,CAACnK,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC7G,SAAS,CAAC,GACzDuL,QAAQ,KAAK,KAAK,GAAG,QAAQ,GAAGA,QAAQ,KAAK,QAAQ,GAAG,OAAO,GAAGA,QAAQ,GAC1EA,QAAQ,KAAK,OAAO,GAAG,QAAQ,GAAGA,QAAQ,KAAK,KAAK,GAAG,OAAO,GAAGA,QAAS;IACjF,OAAOC,eAAe;EAC1B,CAAC;EACDrK,OAAO,CAAC3E,SAAS,CAAC4M,mBAAmB,GAAG,YAAY;IAChD,IAAI,CAAC7C,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACD,cAAc,CAACxC,SAAS,CAACC,GAAG,CAAC,UAAU,GAAG,IAAI,CAACuH,kBAAkB,CAAC,CAAC,CAAC;IACzE,IAAI,IAAI,CAAClD,aAAa,CAACjC,WAAW,CAAC,CAAC,KAAK,OAAO,IAAI,IAAI,CAACsF,WAAW,CAACtF,WAAW,CAAC,CAAC,KAAK,UAAU,EAAE;MAC/F,IAAI,IAAI,CAACkC,oBAAoB,CAAC+C,UAAU,EAAE;QACtC,IAAI,CAAC/C,oBAAoB,CAAC+C,UAAU,CAACM,MAAM,CAAC,IAAI,CAACpF,cAAc,CAAC;MACpE,CAAC,MACI;QACD,IAAI,CAAC+B,oBAAoB,CAAC5E,WAAW,CAAC,IAAI,CAAC6C,cAAc,CAAC;MAC9D;IACJ,CAAC,MACI;MACD,IAAI,CAAC+B,oBAAoB,CAAC5E,WAAW,CAAC,IAAI,CAAC6C,cAAc,CAAC;IAC9D;IACA,IAAI,CAACjF,OAAO,CAACyC,SAAS,CAACC,GAAG,CAAC,UAAU,GAAG,IAAI,CAACuH,kBAAkB,CAAC,CAAC,CAAC;EACtE,CAAC;EACDnK,OAAO,CAAC3E,SAAS,CAAC+J,kBAAkB,GAAG,YAAY;IAC/C,IAAIoF,SAAS,GAAG,IAAI,CAACrF,cAAc,CAACxC,SAAS,CAAC8H,KAAK,CAACC,KAAK,CAAC,4BAA4B,CAAC;IACvF,IAAIF,SAAS,EAAE;MACXrN,WAAW,CAAC,CAAC,IAAI,CAACgI,cAAc,CAAC,EAAEqF,SAAS,CAAC;MAC7CrN,WAAW,CAAC,CAAC,IAAI,CAAC+C,OAAO,CAAC,EAAEsK,SAAS,CAAC;IAC1C;EACJ,CAAC;EACDxK,OAAO,CAAC3E,SAAS,CAAC8H,cAAc,GAAG,YAAY;IAC3C,IAAIwH,eAAe,GAAG,IAAI,CAACzK,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACvG,aAAa,CAAC;IACpE,IAAIyL,OAAO,GAAG,SAAAA,CAAU7G,KAAK,EAAE;MAC3B,IAAIiC,IAAI,GAAG6E,MAAM,CAAC5H,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACvD,IAAIoC,WAAW,GAAGuE,MAAM,CAACxK,mBAAmB,CAAC4D,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MAC5E,IAAI8B,IAAI,CAACwB,OAAO,KAAK,IAAI,EAAE;QACvB,IAAIsD,YAAY,GAAG,KAAK,CAAC;QACzB,IAAIC,SAAS;QACb,IAAIJ,eAAe,IAAI,CAAC3E,IAAI,CAAC7B,OAAO,EAAE;UAClC2G,YAAY,GAAGxE,WAAW,CAAC/B,aAAa,CAAC,GAAG,GAAG3G,OAAO,CAAC;QAC3D,CAAC,MACI;UACDmN,SAAS,GAAGzE,WAAW,CAAC/B,aAAa,CAAC,GAAG,GAAG3G,OAAO,CAAC;QACxD;QACA,IAAI,CAACkN,YAAY,IAAIH,eAAe,IAAIE,MAAM,CAAC/G,aAAa,CAACC,KAAK,CAAC,EAAE;UACjE+G,YAAY,GAAGxE,WAAW,CAAC/B,aAAa,CAAC,GAAG,GAAGlF,aAAa,CAAC;QACjE;QACA,IAAI2L,aAAa,GAAG1E,WAAW,CAAC/B,aAAa,CAAC,yBAAyB,CAAC;QACxE,IAAIoD,QAAQ,GAAG3B,IAAI,CAAC7B,OAAO,CAAC3B,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;QAC7C,IAAIwI,SAAS,GAAG3E,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAAC,cAAc,CAAC;QAC9D,IAAIwF,cAAc,GAAGD,SAAS,GAAG,SAAS,GAAG,eAAe;QAC5D,IAAIH,YAAY,EAAE;UACdA,YAAY,CAACnI,SAAS,CAACzF,MAAM,CAACmC,aAAa,CAAC;UAC5C,IAAIyL,YAAY,CAACrD,SAAS,KAAK,EAAE,EAAE;YAC/BqD,YAAY,CAACrD,SAAS,GAAG,EAAE;UAC/B;UACAqD,YAAY,CAACnI,SAAS,CAACC,GAAG,CAAC,SAAS,EAAEsI,cAAc,EAAEtN,OAAO,CAAC;QAClE;QACA,IAAIiN,MAAM,CAAC/G,aAAa,CAACC,KAAK,CAAC,IAAI,CAAC4G,eAAe,EAAE;UACjD,IAAIxD,QAAQ,GAAGb,WAAW,CAAC/B,aAAa,CAAC,SAAS,CAAC;UACnD4C,QAAQ,CAACxE,SAAS,CAACC,GAAG,CAAC,SAAS,EAAEsI,cAAc,EAAEtN,OAAO,CAAC;QAC9D;QACA,IAAImN,SAAS,EAAE;UACX,IAAIA,SAAS,CAACtD,SAAS,KAAK,EAAE,EAAE;YAC5BsD,SAAS,CAACtD,SAAS,GAAG,EAAE;UAC5B,CAAC,MACI,IAAIE,QAAQ,CAAC7L,MAAM,GAAG,CAAC,EAAE;YAC1B6L,QAAQ,CAACwD,OAAO,CAAC,UAAUC,IAAI,EAAE;cAAEL,SAAS,CAACpI,SAAS,CAACzF,MAAM,CAACkO,IAAI,CAAC;YAAE,CAAC,CAAC;UAC3E;UACAL,SAAS,CAACpI,SAAS,CAACC,GAAG,CAAC,SAAS,EAAEsI,cAAc,CAAC;QACtD;QACA,IAAIF,aAAa,EAAE;UACfA,aAAa,CAACrI,SAAS,CAACC,GAAG,CAACqI,SAAS,GAAG,gBAAgB,GAAG,eAAe,CAAC;UAC3E,IAAIJ,MAAM,CAAC3K,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC9G,YAAY,CAAC,EAAE;YACjD,IAAIqK,QAAQ,GAAG3C,WAAW,CAAC/B,aAAa,CAAC,GAAG,GAAGrF,KAAK,CAAC;YACrD,IAAIqK,OAAO,GAAGjD,WAAW,CAAC/B,aAAa,CAAC,GAAG,GAAGvF,IAAI,CAAC;YACnD,IAAI+K,SAAS,GAAGR,OAAO,GAAGA,OAAO,CAACC,WAAW,GAAGD,OAAO,CAAC8B,qBAAqB,CAAC,CAAC,CAACC,IAAI,GAChFrC,QAAQ,CAACO,WAAW,GAAGP,QAAQ,CAACoC,qBAAqB,CAAC,CAAC,CAACC,IAAI;YAChE,IAAIC,cAAc,GAAGjF,WAAW,CAAC/B,aAAa,CAAC,yBAAyB,CAAC;YACzEgH,cAAc,CAAC5G,KAAK,CAACC,WAAW,CAAC,iBAAiB,EAAGmF,SAAS,GAAG,EAAE,GAAI,IAAI,CAAC;UAChF;QACJ;MACJ;IACJ,CAAC;IACD,IAAIc,MAAM,GAAG,IAAI;IACjB,KAAK,IAAI9G,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACd,KAAK,CAACnH,MAAM,EAAEiI,KAAK,EAAE,EAAE;MACpD6G,OAAO,CAAC7G,KAAK,CAAC;IAClB;EACJ,CAAC;EACD/D,OAAO,CAAC3E,SAAS,CAACgI,aAAa,GAAG,YAAY;IAC1C,IAAI,IAAI,CAACmI,WAAW,EAAE;MAClB,IAAI,CAACC,UAAU,GAAG,IAAIhO,OAAO,CAAC;QAC1BhC,MAAM,EAAE,mBAAmB;QAAEiQ,eAAe,EAAE,IAAI;QAClDC,OAAO,EAAE,QAAQ;QAAEpJ,QAAQ,EAAE,IAAI,CAACA,QAAQ,GAAIjD,cAAc,GAAG,GAAG,GAAG,IAAI,CAACiD,QAAQ,GAAIjD,cAAc;QACpGsM,QAAQ,EAAE;MACd,CAAC,CAAC;MACF,IAAI,CAACH,UAAU,CAACI,QAAQ,CAAC,IAAI,CAAC5J,eAAe,CAAC;IAClD,CAAC,MACI;MACD,IAAI,CAACxF,iBAAiB,CAAC,IAAI,CAACgP,UAAU,CAAC,EAAE;QACrC,IAAI,CAACA,UAAU,CAACK,OAAO,CAAC,CAAC;QACzB,IAAI,CAACL,UAAU,GAAG,IAAI;MAC1B;IACJ;EACJ,CAAC;EACDzL,OAAO,CAAC3E,SAAS,CAACoN,eAAe,GAAG,UAAUnC,WAAW,EAAEvC,KAAK,EAAE;IAC9DhH,YAAY,CAAC6F,GAAG,CAAC0D,WAAW,EAAE,OAAO,EAAE,IAAI,CAACyF,iBAAiB,CAACC,IAAI,CAAC,IAAI,EAAE1F,WAAW,EAAEvC,KAAK,CAAC,EAAE,IAAI,CAAC;IACnGhH,YAAY,CAAC6F,GAAG,CAAC0D,WAAW,EAAE,WAAW,EAAE,IAAI,CAAC2F,kBAAkB,CAACD,IAAI,CAAC,IAAI,EAAEjI,KAAK,CAAC,EAAE,IAAI,CAAC;IAC3FhH,YAAY,CAAC6F,GAAG,CAAC0D,WAAW,EAAE,YAAY,EAAE,IAAI,CAAC4F,mBAAmB,EAAE,IAAI,CAAC;EAC/E,CAAC;EACDlM,OAAO,CAAC3E,SAAS,CAAC8Q,iBAAiB,GAAG,YAAY;IAC9C,KAAK,IAAIpI,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,IAAI,CAACd,KAAK,CAACnH,MAAM,EAAEiI,KAAK,EAAE,EAAE;MACpD,IAAIuC,WAAW,GAAG,IAAI,CAACjG,mBAAmB,CAAC4D,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MAC1EnH,YAAY,CAACG,MAAM,CAACoJ,WAAW,EAAE,OAAO,EAAE,IAAI,CAACyF,iBAAiB,CAACC,IAAI,CAAC,IAAI,EAAE1F,WAAW,EAAEvC,KAAK,CAAC,CAAC;MAChGhH,YAAY,CAACG,MAAM,CAACoJ,WAAW,EAAE,WAAW,EAAE,IAAI,CAAC2F,kBAAkB,CAACD,IAAI,CAAC,IAAI,EAAEjI,KAAK,CAAC,CAAC;MACxFhH,YAAY,CAACG,MAAM,CAACoJ,WAAW,EAAE,YAAY,EAAE,IAAI,CAAC4F,mBAAmB,CAAC;IAC5E;EACJ,CAAC;EACDlM,OAAO,CAAC3E,SAAS,CAAC0Q,iBAAiB,GAAG,UAAUzF,WAAW,EAAEvC,KAAK,EAAEqI,CAAC,EAAE;IACnE,IAAI,IAAI,CAACC,MAAM,EAAE;MACb,IAAIC,eAAe,GAAGvI,KAAK,GAAG,IAAI,CAAClC,UAAU;MAC7C,IAAI6H,IAAI,CAAC6C,GAAG,CAACD,eAAe,CAAC,KAAK,CAAC,EAAE;QACjC,IAAI,CAACE,gBAAgB,CAACzI,KAAK,EAAEqI,CAAC,EAAE9F,WAAW,CAAC;MAChD;IACJ,CAAC,MACI;MACD,IAAI,CAACkG,gBAAgB,CAACzI,KAAK,EAAEqI,CAAC,EAAE9F,WAAW,CAAC;IAChD;EACJ,CAAC;EACDtG,OAAO,CAAC3E,SAAS,CAAC4Q,kBAAkB,GAAG,UAAUlI,KAAK,EAAE;IACpD,IAAIyC,WAAW,GAAG,IAAI,CAACvD,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5D,IAAI,IAAI,CAACsH,WAAW,KAAKhF,WAAW,CAACnC,KAAK,IAAImC,WAAW,CAACpC,IAAI,CAAC,EAAE;MAC7D,IAAI,CAAC,IAAI,CAAC3C,WAAW,EAAE;QACnB,IAAI,CAACgL,oBAAoB,CAAC1I,KAAK,CAAC;QAChC,IAAI,CAAC0H,UAAU,CAACiB,IAAI,CAAC,IAAI,CAACrM,mBAAmB,CAAC4D,QAAQ,CAAEF,KAAK,CAAEG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAChF,IAAI,IAAI,CAACY,QAAQ,CAAC6H,iBAAiB,CAAC,CAAC,KAAK,OAAO,KAAM,IAAI,CAAC7H,QAAQ,CAAC6H,iBAAiB,CAAC,CAAC,KAAK,WAAW,IACnGnG,WAAW,CAACnC,KAAK,KAAK,EAAE,IAAImC,WAAW,CAACrC,OAAO,KAAK,EAAG,IAAKqC,WAAW,CAACnC,KAAK,KAAK,IAAI,IAAImC,WAAW,CAACrC,OAAO,KAAK,EAAE,IAAIqC,WAAW,CAACpC,IAAI,KAAK,EAAG,CAAC,EAAE;UACpJ,IAAIwI,iBAAiB,GAAGpG,WAAW,CAACN,MAAM,CAAClB,WAAW,CAAC,CAAC,KAAK,YAAY,GACrE1F,cAAc,GAAG,GAAG,GAAGC,mBAAmB,GAAG,GAAG,IAAI,IAAI,CAACgD,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,EAAE,CAAC,GAAGjD,cAAc,GAAG,GAAG,IAAI,IAAI,CAACiD,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,EAAE,CAAC;UACzJ,IAAI,CAACkJ,UAAU,CAACoB,aAAa,CAAC;YAAEtK,QAAQ,EAAEqK,iBAAiB,CAACpK,IAAI,CAAC;UAAE,CAAC,CAAC;QACzE;QACA,IAAI,CAACf,WAAW,GAAG,IAAI;MAC3B;IACJ;EACJ,CAAC;EACDzB,OAAO,CAAC3E,SAAS,CAAC6Q,mBAAmB,GAAG,YAAY;IAChD,IAAI,IAAI,CAACzK,WAAW,EAAE;MAClB,IAAI,CAACgK,UAAU,CAACqB,KAAK,CAAC,CAAC;MACvB,IAAI,CAACrL,WAAW,GAAG,KAAK;IAC5B;EACJ,CAAC;EACDzB,OAAO,CAAC3E,SAAS,CAACoR,oBAAoB,GAAG,UAAU1I,KAAK,EAAE;IACtD,IAAI,IAAI,CAACyH,WAAW,EAAE;MAClB,IAAI,IAAI,CAACuB,OAAO,EAAE;QACd,IAAI,CAACC,aAAa,CAAC,CAAC,wBAAwB,CAAC,CAAC;MAClD;MACA,IAAI9D,OAAO,GAAG,KAAK,CAAC;MACpB,IAAI1C,WAAW,GAAG,IAAI,CAACvD,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MAC5D,IAAI,IAAI,CAAC+I,eAAe,EAAE;QACtB/D,OAAO,GAAG,IAAI,CAAChH,aAAa,CAAC,MAAM,EAAE;UAAEC,SAAS,EAAE;QAA4B,CAAC,CAAC;QAChF,IAAI+K,gBAAgB,GAAG,IAAI,CAACC,mBAAmB,CAAC,IAAI,CAACF,eAAe,CAAC;QACrEzQ,MAAM,CAAC0Q,gBAAgB,CAAC;UAAEzC,KAAK,EAAEjE;QAAY,CAAC,EAAE,IAAI,EAAE,wBAAwB,EAAG,IAAI,CAACtG,OAAO,CAACK,EAAE,GAAG,iBAAiB,EAAG,IAAI,CAAC6M,gBAAgB,CAAC,EAAElE,OAAO,CAAC;QACvJ,IAAI,CAACuC,UAAU,CAACoB,aAAa,CAAC;UAAE3D,OAAO,EAAEA;QAAQ,CAAC,EAAE,IAAI,CAAC;MAC7D,CAAC,MACI;QACD,IAAImE,SAAS,GAAG7G,WAAW,CAACnC,KAAK,GAAGmC,WAAW,CAACnC,KAAK,GAAGmC,WAAW,CAACpC,IAAI;QACxE,IAAI,CAACqH,UAAU,CAACoB,aAAa,CAAC;UAAE3D,OAAO,EAAE9L,qBAAqB,CAAC,YAAY;YAAE,OAAOiQ,SAAS;UAAE,CAAC;QAAE,CAAC,EAAE,IAAI,CAAC;MAC9G;MACA,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC/B;EACJ,CAAC;EACDtN,OAAO,CAAC3E,SAAS,CAACmR,gBAAgB,GAAG,UAAUzI,KAAK,EAAEqI,CAAC,EAAE9F,WAAW,EAAE;IAClE,IAAIiH,cAAc,GAAG;MACjBrN,OAAO,EAAEoG,WAAW;MAAEkH,KAAK,EAAEpB,CAAC;MAAEqB,YAAY,EAAE,IAAI,CAAC5L,UAAU;MAC7DA,UAAU,EAAEkC;IAChB,CAAC;IACD,IAAI,CAAC6E,OAAO,CAAC,WAAW,EAAE2E,cAAc,CAAC;IACzC,IAAI,CAAC3H,cAAc,CAAC7B,KAAK,EAAEqI,CAAC,EAAE9F,WAAW,EAAE,IAAI,CAAC;EACpD,CAAC;EACDtG,OAAO,CAAC3E,SAAS,CAAC0H,sBAAsB,GAAG,YAAY;IACnD,IAAI,CAACmK,gBAAgB,GAAG,IAAI,CAAC1J,QAAQ,GAAG,IAAI,CAAC2J,mBAAmB,CAAC,IAAI,CAAC3J,QAAQ,CAAC,GAAG,IAAI;EAC1F,CAAC;EACDxD,OAAO,CAAC3E,SAAS,CAACmN,iBAAiB,GAAG,UAAUzE,KAAK,EAAE2J,UAAU,EAAE;IAC/D,IAAI3E,SAAS,GAAG,IAAI,CAAC9G,eAAe,CAAC+G,gBAAgB,CAAC,IAAI,CAAC;IAC3D,IAAI0E,UAAU,EAAE;MACZ,IAAI,CAACC,iBAAiB,CAAC5E,SAAS,CAAC9E,QAAQ,CAAEF,KAAK,CAAEG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACvE;IACA,IAAI,IAAI,CAACV,QAAQ,EAAE;MACf,IAAIkK,UAAU,EAAE;QACZ3E,SAAS,CAAC9E,QAAQ,CAAEF,KAAK,CAAEG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAACC,GAAG,CAACnE,QAAQ,CAAC;MACvE,CAAC,MACI;QACD,IAAI,CAACyI,oBAAoB,CAACvE,SAAS,CAACC,GAAG,CAACnE,QAAQ,CAAC;MACrD;MACA,IAAIuH,IAAI,GAAG,IAAI,CAAC/C,KAAK,CAACgB,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACrD1H,MAAM,CAAC,IAAI,CAAC0Q,gBAAgB,CAAC;QAAElJ,IAAI,EAAEgC,IAAI;QAAEQ,WAAW,EAAEzC;MAAM,CAAC,EAAE,IAAI,EAAE,iBAAiB,EAAG,IAAI,CAAC7D,OAAO,CAACK,EAAE,GAAG,kBAAkB,EAAG,IAAI,CAAC6M,gBAAgB,CAAC,EAAEM,UAAU,GAAG3E,SAAS,CAAC9E,QAAQ,CAAEF,KAAK,CAAEG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAACgD,oBAAoB,CAAC;IACnP;IACA,IAAI,CAACoG,oBAAoB,CAAC,CAAC;EAC/B,CAAC;EACDtN,OAAO,CAAC3E,SAAS,CAACsS,iBAAiB,GAAG,UAAUlH,GAAG,EAAE;IACjDA,GAAG,CAAC9D,SAAS,CAACzF,MAAM,CAACuB,QAAQ,CAAC;IAC9B,IAAIwL,UAAU,GAAGxD,GAAG,CAACmH,iBAAiB;IACtC,KAAK,IAAIzR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsK,GAAG,CAACoH,iBAAiB,EAAE1R,CAAC,EAAE,EAAE;MAC5C8N,UAAU,CAAC/M,MAAM,CAAC,CAAC;IACvB;EACJ,CAAC;EACD8C,OAAO,CAAC3E,SAAS,CAACyS,aAAa,GAAG,YAAY;IAC1C,IAAI,IAAI,CAACf,OAAO,EAAE;MACd,IAAI,CAACC,aAAa,CAAC,CAAC,iBAAiB,CAAC,CAAC;IAC3C;IACA,KAAK,IAAI7Q,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC8G,KAAK,CAACnH,MAAM,EAAEK,CAAC,EAAE,EAAE;MACxC,IAAI,CAACqM,iBAAiB,CAACrM,CAAC,EAAE,IAAI,CAAC;IACnC;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI6D,OAAO,CAAC3E,SAAS,CAAC8R,mBAAmB,GAAG,UAAU3J,QAAQ,EAAE;IACxD,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;MAC9B,IAAI0F,OAAO,GAAG,EAAE;MAChB,IAAI;QACA,IAAI6E,OAAO,GAAG1Q,MAAM,CAACmG,QAAQ,CAAC;QAC9B,IAAIuK,OAAO,EAAE;UACT;UACA7E,OAAO,GAAG6E,OAAO,CAACC,OAAO,KAAK,QAAQ,GAAGD,OAAO,CAACtG,SAAS,GAAGsG,OAAO,CAACE,SAAS;QAClF,CAAC,MACI;UACD/E,OAAO,GAAG1F,QAAQ;QACtB;MACJ,CAAC,CACD,OAAO4I,CAAC,EAAE;QACNlD,OAAO,GAAG1F,QAAQ;MACtB;MACA,OAAOlG,OAAO,CAAC4L,OAAO,CAAC;IAC3B,CAAC,MACI;MACD;MACA,OAAO5L,OAAO,CAACkG,QAAQ,CAAC;IAC5B;EACJ,CAAC;EACDxD,OAAO,CAAC3E,SAAS,CAACuK,cAAc,GAAG,UAAU7B,KAAK,EAAEqI,CAAC,EAAE9F,WAAW,EAAE4H,YAAY,EAAEC,SAAS,EAAE;IACzF,IAAIhO,KAAK,GAAG,IAAI;IAChB,IAAIwI,SAAS,GAAG;MACZzI,OAAO,EAAEoG,WAAW;MAAEkH,KAAK,EAAEpB,CAAC;MAAE8B,YAAY,EAAEA,YAAY;MAC1DT,YAAY,EAAE,IAAI,CAAC5L,UAAU;MAAEA,UAAU,EAAEkC,KAAK;MAAEqK,MAAM,EAAE;IAC9D,CAAC;IACD,IAAID,SAAS,KAAK,KAAK,EAAE;MACrB,IAAIE,cAAc,GAAG,IAAI,CAACxM,UAAU;MACpC,IAAI,CAAC+G,OAAO,CAAC,cAAc,EAAED,SAAS,EAAE,UAAUE,IAAI,EAAE;QACpD,IAAIA,IAAI,CAACuF,MAAM,EAAE;UACb;QACJ;QACAjO,KAAK,CAACyB,iBAAiB,CAACmC,KAAK,CAAC;QAC9B,IAAI4E,SAAS,GAAG;UACZzI,OAAO,EAAEoG,WAAW;UAAEkH,KAAK,EAAEpB,CAAC;UAAE8B,YAAY,EAAEA,YAAY;UAC1DT,YAAY,EAAEY,cAAc;UAAExM,UAAU,EAAE1B,KAAK,CAAC0B;QACpD,CAAC;QACD1B,KAAK,CAACyI,OAAO,CAAC,aAAa,EAAED,SAAS,CAAC;MAC3C,CAAC,CAAC;IACN,CAAC,MACI;MACD,IAAI,CAAC/G,iBAAiB,CAACmC,KAAK,CAAC;IACjC;EACJ,CAAC;EACD/D,OAAO,CAAC3E,SAAS,CAACuG,iBAAiB,GAAG,UAAUmC,KAAK,EAAEuK,UAAU,EAAEH,SAAS,EAAE;IAC1EpK,KAAK,GAAG2F,IAAI,CAAC6E,GAAG,CAACxK,KAAK,EAAE,IAAI,CAACd,KAAK,CAACnH,MAAM,GAAG,CAAC,CAAC;IAC9C,IAAI0S,WAAW,GAAG,IAAI,CAACnO,mBAAmB,CAACvE,MAAM;IACjD,IAAIiI,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGyK,WAAW,GAAG,CAAC,EAAE;MACvCzK,KAAK,GAAG,IAAI,CAAC1D,mBAAmB,CAAC4D,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAAC+C,QAAQ,CAACrH,QAAQ,CAAC,GAAG,IAAI,CAACwD,UAAU,GAAGkC,KAAK;IAC3H;IACA,IAAIoC,YAAY,GAAG,IAAI,CAACC,mBAAmB;IAC3C,IAAI,CAACA,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACvE,UAAU,GAAGoC,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC;IAChD,IAAI,CAACkC,mBAAmB,GAAGD,YAAY;IACvC,KAAK,IAAIhK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC8G,KAAK,CAACnH,MAAM,EAAEK,CAAC,EAAE,EAAE;MACxC,IAAImK,WAAW,GAAG,IAAI,CAACjG,mBAAmB,CAAC4D,QAAQ,CAAC9H,CAAC,CAAC+H,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACtE,IAAI8B,IAAI,GAAG,IAAI,CAAC/C,KAAK,CAACgB,QAAQ,CAAC9H,CAAC,CAAC+H,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACjDoC,WAAW,CAAC3D,SAAS,CAACzF,MAAM,CAACc,QAAQ,EAAEC,UAAU,EAAEG,SAAS,EAAEF,UAAU,CAAC;MACzE,IAAI/B,CAAC,KAAK,IAAI,CAAC0F,UAAU,EAAE;QACvByE,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAAC5E,QAAQ,CAAC;MACvC;MACA,IAAI,IAAI,CAAC6D,UAAU,IAAI,CAAC,IAAI,IAAI,CAAC4D,WAAW,EAAE;QAC1C,IAAI,IAAI,CAACvF,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC7G,SAAS,CAAC,EAAE;UAC5C,IAAI,CAAC4P,uBAAuB,CAAC,CAAC;QAClC,CAAC,MACI;UACD,IAAI,CAAChJ,WAAW,CAACd,KAAK,CAACC,WAAW,CAACrG,aAAa,EAAI,GAAG,IAAI,IAAI,CAAC0E,KAAK,CAACnH,MAAM,GAAG,CAAC,CAAC,GAAIiI,KAAK,GAAI,GAAG,CAAC;QACtG;MACJ,CAAC,MACI,IAAI,IAAI,CAAClC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC4D,WAAW,EAAE;QAC9C,IAAI,CAACA,WAAW,CAACd,KAAK,CAACC,WAAW,CAACrG,aAAa,EAAE,CAAC,GAAG,GAAG,CAAC;MAC9D;MACA,IAAIpC,CAAC,KAAK,IAAI,CAAC0F,UAAU,EAAE;QACvByE,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAAC3E,UAAU,CAAC;MACzC,CAAC,MACI,IAAI,IAAI,CAAC4D,UAAU,GAAG,CAAC,IAAI1F,CAAC,GAAG,IAAI,CAAC0F,UAAU,EAAE;QACjDyE,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAACxE,SAAS,CAAC;MACxC,CAAC,MACI;QACDkI,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAAC1E,UAAU,CAAC;MACzC;MACA,IAAIoI,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAACzH,UAAU,CAAC,EAAE;QAC5C5B,UAAU,CAACiK,WAAW,EAAE;UAAE,UAAU,EAAE,GAAG;UAAE,cAAc,EAAE;QAAO,CAAC,CAAC;MACxE,CAAC,MACI;QACDjK,UAAU,CAACiK,WAAW,EAAE;UAAE,UAAU,EAAE,IAAI;UAAE,cAAc,EAAE;QAAQ,CAAC,CAAC;MAC1E;MACA,IAAIoI,cAAc,GAAG,IAAI,CAACtI,mBAAmB;MAC7C,IAAI,CAACA,mBAAmB,GAAG,IAAI;MAC/B,IAAI+H,SAAS,KAAK,KAAK,EAAE;QACrB,IAAIhS,CAAC,GAAG,IAAI,CAAC0F,UAAU,IAAK,IAAI,CAACoB,KAAK,CAACnH,MAAM,GAAG,CAAC,KAAK,IAAI,CAAC+F,UAAU,IAAImE,IAAI,CAACE,MAAM,CAAClB,WAAW,CAAC,CAAC,KAAK,WAAY,EAAE;UACjHgB,IAAI,CAACE,MAAM,GAAG1I,UAAU,CAACoJ,SAAS;QACtC,CAAC,MACI,IAAIzK,CAAC,KAAK,IAAI,CAAC0F,UAAU,EAAE;UAC5BmE,IAAI,CAACE,MAAM,GAAG1I,UAAU,CAAC6I,UAAU;QACvC,CAAC,MACI,IAAIlK,CAAC,GAAG,IAAI,CAAC0F,UAAU,EAAE;UAC1BmE,IAAI,CAACE,MAAM,GAAG1I,UAAU,CAACmR,UAAU;QACvC;QACA,IAAIL,UAAU,IAAI,IAAI,CAACzM,UAAU,KAAK1F,CAAC,EAAE;UACrC6J,IAAI,CAACE,MAAM,GAAGoI,UAAU;QAC5B;QACA,IAAItI,IAAI,CAACE,MAAM,CAAClB,WAAW,CAAC,CAAC,KAAK,WAAW,EAAE;UAC3CsB,WAAW,CAAC3D,SAAS,CAACzF,MAAM,CAACc,QAAQ,EAAEC,UAAU,EAAEC,UAAU,CAAC;UAC9DoI,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAACxE,SAAS,CAAC;QACxC;QACA,IAAI4H,IAAI,CAACE,MAAM,CAAClB,WAAW,CAAC,CAAC,KAAK,YAAY,EAAE;UAC5CsB,WAAW,CAAC3D,SAAS,CAACzF,MAAM,CAACc,QAAQ,EAAEC,UAAU,EAAEG,SAAS,CAAC;UAC7DkI,WAAW,CAAC3D,SAAS,CAACC,GAAG,CAAC1E,UAAU,CAAC;QACzC;MACJ;MACA,IAAI,CAACkI,mBAAmB,GAAGsI,cAAc;MACzC,IAAI,CAACE,qBAAqB,CAACzS,CAAC,EAAEmK,WAAW,CAAC;IAC9C;IACA,IAAI,CAACuI,sBAAsB,CAAC,CAAC;EACjC,CAAC;EACD7O,OAAO,CAAC3E,SAAS,CAACoT,uBAAuB,GAAG,YAAY;IACpD,IAAItO,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACD,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC/G,WAAW,CAAC,IAAI,IAAI,CAACuB,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAChH,UAAU,CAAC,KAC5F,CAAC,IAAI,CAACwB,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACvG,aAAa,CAAC,IAC/C,IAAI,CAACkB,mBAAmB,CAAC4D,QAAQ,CAAC,IAAI,CAACpC,UAAU,CAACqC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAAC+C,QAAQ,CAAC5G,QAAQ,CAAC,EAAE;MACjG,IAAIgQ,WAAW,GAAG,IAAI,CAAC5O,OAAO,CAACqE,aAAa,CAAC,wBAAwB,CAAC;MACtE,IAAIwK,WAAW,GAAG,IAAI,CAAC1O,mBAAmB,CAAC4D,QAAQ,CAAC,IAAI,CAACpC,UAAU,CAACqC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAC/E+F,UAAU;MACf,IAAIQ,KAAK,GAAG,IAAI,CAAC5I,UAAU,KAAK,CAAC,GAAG,CAAC,GAAG,CAACkN,WAAW,CAACC,UAAU,GAAGF,WAAW,CAACE,UAAU,GACnFD,WAAW,CAACvF,WAAW,GAAG,CAAE,IAAIsF,WAAW,CAACtF,WAAW,GAAG,GAAG;MAClE,IAAI,IAAI,CAACtJ,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAClH,GAAG,CAAC,EAAE;QACtCiM,KAAK,GAAG,CAACqE,WAAW,CAACzD,qBAAqB,CAAC,CAAC,CAAC4D,KAAK,GAAGF,WAAW,CAAC1D,qBAAqB,CAAC,CAAC,CAAC4D,KAAK,GACzFF,WAAW,CAACvF,WAAW,GAAG,CAAE,IAAIsF,WAAW,CAACtF,WAAW,GAAG,GAAG;QAClE,IAAI,CAAC/D,WAAW,CAACd,KAAK,CAACC,WAAW,CAACrG,aAAa,EAAGkM,KAAK,GAAI,GAAG,CAAC;MACpE,CAAC,MACI;QACD,IAAI,CAAChF,WAAW,CAACd,KAAK,CAACC,WAAW,CAACrG,aAAa,EAAGkM,KAAK,GAAI,GAAG,CAAC;MACpE;IACJ,CAAC,MACI;MACD,IAAIyE,cAAc,GAAG,CAAC;MACtB,IAAIC,eAAe,GAAG,CAAC;MACvB,IAAI,CAAC9O,mBAAmB,CAAC8K,OAAO,CAAC,UAAUjL,OAAO,EAAE6D,KAAK,EAAE;QACvD,IAAIgG,SAAS,GAAG7J,OAAO,CAACsJ,WAAW;QACnC0F,cAAc,IAAInF,SAAS;QAC3B,IAAIhG,KAAK,IAAI5D,KAAK,CAAC0B,UAAU,EAAE;UAC3BsN,eAAe,IAAKpL,KAAK,KAAK5D,KAAK,CAAC0B,UAAU,IAAIkC,KAAK,KAAK,CAAC,GAAKgG,SAAS,GAAG,CAAC,GAAIA,SAAS;QAChG;MACJ,CAAC,CAAC;MACF,IAAIqF,UAAU,GAAG,CAAC,IAAI,CAACnN,eAAe,CAACuH,WAAW,GAAG0F,cAAc,KAC9D,IAAI,CAAC7O,mBAAmB,CAACvE,MAAM,GAAG,CAAC,CAAC;MACzC,IAAIuT,aAAa,GAAI,CAACF,eAAe,GAAIC,UAAU,GAAG,IAAI,CAACvN,UAAW,IAClE,IAAI,CAACI,eAAe,CAACuH,WAAW,GAAI,GAAG;MAC3C,IAAI,CAAC/D,WAAW,CAACd,KAAK,CAACC,WAAW,CAACrG,aAAa,EAAG8Q,aAAa,GAAI,GAAG,CAAC;IAC5E;EACJ,CAAC;EACDrP,OAAO,CAAC3E,SAAS,CAACuT,qBAAqB,GAAG,UAAU7K,KAAK,EAAEuC,WAAW,EAAE;IACpE,IAAI,IAAI,CAACxC,aAAa,CAACC,KAAK,CAAC,IAAI,IAAI,CAAC7D,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACvG,aAAa,CAAC,IAAI,CAACmH,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAAC,cAAc,CAAC,IAC3H,CAACY,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAAC,cAAc,CAAC,EAAE;MACpD,IAAIY,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAACtH,SAAS,CAAC,EAAE;QAC3CkI,WAAW,CAAC2D,UAAU,CAACtH,SAAS,CAACzF,MAAM,CAAC,SAAS,EAAE,kBAAkB,CAAC;QACtEoJ,WAAW,CAAC2D,UAAU,CAACtH,SAAS,CAACC,GAAG,CAAChF,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;MACvE,CAAC,MACI,IAAI0I,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAACzH,UAAU,CAAC,IAAIqI,WAAW,CAAC3D,SAAS,CAAC+C,QAAQ,CAACxH,UAAU,CAAC,EAAE;QAC/FoI,WAAW,CAAC2D,UAAU,CAACtH,SAAS,CAACzF,MAAM,CAACU,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;QACtE0I,WAAW,CAAC2D,UAAU,CAACtH,SAAS,CAACC,GAAG,CAAC,SAAS,EAAE,kBAAkB,CAAC;MACvE;IACJ;EACJ,CAAC;EACD5C,OAAO,CAAC3E,SAAS,CAACwT,sBAAsB,GAAG,YAAY;IACnD,IAAI1O,KAAK,GAAG,IAAI;IAChB,IAAI,CAACD,OAAO,CAACyC,SAAS,CAAC2M,MAAM,CAAC9P,UAAU,EAAE,IAAI,CAAC6M,MAAM,CAAC;IACtD,IAAI,CAAChM,mBAAmB,CAAC8K,OAAO,CAAC,UAAUnH,IAAI,EAAED,KAAK,EAAE;MACpDC,IAAI,CAACrB,SAAS,CAAC2M,MAAM,CAAC7P,QAAQ,EAAGsE,KAAK,KAAK5D,KAAK,CAAC0B,UAAU,GAAG,CAAE,CAAC;MACjEmC,IAAI,CAACrB,SAAS,CAAC2M,MAAM,CAAC5P,QAAQ,EAAGqE,KAAK,KAAK5D,KAAK,CAAC0B,UAAU,GAAG,CAAE,CAAC;IACrE,CAAC,CAAC;EACN,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAACkU,kBAAkB,GAAG,YAAY;IAC/C,KAAK,IAAIpT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACkE,mBAAmB,CAACvE,MAAM,EAAEK,CAAC,EAAE,EAAE;MACtDe,MAAM,CAAC,IAAI,CAACmD,mBAAmB,CAAC4D,QAAQ,CAAC9H,CAAC,CAAC+H,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAChE;IACA,IAAI,CAAC7D,mBAAmB,GAAG,EAAE;EACjC,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIL,OAAO,CAAC3E,SAAS,CAACmU,QAAQ,GAAG,YAAY;IACrC,IAAI,IAAI,CAAC3N,UAAU,KAAK,IAAI,CAACoB,KAAK,CAACnH,MAAM,GAAG,CAAC,EAAE;MAC3C,IAAI,CAAC8J,cAAc,CAAC,IAAI,CAAC/D,UAAU,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;IAC/D;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI7B,OAAO,CAAC3E,SAAS,CAACoS,YAAY,GAAG,YAAY;IACzC,IAAI,IAAI,CAAC5L,UAAU,GAAG,CAAC,EAAE;MACrB,IAAI,CAAC+D,cAAc,CAAC,IAAI,CAAC/D,UAAU,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;IAC/D;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI7B,OAAO,CAAC3E,SAAS,CAACoU,KAAK,GAAG,YAAY;IAClC,IAAI,IAAI,CAAC5N,UAAU,KAAK,CAAC,EAAE;MACvB,IAAI,CAACgN,sBAAsB,CAAC,CAAC;IACjC,CAAC,MACI;MACD,IAAIa,UAAU,GAAG,IAAI,CAACrP,mBAAmB,CAAC,CAAC,CAAC,CAACsC,SAAS,CAAC+C,QAAQ,CAACrH,QAAQ,CAAC,GAAG,IAAI,GAAG,KAAK;MACxF,IAAI,CAACuH,cAAc,CAAC8J,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC;IAC/D;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI1P,OAAO,CAAC3E,SAAS,CAACsU,kBAAkB,GAAG,YAAY;IAC/C,IAAI,IAAI,CAAC1N,eAAe,IAAI,IAAI,CAACwD,WAAW,EAAE;MAC1C,IAAI,CAACE,mBAAmB,CAAC,IAAI,CAACzF,OAAO,CAAC;IAC1C;IACA,IAAI,CAAC0F,cAAc,CAAC,IAAI,CAAC/D,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;EAClE,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAACuU,uBAAuB,GAAG,YAAY;IACpD,IAAIC,UAAU,GAAG,CAACrR,GAAG,EAAEF,QAAQ,EAAE,eAAe,EAAEI,UAAU,EAAEC,WAAW,EAAE,aAAa,EACpF,gBAAgB,EAAE,eAAe,EAAE,aAAa,EAAEQ,aAAa,EAAEC,cAAc,EAAER,YAAY,EAAEC,SAAS,EAAEW,UAAU,CAAC;IACzHrC,WAAW,CAAC,CAAC,IAAI,CAAC+C,OAAO,CAAC,EAAE2P,UAAU,CAAC;EAC3C,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI7P,OAAO,CAAC3E,SAAS,CAACyQ,OAAO,GAAG,YAAY;IACpClM,MAAM,CAACvE,SAAS,CAACyQ,OAAO,CAAC1L,IAAI,CAAC,IAAI,CAAC;IACnC,IAAI,CAACoF,YAAY,CAAC,CAAC;IACnB,IAAI,CAAC2G,iBAAiB,CAAC,CAAC;IACxB;IACA,IAAI,CAACoD,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACvC,aAAa,CAAC,CAAC;IACpB,IAAI,IAAI,CAAC/K,eAAe,EAAE;MACtB/E,MAAM,CAAC,IAAI,CAAC+E,eAAe,CAAC;IAChC;IACA,IAAI,CAACA,eAAe,GAAG,IAAI;IAC3B,IAAI,IAAI,CAAC6N,YAAY,EAAE;MACnB5S,MAAM,CAAC,IAAI,CAAC4S,YAAY,CAAC;IAC7B;IACA,IAAI,CAACA,YAAY,GAAG,IAAI;IACxB,IAAI,CAACrK,WAAW,GAAG,IAAI;IACvB,IAAI,CAAC9B,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACuD,oBAAoB,GAAG,IAAI;IAChC,IAAI,CAAC6I,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC5K,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACyK,uBAAuB,CAAC,CAAC;IAC9B,IAAI,CAAC1P,OAAO,CAAC8P,eAAe,CAAC,YAAY,CAAC;IAC1C,IAAI,IAAI,CAACxE,WAAW,EAAE;MAClB,IAAI,CAACC,UAAU,CAACK,OAAO,CAAC,CAAC;MACzB,IAAI,CAACL,UAAU,GAAG,IAAI;IAC1B;IACA,IAAI,IAAI,CAACwE,qBAAqB,EAAE;MAC5B,IAAI,CAACA,qBAAqB,CAACnE,OAAO,CAAC,CAAC;IACxC;IACA,IAAI,CAACmE,qBAAqB,GAAG,IAAI;EACrC,CAAC;EACDjQ,OAAO,CAAC3E,SAAS,CAACiI,iBAAiB,GAAG,YAAY;IAC9C,IAAI,CAAC2M,qBAAqB,GAAG,IAAIrT,cAAc,CAAC,IAAI,CAACsD,OAAO,EAAE;MAC1DgQ,SAAS,EAAE,IAAI,CAACC,gBAAgB,CAACnE,IAAI,CAAC,IAAI,CAAC;MAC3CnL,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BuP,SAAS,EAAE;IACf,CAAC,CAAC;EACN,CAAC;EACDpQ,OAAO,CAAC3E,SAAS,CAAC8U,gBAAgB,GAAG,UAAU/D,CAAC,EAAE;IAC9C,IAAI,IAAI,CAAC1J,QAAQ,EAAE;MACf;IACJ;IACA,QAAQ0J,CAAC,CAACiE,MAAM;MACZ,KAAK,SAAS;MACd,KAAK,WAAW;MAChB,KAAK,WAAW;MAChB,KAAK,YAAY;MACjB,KAAK,KAAK;MACV,KAAK,UAAU;QACX,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACzN,SAAS,IAAI,IAAI,CAAC3C,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAC7G,SAAS,CAAC,GAAIuN,CAAC,CAACiE,MAAM,KAAK,WAAW,IAAIjE,CAAC,CAACiE,MAAM,KAAK,KAAK,IAAIjE,CAAC,CAACiE,MAAM,KAAK,SAAS,GAAKjE,CAAC,CAACiE,MAAM,KAAK,YAAY,IAAIjE,CAAC,CAACiE,MAAM,KAAK,KAAK,IAAIjE,CAAC,CAACiE,MAAM,KAAK,WAAY,EAAEjE,CAAC,CAAC;QACnP;MACJ,KAAK,OAAO;MACZ,KAAK,OAAO;MACZ,KAAK,QAAQ;QACT,IAAI,CAACkE,gBAAgB,CAAC,IAAI,EAAElE,CAAC,CAAC;QAC9B;MACJ,KAAK,MAAM;MACX,KAAK,KAAK;QACN,IAAI,CAACkE,gBAAgB,CAAC,IAAI,EAAElE,CAAC,EAAE,IAAI,CAACvJ,SAAS,CAAC;QAC9C;IACR;EACJ,CAAC;EACD7C,OAAO,CAAC3E,SAAS,CAACiV,gBAAgB,GAAG,UAAUC,UAAU,EAAEnE,CAAC,EAAEoE,KAAK,EAAE;IACjE,IAAI,CAAC3K,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC3F,OAAO,CAACyC,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IAC3C,IAAI6N,UAAU,GAAG,IAAI,CAACvQ,OAAO,CAACqE,aAAa,CAAC,GAAG,GAAGpG,KAAK,CAAC;IACxD,IAAI,CAACsS,UAAU,EAAE;MACbA,UAAU,GAAG,IAAI,CAACvQ,OAAO,CAACqE,aAAa,CAAC,GAAG,GAAGvG,QAAQ,CAAC;IAC3D;IACA,IAAI0S,SAAS,GAAG1V,KAAK,CAACK,SAAS,CAACsV,KAAK,CAACvQ,IAAI,CAAC,IAAI,CAAC6B,eAAe,CAAC2O,QAAQ,CAAC;IACzE,IAAI7M,KAAK,GAAG2M,SAAS,CAACxL,OAAO,CAACuL,UAAU,CAAC;IACzC,IAAIrE,CAAC,CAACiE,MAAM,KAAK,KAAK,IAAIjE,CAAC,CAACiE,MAAM,KAAK,UAAU,IAAIjE,CAAC,CAACiE,MAAM,KAAK,WAAW,IAAIjE,CAAC,CAACiE,MAAM,KAAK,SAAS,IAAIjE,CAAC,CAACiE,MAAM,KAAK,OAAO,IAAIjE,CAAC,CAACiE,MAAM,KAAK,MAAM,IAAIjE,CAAC,CAACiE,MAAM,KAAK,KAAK,EAAE;MAC1K,IAAKjE,CAAC,CAACiE,MAAM,KAAK,KAAK,IAAItM,KAAK,KAAK2M,SAAS,CAAC5U,MAAM,GAAG,CAAC,IAAMsQ,CAAC,CAACiE,MAAM,KAAK,UAAU,IAAItM,KAAK,KAAK,CAAE,EAAE;QACpG,IAAI0M,UAAU,CAAC9N,SAAS,CAAC+C,QAAQ,CAACvH,KAAK,CAAC,EAAE;UACtC,IAAI,CAACoH,eAAe,CAAC,CAAC;UACtB;QACJ;MACJ,CAAC,MACI;QACD6G,CAAC,CAACyE,cAAc,CAAC,CAAC;MACtB;IACJ;IACA,IAAIzE,CAAC,CAACiE,MAAM,KAAK,QAAQ,EAAE;MACvBK,SAAS,CAACzM,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAACzF,MAAM,CAACiB,KAAK,CAAC;MACjE,IAAI,CAAC+B,OAAO,CAACyC,SAAS,CAACzF,MAAM,CAAC,eAAe,CAAC;IAClD;IACA,IAAI,EAAEkP,CAAC,CAACiE,MAAM,KAAK,OAAO,IAAIjE,CAAC,CAACiE,MAAM,KAAK,OAAO,CAAC,EAAE;MACjD,IAAIS,SAAS,GAAG/M,KAAK;MACrBA,KAAK,GAAGwM,UAAU,GAAGxM,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC;MAC1C,OAAQA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG2M,SAAS,CAAC5U,MAAM,IAAK4U,SAAS,CAACzM,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAAC+C,QAAQ,CAACrH,QAAQ,CAAC,EAAE;QACvH0F,KAAK,GAAGwM,UAAU,GAAGxM,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC;MAC9C;MACAA,KAAK,GAAIA,KAAK,GAAG,CAAC,GAAI,CAAC,GAAIA,KAAK,GAAG2M,SAAS,CAAC5U,MAAM,GAAG,CAAC,GAAI4U,SAAS,CAAC5U,MAAM,GAAG,CAAC,GAAGiI,KAAK;MACvF,IAAI2M,SAAS,CAACzM,QAAQ,CAAC6M,SAAS,CAAC5M,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAAC+C,QAAQ,CAACvH,KAAK,CAAC,EAAE;QACzEuS,SAAS,CAACzM,QAAQ,CAAC6M,SAAS,CAAC5M,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAACzF,MAAM,CAACiB,KAAK,CAAC;MACzE;MACA,IAAKiO,CAAC,CAACiE,MAAM,KAAK,MAAM,IAAIjE,CAAC,CAACiE,MAAM,KAAK,KAAK,EAAG;QAC7C,IAAIjE,CAAC,CAACiE,MAAM,KAAK,MAAM,EAAE;UACrBtM,KAAK,GAAGyM,KAAK,GAAGE,SAAS,CAAC5U,MAAM,GAAG,CAAC,GAAG,CAAC;QAC5C,CAAC,MACI;UACDiI,KAAK,GAAGyM,KAAK,GAAG,CAAC,GAAGE,SAAS,CAAC5U,MAAM,GAAG,CAAC;QAC5C;MACJ;MACA,IAAIiI,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG2M,SAAS,CAAC5U,MAAM,EAAE;QACxC4U,SAAS,CAACzM,QAAQ,CAACF,KAAK,CAACG,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAACC,GAAG,CAACzE,KAAK,CAAC;MAClE;IACJ,CAAC,MACI,IAAKiO,CAAC,CAACiE,MAAM,KAAK,OAAO,IAAIjE,CAAC,CAACiE,MAAM,KAAK,OAAO,EAAG;MACrD,IAAIU,aAAa,GAAG,KAAK;MACzB,IAAI,IAAI,CAAC1E,MAAM,EAAE;QACb,IAAIC,eAAe,GAAG,IAAI,CAACzK,UAAU,GAAGkC,KAAK;QAC7C,IAAI2F,IAAI,CAAC6C,GAAG,CAACD,eAAe,CAAC,KAAK,CAAC,EAAE;UACjC,IAAI,CAAC1G,cAAc,CAAC7B,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;UAC5CgN,aAAa,GAAG,IAAI;QACxB;MACJ,CAAC,MACI;QACD,IAAI,CAACnL,cAAc,CAAC7B,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QAC5CgN,aAAa,GAAG,IAAI;MACxB;MACA,IAAIA,aAAa,EAAE;QACf,IAAI,CAACxL,eAAe,CAAC,CAAC;QACtB,IAAI,CAAClF,mBAAmB,CAAC0D,KAAK,CAAC,CAACiN,KAAK,CAAC,CAAC;MAC3C;IACJ;EACJ,CAAC;EACDhR,OAAO,CAAC3E,SAAS,CAAC4V,kBAAkB,GAAG,UAAUC,QAAQ,EAAEC,UAAU,EAAE;IACnE,IAAI,CAACvB,uBAAuB,CAAC,CAAC;IAC9B,IAAI,CAACL,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACrP,OAAO,CAACqE,aAAa,CAAC,wBAAwB,CAAC,CAACrH,MAAM,CAAC,CAAC;IAC7D,IAAIgU,QAAQ,EAAE;MACV,IAAI,CAAClP,cAAc,CAAC,CAAC;IACzB;IACA,IAAImP,UAAU,EAAE;MACZ,IAAI,CAAC9O,cAAc,CAAC,CAAC;IACzB;IACA,IAAI,IAAI,CAACK,QAAQ,IAAI,CAAC,IAAI,CAACxC,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAACpH,QAAQ,CAAC,EAAE;MAC7D,IAAI,CAAC4B,OAAO,CAACyC,SAAS,CAACC,GAAG,CAACtE,QAAQ,CAAC;IACxC;IACA,IAAI,IAAI,CAACuE,SAAS,IAAI,CAAC,IAAI,CAAC3C,OAAO,CAACyC,SAAS,CAAC+C,QAAQ,CAAClH,GAAG,CAAC,EAAE;MACzD,IAAI,CAAC0B,OAAO,CAACyC,SAAS,CAACC,GAAG,CAACpE,GAAG,CAAC;IACnC;IACA,IAAI,CAAC4D,gBAAgB,CAAC,IAAI,CAAClC,OAAO,CAAC;IACnC,IAAI,CAAC8C,WAAW,CAAC,CAAC;IAClB,IAAI,CAACU,iBAAiB,CAAC,IAAI,CAACxD,OAAO,CAAC;IACpC,IAAI,CAACiD,cAAc,CAAC,CAAC;IACrB,IAAI,CAACC,eAAe,CAAC,CAAC;IACtB,IAAI,CAACwC,cAAc,CAAC,IAAI,CAAC/D,UAAU,EAAE,IAAI,EAAE,IAAI,CAACxB,mBAAmB,CAAC,IAAI,CAACwB,UAAU,CAAC,EAAE,IAAI,CAAC;EAC/F,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAAC+V,kBAAkB,GAAG,UAAUnO,KAAK,EAAEoO,SAAS,EAAE;IAC/D,IAAI,EAAEpO,KAAK,YAAYjI,KAAK,IAAIqW,SAAS,YAAYrW,KAAK,CAAC,EAAE;MACzD,IAAIsW,UAAU,GAAGzW,MAAM,CAAC0W,IAAI,CAACtO,KAAK,CAAC;MACnC,KAAK,IAAI9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmV,UAAU,CAACxV,MAAM,EAAEK,CAAC,EAAE,EAAE;QACxC,IAAI4H,KAAK,GAAGE,QAAQ,CAACpJ,MAAM,CAAC0W,IAAI,CAACtO,KAAK,CAAC,CAAC9G,CAAC,CAAC,EAAE,EAAE,CAAC;QAC/C,IAAIqV,iBAAiB,GAAG3W,MAAM,CAAC0W,IAAI,CAACtO,KAAK,CAACc,KAAK,CAAC,CAAC,CAACjI,MAAM;QACxD,KAAK,IAAI2V,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,iBAAiB,EAAEC,CAAC,EAAE,EAAE;UACxC,IAAIC,QAAQ,GAAG7W,MAAM,CAAC0W,IAAI,CAACtO,KAAK,CAACc,KAAK,CAAC,CAAC,CAAC0N,CAAC,CAAC;UAC3C,IAAIC,QAAQ,KAAK,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC7P,UAAU,KAAKkC,KAAK,EAAE;cAC3B,IAAI,CAACnC,iBAAiB,CAACmC,KAAK,EAAEd,KAAK,CAACc,KAAK,CAAC,CAACmC,MAAM,CAAC;YACtD,CAAC,MACI;cACD,IAAI,CAACjD,KAAK,CAACc,KAAK,CAAC,CAACmC,MAAM,GAAGmL,SAAS,CAACtN,KAAK,CAAC,CAACmC,MAAM;YACtD;UACJ,CAAC,MACI;YACD,IAAI,CAACqJ,kBAAkB,CAAC,CAAC;YACzB,IAAI,CAACvM,WAAW,CAAC,CAAC;YAClB,IAAI,CAAClB,mBAAmB,CAAC,CAAC;UAC9B;UACA,IAAI4P,QAAQ,KAAK,OAAO,KAAK,IAAI,CAACzO,KAAK,CAACc,KAAK,CAAC,CAACI,OAAO,IAAI,IAAI,CAAClB,KAAK,CAACc,KAAK,CAAC,CAACK,IAAI,CAAC,IAC7E,IAAI,CAACU,QAAQ,CAACE,WAAW,CAAC,CAAC,KAAK,SAAS,EAAE;YAC3C,IAAI,CAAC2K,kBAAkB,CAAC,CAAC;UAC7B;UACA,IAAI,CAACd,sBAAsB,CAAC,CAAC;UAC7B,IAAI,CAAC1L,cAAc,CAAC,CAAC;QACzB;MACJ;IACJ,CAAC,MACI;MACD,IAAI,CAAC8N,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC;IACvC;EACJ,CAAC;EACDjR,OAAO,CAAC3E,SAAS,CAACsW,uBAAuB,GAAG,UAAU9P,UAAU,EAAE+P,aAAa,EAAE;IAC7E,IAAI,CAAC/P,UAAU,GAAIA,UAAU,GAAG,IAAI,CAACoB,KAAK,CAACnH,MAAM,GAAG,CAAC,IAAI+F,UAAU,GAAG,CAAC,CAAC,GAAI+P,aAAa,GAAG,IAAI,CAAC/P,UAAU;IAC3G,IAAI,IAAI,CAACA,UAAU,IAAI,CAAC,IAAI,IAAI,CAACxB,mBAAmB,CAAC4D,QAAQ,CAAC,IAAI,CAACpC,UAAU,CAACqC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAACvB,SAAS,CAAC+C,QAAQ,CAACrH,QAAQ,CAAC,EAAE;MACzH,IAAI,CAACwD,UAAU,GAAG+P,aAAa;IACnC;IACA,IAAI,IAAI,CAACvF,MAAM,EAAE;MACb,IAAIC,eAAe,GAAGsF,aAAa,GAAG,IAAI,CAAC/P,UAAU;MACrD,IAAI6H,IAAI,CAAC6C,GAAG,CAACD,eAAe,CAAC,KAAK,CAAC,EAAE;QACjC,IAAI,CAAC1G,cAAc,CAAC,IAAI,CAAC/D,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MAC1D;IACJ,CAAC,MACI;MACD,IAAI,CAAC+D,cAAc,CAAC,IAAI,CAAC/D,UAAU,EAAE,IAAI,EAAE,IAAI,CAACxB,mBAAmB,CAAC,IAAI,CAACwB,UAAU,CAAC,EAAE,IAAI,CAAC;IAC/F;EACJ,CAAC;EACD7B,OAAO,CAAC3E,SAAS,CAACwW,qBAAqB,GAAG,UAAUtP,QAAQ,EAAEuP,YAAY,EAAE;IACxE,IAAIA,YAAY,EAAE;MACd3U,WAAW,CAAC,CAAC,IAAI,CAAC+C,OAAO,CAAC,EAAE4R,YAAY,CAACtP,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC/D;IACA,IAAIF,QAAQ,EAAE;MACVtF,QAAQ,CAAC,CAAC,IAAI,CAACiD,OAAO,CAAC,EAAEqC,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;IACxD;IACA,IAAI,IAAI,CAACgJ,UAAU,EAAE;MACjB,IAAI,CAACA,UAAU,CAACoB,aAAa,CAAC;QAAEtK,QAAQ,EAAE,IAAI,CAACA,QAAQ,GAAIjD,cAAc,GAAG,GAAG,GAAG,IAAI,CAACiD,QAAQ,GAAIjD;MAAe,CAAC,CAAC;IACxH;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIU,OAAO,CAAC3E,SAAS,CAAC0W,iBAAiB,GAAG,UAAUC,OAAO,EAAEC,OAAO,EAAE;IAC9D,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAErL,EAAE,GAAGhM,MAAM,CAAC0W,IAAI,CAACS,OAAO,CAAC,EAAEE,EAAE,GAAGrL,EAAE,CAAC/K,MAAM,EAAEoW,EAAE,EAAE,EAAE;MAC9D,IAAIC,IAAI,GAAGtL,EAAE,CAACqL,EAAE,CAAC;MACjB,QAAQC,IAAI;QACR,KAAK,OAAO;UAAE;YACV,IAAI,CAACf,kBAAkB,CAACY,OAAO,CAAC/O,KAAK,EAAEgP,OAAO,CAAChP,KAAK,CAAC;YACrD;UACJ;QACA,KAAK,aAAa;UACd,IAAI,CAACb,gBAAgB,CAAC,IAAI,CAAClC,OAAO,CAAC;UACnC,IAAI,CAAC+Q,kBAAkB,CAAC,IAAI,CAAC;UAC7B;QACJ,KAAK,YAAY;UACb,IAAI,CAACU,uBAAuB,CAACK,OAAO,CAACnQ,UAAU,EAAEoQ,OAAO,CAACpQ,UAAU,CAAC;UACpE;QACJ,KAAK,WAAW;UACZ,IAAI,CAAC3B,OAAO,CAACyC,SAAS,CAAC,IAAI,CAACE,SAAS,GAAG,KAAK,GAAG,QAAQ,CAAC,CAACrE,GAAG,CAAC;UAC9D;QACJ,KAAK,UAAU;UACX,IAAI,CAAC0B,OAAO,CAACyC,SAAS,CAAC,IAAI,CAACD,QAAQ,GAAG,KAAK,GAAG,QAAQ,CAAC,CAACpE,QAAQ,CAAC;UAClE;QACJ,KAAK,UAAU;UACX,IAAI,CAACuT,qBAAqB,CAACG,OAAO,CAACzP,QAAQ,EAAE0P,OAAO,CAAC1P,QAAQ,CAAC;UAC9D;QACJ,KAAK,eAAe;UAChB,IAAI,CAAC0O,kBAAkB,CAAC,IAAI,CAAC;UAC7B;QACJ,KAAK,aAAa;UACd,IAAI,CAAC5N,aAAa,CAAC,CAAC;UACpB;QACJ,KAAK,UAAU;UACX,IAAI,CAAC4N,kBAAkB,CAAC,IAAI,EAAE,IAAI,CAAC;UACnC;QACJ,KAAK,UAAU;UACX,IAAI,CAAClO,sBAAsB,CAAC,CAAC;UAC7B,IAAI,CAAC+K,aAAa,CAAC,CAAC;UACpB;QACJ,KAAK,WAAW;UACZ,IAAI,CAAC1K,eAAe,CAAC,CAAC;UACtB;QACJ,KAAK,QAAQ;UACT,IAAI,CAACyL,sBAAsB,CAAC,CAAC;UAC7B;MACR;IACJ;EACJ,CAAC;EACDtT,UAAU,CAAC,CACPuB,QAAQ,CAAC,CAAC,CAAC,CACd,EAAEkD,OAAO,CAAC3E,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;EAC3CE,UAAU,CAAC,CACPoB,OAAO,CAAC,CAAC,CAAC,EAAEgD,wBAAwB,CAAC,CACxC,EAAEK,OAAO,CAAC3E,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;EAC1CE,UAAU,CAAC,CACPuB,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEkD,OAAO,CAAC3E,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;EACvCE,UAAU,CAAC,CACPuB,QAAQ,CAAC,KAAK,CAAC,CAClB,EAAEkD,OAAO,CAAC3E,SAAS,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;EAC5CE,UAAU,CAAC,CACPuB,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEkD,OAAO,CAAC3E,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACzCE,UAAU,CAAC,CACPuB,QAAQ,CAAC,EAAE,CAAC,CACf,EAAEkD,OAAO,CAAC3E,SAAS,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;EAChDE,UAAU,CAAC,CACPuB,QAAQ,CAACgD,iBAAiB,CAACsS,MAAM,CAAC,CACrC,EAAEpS,OAAO,CAAC3E,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;EAC9CE,UAAU,CAAC,CACPuB,QAAQ,CAACiD,QAAQ,CAACsS,OAAO,CAAC,CAC7B,EAAErS,OAAO,CAAC3E,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;EACzCE,UAAU,CAAC,CACPyB,KAAK,CAAC,CAAC,CACV,EAAEgD,OAAO,CAAC3E,SAAS,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;EAC5CE,UAAU,CAAC,CACPyB,KAAK,CAAC,CAAC,CACV,EAAEgD,OAAO,CAAC3E,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;EAC7CE,UAAU,CAAC,CACPyB,KAAK,CAAC,CAAC,CACV,EAAEgD,OAAO,CAAC3E,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;EAC1CE,UAAU,CAAC,CACPyB,KAAK,CAAC,CAAC,CACV,EAAEgD,OAAO,CAAC3E,SAAS,EAAE,kBAAkB,EAAE,KAAK,CAAC,CAAC;EACjD2E,OAAO,GAAGzE,UAAU,CAAC,CACjBe,qBAAqB,CACxB,EAAE0D,OAAO,CAAC;EACX,OAAOA,OAAO;AAClB,CAAC,CAACzC,WAAW,CAAE;AACf,SAASyC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../button/button-model.d.ts'/>\nimport { Button } from '../button/button';\nimport { EventHandler, Property } from '@syncfusion/ej2-base';\nvar SmartPasteButton = /** @class */function (_super) {\n  __extends(SmartPasteButton, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @private\n   * @param {SmartPasteButtonModel} options - Specifies Smart paste button model\n   * @param {string | HTMLButtonElement} element - Specifies target element\n   */\n  function SmartPasteButton(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  SmartPasteButton.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.smartPasteBtnClickHandler, this);\n  };\n  SmartPasteButton.prototype.unWireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.smartPasteBtnClickHandler);\n  };\n  SmartPasteButton.prototype.smartPasteBtnClickHandler = function (args) {\n    return __awaiter(this, void 0, void 0, function () {\n      var target, formElement, formFields, clipboardContent, fieldsData, systemRole, userRole, settings, response;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            target = args.target;\n            formElement = target.closest('form');\n            if (!formElement) {\n              return [2 /*return*/];\n            }\n            formFields = this.getFormFields(formElement);\n            if (formFields.length === 0) {\n              return [2 /*return*/];\n            }\n            return [4 /*yield*/, this.getClipboardContent().then(function (text) {\n              return text;\n            })];\n          case 1:\n            clipboardContent = _a.sent();\n            if (!(clipboardContent !== 'Clipboard API not supported' && clipboardContent !== 'Clipboard access failed')) return [3 /*break*/, 6];\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2,, 5, 6]);\n            this.disabled = true;\n            fieldsData = formFields.map(function (field) {\n              return {\n                fieldName: field.fieldName,\n                description: field.description,\n                allowedValues: field.allowedValues,\n                type: field.type\n              };\n            });\n            systemRole = \"\\nCurrent date: \" + new Date().toLocaleDateString('en-US', {\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            }) + \"\\n\\nEach response line matches the following format:\\nFIELD identifier^^^value\\n\\nGive a response with the following lines only, with values inferred from USER_DATA:\\n\" + this.formatFields(fieldsData) + \"\\nEND_RESPONSE\\n\\nDo not explain how the values were determined.\\nFor fields without any corresponding information in USER_DATA, use value NO_DATA.\";\n            userRole = \"\\nUSER_DATA: \" + clipboardContent + \"\\n                    \";\n            settings = {\n              messages: [{\n                role: 'system',\n                content: systemRole\n              }, {\n                role: 'user',\n                content: userRole\n              }],\n              temperature: 0.0,\n              topP: 1.0,\n              maxTokens: 2000,\n              frequencyPenalty: 0.1,\n              presencePenalty: 0.0,\n              stop: ['END_RESPONSE']\n            };\n            if (!(typeof this.aiAssistHandler === 'function')) return [3 /*break*/, 4];\n            return [4 /*yield*/, this.aiAssistHandler(settings)];\n          case 3:\n            response = _a.sent();\n            if (typeof response === 'string' && response !== '') {\n              this.setFormFields(formElement, formFields, response);\n            }\n            _a.label = 4;\n          case 4:\n            return [3 /*break*/, 6];\n          case 5:\n            this.disabled = false;\n            return [7 /*endfinally*/];\n          case 6:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  SmartPasteButton.prototype.formatFields = function (fields) {\n    var result = [];\n    fields.forEach(function (field) {\n      var fieldOutput = [];\n      fieldOutput.push(\"\\nFIELD \" + field.fieldName + \"^^^\");\n      if (field.description) {\n        fieldOutput.push(\"The \" + field.description);\n      }\n      if (field.allowedValues && field.allowedValues.length > 0) {\n        fieldOutput.push(' (multiple choice, with allowed values: ');\n        fieldOutput.push(field.allowedValues.map(function (val) {\n          return \"\" + val;\n        }).join(','));\n        fieldOutput.push(')');\n      } else {\n        fieldOutput.push(\" of type \" + field.type);\n      }\n      result.push(fieldOutput.join(''));\n    });\n    return result.join('');\n  };\n  SmartPasteButton.prototype.setFormFields = function (form, formFields, response) {\n    var _this = this;\n    var responseData = {};\n    var fieldPrefix = 'FIELD ';\n    var currentField = null;\n    response.split('\\n').forEach(function (line) {\n      if (line.startsWith(fieldPrefix)) {\n        var parts = line.substring(fieldPrefix.length).split('^^^');\n        if (parts.length === 2) {\n          responseData[\"\" + parts[0]] = parts[1];\n          currentField = parts[0];\n        }\n      } else if (currentField) {\n        responseData[\"\" + currentField] += '\\n' + line;\n      }\n    });\n    formFields.forEach(function (field) {\n      var value = responseData[field.fieldName];\n      if (value !== undefined) {\n        value = value.trim();\n        if (value === 'NO_DATA') {\n          return;\n        }\n        if (field.element instanceof HTMLInputElement && field.element.type === 'radio') {\n          var radioButton = _this.findRadioButton(form, field.element.name, value);\n          if (radioButton) {\n            _this.updateElementValue(radioButton, 'true');\n          }\n        } else {\n          _this.updateElementValue(field.element, value);\n        }\n      }\n    });\n  };\n  SmartPasteButton.prototype.findRadioButton = function (form, name, value) {\n    var _this = this;\n    var radioButtons = Array.from(form.querySelectorAll('input[type=radio]')).filter(function (radio) {\n      return radio instanceof HTMLInputElement && radio.name === name;\n    }).map(function (radio) {\n      return {\n        elem: radio,\n        text: _this.getElementDescription(form, radio)\n      };\n    });\n    var exactMatch = radioButtons.find(function (radio) {\n      return radio.text === value;\n    });\n    if (exactMatch) {\n      return exactMatch.elem;\n    }\n    var partialMatch = radioButtons.filter(function (radio) {\n      return radio.text && radio.text.includes(value);\n    });\n    if (partialMatch.length === 1) {\n      return partialMatch[0].elem;\n    }\n    return null;\n  };\n  SmartPasteButton.prototype.triggerBeforeChange = function (element) {\n    element.dispatchEvent(new CustomEvent('beforeinput', {\n      bubbles: true,\n      detail: {\n        fromSmartComponents: true\n      }\n    }));\n  };\n  SmartPasteButton.prototype.triggerAfterChange = function (element) {\n    element.dispatchEvent(new CustomEvent('input', {\n      bubbles: true,\n      detail: {\n        fromSmartComponents: true\n      }\n    }));\n    element.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      detail: {\n        fromSmartComponents: true\n      }\n    }));\n  };\n  SmartPasteButton.prototype.updateElementValue = function (element, value) {\n    var isEjsControl = element.classList.contains('e-control');\n    if (element instanceof HTMLInputElement && (element.type === 'radio' || element.type === 'checkbox')) {\n      var responseValue = value == null ? undefined : value.toString().toLowerCase();\n      var isResponseValue = responseValue === 'true' || responseValue === 'yes' || responseValue === 'on';\n      if (element.checked !== isResponseValue) {\n        this.triggerBeforeChange(element);\n        if (isEjsControl) {\n          element['ej2_instances'][0].checked = isResponseValue;\n        } else {\n          element.checked = isResponseValue;\n        }\n        this.triggerAfterChange(element);\n      }\n    } else if (element instanceof HTMLSelectElement) {\n      var optionText_1 = value.toString();\n      var index = null;\n      var options = Array.from(element.querySelectorAll('option'));\n      var exactMatch = options.filter(function (option) {\n        return option.textContent === optionText_1;\n      });\n      if (exactMatch.length > 0) {\n        index = options.indexOf(exactMatch[0]);\n      } else {\n        var partialMatch = options.filter(function (option) {\n          return option.textContent && option.textContent.indexOf(optionText_1) >= 0;\n        });\n        if (partialMatch.length === 1) {\n          index = options.indexOf(partialMatch[0]);\n        }\n      }\n      if (index !== null && element.selectedIndex !== index) {\n        this.triggerBeforeChange(element);\n        if (isEjsControl) {\n          element['ej2_instances'][0].index = index;\n        } else {\n          element.selectedIndex = index;\n        }\n        this.triggerAfterChange(element);\n      }\n    } else {\n      this.triggerBeforeChange(element);\n      if (element.classList.contains('e-rating') || element.classList.contains('e-colorpicker')) {\n        element['ej2_instances'][0].value = value;\n      } else {\n        element.value = value;\n      }\n      this.triggerAfterChange(element);\n    }\n    element.focus();\n  };\n  SmartPasteButton.prototype.getFormFields = function (form) {\n    var _this = this;\n    var fields = [];\n    var uniqueCount = 0;\n    form.querySelectorAll('input, select, textarea').forEach(function (element) {\n      if (!(element instanceof HTMLInputElement || element instanceof HTMLSelectElement || element instanceof HTMLTextAreaElement)) {\n        return;\n      }\n      if (element.type === 'hidden' || _this.isFieldIgnore(element)) {\n        return;\n      }\n      var isRadioButton = element.type === 'radio';\n      var identifier = isRadioButton ? element.name : element.id || element.name || \"unidentified_\" + ++uniqueCount;\n      if (isRadioButton && fields.find(function (field) {\n        return field.fieldName === identifier;\n      })) {\n        return;\n      }\n      var FieldDescription = null;\n      if (!isRadioButton) {\n        FieldDescription = _this.getElementDescription(form, element);\n        if (!FieldDescription) {\n          return;\n        }\n      }\n      var fieldInfo = {\n        fieldName: element.name,\n        description: FieldDescription,\n        element: element,\n        type: element.type === 'checkbox' ? 'boolean' : element.type === 'number' ? 'number' : 'string'\n      };\n      if (element instanceof HTMLSelectElement) {\n        var options = Array.from(element.querySelectorAll('option')).filter(function (option) {\n          return option.value;\n        });\n        fieldInfo.allowedValues = options.map(function (option) {\n          return option.textContent;\n        });\n        fieldInfo.type = 'fixed-choices';\n      } else if (isRadioButton) {\n        fieldInfo.allowedValues = [];\n        fieldInfo.type = 'fixed-choices';\n        Array.from(form.querySelectorAll('input[type=radio]')).forEach(function (radio) {\n          if (radio.name === identifier) {\n            var radioDescription = _this.getElementDescription(form, radio);\n            if (radioDescription) {\n              fieldInfo.allowedValues.push(radioDescription);\n            }\n          }\n        });\n      }\n      fields.push(fieldInfo);\n    });\n    return fields;\n  };\n  SmartPasteButton.prototype.isFieldIgnore = function (element) {\n    return element.hasAttribute('data-smartpaste-ignore') || element.hasAttribute('aria-disabled') && element.getAttribute('aria-disabled') === 'true' || element.hasAttribute('disabled') || element.hasAttribute('readonly') || element.hasAttribute('aria-readonly') && element.getAttribute('aria-readonly') === 'true' || element.hasAttribute('aria-hidden') && element.getAttribute('aria-hidden') === 'true';\n  };\n  SmartPasteButton.prototype.getElementDescription = function (form, element) {\n    if (element.hasAttribute('data-smartpaste-description')) {\n      return element.getAttribute('data-smartpaste-description');\n    }\n    if ((element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) && element.placeholder) {\n      return element.placeholder;\n    }\n    var label = form.querySelector(\"label[for=\\\"\" + element.id + \"\\\"]\");\n    if (label) {\n      return label.textContent.trim();\n    }\n    return element.name || element.id;\n  };\n  SmartPasteButton.prototype.getClipboardContent = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var navigatorObj, customClipboard, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            navigatorObj = navigator;\n            customClipboard = document.getElementById('custom-clipboard');\n            if (!(customClipboard && customClipboard.value)) return [3 /*break*/, 1];\n            return [2 /*return*/, customClipboard.value];\n          case 1:\n            if (!(typeof window !== 'undefined' && navigatorObj.clipboard && navigatorObj.clipboard.readText)) return [3 /*break*/, 6];\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n            return [4 /*yield*/, navigatorObj.clipboard.readText()];\n          case 3:\n            return [2 /*return*/, _a.sent()];\n          case 4:\n            error_1 = _a.sent();\n            return [2 /*return*/, 'Clipboard access failed'];\n          case 5:\n            return [3 /*break*/, 7];\n          case 6:\n            return [2 /*return*/, 'Clipboard API not supported'];\n          case 7:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  __decorate([Property()], SmartPasteButton.prototype, \"aiAssistHandler\", void 0);\n  return SmartPasteButton;\n}(Button);\nexport { SmartPasteButton };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","push","Button","EventHandler","Property","SmartPasteButton","_super","options","element","wireEvents","add","smartPasteBtnClickHandler","unWireEvents","remove","args","formElement","formFields","clipboardContent","fieldsData","systemRole","userRole","settings","response","_a","closest","getFormFields","getClipboardContent","text","disabled","map","field","fieldName","description","allowedValues","type","Date","toLocaleDateString","year","month","day","formatFields","messages","role","content","temperature","topP","maxTokens","frequencyPenalty","presencePenalty","stop","aiAssistHandler","setFormFields","fields","forEach","fieldOutput","val","join","form","_this","responseData","fieldPrefix","currentField","split","line","startsWith","parts","substring","undefined","trim","HTMLInputElement","radioButton","findRadioButton","name","updateElementValue","radioButtons","from","querySelectorAll","filter","radio","elem","getElementDescription","exactMatch","find","partialMatch","includes","triggerBeforeChange","dispatchEvent","CustomEvent","bubbles","detail","fromSmartComponents","triggerAfterChange","isEjsControl","classList","contains","responseValue","toString","toLowerCase","isResponseValue","checked","HTMLSelectElement","optionText_1","index","option","textContent","indexOf","selectedIndex","focus","uniqueCount","HTMLTextAreaElement","isFieldIgnore","isRadioButton","identifier","id","FieldDescription","fieldInfo","radioDescription","hasAttribute","getAttribute","placeholder","querySelector","navigatorObj","customClipboard","error_1","navigator","document","getElementById","window","clipboard","readText"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-buttons/src/smart-paste-button/smart-paste-button.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../button/button-model.d.ts'/>\nimport { Button } from '../button/button';\nimport { EventHandler, Property } from '@syncfusion/ej2-base';\nvar SmartPasteButton = /** @class */ (function (_super) {\n    __extends(SmartPasteButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @private\n     * @param {SmartPasteButtonModel} options - Specifies Smart paste button model\n     * @param {string | HTMLButtonElement} element - Specifies target element\n     */\n    function SmartPasteButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    SmartPasteButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.smartPasteBtnClickHandler, this);\n    };\n    SmartPasteButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.smartPasteBtnClickHandler);\n    };\n    SmartPasteButton.prototype.smartPasteBtnClickHandler = function (args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var target, formElement, formFields, clipboardContent, fieldsData, systemRole, userRole, settings, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        target = args.target;\n                        formElement = target.closest('form');\n                        if (!formElement) {\n                            return [2 /*return*/];\n                        }\n                        formFields = this.getFormFields(formElement);\n                        if (formFields.length === 0) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.getClipboardContent().then(function (text) {\n                                return text;\n                            })];\n                    case 1:\n                        clipboardContent = _a.sent();\n                        if (!(clipboardContent !== 'Clipboard API not supported' && clipboardContent !== 'Clipboard access failed')) return [3 /*break*/, 6];\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, , 5, 6]);\n                        this.disabled = true;\n                        fieldsData = formFields.map(function (field) {\n                            return {\n                                fieldName: field.fieldName,\n                                description: field.description,\n                                allowedValues: field.allowedValues,\n                                type: field.type\n                            };\n                        });\n                        systemRole = \"\\nCurrent date: \" + new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) + \"\\n\\nEach response line matches the following format:\\nFIELD identifier^^^value\\n\\nGive a response with the following lines only, with values inferred from USER_DATA:\\n\" + this.formatFields(fieldsData) + \"\\nEND_RESPONSE\\n\\nDo not explain how the values were determined.\\nFor fields without any corresponding information in USER_DATA, use value NO_DATA.\";\n                        userRole = \"\\nUSER_DATA: \" + clipboardContent + \"\\n                    \";\n                        settings = {\n                            messages: [\n                                { role: 'system', content: systemRole },\n                                { role: 'user', content: userRole }\n                            ],\n                            temperature: 0.0,\n                            topP: 1.0,\n                            maxTokens: 2000,\n                            frequencyPenalty: 0.1,\n                            presencePenalty: 0.0,\n                            stop: ['END_RESPONSE']\n                        };\n                        if (!(typeof this.aiAssistHandler === 'function')) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.aiAssistHandler(settings)];\n                    case 3:\n                        response = _a.sent();\n                        if (typeof response === 'string' && response !== '') {\n                            this.setFormFields(formElement, formFields, response);\n                        }\n                        _a.label = 4;\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        this.disabled = false;\n                        return [7 /*endfinally*/];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SmartPasteButton.prototype.formatFields = function (fields) {\n        var result = [];\n        fields.forEach(function (field) {\n            var fieldOutput = [];\n            fieldOutput.push(\"\\nFIELD \" + field.fieldName + \"^^^\");\n            if (field.description) {\n                fieldOutput.push(\"The \" + field.description);\n            }\n            if (field.allowedValues && field.allowedValues.length > 0) {\n                fieldOutput.push(' (multiple choice, with allowed values: ');\n                fieldOutput.push(field.allowedValues.map(function (val) { return \"\" + val; }).join(','));\n                fieldOutput.push(')');\n            }\n            else {\n                fieldOutput.push(\" of type \" + field.type);\n            }\n            result.push(fieldOutput.join(''));\n        });\n        return result.join('');\n    };\n    SmartPasteButton.prototype.setFormFields = function (form, formFields, response) {\n        var _this = this;\n        var responseData = {};\n        var fieldPrefix = 'FIELD ';\n        var currentField = null;\n        response.split('\\n').forEach(function (line) {\n            if (line.startsWith(fieldPrefix)) {\n                var parts = line.substring(fieldPrefix.length).split('^^^');\n                if (parts.length === 2) {\n                    responseData[\"\" + parts[0]] = parts[1];\n                    currentField = parts[0];\n                }\n            }\n            else if (currentField) {\n                responseData[\"\" + currentField] += '\\n' + line;\n            }\n        });\n        formFields.forEach(function (field) {\n            var value = responseData[field.fieldName];\n            if (value !== undefined) {\n                value = value.trim();\n                if (value === 'NO_DATA') {\n                    return;\n                }\n                if (field.element instanceof HTMLInputElement && field.element.type === 'radio') {\n                    var radioButton = _this.findRadioButton(form, field.element.name, value);\n                    if (radioButton) {\n                        _this.updateElementValue(radioButton, 'true');\n                    }\n                }\n                else {\n                    _this.updateElementValue(field.element, value);\n                }\n            }\n        });\n    };\n    SmartPasteButton.prototype.findRadioButton = function (form, name, value) {\n        var _this = this;\n        var radioButtons = Array.from(form.querySelectorAll('input[type=radio]'))\n            .filter(function (radio) { return radio instanceof HTMLInputElement && radio.name === name; })\n            .map(function (radio) { return ({ elem: radio, text: _this.getElementDescription(form, radio) }); });\n        var exactMatch = radioButtons.find(function (radio) { return radio.text === value; });\n        if (exactMatch) {\n            return exactMatch.elem;\n        }\n        var partialMatch = radioButtons.filter(function (radio) { return radio.text &&\n            radio.text.includes(value); });\n        if (partialMatch.length === 1) {\n            return partialMatch[0].elem;\n        }\n        return null;\n    };\n    SmartPasteButton.prototype.triggerBeforeChange = function (element) {\n        element.dispatchEvent(new CustomEvent('beforeinput', {\n            bubbles: true,\n            detail: {\n                fromSmartComponents: true\n            }\n        }));\n    };\n    SmartPasteButton.prototype.triggerAfterChange = function (element) {\n        element.dispatchEvent(new CustomEvent('input', {\n            bubbles: true,\n            detail: {\n                fromSmartComponents: true\n            }\n        }));\n        element.dispatchEvent(new CustomEvent('change', {\n            bubbles: true,\n            detail: {\n                fromSmartComponents: true\n            }\n        }));\n    };\n    SmartPasteButton.prototype.updateElementValue = function (element, value) {\n        var isEjsControl = element.classList.contains('e-control');\n        if (element instanceof HTMLInputElement && (element.type === 'radio' || element.type === 'checkbox')) {\n            var responseValue = value == null ? undefined : value.toString().toLowerCase();\n            var isResponseValue = responseValue === 'true' || responseValue === 'yes' || responseValue === 'on';\n            if (element.checked !== isResponseValue) {\n                this.triggerBeforeChange(element);\n                if (isEjsControl) {\n                    element['ej2_instances'][0].checked = isResponseValue;\n                }\n                else {\n                    element.checked = isResponseValue;\n                }\n                this.triggerAfterChange(element);\n            }\n        }\n        else if (element instanceof HTMLSelectElement) {\n            var optionText_1 = value.toString();\n            var index = null;\n            var options = Array.from(element.querySelectorAll('option'));\n            var exactMatch = options.filter(function (option) { return option.textContent === optionText_1; });\n            if (exactMatch.length > 0) {\n                index = options.indexOf(exactMatch[0]);\n            }\n            else {\n                var partialMatch = options.filter(function (option) { return option.textContent &&\n                    option.textContent.indexOf(optionText_1) >= 0; });\n                if (partialMatch.length === 1) {\n                    index = options.indexOf(partialMatch[0]);\n                }\n            }\n            if (index !== null && element.selectedIndex !== index) {\n                this.triggerBeforeChange(element);\n                if (isEjsControl) {\n                    element['ej2_instances'][0].index = index;\n                }\n                else {\n                    element.selectedIndex = index;\n                }\n                this.triggerAfterChange(element);\n            }\n        }\n        else {\n            this.triggerBeforeChange(element);\n            if (element.classList.contains('e-rating') || element.classList.contains('e-colorpicker')) {\n                element['ej2_instances'][0].value = value;\n            }\n            else {\n                element.value = value;\n            }\n            this.triggerAfterChange(element);\n        }\n        element.focus();\n    };\n    SmartPasteButton.prototype.getFormFields = function (form) {\n        var _this = this;\n        var fields = [];\n        var uniqueCount = 0;\n        form.querySelectorAll('input, select, textarea').forEach(function (element) {\n            if (!(element instanceof HTMLInputElement || element instanceof HTMLSelectElement || element instanceof HTMLTextAreaElement)) {\n                return;\n            }\n            if (element.type === 'hidden' || _this.isFieldIgnore(element)) {\n                return;\n            }\n            var isRadioButton = element.type === 'radio';\n            var identifier = isRadioButton ? element.name : element.id || element.name || \"unidentified_\" + ++uniqueCount;\n            if (isRadioButton && fields.find(function (field) { return field.fieldName === identifier; })) {\n                return;\n            }\n            var FieldDescription = null;\n            if (!isRadioButton) {\n                FieldDescription = _this.getElementDescription(form, element);\n                if (!FieldDescription) {\n                    return;\n                }\n            }\n            var fieldInfo = {\n                fieldName: element.name,\n                description: FieldDescription,\n                element: element,\n                type: element.type === 'checkbox' ? 'boolean' : element.type === 'number' ? 'number' : 'string'\n            };\n            if (element instanceof HTMLSelectElement) {\n                var options = Array.from(element.querySelectorAll('option')).filter(function (option) { return option.value; });\n                fieldInfo.allowedValues = options.map(function (option) { return option.textContent; });\n                fieldInfo.type = 'fixed-choices';\n            }\n            else if (isRadioButton) {\n                fieldInfo.allowedValues = [];\n                fieldInfo.type = 'fixed-choices';\n                Array.from(form.querySelectorAll('input[type=radio]')).forEach(function (radio) {\n                    if (radio.name === identifier) {\n                        var radioDescription = _this.getElementDescription(form, radio);\n                        if (radioDescription) {\n                            fieldInfo.allowedValues.push(radioDescription);\n                        }\n                    }\n                });\n            }\n            fields.push(fieldInfo);\n        });\n        return fields;\n    };\n    SmartPasteButton.prototype.isFieldIgnore = function (element) {\n        return element.hasAttribute('data-smartpaste-ignore') ||\n            (element.hasAttribute('aria-disabled') && element.getAttribute('aria-disabled') === 'true') ||\n            (element.hasAttribute('disabled')) || (element.hasAttribute('readonly')) ||\n            (element.hasAttribute('aria-readonly') && element.getAttribute('aria-readonly') === 'true') ||\n            (element.hasAttribute('aria-hidden') && element.getAttribute('aria-hidden') === 'true');\n    };\n    SmartPasteButton.prototype.getElementDescription = function (form, element) {\n        if (element.hasAttribute('data-smartpaste-description')) {\n            return element.getAttribute('data-smartpaste-description');\n        }\n        if ((element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) && element.placeholder) {\n            return element.placeholder;\n        }\n        var label = form.querySelector(\"label[for=\\\"\" + element.id + \"\\\"]\");\n        if (label) {\n            return label.textContent.trim();\n        }\n        return element.name || element.id;\n    };\n    SmartPasteButton.prototype.getClipboardContent = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var navigatorObj, customClipboard, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        navigatorObj = navigator;\n                        customClipboard = document.getElementById('custom-clipboard');\n                        if (!(customClipboard && customClipboard.value)) return [3 /*break*/, 1];\n                        return [2 /*return*/, customClipboard.value];\n                    case 1:\n                        if (!(typeof window !== 'undefined' && navigatorObj.clipboard && navigatorObj.clipboard.readText)) return [3 /*break*/, 6];\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, navigatorObj.clipboard.readText()];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        error_1 = _a.sent();\n                        return [2 /*return*/, 'Clipboard access failed'];\n                    case 5: return [3 /*break*/, 7];\n                    case 6: return [2 /*return*/, 'Clipboard API not supported'];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    __decorate([\n        Property()\n    ], SmartPasteButton.prototype, \"aiAssistHandler\", void 0);\n    return SmartPasteButton;\n}(Button));\nexport { SmartPasteButton };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
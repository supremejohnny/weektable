{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */function () {\n  /**\n   * Constructor for Summary row model generator\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   */\n  function SummaryModelGenerator(parent) {\n    this.parent = parent;\n  }\n  SummaryModelGenerator.prototype.getData = function () {\n    var _this = this;\n    var rows = [];\n    var row = this.parent.aggregates.slice();\n    for (var i = 0; i < row.length; i++) {\n      var columns = row[parseInt(i.toString(), 10)].columns.filter(function (column) {\n        return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate) || _this.columnSelector(column);\n      });\n      if (columns.length) {\n        rows.push({\n          columns: columns\n        });\n      }\n    }\n    return rows;\n  };\n  SummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.footerTemplate !== undefined;\n  };\n  SummaryModelGenerator.prototype.getColumns = function (start) {\n    var columns = [];\n    if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n      columns.push(new Column({}));\n    }\n    if (this.parent.allowGrouping) {\n      for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n        columns.push(new Column({}));\n      }\n    }\n    if (this.parent.isRowDragable() && !start) {\n      columns.push(new Column({}));\n    }\n    columns.push.apply(columns, this.parent.getColumns());\n    return columns;\n  };\n  SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n    if (input.length === 0) {\n      if (args === undefined || !(args.count || args.loadSummaryOnEmpty)) {\n        return [];\n      }\n    }\n    var data = this.buildSummaryData(input, args);\n    var rows = [];\n    var row = this.getData();\n    for (var i = 0; i < row.length; i++) {\n      rows.push(this.getGeneratedRow(row[parseInt(i.toString(), 10)], data[parseInt(i.toString(), 10)], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n    }\n    return rows;\n  };\n  SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n    var tmp = [];\n    var indents = this.getIndentByLevel();\n    var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n    var indentLength = this.parent.getIndentCount();\n    if (this.parent.groupSettings.columns.length && this.parent.allowRowDragAndDrop) {\n      indents.push('e-indentcelltop');\n    } else if (this.parent.isRowDragable() && !start) {\n      indents = ['e-indentcelltop'];\n    }\n    var values = columns ? columns : this.getColumns(start);\n    for (var i = 0; i < values.length; i++) {\n      tmp.push(this.getGeneratedCell(values[parseInt(i.toString(), 10)], summaryRow, i >= indentLength ? this.getCellType() : i === 0 && this.parent.childGrid ? CellType.DetailFooterIntent : CellType.Indent, indents[parseInt(i.toString(), 10)], isDetailGridAlone));\n    }\n    var row = new Row({\n      data: data,\n      attributes: {\n        class: 'e-summaryrow'\n      }\n    });\n    row.cells = tmp;\n    row.uid = getUid('grid-row');\n    row.parentUid = parentUid;\n    row.isAggregateRow = true;\n    row.visible = tmp.some(function (cell) {\n      return cell.isDataCell && cell.visible;\n    });\n    return row;\n  };\n  SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n    //Get the summary column by display\n    var sColumn = summaryRow.columns.filter(function (scolumn) {\n      return scolumn.columnName === column.field;\n    })[0];\n    var attrs = {\n      'e-mappinguid': column.uid,\n      index: column.index\n    };\n    if (column.textAlign) {\n      var alignmentClassMap = {\n        right: 'e-rightalign',\n        left: 'e-leftalign',\n        center: 'e-centeralign',\n        justify: 'e-justifyalign'\n      };\n      if (alignmentClassMap[column.textAlign.toLowerCase()]) {\n        attrs.class = alignmentClassMap[column.textAlign.toLowerCase()];\n      }\n    }\n    if (indent) {\n      attrs.class = indent;\n    }\n    if (isNullOrUndefined(indent) && isDetailGridAlone) {\n      attrs.class = 'e-detailindentcelltop';\n    }\n    var opt = {\n      'visible': column.visible,\n      'isDataCell': !isNullOrUndefined(sColumn),\n      'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n      'column': sColumn || {},\n      'attributes': attrs,\n      'cellType': cellType\n    };\n    opt.column.headerText = column.headerText;\n    return new Cell(opt);\n  };\n  SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n    var dummy = [];\n    var summaryRows = this.getData();\n    var single = {};\n    for (var i = 0; i < summaryRows.length; i++) {\n      single = {};\n      var column = summaryRows[parseInt(i.toString(), 10)].columns;\n      for (var j = 0; j < column.length; j++) {\n        single = this.setTemplate(column[parseInt(j.toString(), 10)], args && args.aggregates ? args : data, single);\n      }\n      dummy.push(single);\n    }\n    return dummy;\n  };\n  SummaryModelGenerator.prototype.getIndentByLevel = function () {\n    return this.parent.groupSettings.columns.map(function () {\n      return 'e-indentcelltop';\n    });\n  };\n  SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n    var types = column.type;\n    var helper = {};\n    var formatFn = column.getFormatter() || function () {\n      return function (a) {\n        return a;\n      };\n    }();\n    var group = data;\n    if (!(types instanceof Array)) {\n      types = [column.type];\n    }\n    for (var i = 0; i < types.length; i++) {\n      var key = column.field + ' - ' + types[parseInt(i.toString(), 10)].toLowerCase();\n      var disp = column.columnName;\n      var disablePageWiseAggregatesGroup = this.parent.groupSettings.disablePageWiseAggregates && this.parent.groupSettings.columns.length && group.items ? true : false;\n      var val = (types[parseInt(i.toString(), 10)] !== 'Custom' || disablePageWiseAggregatesGroup) && group.aggregates && key in group.aggregates ? group.aggregates[\"\" + key] : calculateAggregate(types[parseInt(i.toString(), 10)], group.aggregates ? group : data, column, this.parent);\n      single[\"\" + disp] = single[\"\" + disp] || {};\n      single[\"\" + disp][\"\" + key] = val;\n      single[\"\" + disp][types[parseInt(i.toString(), 10)]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n      if (group.field) {\n        single[\"\" + disp].field = group.field;\n        single[\"\" + disp].key = group.key;\n      }\n    }\n    helper.format = column.getFormatter();\n    column.setTemplate(helper);\n    return single;\n  };\n  SummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.Summary;\n  };\n  return SummaryModelGenerator;\n}();\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */function (_super) {\n  __extends(GroupSummaryModelGenerator, _super);\n  function GroupSummaryModelGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.groupFooterTemplate !== undefined;\n  };\n  GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n    if (level === void 0) {\n      level = this.parent.groupSettings.columns.length;\n    }\n    if (this.parent.allowRowDragAndDrop && this.parent.groupSettings.columns.length) {\n      level -= 1;\n    }\n    return this.parent.groupSettings.columns.map(function (v, indx) {\n      return indx <= level - 1 ? '' : 'e-indentcelltop';\n    });\n  };\n  GroupSummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.GroupSummary;\n  };\n  return GroupSummaryModelGenerator;\n}(SummaryModelGenerator);\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */function (_super) {\n  __extends(CaptionSummaryModelGenerator, _super);\n  function CaptionSummaryModelGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.groupCaptionTemplate !== undefined;\n  };\n  CaptionSummaryModelGenerator.prototype.getData = function () {\n    var initVal = {\n      columns: []\n    };\n    return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n      prev.columns = prev.columns.concat(cur.columns);\n      return prev;\n    }, initVal)];\n  };\n  CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n    return (this.getData()[0].columns || []).length === 0;\n  };\n  CaptionSummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.CaptionSummary;\n  };\n  return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator);\nexport { CaptionSummaryModelGenerator };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Row","Column","isNullOrUndefined","calculateAggregate","getUid","CellType","Cell","SummaryModelGenerator","parent","getData","_this","rows","row","aggregates","slice","i","length","columns","parseInt","toString","filter","column","footerTemplate","groupFooterTemplate","groupCaptionTemplate","columnSelector","push","undefined","getColumns","start","detailTemplate","childGrid","allowGrouping","groupSettings","isRowDragable","apply","generateRows","input","args","end","count","loadSummaryOnEmpty","data","buildSummaryData","getGeneratedRow","level","parentUid","summaryRow","raw","tmp","indents","getIndentByLevel","isDetailGridAlone","indentLength","getIndentCount","allowRowDragAndDrop","values","getGeneratedCell","getCellType","DetailFooterIntent","Indent","attributes","class","cells","uid","isAggregateRow","visible","some","cell","isDataCell","cellType","indent","sColumn","scolumn","columnName","field","attrs","index","textAlign","alignmentClassMap","right","left","center","justify","toLowerCase","opt","headerText","dummy","summaryRows","single","j","setTemplate","map","types","type","helper","formatFn","getFormatter","a","group","key","disp","disablePageWiseAggregatesGroup","disablePageWiseAggregates","items","val","format","Summary","GroupSummaryModelGenerator","_super","arguments","v","indx","GroupSummary","CaptionSummaryModelGenerator","initVal","call","reduce","prev","cur","concat","isEmpty","CaptionSummary"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/services/summary-model-generator.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for Summary row model generator\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function SummaryModelGenerator(parent) {\n        this.parent = parent;\n    }\n    SummaryModelGenerator.prototype.getData = function () {\n        var _this = this;\n        var rows = [];\n        var row = this.parent.aggregates.slice();\n        for (var i = 0; i < row.length; i++) {\n            var columns = row[parseInt(i.toString(), 10)].columns.filter(function (column) {\n                return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)\n                    || _this.columnSelector(column);\n            });\n            if (columns.length) {\n                rows.push({ columns: columns });\n            }\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.footerTemplate !== undefined;\n    };\n    SummaryModelGenerator.prototype.getColumns = function (start) {\n        var columns = [];\n        if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n            columns.push(new Column({}));\n        }\n        if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                columns.push(new Column({}));\n            }\n        }\n        if (this.parent.isRowDragable() && !start) {\n            columns.push(new Column({}));\n        }\n        columns.push.apply(columns, this.parent.getColumns());\n        return columns;\n    };\n    SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n        if (input.length === 0) {\n            if (args === undefined || !(args.count || args.loadSummaryOnEmpty)) {\n                return [];\n            }\n        }\n        var data = this.buildSummaryData(input, args);\n        var rows = [];\n        var row = this.getData();\n        for (var i = 0; i < row.length; i++) {\n            rows.push(this.getGeneratedRow(row[parseInt(i.toString(), 10)], data[parseInt(i.toString(), 10)], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n        var tmp = [];\n        var indents = this.getIndentByLevel();\n        var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n        var indentLength = this.parent.getIndentCount();\n        if (this.parent.groupSettings.columns.length && this.parent.allowRowDragAndDrop) {\n            indents.push('e-indentcelltop');\n        }\n        else if (this.parent.isRowDragable() && !start) {\n            indents = ['e-indentcelltop'];\n        }\n        var values = columns ? columns : this.getColumns(start);\n        for (var i = 0; i < values.length; i++) {\n            tmp.push(this.getGeneratedCell(values[parseInt(i.toString(), 10)], summaryRow, i >= indentLength ? this.getCellType() :\n                i === 0 && this.parent.childGrid ? CellType.DetailFooterIntent : CellType.Indent, indents[parseInt(i.toString(), 10)], isDetailGridAlone));\n        }\n        var row = new Row({ data: data, attributes: { class: 'e-summaryrow' } });\n        row.cells = tmp;\n        row.uid = getUid('grid-row');\n        row.parentUid = parentUid;\n        row.isAggregateRow = true;\n        row.visible = tmp.some(function (cell) { return cell.isDataCell && cell.visible; });\n        return row;\n    };\n    SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n        //Get the summary column by display\n        var sColumn = summaryRow.columns.filter(function (scolumn) { return scolumn.columnName === column.field; })[0];\n        var attrs = {\n            'e-mappinguid': column.uid, index: column.index\n        };\n        if (column.textAlign) {\n            var alignmentClassMap = { right: 'e-rightalign', left: 'e-leftalign', center: 'e-centeralign', justify: 'e-justifyalign' };\n            if (alignmentClassMap[column.textAlign.toLowerCase()]) {\n                attrs.class = alignmentClassMap[column.textAlign.toLowerCase()];\n            }\n        }\n        if (indent) {\n            attrs.class = indent;\n        }\n        if (isNullOrUndefined(indent) && isDetailGridAlone) {\n            attrs.class = 'e-detailindentcelltop';\n        }\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(sColumn),\n            'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate\n                || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n            'column': sColumn || {},\n            'attributes': attrs,\n            'cellType': cellType\n        };\n        opt.column.headerText = column.headerText;\n        return new Cell(opt);\n    };\n    SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n        var dummy = [];\n        var summaryRows = this.getData();\n        var single = {};\n        for (var i = 0; i < summaryRows.length; i++) {\n            single = {};\n            var column = summaryRows[parseInt(i.toString(), 10)].columns;\n            for (var j = 0; j < column.length; j++) {\n                single = this.setTemplate(column[parseInt(j.toString(), 10)], (args && args.aggregates) ? args : data, single);\n            }\n            dummy.push(single);\n        }\n        return dummy;\n    };\n    SummaryModelGenerator.prototype.getIndentByLevel = function () {\n        return this.parent.groupSettings.columns.map(function () { return 'e-indentcelltop'; });\n    };\n    SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n        var types = column.type;\n        var helper = {};\n        var formatFn = column.getFormatter() || (function () { return function (a) { return a; }; })();\n        var group = data;\n        if (!(types instanceof Array)) {\n            types = [column.type];\n        }\n        for (var i = 0; i < types.length; i++) {\n            var key = column.field + ' - ' + types[parseInt(i.toString(), 10)].toLowerCase();\n            var disp = column.columnName;\n            var disablePageWiseAggregatesGroup = this.parent.groupSettings.disablePageWiseAggregates\n                && this.parent.groupSettings.columns.length && group.items ? true : false;\n            var val = (types[parseInt(i.toString(), 10)] !== 'Custom' || disablePageWiseAggregatesGroup) && group.aggregates\n                && key in group.aggregates ? group.aggregates[\"\" + key] :\n                calculateAggregate(types[parseInt(i.toString(), 10)], group.aggregates ? group : data, column, this.parent);\n            single[\"\" + disp] = single[\"\" + disp] || {};\n            single[\"\" + disp][\"\" + key] = val;\n            single[\"\" + disp][types[parseInt(i.toString(), 10)]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n            if (group.field) {\n                single[\"\" + disp].field = group.field;\n                single[\"\" + disp].key = group.key;\n            }\n        }\n        helper.format = column.getFormatter();\n        column.setTemplate(helper);\n        return single;\n    };\n    SummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.Summary;\n    };\n    return SummaryModelGenerator;\n}());\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupSummaryModelGenerator, _super);\n    function GroupSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupFooterTemplate !== undefined;\n    };\n    GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n        if (level === void 0) { level = this.parent.groupSettings.columns.length; }\n        if (this.parent.allowRowDragAndDrop && this.parent.groupSettings.columns.length) {\n            level -= 1;\n        }\n        return this.parent.groupSettings.columns.map(function (v, indx) { return indx <= level - 1 ? '' : 'e-indentcelltop'; });\n    };\n    GroupSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.GroupSummary;\n    };\n    return GroupSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(CaptionSummaryModelGenerator, _super);\n    function CaptionSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupCaptionTemplate !== undefined;\n    };\n    CaptionSummaryModelGenerator.prototype.getData = function () {\n        var initVal = { columns: [] };\n        return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n                prev.columns = prev.columns.concat(cur.columns);\n                return prev;\n            }, initVal)];\n    };\n    CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n        return (this.getData()[0].columns || []).length === 0;\n    };\n    CaptionSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.CaptionSummary;\n    };\n    return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { CaptionSummaryModelGenerator };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
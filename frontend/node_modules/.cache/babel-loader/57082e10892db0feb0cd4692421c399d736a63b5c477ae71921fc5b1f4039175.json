{"ast":null,"code":"import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { debounce } from '@syncfusion/ej2-base';\n/**\n * InterSectionObserver - class watch whether it enters the viewport.\n *\n * @hidden\n */\nvar InterSectionObserver = /** @class */function () {\n  function InterSectionObserver(element, options, movableEle) {\n    var _this = this;\n    this.fromWheel = false;\n    this.touchMove = false;\n    this.options = {};\n    this.sentinelInfo = {\n      'up': {\n        check: function (rect, info) {\n          var top = rect.top - _this.containerRect.top;\n          var bottom = _this.containerRect.bottom > rect.bottom ? _this.containerRect.bottom - rect.bottom : 0;\n          info.entered = top >= 0;\n          return top + _this.options.pageHeight / 2 >= 0 || bottom > 0 && rect.bottom > 0;\n        },\n        axis: 'Y'\n      },\n      'down': {\n        check: function (rect, info) {\n          var bottom = rect.bottom;\n          info.entered = rect.bottom <= _this.containerRect.bottom;\n          return bottom - _this.containerRect.top - _this.options.pageHeight / 2 <= _this.options.pageHeight / 2;\n        },\n        axis: 'Y'\n      },\n      'right': {\n        check: function (rect, info) {\n          var right = rect.right;\n          info.entered = right < _this.containerRect.right;\n          return right - _this.containerRect.width <= _this.containerRect.right;\n        },\n        axis: 'X'\n      },\n      'left': {\n        check: function (rect, info) {\n          var left = rect.left;\n          info.entered = left > 0;\n          return left + _this.containerRect.width >= _this.containerRect.left;\n        },\n        axis: 'X'\n      }\n    };\n    this.element = element;\n    this.options = options;\n    this.movableEle = movableEle;\n  }\n  InterSectionObserver.prototype.observe = function (callback, onEnterCallback) {\n    var _this = this;\n    this.containerRect = this.options.container.getBoundingClientRect();\n    EventHandler.add(this.options.container, 'wheel', function () {\n      return _this.fromWheel = true;\n    }, this);\n    EventHandler.add(this.options.container, 'scroll', this.virtualScrollHandler(callback, onEnterCallback), this);\n  };\n  InterSectionObserver.prototype.check = function (direction) {\n    var info = this.sentinelInfo[\"\" + direction];\n    return info.check(this.element.getBoundingClientRect(), info);\n  };\n  InterSectionObserver.prototype.virtualScrollHandler = function (callback, onEnterCallback) {\n    var _this = this;\n    var delay = Browser.info.name === 'chrome' ? 200 : 100;\n    var debounced100 = debounce(callback, delay);\n    var debounced50 = debounce(callback, 50);\n    this.options.prevTop = this.options.prevLeft = 0;\n    return function (e) {\n      var top = e.target.scrollTop;\n      var left = e.target.scrollLeft;\n      var direction = _this.options.prevTop < top ? 'down' : 'up';\n      direction = _this.options.prevLeft === left ? direction : _this.options.prevLeft < left ? 'right' : 'left';\n      _this.options.prevTop = top;\n      _this.options.prevLeft = left;\n      var current = _this.sentinelInfo[\"\" + direction];\n      if (_this.options.axes.indexOf(current.axis) === -1) {\n        return;\n      }\n      _this.containerRect = _this.options.container.getBoundingClientRect();\n      var check = _this.check(direction);\n      if (current.entered) {\n        onEnterCallback(_this.element, current, direction, {\n          top: top,\n          left: left\n        }, _this.fromWheel, check);\n      }\n      if (check) {\n        var fn = debounced100;\n        //this.fromWheel ? this.options.debounceEvent ? debounced100 : callback : debounced100;\n        if (current.axis === 'X') {\n          fn = debounced50;\n        }\n        fn({\n          direction: direction,\n          sentinel: current,\n          offset: {\n            top: top,\n            left: left\n          },\n          focusElement: document.activeElement\n        });\n      }\n      _this.fromWheel = false;\n    };\n  };\n  InterSectionObserver.prototype.setPageHeight = function (value) {\n    this.options.pageHeight = value;\n  };\n  return InterSectionObserver;\n}();\nexport { InterSectionObserver };","map":{"version":3,"names":["EventHandler","Browser","debounce","InterSectionObserver","element","options","movableEle","_this","fromWheel","touchMove","sentinelInfo","check","rect","info","top","containerRect","bottom","entered","pageHeight","axis","right","width","left","prototype","observe","callback","onEnterCallback","container","getBoundingClientRect","add","virtualScrollHandler","direction","delay","name","debounced100","debounced50","prevTop","prevLeft","e","target","scrollTop","scrollLeft","current","axes","indexOf","fn","sentinel","offset","focusElement","document","activeElement","setPageHeight","value"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/services/intersection-observer.js"],"sourcesContent":["import { EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { debounce } from '@syncfusion/ej2-base';\n/**\n * InterSectionObserver - class watch whether it enters the viewport.\n *\n * @hidden\n */\nvar InterSectionObserver = /** @class */ (function () {\n    function InterSectionObserver(element, options, movableEle) {\n        var _this = this;\n        this.fromWheel = false;\n        this.touchMove = false;\n        this.options = {};\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerRect.top;\n                    var bottom = _this.containerRect.bottom > rect.bottom ? _this.containerRect.bottom - rect.bottom : 0;\n                    info.entered = top >= 0;\n                    return top + (_this.options.pageHeight / 2) >= 0 || (bottom > 0 && rect.bottom > 0);\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var bottom = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerRect.bottom;\n                    return ((bottom - _this.containerRect.top) - (_this.options.pageHeight / 2)) <= _this.options.pageHeight / 2;\n                }, axis: 'Y'\n            },\n            'right': {\n                check: function (rect, info) {\n                    var right = rect.right;\n                    info.entered = right < _this.containerRect.right;\n                    return right - _this.containerRect.width <= _this.containerRect.right;\n                }, axis: 'X'\n            },\n            'left': {\n                check: function (rect, info) {\n                    var left = rect.left;\n                    info.entered = left > 0;\n                    return left + _this.containerRect.width >= _this.containerRect.left;\n                }, axis: 'X'\n            }\n        };\n        this.element = element;\n        this.options = options;\n        this.movableEle = movableEle;\n    }\n    InterSectionObserver.prototype.observe = function (callback, onEnterCallback) {\n        var _this = this;\n        this.containerRect = this.options.container.getBoundingClientRect();\n        EventHandler.add(this.options.container, 'wheel', function () { return _this.fromWheel = true; }, this);\n        EventHandler.add(this.options.container, 'scroll', this.virtualScrollHandler(callback, onEnterCallback), this);\n    };\n    InterSectionObserver.prototype.check = function (direction) {\n        var info = this.sentinelInfo[\"\" + direction];\n        return info.check(this.element.getBoundingClientRect(), info);\n    };\n    InterSectionObserver.prototype.virtualScrollHandler = function (callback, onEnterCallback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        this.options.prevTop = this.options.prevLeft = 0;\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = _this.options.prevTop < top ? 'down' : 'up';\n            direction = _this.options.prevLeft === left ? direction : _this.options.prevLeft < left ? 'right' : 'left';\n            _this.options.prevTop = top;\n            _this.options.prevLeft = left;\n            var current = _this.sentinelInfo[\"\" + direction];\n            if (_this.options.axes.indexOf(current.axis) === -1) {\n                return;\n            }\n            _this.containerRect = _this.options.container.getBoundingClientRect();\n            var check = _this.check(direction);\n            if (current.entered) {\n                onEnterCallback(_this.element, current, direction, { top: top, left: left }, _this.fromWheel, check);\n            }\n            if (check) {\n                var fn = debounced100;\n                //this.fromWheel ? this.options.debounceEvent ? debounced100 : callback : debounced100;\n                if (current.axis === 'X') {\n                    fn = debounced50;\n                }\n                fn({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                    focusElement: document.activeElement });\n            }\n            _this.fromWheel = false;\n        };\n    };\n    InterSectionObserver.prototype.setPageHeight = function (value) {\n        this.options.pageHeight = value;\n    };\n    return InterSectionObserver;\n}());\nexport { InterSectionObserver };\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,OAAO,QAAQ,sBAAsB;AAC5D,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA,IAAIC,oBAAoB,GAAG,aAAe,YAAY;EAClD,SAASA,oBAAoBA,CAACC,OAAO,EAAEC,OAAO,EAAEC,UAAU,EAAE;IACxD,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,SAAS,GAAG,KAAK;IACtB,IAAI,CAACJ,OAAO,GAAG,CAAC,CAAC;IACjB,IAAI,CAACK,YAAY,GAAG;MAChB,IAAI,EAAE;QACFC,KAAK,EAAE,SAAAA,CAAUC,IAAI,EAAEC,IAAI,EAAE;UACzB,IAAIC,GAAG,GAAGF,IAAI,CAACE,GAAG,GAAGP,KAAK,CAACQ,aAAa,CAACD,GAAG;UAC5C,IAAIE,MAAM,GAAGT,KAAK,CAACQ,aAAa,CAACC,MAAM,GAAGJ,IAAI,CAACI,MAAM,GAAGT,KAAK,CAACQ,aAAa,CAACC,MAAM,GAAGJ,IAAI,CAACI,MAAM,GAAG,CAAC;UACpGH,IAAI,CAACI,OAAO,GAAGH,GAAG,IAAI,CAAC;UACvB,OAAOA,GAAG,GAAIP,KAAK,CAACF,OAAO,CAACa,UAAU,GAAG,CAAE,IAAI,CAAC,IAAKF,MAAM,GAAG,CAAC,IAAIJ,IAAI,CAACI,MAAM,GAAG,CAAE;QACvF,CAAC;QACDG,IAAI,EAAE;MACV,CAAC;MACD,MAAM,EAAE;QACJR,KAAK,EAAE,SAAAA,CAAUC,IAAI,EAAEC,IAAI,EAAE;UACzB,IAAIG,MAAM,GAAGJ,IAAI,CAACI,MAAM;UACxBH,IAAI,CAACI,OAAO,GAAGL,IAAI,CAACI,MAAM,IAAIT,KAAK,CAACQ,aAAa,CAACC,MAAM;UACxD,OAASA,MAAM,GAAGT,KAAK,CAACQ,aAAa,CAACD,GAAG,GAAKP,KAAK,CAACF,OAAO,CAACa,UAAU,GAAG,CAAE,IAAKX,KAAK,CAACF,OAAO,CAACa,UAAU,GAAG,CAAC;QAChH,CAAC;QAAEC,IAAI,EAAE;MACb,CAAC;MACD,OAAO,EAAE;QACLR,KAAK,EAAE,SAAAA,CAAUC,IAAI,EAAEC,IAAI,EAAE;UACzB,IAAIO,KAAK,GAAGR,IAAI,CAACQ,KAAK;UACtBP,IAAI,CAACI,OAAO,GAAGG,KAAK,GAAGb,KAAK,CAACQ,aAAa,CAACK,KAAK;UAChD,OAAOA,KAAK,GAAGb,KAAK,CAACQ,aAAa,CAACM,KAAK,IAAId,KAAK,CAACQ,aAAa,CAACK,KAAK;QACzE,CAAC;QAAED,IAAI,EAAE;MACb,CAAC;MACD,MAAM,EAAE;QACJR,KAAK,EAAE,SAAAA,CAAUC,IAAI,EAAEC,IAAI,EAAE;UACzB,IAAIS,IAAI,GAAGV,IAAI,CAACU,IAAI;UACpBT,IAAI,CAACI,OAAO,GAAGK,IAAI,GAAG,CAAC;UACvB,OAAOA,IAAI,GAAGf,KAAK,CAACQ,aAAa,CAACM,KAAK,IAAId,KAAK,CAACQ,aAAa,CAACO,IAAI;QACvE,CAAC;QAAEH,IAAI,EAAE;MACb;IACJ,CAAC;IACD,IAAI,CAACf,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,UAAU,GAAGA,UAAU;EAChC;EACAH,oBAAoB,CAACoB,SAAS,CAACC,OAAO,GAAG,UAAUC,QAAQ,EAAEC,eAAe,EAAE;IAC1E,IAAInB,KAAK,GAAG,IAAI;IAChB,IAAI,CAACQ,aAAa,GAAG,IAAI,CAACV,OAAO,CAACsB,SAAS,CAACC,qBAAqB,CAAC,CAAC;IACnE5B,YAAY,CAAC6B,GAAG,CAAC,IAAI,CAACxB,OAAO,CAACsB,SAAS,EAAE,OAAO,EAAE,YAAY;MAAE,OAAOpB,KAAK,CAACC,SAAS,GAAG,IAAI;IAAE,CAAC,EAAE,IAAI,CAAC;IACvGR,YAAY,CAAC6B,GAAG,CAAC,IAAI,CAACxB,OAAO,CAACsB,SAAS,EAAE,QAAQ,EAAE,IAAI,CAACG,oBAAoB,CAACL,QAAQ,EAAEC,eAAe,CAAC,EAAE,IAAI,CAAC;EAClH,CAAC;EACDvB,oBAAoB,CAACoB,SAAS,CAACZ,KAAK,GAAG,UAAUoB,SAAS,EAAE;IACxD,IAAIlB,IAAI,GAAG,IAAI,CAACH,YAAY,CAAC,EAAE,GAAGqB,SAAS,CAAC;IAC5C,OAAOlB,IAAI,CAACF,KAAK,CAAC,IAAI,CAACP,OAAO,CAACwB,qBAAqB,CAAC,CAAC,EAAEf,IAAI,CAAC;EACjE,CAAC;EACDV,oBAAoB,CAACoB,SAAS,CAACO,oBAAoB,GAAG,UAAUL,QAAQ,EAAEC,eAAe,EAAE;IACvF,IAAInB,KAAK,GAAG,IAAI;IAChB,IAAIyB,KAAK,GAAG/B,OAAO,CAACY,IAAI,CAACoB,IAAI,KAAK,QAAQ,GAAG,GAAG,GAAG,GAAG;IACtD,IAAIC,YAAY,GAAGhC,QAAQ,CAACuB,QAAQ,EAAEO,KAAK,CAAC;IAC5C,IAAIG,WAAW,GAAGjC,QAAQ,CAACuB,QAAQ,EAAE,EAAE,CAAC;IACxC,IAAI,CAACpB,OAAO,CAAC+B,OAAO,GAAG,IAAI,CAAC/B,OAAO,CAACgC,QAAQ,GAAG,CAAC;IAChD,OAAO,UAAUC,CAAC,EAAE;MAChB,IAAIxB,GAAG,GAAGwB,CAAC,CAACC,MAAM,CAACC,SAAS;MAC5B,IAAIlB,IAAI,GAAGgB,CAAC,CAACC,MAAM,CAACE,UAAU;MAC9B,IAAIV,SAAS,GAAGxB,KAAK,CAACF,OAAO,CAAC+B,OAAO,GAAGtB,GAAG,GAAG,MAAM,GAAG,IAAI;MAC3DiB,SAAS,GAAGxB,KAAK,CAACF,OAAO,CAACgC,QAAQ,KAAKf,IAAI,GAAGS,SAAS,GAAGxB,KAAK,CAACF,OAAO,CAACgC,QAAQ,GAAGf,IAAI,GAAG,OAAO,GAAG,MAAM;MAC1Gf,KAAK,CAACF,OAAO,CAAC+B,OAAO,GAAGtB,GAAG;MAC3BP,KAAK,CAACF,OAAO,CAACgC,QAAQ,GAAGf,IAAI;MAC7B,IAAIoB,OAAO,GAAGnC,KAAK,CAACG,YAAY,CAAC,EAAE,GAAGqB,SAAS,CAAC;MAChD,IAAIxB,KAAK,CAACF,OAAO,CAACsC,IAAI,CAACC,OAAO,CAACF,OAAO,CAACvB,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QACjD;MACJ;MACAZ,KAAK,CAACQ,aAAa,GAAGR,KAAK,CAACF,OAAO,CAACsB,SAAS,CAACC,qBAAqB,CAAC,CAAC;MACrE,IAAIjB,KAAK,GAAGJ,KAAK,CAACI,KAAK,CAACoB,SAAS,CAAC;MAClC,IAAIW,OAAO,CAACzB,OAAO,EAAE;QACjBS,eAAe,CAACnB,KAAK,CAACH,OAAO,EAAEsC,OAAO,EAAEX,SAAS,EAAE;UAAEjB,GAAG,EAAEA,GAAG;UAAEQ,IAAI,EAAEA;QAAK,CAAC,EAAEf,KAAK,CAACC,SAAS,EAAEG,KAAK,CAAC;MACxG;MACA,IAAIA,KAAK,EAAE;QACP,IAAIkC,EAAE,GAAGX,YAAY;QACrB;QACA,IAAIQ,OAAO,CAACvB,IAAI,KAAK,GAAG,EAAE;UACtB0B,EAAE,GAAGV,WAAW;QACpB;QACAU,EAAE,CAAC;UAAEd,SAAS,EAAEA,SAAS;UAAEe,QAAQ,EAAEJ,OAAO;UAAEK,MAAM,EAAE;YAAEjC,GAAG,EAAEA,GAAG;YAAEQ,IAAI,EAAEA;UAAK,CAAC;UAC1E0B,YAAY,EAAEC,QAAQ,CAACC;QAAc,CAAC,CAAC;MAC/C;MACA3C,KAAK,CAACC,SAAS,GAAG,KAAK;IAC3B,CAAC;EACL,CAAC;EACDL,oBAAoB,CAACoB,SAAS,CAAC4B,aAAa,GAAG,UAAUC,KAAK,EAAE;IAC5D,IAAI,CAAC/C,OAAO,CAACa,UAAU,GAAGkC,KAAK;EACnC,CAAC;EACD,OAAOjD,oBAAoB;AAC/B,CAAC,CAAC,CAAE;AACJ,SAASA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
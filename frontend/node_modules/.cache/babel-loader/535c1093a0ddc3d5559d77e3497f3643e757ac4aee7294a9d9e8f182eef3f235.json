{"ast":null,"code":"import { Browser, remove, EventHandler, isUndefined, closest, classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { parentsUntil, isGroupAdaptive } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Clipboard` module is used to handle clipboard copy action.\n */\nvar Clipboard = /** @class */function () {\n  /**\n   * Constructor for the Grid clipboard module\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n   * @hidden\n   */\n  function Clipboard(parent, serviceLocator) {\n    this.copyContent = '';\n    this.isSelect = false;\n    this.parent = parent;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Clipboard.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.contentReady, this.initialEnd, this);\n    this.parent.on(events.keyPressed, this.keyDownHandler, this);\n    this.parent.on(events.click, this.clickHandler, this);\n    this.parent.on(events.onEmpty, this.initialEnd, this);\n    EventHandler.add(this.parent.element, 'keydown', this.pasteHandler, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Clipboard.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.keyPressed, this.keyDownHandler);\n    this.parent.off(events.contentReady, this.initialEnd);\n    this.parent.off(events.click, this.clickHandler);\n    this.parent.off(events.onEmpty, this.initialEnd);\n    EventHandler.remove(this.parent.element, 'keydown', this.pasteHandler);\n  };\n  Clipboard.prototype.clickHandler = function (e) {\n    var target = e.target;\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    target = parentsUntil(target, 'e-rowcell');\n  };\n  Clipboard.prototype.pasteHandler = function (e) {\n    var _this = this;\n    var grid = this.parent;\n    var isMacLike = /(Mac)/i.test(navigator.platform);\n    var selectedRowCellIndexes = this.parent.getSelectedRowCellIndexes();\n    if (!grid.isEdit && e.keyCode === 67 && isMacLike && e.metaKey) {\n      this.copy();\n    }\n    if (selectedRowCellIndexes.length && e.keyCode === 86 && (!isMacLike && e.ctrlKey || isMacLike && e.metaKey) && !grid.isEdit) {\n      var target = closest(document.activeElement, '.' + literals.rowCell);\n      if (!this.clipBoardTextArea || !target || !grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' || grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n        return;\n      }\n      this.activeElement = document.activeElement;\n      var x_1 = window.scrollX;\n      var y_1 = window.scrollY;\n      this.clipBoardTextArea.focus();\n      setTimeout(function () {\n        _this.activeElement.focus();\n        window.scrollTo(x_1, y_1);\n        _this.paste(_this.clipBoardTextArea.value, selectedRowCellIndexes[0].rowIndex, selectedRowCellIndexes[0].cellIndexes[0]);\n      }, isMacLike ? 100 : 10);\n    }\n  };\n  /**\n   * Paste data from clipboard to selected cells.\n   *\n   * @param {boolean} data - Specifies the date for paste.\n   * @param {boolean} rowIndex - Specifies the row index.\n   * @param {boolean} colIndex - Specifies the column index.\n   * @returns {void}\n   */\n  Clipboard.prototype.paste = function (data, rowIndex, colIndex) {\n    var grid = this.parent;\n    var cIdx = colIndex;\n    var rIdx = rowIndex;\n    var col;\n    var value;\n    var isAvail;\n    var rows = data.split('\\n');\n    var cols;\n    for (var r = 0; r < rows.length; r++) {\n      cols = rows[parseInt(r.toString(), 10)].split('\\t');\n      cIdx = colIndex;\n      if (r === rows.length - 1 && rows[parseInt(r.toString(), 10)] === '' || isUndefined(grid.getRowByIndex(rIdx))) {\n        cIdx++;\n        break;\n      }\n      for (var c = 0; c < cols.length; c++) {\n        isAvail = grid.getCellFromIndex(rIdx, cIdx);\n        if (!isAvail) {\n          cIdx++;\n          break;\n        }\n        col = grid.getColumnByIndex(cIdx);\n        value = col.getParser() ? col.getParser()(cols[parseInt(c.toString(), 10)]) : cols[parseInt(c.toString(), 10)];\n        if (col.allowEditing && !col.isPrimaryKey) {\n          var args = {\n            column: col,\n            data: value,\n            rowIndex: rIdx\n          };\n          this.parent.trigger(events.beforePaste, args);\n          rIdx = args.rowIndex;\n          if (!args.cancel) {\n            if (grid.editModule) {\n              if (col.type === 'number') {\n                this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.data));\n              } else {\n                grid.editModule.updateCell(rIdx, col.field, args.data);\n              }\n            }\n          }\n        }\n        cIdx++;\n      }\n      rIdx++;\n    }\n    grid.selectionModule.selectCellsByRange({\n      rowIndex: rowIndex,\n      cellIndex: colIndex\n    }, {\n      rowIndex: rIdx - 1,\n      cellIndex: cIdx - 1\n    });\n    var cell = this.parent.getCellFromIndex(rIdx - 1, cIdx - 1);\n    if (cell) {\n      classList(cell, ['e-focus', 'e-focused'], []);\n    }\n    this.clipBoardTextArea.value = '';\n  };\n  Clipboard.prototype.initialEnd = function () {\n    this.l10n = this.serviceLocator.getService('localization');\n    this.parent.off(events.contentReady, this.initialEnd);\n    this.clipBoardTextArea = this.parent.createElement('textarea', {\n      className: 'e-clipboard',\n      attrs: {\n        tabindex: '-1',\n        'aria-label': this.l10n.getConstant('ClipBoard')\n      }\n    });\n    this.clipBoardTextArea.style.opacity = '0';\n    this.parent.element.appendChild(this.clipBoardTextArea);\n  };\n  Clipboard.prototype.keyDownHandler = function (e) {\n    if (e.action === 'ctrlPlusC') {\n      this.copy();\n    } else if (e.action === 'ctrlShiftPlusH') {\n      this.copy(true);\n    }\n  };\n  Clipboard.prototype.setCopyData = function (withHeader) {\n    if (window.getSelection().toString() === '') {\n      this.clipBoardTextArea.value = this.copyContent = '';\n      var rows = this.parent.getDataRows();\n      if (this.parent.selectionSettings && this.parent.selectionSettings.allowColumnSelection && this.parent.selectionModule && this.parent.selectionModule.selectedColumnsIndexes.length) {\n        if (withHeader) {\n          var selectedColumns = this.parent.selectionModule.selectedColumnsIndexes;\n          var headerColumns = [];\n          for (var i = 0; i < selectedColumns.length; i++) {\n            var colIndex = selectedColumns[parseInt(i.toString(), 10)];\n            var headerCell = this.parent.getColumnHeaderByIndex(colIndex);\n            if (headerCell && !headerCell.classList.contains('e-hide')) {\n              headerColumns.push(headerCell);\n            }\n          }\n          this.getCopyData(headerColumns, false, '\\t', withHeader);\n          this.copyContent += '\\n';\n        }\n        for (var j = 0; j < rows.length; j++) {\n          var columnCells = [];\n          if (j > 0) {\n            this.copyContent += '\\n';\n          }\n          columnCells.push.apply(columnCells, [].slice.call(rows[parseInt(j.toString(), 10)].querySelectorAll('.e-columnselection:not(.e-hide)')));\n          this.getCopyData(columnCells, false, '\\t', withHeader);\n        }\n      } else {\n        if (this.parent.selectionSettings.mode !== 'Cell') {\n          var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function (a, b) {\n            return a - b;\n          });\n          if (withHeader) {\n            var headerTextArray = [];\n            for (var i = 0; i < this.parent.getVisibleColumns().length; i++) {\n              headerTextArray[parseInt(i.toString(), 10)] = this.parent.getVisibleColumns()[parseInt(i.toString(), 10)].headerText;\n            }\n            this.getCopyData(headerTextArray, false, '\\t', withHeader);\n            this.copyContent += '\\n';\n          }\n          if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) && selectedIndexes.length > rows.length) {\n            selectedIndexes = [];\n            for (var i = 0; i < rows.length; i++) {\n              var row = rows[parseInt(i.toString(), 10)];\n              if (row.getAttribute('aria-selected') === 'true') {\n                selectedIndexes.push(parseInt(row.getAttribute('data-rowindex'), 10));\n              }\n            }\n          }\n          for (var i = 0; i < selectedIndexes.length; i++) {\n            if (i > 0) {\n              this.copyContent += '\\n';\n            }\n            var leftCols = [];\n            var idx = selectedIndexes[parseInt(i.toString(), 10)];\n            if (!isGroupAdaptive(this.parent) && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache || this.parent.groupSettings.columns.length && this.parent.groupSettings.enableLazyLoading)) {\n              idx = rows.map(function (m) {\n                return m.getAttribute('data-rowindex');\n              }).indexOf(selectedIndexes[parseInt(i.toString(), 10)].toString());\n            }\n            var currentRow = rows[parseInt(idx.toString(), 10)];\n            if (!isNullOrUndefined(currentRow)) {\n              leftCols.push.apply(leftCols, [].slice.call(currentRow.querySelectorAll('.e-rowcell:not(.e-hide)')));\n              this.getCopyData(leftCols, false, '\\t', withHeader);\n            }\n          }\n        } else if (this.parent.selectionModule && this.parent.selectionModule.selectedRowCellIndexes.length) {\n          var obj = this.checkBoxSelection();\n          if (obj.status) {\n            if (withHeader) {\n              var headers = [];\n              for (var i = 0; i < obj.colIndexes.length; i++) {\n                var colHeader = this.parent.getColumnHeaderByIndex(obj.colIndexes[parseInt(i.toString(), 10)]);\n                if (!colHeader.classList.contains('e-hide')) {\n                  headers.push(colHeader);\n                }\n              }\n              this.getCopyData(headers, false, '\\t', withHeader);\n              this.copyContent += '\\n';\n            }\n            for (var i = 0; i < obj.rowIndexes.length; i++) {\n              if (i > 0) {\n                this.copyContent += '\\n';\n              }\n              var cells = [].slice.call(rows[obj.rowIndexes[parseInt(i.toString(), 10)]].querySelectorAll('.e-cellselectionbackground:not(.e-hide)'));\n              this.getCopyData(cells, false, '\\t', withHeader);\n            }\n          } else {\n            this.getCopyData([].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground')), true, '\\n', withHeader);\n          }\n        }\n      }\n      var args = {\n        data: this.copyContent,\n        cancel: false\n      };\n      this.parent.trigger(events.beforeCopy, args);\n      if (args.cancel) {\n        return;\n      }\n      this.clipBoardTextArea.value = this.copyContent = args.data;\n      if (!Browser.userAgent.match(/ipad|ipod|iphone/i)) {\n        this.clipBoardTextArea.select();\n      } else {\n        this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length);\n      }\n      this.isSelect = true;\n    }\n  };\n  Clipboard.prototype.getCopyData = function (cells, isCell, splitKey, withHeader) {\n    var isElement = typeof cells[0] !== 'string';\n    for (var j = 0; j < cells.length; j++) {\n      if (withHeader && isCell) {\n        var colIdx = parseInt(cells[parseInt(j.toString(), 10)].getAttribute(literals.ariaColIndex), 10) - 1;\n        this.copyContent += this.parent.getColumns()[parseInt(colIdx.toString(), 10)].headerText + '\\n';\n      }\n      if (isElement) {\n        if (!cells[parseInt(j.toString(), 10)].classList.contains('e-hide')) {\n          this.copyContent += cells[parseInt(j.toString(), 10)].innerText;\n        }\n      } else {\n        this.copyContent += cells[parseInt(j.toString(), 10)];\n      }\n      if (j < cells.length - 1) {\n        this.copyContent += splitKey;\n      }\n    }\n  };\n  /**\n   * Copy selected rows or cells data into clipboard.\n   *\n   * @returns {void}\n   * @param {boolean} withHeader - Specifies whether the column header data need to be copied or not.\n   */\n  Clipboard.prototype.copy = function (withHeader) {\n    if (document.queryCommandSupported('copy') && this.clipBoardTextArea) {\n      this.setCopyData(withHeader);\n      document.execCommand('copy');\n      this.clipBoardTextArea.blur();\n    }\n    if (this.isSelect) {\n      window.getSelection().removeAllRanges();\n      this.isSelect = false;\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} returns the module name\n   * @private\n   */\n  Clipboard.prototype.getModuleName = function () {\n    return 'clipboard';\n  };\n  /**\n   * To destroy the clipboard\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Clipboard.prototype.destroy = function () {\n    this.removeEventListener();\n    if (this.clipBoardTextArea) {\n      remove(this.clipBoardTextArea);\n      this.clipBoardTextArea = null;\n    }\n  };\n  Clipboard.prototype.checkBoxSelection = function () {\n    var gridObj = this.parent;\n    var obj = {\n      status: false\n    };\n    if (gridObj.selectionSettings.mode === 'Cell') {\n      var rowCellIndxes = gridObj.getSelectedRowCellIndexes();\n      var str = void 0;\n      var rowIndexes = [];\n      var i = void 0;\n      for (i = 0; i < rowCellIndxes.length; i++) {\n        if (rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.length) {\n          rowIndexes.push(rowCellIndxes[parseInt(i.toString(), 10)].rowIndex);\n        }\n        if (rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.length) {\n          if (!str) {\n            str = JSON.stringify(rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.sort());\n          }\n          if (str !== JSON.stringify(rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.sort())) {\n            break;\n          }\n        }\n      }\n      rowIndexes.sort(function (a, b) {\n        return a - b;\n      });\n      if (i === rowCellIndxes.length) {\n        obj = {\n          status: true,\n          rowIndexes: rowIndexes,\n          colIndexes: rowCellIndxes[0].cellIndexes\n        };\n      }\n    }\n    return obj;\n  };\n  return Clipboard;\n}();\nexport { Clipboard };","map":{"version":3,"names":["Browser","remove","EventHandler","isUndefined","closest","classList","isNullOrUndefined","parentsUntil","isGroupAdaptive","events","literals","Clipboard","parent","serviceLocator","copyContent","isSelect","addEventListener","prototype","isDestroyed","on","contentReady","initialEnd","keyPressed","keyDownHandler","click","clickHandler","onEmpty","add","element","pasteHandler","removeEventListener","off","e","target","_this","grid","isMacLike","test","navigator","platform","selectedRowCellIndexes","getSelectedRowCellIndexes","isEdit","keyCode","metaKey","copy","length","ctrlKey","document","activeElement","rowCell","clipBoardTextArea","editSettings","allowEditing","mode","selectionSettings","cellSelectionMode","x_1","window","scrollX","y_1","scrollY","focus","setTimeout","scrollTo","paste","value","rowIndex","cellIndexes","data","colIndex","cIdx","rIdx","col","isAvail","rows","split","cols","r","parseInt","toString","getRowByIndex","c","getCellFromIndex","getColumnByIndex","getParser","isPrimaryKey","args","column","trigger","beforePaste","cancel","editModule","type","updateCell","field","parseFloat","selectionModule","selectCellsByRange","cellIndex","cell","l10n","getService","createElement","className","attrs","tabindex","getConstant","style","opacity","appendChild","action","setCopyData","withHeader","getSelection","getDataRows","allowColumnSelection","selectedColumnsIndexes","selectedColumns","headerColumns","i","headerCell","getColumnHeaderByIndex","contains","push","getCopyData","j","columnCells","apply","slice","call","querySelectorAll","selectedIndexes","getSelectedRowIndexes","sort","a","b","headerTextArray","getVisibleColumns","headerText","enableVirtualization","enableInfiniteScrolling","row","getAttribute","leftCols","idx","infiniteScrollSettings","enableCache","groupSettings","columns","enableLazyLoading","map","m","indexOf","currentRow","obj","checkBoxSelection","status","headers","colIndexes","colHeader","rowIndexes","cells","getElementsByClassName","beforeCopy","userAgent","match","select","setSelectionRange","isCell","splitKey","isElement","colIdx","ariaColIndex","getColumns","innerText","queryCommandSupported","execCommand","blur","removeAllRanges","getModuleName","destroy","gridObj","rowCellIndxes","str","JSON","stringify"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-grids/src/grid/actions/clipboard.js"],"sourcesContent":["import { Browser, remove, EventHandler, isUndefined, closest, classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { parentsUntil, isGroupAdaptive } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Clipboard` module is used to handle clipboard copy action.\n */\nvar Clipboard = /** @class */ (function () {\n    /**\n     * Constructor for the Grid clipboard module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     * @hidden\n     */\n    function Clipboard(parent, serviceLocator) {\n        this.copyContent = '';\n        this.isSelect = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.keyPressed, this.keyDownHandler, this);\n        this.parent.on(events.click, this.clickHandler, this);\n        this.parent.on(events.onEmpty, this.initialEnd, this);\n        EventHandler.add(this.parent.element, 'keydown', this.pasteHandler, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyPressed, this.keyDownHandler);\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.onEmpty, this.initialEnd);\n        EventHandler.remove(this.parent.element, 'keydown', this.pasteHandler);\n    };\n    Clipboard.prototype.clickHandler = function (e) {\n        var target = e.target;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        target = parentsUntil(target, 'e-rowcell');\n    };\n    Clipboard.prototype.pasteHandler = function (e) {\n        var _this = this;\n        var grid = this.parent;\n        var isMacLike = /(Mac)/i.test(navigator.platform);\n        var selectedRowCellIndexes = this.parent.getSelectedRowCellIndexes();\n        if (!grid.isEdit && e.keyCode === 67 && isMacLike && e.metaKey) {\n            this.copy();\n        }\n        if (selectedRowCellIndexes.length && e.keyCode === 86 && ((!isMacLike && e.ctrlKey) || (isMacLike && e.metaKey)) && !grid.isEdit) {\n            var target = closest(document.activeElement, '.' + literals.rowCell);\n            if (!this.clipBoardTextArea || !target || !grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n                grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n                return;\n            }\n            this.activeElement = document.activeElement;\n            var x_1 = window.scrollX;\n            var y_1 = window.scrollY;\n            this.clipBoardTextArea.focus();\n            setTimeout(function () {\n                _this.activeElement.focus();\n                window.scrollTo(x_1, y_1);\n                _this.paste(_this.clipBoardTextArea.value, selectedRowCellIndexes[0].rowIndex, selectedRowCellIndexes[0].cellIndexes[0]);\n            }, isMacLike ? 100 : 10);\n        }\n    };\n    /**\n     * Paste data from clipboard to selected cells.\n     *\n     * @param {boolean} data - Specifies the date for paste.\n     * @param {boolean} rowIndex - Specifies the row index.\n     * @param {boolean} colIndex - Specifies the column index.\n     * @returns {void}\n     */\n    Clipboard.prototype.paste = function (data, rowIndex, colIndex) {\n        var grid = this.parent;\n        var cIdx = colIndex;\n        var rIdx = rowIndex;\n        var col;\n        var value;\n        var isAvail;\n        var rows = data.split('\\n');\n        var cols;\n        for (var r = 0; r < rows.length; r++) {\n            cols = rows[parseInt(r.toString(), 10)].split('\\t');\n            cIdx = colIndex;\n            if ((r === rows.length - 1 && rows[parseInt(r.toString(), 10)] === '') || isUndefined(grid.getRowByIndex(rIdx))) {\n                cIdx++;\n                break;\n            }\n            for (var c = 0; c < cols.length; c++) {\n                isAvail = grid.getCellFromIndex(rIdx, cIdx);\n                if (!isAvail) {\n                    cIdx++;\n                    break;\n                }\n                col = grid.getColumnByIndex(cIdx);\n                value = col.getParser() ? col.getParser()(cols[parseInt(c.toString(), 10)]) : cols[parseInt(c.toString(), 10)];\n                if (col.allowEditing && !col.isPrimaryKey) {\n                    var args = {\n                        column: col,\n                        data: value,\n                        rowIndex: rIdx\n                    };\n                    this.parent.trigger(events.beforePaste, args);\n                    rIdx = args.rowIndex;\n                    if (!args.cancel) {\n                        if (grid.editModule) {\n                            if (col.type === 'number') {\n                                this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.data));\n                            }\n                            else {\n                                grid.editModule.updateCell(rIdx, col.field, args.data);\n                            }\n                        }\n                    }\n                }\n                cIdx++;\n            }\n            rIdx++;\n        }\n        grid.selectionModule.selectCellsByRange({ rowIndex: rowIndex, cellIndex: colIndex }, { rowIndex: rIdx - 1, cellIndex: cIdx - 1 });\n        var cell = this.parent.getCellFromIndex(rIdx - 1, cIdx - 1);\n        if (cell) {\n            classList(cell, ['e-focus', 'e-focused'], []);\n        }\n        this.clipBoardTextArea.value = '';\n    };\n    Clipboard.prototype.initialEnd = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.clipBoardTextArea = this.parent.createElement('textarea', {\n            className: 'e-clipboard',\n            attrs: { tabindex: '-1', 'aria-label': this.l10n.getConstant('ClipBoard') }\n        });\n        this.clipBoardTextArea.style.opacity = '0';\n        this.parent.element.appendChild(this.clipBoardTextArea);\n    };\n    Clipboard.prototype.keyDownHandler = function (e) {\n        if (e.action === 'ctrlPlusC') {\n            this.copy();\n        }\n        else if (e.action === 'ctrlShiftPlusH') {\n            this.copy(true);\n        }\n    };\n    Clipboard.prototype.setCopyData = function (withHeader) {\n        if (window.getSelection().toString() === '') {\n            this.clipBoardTextArea.value = this.copyContent = '';\n            var rows = this.parent.getDataRows();\n            if (this.parent.selectionSettings && this.parent.selectionSettings.allowColumnSelection && this.parent.selectionModule &&\n                this.parent.selectionModule.selectedColumnsIndexes.length) {\n                if (withHeader) {\n                    var selectedColumns = this.parent.selectionModule.selectedColumnsIndexes;\n                    var headerColumns = [];\n                    for (var i = 0; i < selectedColumns.length; i++) {\n                        var colIndex = selectedColumns[parseInt(i.toString(), 10)];\n                        var headerCell = this.parent.getColumnHeaderByIndex(colIndex);\n                        if (headerCell && !headerCell.classList.contains('e-hide')) {\n                            headerColumns.push(headerCell);\n                        }\n                    }\n                    this.getCopyData(headerColumns, false, '\\t', withHeader);\n                    this.copyContent += '\\n';\n                }\n                for (var j = 0; j < rows.length; j++) {\n                    var columnCells = [];\n                    if (j > 0) {\n                        this.copyContent += '\\n';\n                    }\n                    columnCells.push.apply(columnCells, [].slice.call(rows[parseInt(j.toString(), 10)].querySelectorAll('.e-columnselection:not(.e-hide)')));\n                    this.getCopyData(columnCells, false, '\\t', withHeader);\n                }\n            }\n            else {\n                if (this.parent.selectionSettings.mode !== 'Cell') {\n                    var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function (a, b) { return a - b; });\n                    if (withHeader) {\n                        var headerTextArray = [];\n                        for (var i = 0; i < this.parent.getVisibleColumns().length; i++) {\n                            headerTextArray[parseInt(i.toString(), 10)] = this.parent\n                                .getVisibleColumns()[parseInt(i.toString(), 10)].headerText;\n                        }\n                        this.getCopyData(headerTextArray, false, '\\t', withHeader);\n                        this.copyContent += '\\n';\n                    }\n                    if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) && selectedIndexes.length > rows.length) {\n                        selectedIndexes = [];\n                        for (var i = 0; i < rows.length; i++) {\n                            var row = rows[parseInt(i.toString(), 10)];\n                            if (row.getAttribute('aria-selected') === 'true') {\n                                selectedIndexes.push(parseInt(row.getAttribute('data-rowindex'), 10));\n                            }\n                        }\n                    }\n                    for (var i = 0; i < selectedIndexes.length; i++) {\n                        if (i > 0) {\n                            this.copyContent += '\\n';\n                        }\n                        var leftCols = [];\n                        var idx = selectedIndexes[parseInt(i.toString(), 10)];\n                        if (!isGroupAdaptive(this.parent) && (this.parent.enableVirtualization ||\n                            (this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache) ||\n                            (this.parent.groupSettings.columns.length && this.parent.groupSettings.enableLazyLoading))) {\n                            idx = rows.map(function (m) { return m.getAttribute('data-rowindex'); }).indexOf(selectedIndexes[parseInt(i.toString(), 10)].toString());\n                        }\n                        var currentRow = rows[parseInt(idx.toString(), 10)];\n                        if (!(isNullOrUndefined(currentRow))) {\n                            leftCols.push.apply(leftCols, [].slice.call(currentRow.querySelectorAll('.e-rowcell:not(.e-hide)')));\n                            this.getCopyData(leftCols, false, '\\t', withHeader);\n                        }\n                    }\n                }\n                else if (this.parent.selectionModule && this.parent.selectionModule.selectedRowCellIndexes.length) {\n                    var obj = this.checkBoxSelection();\n                    if (obj.status) {\n                        if (withHeader) {\n                            var headers = [];\n                            for (var i = 0; i < obj.colIndexes.length; i++) {\n                                var colHeader = this.parent\n                                    .getColumnHeaderByIndex(obj.colIndexes[parseInt(i.toString(), 10)]);\n                                if (!colHeader.classList.contains('e-hide')) {\n                                    headers.push(colHeader);\n                                }\n                            }\n                            this.getCopyData(headers, false, '\\t', withHeader);\n                            this.copyContent += '\\n';\n                        }\n                        for (var i = 0; i < obj.rowIndexes.length; i++) {\n                            if (i > 0) {\n                                this.copyContent += '\\n';\n                            }\n                            var cells = [].slice.call(rows[obj.rowIndexes[parseInt(i.toString(), 10)]].\n                                querySelectorAll('.e-cellselectionbackground:not(.e-hide)'));\n                            this.getCopyData(cells, false, '\\t', withHeader);\n                        }\n                    }\n                    else {\n                        this.getCopyData([].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground')), true, '\\n', withHeader);\n                    }\n                }\n            }\n            var args = {\n                data: this.copyContent,\n                cancel: false\n            };\n            this.parent.trigger(events.beforeCopy, args);\n            if (args.cancel) {\n                return;\n            }\n            this.clipBoardTextArea.value = this.copyContent = args.data;\n            if (!Browser.userAgent.match(/ipad|ipod|iphone/i)) {\n                this.clipBoardTextArea.select();\n            }\n            else {\n                this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length);\n            }\n            this.isSelect = true;\n        }\n    };\n    Clipboard.prototype.getCopyData = function (cells, isCell, splitKey, withHeader) {\n        var isElement = typeof cells[0] !== 'string';\n        for (var j = 0; j < cells.length; j++) {\n            if (withHeader && isCell) {\n                var colIdx = parseInt(cells[parseInt(j.toString(), 10)].\n                    getAttribute(literals.ariaColIndex), 10) - 1;\n                this.copyContent += this.parent.getColumns()[parseInt(colIdx.toString(), 10)].headerText + '\\n';\n            }\n            if (isElement) {\n                if (!cells[parseInt(j.toString(), 10)].classList.contains('e-hide')) {\n                    this.copyContent += cells[parseInt(j.toString(), 10)].innerText;\n                }\n            }\n            else {\n                this.copyContent += cells[parseInt(j.toString(), 10)];\n            }\n            if (j < cells.length - 1) {\n                this.copyContent += splitKey;\n            }\n        }\n    };\n    /**\n     * Copy selected rows or cells data into clipboard.\n     *\n     * @returns {void}\n     * @param {boolean} withHeader - Specifies whether the column header data need to be copied or not.\n     */\n    Clipboard.prototype.copy = function (withHeader) {\n        if (document.queryCommandSupported('copy') && this.clipBoardTextArea) {\n            this.setCopyData(withHeader);\n            document.execCommand('copy');\n            this.clipBoardTextArea.blur();\n        }\n        if (this.isSelect) {\n            window.getSelection().removeAllRanges();\n            this.isSelect = false;\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Clipboard.prototype.getModuleName = function () {\n        return 'clipboard';\n    };\n    /**\n     * To destroy the clipboard\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.clipBoardTextArea) {\n            remove(this.clipBoardTextArea);\n            this.clipBoardTextArea = null;\n        }\n    };\n    Clipboard.prototype.checkBoxSelection = function () {\n        var gridObj = this.parent;\n        var obj = { status: false };\n        if (gridObj.selectionSettings.mode === 'Cell') {\n            var rowCellIndxes = gridObj.getSelectedRowCellIndexes();\n            var str = void 0;\n            var rowIndexes = [];\n            var i = void 0;\n            for (i = 0; i < rowCellIndxes.length; i++) {\n                if (rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.length) {\n                    rowIndexes.push(rowCellIndxes[parseInt(i.toString(), 10)].rowIndex);\n                }\n                if (rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.length) {\n                    if (!str) {\n                        str = JSON.stringify(rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.sort());\n                    }\n                    if (str !== JSON.stringify(rowCellIndxes[parseInt(i.toString(), 10)].cellIndexes.sort())) {\n                        break;\n                    }\n                }\n            }\n            rowIndexes.sort(function (a, b) { return a - b; });\n            if (i === rowCellIndxes.length) {\n                obj = { status: true, rowIndexes: rowIndexes, colIndexes: rowCellIndxes[0].cellIndexes };\n            }\n        }\n        return obj;\n    };\n    return Clipboard;\n}());\nexport { Clipboard };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
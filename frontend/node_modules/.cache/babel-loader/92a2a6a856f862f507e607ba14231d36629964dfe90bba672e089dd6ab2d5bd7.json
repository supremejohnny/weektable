{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach, isNullOrUndefined, animationMode } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll, addClass, removeClass, remove } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { getRandomId, SanitizeHtmlHelper, Draggable } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nvar TabActionSettings = /** @class */function (_super) {\n  __extends(TabActionSettings, _super);\n  function TabActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('SlideLeftIn')], TabActionSettings.prototype, \"effect\", void 0);\n  __decorate([Property(600)], TabActionSettings.prototype, \"duration\", void 0);\n  __decorate([Property('ease')], TabActionSettings.prototype, \"easing\", void 0);\n  return TabActionSettings;\n}(ChildProperty);\nexport { TabActionSettings };\n/**\n * Objects used for configuring the Tab animation properties.\n */\nvar TabAnimationSettings = /** @class */function (_super) {\n  __extends(TabAnimationSettings, _super);\n  function TabAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Complex({\n    effect: 'SlideLeftIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"previous\", void 0);\n  __decorate([Complex({\n    effect: 'SlideRightIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"next\", void 0);\n  return TabAnimationSettings;\n}(ChildProperty);\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */function (_super) {\n  __extends(Header, _super);\n  function Header() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property('')], Header.prototype, \"text\", void 0);\n  __decorate([Property('')], Header.prototype, \"iconCss\", void 0);\n  __decorate([Property('left')], Header.prototype, \"iconPosition\", void 0);\n  return Header;\n}(ChildProperty);\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */function (_super) {\n  __extends(TabItem, _super);\n  function TabItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Complex({}, Header)], TabItem.prototype, \"header\", void 0);\n  __decorate([Property(null)], TabItem.prototype, \"headerTemplate\", void 0);\n  __decorate([Property('')], TabItem.prototype, \"content\", void 0);\n  __decorate([Property('')], TabItem.prototype, \"cssClass\", void 0);\n  __decorate([Property(false)], TabItem.prototype, \"disabled\", void 0);\n  __decorate([Property(true)], TabItem.prototype, \"visible\", void 0);\n  __decorate([Property()], TabItem.prototype, \"id\", void 0);\n  __decorate([Property(-1)], TabItem.prototype, \"tabIndex\", void 0);\n  return TabItem;\n}(ChildProperty);\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */function (_super) {\n  __extends(Tab, _super);\n  /**\n   * Initializes a new instance of the Tab class.\n   *\n   * @param {TabModel} options  - Specifies Tab model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n   */\n  function Tab(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.show = {};\n    _this.hide = {};\n    _this.maxHeight = 0;\n    _this.title = 'Close';\n    _this.isInteracted = false;\n    _this.lastIndex = 0;\n    _this.isAdd = false;\n    _this.isIconAlone = false;\n    _this.draggableItems = [];\n    _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Tab.\n     */\n    _this.keyConfigs = {\n      tab: 'tab',\n      home: 'home',\n      end: 'end',\n      enter: 'enter',\n      space: 'space',\n      delete: 'delete',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    return _this;\n  }\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n   *\n   * @returns {void}\n   */\n  Tab.prototype.destroy = function () {\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n    if (!isNOU(this.tbObj)) {\n      this.tbObj.destroy();\n      this.tbObj = null;\n    }\n    this.unWireEvents();\n    this.element.removeAttribute('aria-disabled');\n    this.expTemplateContent();\n    if (!this.isTemplate) {\n      while (this.element.firstElementChild) {\n        remove(this.element.firstElementChild);\n      }\n    } else {\n      var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n      this.element.classList.remove(CLS_TEMPLATE);\n      if (!isNOU(cntEle)) {\n        cntEle.innerHTML = this.cnt;\n      }\n    }\n    if (this.btnCls) {\n      this.btnCls = null;\n    }\n    this.hdrEle = null;\n    this.cntEle = null;\n    this.tbItems = null;\n    this.tbItem = null;\n    this.tbPop = null;\n    this.prevItem = null;\n    this.popEle = null;\n    this.bdrLine = null;\n    this.content = null;\n    this.dragItem = null;\n    this.cloneElement = null;\n    this.draggingItems = [];\n    if (this.draggableItems && this.draggableItems.length > 0) {\n      for (var i = 0; i < this.draggableItems.length; i++) {\n        this.draggableItems[i].destroy();\n        this.draggableItems[i] = null;\n      }\n      this.draggableItems = [];\n    }\n    _super.prototype.destroy.call(this);\n    this.trigger('destroyed');\n  };\n  /**\n   * Refresh the tab component\n   *\n   * @returns {void}\n   */\n  Tab.prototype.refresh = function () {\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n    _super.prototype.refresh.call(this);\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Reorganizes and adjusts the Tab headers to fit the available width without re-rendering the entire Tab component.\n   *\n   * This method is useful for optimizing the layout when:\n   * - A hidden tab item becomes visible.\n   * - The number of tab items changes dynamically.\n   *\n   * @returns {void} This method does not return a value.\n   */\n  Tab.prototype.refreshOverflow = function () {\n    if (!isNOU(this.tbObj)) {\n      this.tbObj.refreshOverflow();\n    }\n  };\n  /**\n   * Initialize component\n   *\n   * @private\n   * @returns {void}\n   */\n  Tab.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.prevIndex = 0;\n    this.isNested = false;\n    this.isPopup = false;\n    this.initRender = true;\n    this.isSwiped = false;\n    this.itemIndexArray = [];\n    this.templateEle = [];\n    if (this.allowDragAndDrop) {\n      this.dragArea = !isNOU(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER);\n    }\n    if (!isNOU(nested)) {\n      nested.parentElement.classList.add(CLS_NEST);\n      this.isNested = true;\n    }\n    var name = Browser.info.name;\n    var css = name === 'msie' ? 'e-ie' : name === 'edge' ? 'e-edge' : name === 'safari' ? 'e-safari' : '';\n    setStyle(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.setCssClass(this.element, this.cssClass, true);\n    attributes(this.element, {\n      'aria-disabled': 'false'\n    });\n    this.setCssClass(this.element, css, true);\n    this.updatePopAnimationConfig();\n  };\n  /**\n   * Initialize the component rendering\n   *\n   * @private\n   * @returns {void}\n   */\n  Tab.prototype.render = function () {\n    var _this = this;\n    this.btnCls = this.createElement('span', {\n      className: CLS_ICONS + ' ' + CLS_ICON_CLOSE,\n      attrs: {\n        title: this.title\n      }\n    });\n    this.tabId = this.element.id.length > 0 ? '-' + this.element.id : getRandomId();\n    this.renderContainer();\n    this.wireEvents();\n    this.initRender = false;\n    if (this.isReact && this.portals && this.portals.length > 0) {\n      this.renderReactTemplates(function () {\n        _this.refreshOverflow();\n        _this.selectingContent(_this.selectedItem, _this.isInteracted);\n        _this.refreshActiveBorder();\n      });\n    }\n  };\n  Tab.prototype.renderContainer = function () {\n    var ele = this.element;\n    this.items.forEach(function (item, index) {\n      if (isNOU(item.id) && !isNOU(item.setProperties)) {\n        item.setProperties({\n          id: TABITEMPREFIX + index.toString()\n        }, true);\n      }\n    });\n    if (this.items.length > 0 && ele.children.length === 0) {\n      ele.appendChild(this.createElement('div', {\n        className: CLS_CONTENT\n      }));\n      this.setOrientation(this.headerPlacement, this.createElement('div', {\n        className: CLS_HEADER\n      }));\n      this.isTemplate = false;\n    } else if (this.element.children.length > 0) {\n      this.isTemplate = true;\n      ele.classList.add(CLS_TEMPLATE);\n      var header = ele.querySelector('.' + CLS_HEADER);\n      if (header && this.headerPlacement === 'Bottom') {\n        this.setOrientation(this.headerPlacement, header);\n      }\n    }\n    if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n      this.renderHeader();\n      this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n      if (!isNOU(this.tbItems)) {\n        rippleEffect(this.tbItems, {\n          selector: '.e-tab-wrap'\n        });\n      }\n      this.renderContent();\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.bdrLine = this.createElement('div', {\n          className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE\n        });\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!isNOU(scrCnt)) {\n          scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n        } else {\n          this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n        }\n        this.setContentHeight(true);\n        this.select(this.selectedItem);\n      }\n      this.setRTL(this.enableRtl);\n    }\n  };\n  Tab.prototype.renderHeader = function () {\n    var _this = this;\n    var hdrPlace = this.headerPlacement;\n    var tabItems = [];\n    this.hdrEle = this.getTabHeader();\n    this.addVerticalClass();\n    if (!this.isTemplate) {\n      tabItems = this.parseObject(this.items, 0);\n    } else {\n      if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER)) {\n        this.setProperties({\n          headerPlacement: 'Bottom'\n        }, true);\n      }\n      var count = this.hdrEle.children.length;\n      var hdrItems = [];\n      for (var i = 0; i < count; i++) {\n        hdrItems.push(this.hdrEle.children.item(i));\n      }\n      if (count > 0) {\n        var tabItems_1 = this.createElement('div', {\n          className: CLS_ITEMS\n        });\n        this.hdrEle.appendChild(tabItems_1);\n        hdrItems.forEach(function (item, index) {\n          _this.lastIndex = index;\n          var attr = {\n            className: CLS_ITEM,\n            id: CLS_ITEM + _this.tabId + '_' + index\n          };\n          var txt = _this.createElement('span', {\n            className: CLS_TEXT,\n            attrs: {\n              'role': 'presentation'\n            }\n          }).outerHTML;\n          var cont = _this.createElement('div', {\n            className: CLS_TEXT_WRAP,\n            innerHTML: txt + _this.btnCls.outerHTML\n          }).outerHTML;\n          var wrap = _this.createElement('div', {\n            className: CLS_WRAP,\n            innerHTML: cont,\n            attrs: {\n              role: 'tab',\n              tabIndex: '-1',\n              'aria-selected': 'false',\n              'aria-controls': CLS_CONTENT + _this.tabId + '_' + index,\n              'aria-disabled': 'false'\n            }\n          });\n          wrap.querySelector('.' + CLS_TEXT).appendChild(item);\n          tabItems_1.appendChild(_this.createElement('div', attr));\n          selectAll('.' + CLS_ITEM, tabItems_1)[index].appendChild(wrap);\n        });\n      }\n    }\n    this.tbObj = new Toolbar({\n      width: hdrPlace === 'Left' || hdrPlace === 'Right' ? 'auto' : '100%',\n      height: hdrPlace === 'Left' || hdrPlace === 'Right' ? '100%' : 'auto',\n      overflowMode: this.overflowMode,\n      items: tabItems.length !== 0 ? tabItems : [],\n      clicked: this.clickHandler.bind(this),\n      scrollStep: this.scrollStep,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      cssClass: this.cssClass\n    });\n    this.tbObj.isStringTemplate = true;\n    this.tbObj.createElement = this.createElement;\n    this.tbObj.appendTo(this.hdrEle);\n    attributes(this.hdrEle, {\n      role: 'tablist'\n    });\n    if (!isNOU(this.element.getAttribute('aria-label'))) {\n      this.hdrEle.setAttribute('aria-label', this.element.getAttribute('aria-label'));\n      this.element.removeAttribute('aria-label');\n    } else if (!isNOU(this.element.getAttribute('aria-labelledby'))) {\n      this.hdrEle.setAttribute('aria-labelledby', this.element.getAttribute('aria-labelledby'));\n      this.element.removeAttribute('aria-labelledby');\n    }\n    this.setCloseButton(this.showCloseButton);\n    var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n    if (!isNOU(toolbarHeader)) {\n      if (isNOU(toolbarHeader.id) || toolbarHeader.id === '') {\n        toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n      }\n    }\n  };\n  Tab.prototype.createContentElement = function (index) {\n    var contentElement = this.createElement('div', {\n      id: CLS_CONTENT + this.tabId + '_' + index,\n      className: CLS_ITEM,\n      attrs: {\n        'role': 'tabpanel',\n        'aria-labelledby': CLS_ITEM + this.tabId + '_' + index\n      }\n    });\n    if (['Dynamic', 'Demand'].indexOf(this.loadOn) !== -1 || this.loadOn === 'Init' && index === this.selectedItem) {\n      addClass([contentElement], CLS_ACTIVE);\n    }\n    return contentElement;\n  };\n  Tab.prototype.renderContent = function () {\n    this.cntEle = select('.' + CLS_CONTENT, this.element);\n    var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n    if (this.isTemplate) {\n      this.cnt = this.cntEle.children.length > 0 ? this.cntEle.innerHTML : '';\n      var contents = this.cntEle.children;\n      for (var i = 0; i < hdrItem.length; i++) {\n        if (contents.length - 1 >= i) {\n          addClass([contents.item(i)], CLS_ITEM);\n          attributes(contents.item(i), {\n            'role': 'tabpanel',\n            'aria-labelledby': CLS_ITEM + this.tabId + '_' + i\n          });\n          contents.item(i).id = CLS_CONTENT + this.tabId + '_' + i;\n        }\n      }\n    } else {\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        if (this.loadOn === 'Init') {\n          for (var i = 0; i < this.itemIndexArray.length; i++) {\n            if (this.itemIndexArray[i]) {\n              this.cntEle.appendChild(this.createContentElement(Number(this.extIndex(this.itemIndexArray[i]))));\n            }\n          }\n        } else if (this.loadOn === 'Dynamic') {\n          this.cntEle.appendChild(this.createContentElement(this.selectedItem > 0 ? this.selectedItem : Number(this.extIndex(this.itemIndexArray[0]))));\n        }\n      }\n    }\n  };\n  Tab.prototype.reRenderItems = function () {\n    this.renderContainer();\n    if (!isNOU(this.cntEle)) {\n      this.bindSwipeEvents();\n    }\n  };\n  Tab.prototype.parseObject = function (items, index) {\n    var _this = this;\n    var tbItems = Array.prototype.slice.call(selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element));\n    var maxId = this.lastIndex;\n    if (!this.isReplace && tbItems.length > 0) {\n      maxId = this.getMaxIndicesFromItems(tbItems);\n    }\n    var tItems = [];\n    var txtWrapEle;\n    var spliceArray = [];\n    var i = 0;\n    items.forEach(function (item, i) {\n      var pos = isNOU(item.header) || isNOU(item.header.iconPosition) ? '' : item.header.iconPosition;\n      var css = isNOU(item.header) || isNOU(item.header.iconCss) ? '' : item.header.iconCss;\n      if (isNOU(item.headerTemplate) && (isNOU(item.header) || isNOU(item.header.text) || item.header.text.length === 0 && css === '')) {\n        spliceArray.push(i);\n        return;\n      }\n      var txt = item.headerTemplate || item.header.text;\n      if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n        txt = SanitizeHtmlHelper.sanitize(txt);\n      }\n      var itemIndex;\n      if (_this.isReplace && !isNOU(_this.tbId) && _this.tbId !== '') {\n        itemIndex = parseInt(_this.tbId.substring(_this.tbId.lastIndexOf('_') + 1), 10);\n        _this.tbId = '';\n      } else {\n        itemIndex = index + i;\n      }\n      _this.lastIndex = tbItems.length === 0 ? i : _this.isReplace ? itemIndex : maxId + 1 + i;\n      var disabled = item.disabled ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n      var hidden = item.visible === false ? ' ' + CLS_HIDDEN : '';\n      txtWrapEle = _this.createElement('div', {\n        className: CLS_TEXT,\n        attrs: {\n          'role': 'presentation'\n        }\n      });\n      var tHtml = txt instanceof Object ? txt.outerHTML : txt;\n      var txtEmpty = !isNOU(tHtml) && tHtml !== '';\n      if (!isNOU(txt.tagName)) {\n        txtWrapEle.appendChild(txt);\n      } else {\n        _this.headerTextCompile(txtWrapEle, txt, i);\n      }\n      var tEle;\n      var icon = _this.createElement('span', {\n        className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n      });\n      var tCont = _this.createElement('div', {\n        className: CLS_TEXT_WRAP\n      });\n      tCont.appendChild(txtWrapEle);\n      if (txt !== '' && txt !== undefined && css !== '') {\n        if (pos === 'left' || pos === 'top') {\n          tCont.insertBefore(icon, tCont.firstElementChild);\n        } else {\n          tCont.appendChild(icon);\n        }\n        tEle = txtWrapEle;\n        _this.isIconAlone = false;\n      } else {\n        tEle = css === '' ? txtWrapEle : icon;\n        if (tEle === icon) {\n          detach(txtWrapEle);\n          tCont.appendChild(icon);\n          _this.isIconAlone = true;\n        }\n      }\n      var tabIndex = isNOU(item.tabIndex) ? '-1' : item.tabIndex.toString();\n      var wrapAttrs = item.disabled ? {\n        role: 'tab',\n        'aria-disabled': 'true'\n      } : {\n        tabIndex: tabIndex,\n        'data-tabindex': tabIndex,\n        role: 'tab',\n        'aria-selected': 'false',\n        'aria-disabled': 'false'\n      };\n      tCont.appendChild(_this.btnCls.cloneNode(true));\n      var wrap = _this.createElement('div', {\n        className: CLS_WRAP,\n        attrs: wrapAttrs\n      });\n      wrap.appendChild(tCont);\n      if (_this.itemIndexArray instanceof Array) {\n        _this.itemIndexArray.splice(index + i, 0, CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n      }\n      var attrObj = {\n        id: CLS_ITEM + _this.tabId + '_' + _this.lastIndex,\n        'data-id': item.id\n      };\n      var tItem = {\n        htmlAttributes: attrObj,\n        template: wrap\n      };\n      tItem.cssClass = (item.cssClass !== undefined ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' ' + (css !== '' ? 'e-i' + pos : '') + ' ' + (!txtEmpty ? CLS_ICON : '');\n      if (pos === 'top' || pos === 'bottom') {\n        _this.element.classList.add('e-vertical-icon');\n      }\n      tItems.push(tItem);\n      i++;\n    });\n    if (!this.isAdd) {\n      spliceArray.forEach(function (spliceItemIndex) {\n        _this.items.splice(spliceItemIndex, 1);\n      });\n    }\n    if (this.isIconAlone) {\n      this.element.classList.add(CLS_ICON_TAB);\n    } else {\n      this.element.classList.remove(CLS_ICON_TAB);\n    }\n    return tItems;\n  };\n  Tab.prototype.removeActiveClass = function () {\n    var tabHeader = this.getTabHeader();\n    if (tabHeader) {\n      var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, tabHeader);\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.classList.remove(CLS_ACTIVE);\n      });\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.firstElementChild.setAttribute('aria-selected', 'false');\n      });\n    }\n  };\n  Tab.prototype.checkPopupOverflow = function (ele) {\n    this.tbPop = select('.' + CLS_TB_POP, this.element);\n    var popIcon = select('.e-hor-nav', this.element);\n    var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n    var lastChild = tbrItems.lastChild;\n    var isOverflow = false;\n    if (!this.isVertical() && (this.enableRtl && popIcon.offsetLeft + popIcon.offsetWidth > tbrItems.offsetLeft || !this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n      isOverflow = true;\n    } else if (this.isVertical() && popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight) {\n      isOverflow = true;\n    }\n    if (isOverflow) {\n      ele.classList.add(CLS_TB_POPUP);\n      this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n    }\n    return true;\n  };\n  Tab.prototype.popupHandler = function (target) {\n    var ripEle = target.querySelector('.e-ripple-element');\n    if (!isNOU(ripEle)) {\n      ripEle.outerHTML = '';\n      target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n    }\n    this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n    var lastChild = this.tbItem[this.tbItem.length - 1];\n    if (this.tbItem.length !== 0) {\n      target.classList.remove(CLS_TB_POPUP);\n      target.removeAttribute('style');\n      this.tbItems.appendChild(target);\n      this.actEleId = target.id;\n      if (this.checkPopupOverflow(lastChild)) {\n        var prevEle = this.tbItems.lastChild.previousElementSibling;\n        this.checkPopupOverflow(prevEle);\n      }\n      this.isPopup = true;\n    }\n    return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n  };\n  Tab.prototype.setCloseButton = function (val) {\n    var trg = select('.' + CLS_HEADER, this.element);\n    if (val === true) {\n      trg.classList.add(CLS_CLOSE_SHOW);\n    } else {\n      trg.classList.remove(CLS_CLOSE_SHOW);\n    }\n    this.refreshOverflow();\n    this.refreshActiveTabBorder();\n  };\n  Tab.prototype.prevCtnAnimation = function (prev, current) {\n    var animation;\n    var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n    if (this.isPopup || prev <= current) {\n      if (this.animation.previous.effect === 'SlideLeftIn') {\n        animation = {\n          name: 'SlideLeftOut',\n          duration: this.animation.previous.duration,\n          timingFunction: this.animation.previous.easing\n        };\n      } else {\n        animation = null;\n      }\n    } else {\n      if (this.animation.next.effect === 'SlideRightIn') {\n        animation = {\n          name: 'SlideRightOut',\n          duration: this.animation.next.duration,\n          timingFunction: this.animation.next.easing\n        };\n      } else {\n        animation = null;\n      }\n    }\n    return animation;\n  };\n  Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n    var _this = this;\n    var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n    if (!isNOU(animateObj)) {\n      animateObj.begin = function () {\n        setStyle(oldCnt, {\n          'position': 'absolute'\n        });\n        oldCnt.classList.add(CLS_PROGRESS);\n        oldCnt.classList.add('e-view');\n      };\n      animateObj.end = function () {\n        oldCnt.style.display = 'none';\n        oldCnt.classList.remove(CLS_ACTIVE);\n        oldCnt.classList.remove(CLS_PROGRESS);\n        oldCnt.classList.remove('e-view');\n        setStyle(oldCnt, {\n          'display': '',\n          'position': ''\n        });\n        if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n          detach(oldCnt);\n        }\n      };\n      new Animation(animateObj).animate(oldCnt);\n    } else {\n      oldCnt.classList.remove(CLS_ACTIVE);\n    }\n  };\n  Tab.prototype.triggerAnimation = function (id, value) {\n    var _this = this;\n    var prevIndex = this.prevIndex;\n    var oldCnt;\n    var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n    itemCollection.forEach(function (item) {\n      if (item.id === _this.prevActiveEle) {\n        oldCnt = item;\n      }\n    });\n    var prevEle = this.tbItem[prevIndex];\n    var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n    if (isNOU(oldCnt) && !isNOU(prevEle)) {\n      var idNo = this.extIndex(prevEle.id);\n      oldCnt = this.getTrgContent(this.cntEle, idNo);\n    }\n    if (!isNOU(newCnt)) {\n      this.prevActiveEle = newCnt.id;\n    }\n    var isPrevent = isNOU(this.animation) || isNOU(this.animation.next.effect) || isNOU(this.animation.previous.effect) || this.animation.previous.effect === 'None' || this.animation.next.effect === 'None';\n    if (this.initRender || value === false || isPrevent) {\n      if (oldCnt && oldCnt !== newCnt) {\n        oldCnt.classList.remove(CLS_ACTIVE);\n      }\n      return;\n    }\n    var cnt = select('.' + CLS_CONTENT, this.element);\n    var animateObj;\n    if (this.prevIndex > this.selectedItem && !this.isPopup) {\n      var openEff = this.animation.previous.effect;\n      animateObj = {\n        name: openEff === 'None' ? '' : openEff !== 'SlideLeftIn' ? openEff : 'SlideLeftIn',\n        duration: this.animation.previous.duration === 0 && animationMode === 'Enable' ? 600 : this.animation.previous.duration,\n        timingFunction: this.animation.previous.easing\n      };\n    } else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n      var clsEff = this.animation.next.effect;\n      animateObj = {\n        name: clsEff === 'None' ? '' : clsEff !== 'SlideRightIn' ? clsEff : 'SlideRightIn',\n        duration: this.animation.next.duration === 0 && animationMode === 'Enable' ? 600 : this.animation.next.duration,\n        timingFunction: this.animation.next.easing\n      };\n    }\n    animateObj.progress = function () {\n      cnt.classList.add(CLS_PROGRESS);\n      _this.setActiveBorder();\n    };\n    animateObj.end = function () {\n      cnt.classList.remove(CLS_PROGRESS);\n      newCnt.classList.add(CLS_ACTIVE);\n    };\n    if (!this.initRender && !isNOU(oldCnt)) {\n      this.triggerPrevAnimation(oldCnt, prevIndex);\n    }\n    this.isPopup = false;\n    if (animateObj.name === '') {\n      newCnt.classList.add(CLS_ACTIVE);\n    } else {\n      new Animation(animateObj).animate(newCnt);\n    }\n  };\n  Tab.prototype.keyPressed = function (trg) {\n    var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n    if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n      this.popEle.classList.contains(CLS_POPUP_OPEN) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n    } else if (trg.classList.contains('e-scroll-nav')) {\n      trg.click();\n    } else {\n      if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n        this.selectTab(trgIndex, null, true);\n        if (!isNOU(this.popEle)) {\n          this.popObj.hide(this.hide);\n        }\n      }\n    }\n  };\n  Tab.prototype.getTabHeader = function () {\n    if (isNOU(this.element)) {\n      return undefined;\n    }\n    var headers = [].slice.call(this.element.children).filter(function (e) {\n      return e.classList.contains(CLS_HEADER);\n    });\n    if (headers.length > 0) {\n      return headers[0];\n    } else {\n      var wrap = [].slice.call(this.element.children).filter(function (e) {\n        return !e.classList.contains(CLS_BLA_TEM);\n      })[0];\n      if (!wrap) {\n        return undefined;\n      }\n      return [].slice.call(wrap.children).filter(function (e) {\n        return e.classList.contains(CLS_HEADER);\n      })[0];\n    }\n  };\n  Tab.prototype.getEleIndex = function (item) {\n    return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n  };\n  Tab.prototype.extIndex = function (id) {\n    return id.replace(CLS_ITEM + this.tabId + '_', '');\n  };\n  Tab.prototype.getMaxIndicesFromItems = function (tbItems) {\n    var _this = this;\n    var idList = [];\n    tbItems.forEach(function (item) {\n      idList.push(_this.getIndexFromEle(item.id));\n    });\n    return Math.max.apply(Math, idList);\n  };\n  Tab.prototype.expTemplateContent = function () {\n    var _this = this;\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNOU(_this.element.querySelector(eleStr))) {\n        document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n  Tab.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.compileElement(tempEle, cnt, 'content', index);\n    if (tempEle.childNodes.length !== 0) {\n      ele.appendChild(tempEle);\n    }\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  Tab.prototype.compileElement = function (ele, val, prop, index) {\n    var templateFn;\n    if (typeof val === 'string') {\n      val = val.trim();\n      if (this.isVue) {\n        templateFn = compile(this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(val) : val);\n      } else {\n        ele.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(val) : val;\n      }\n    } else {\n      templateFn = compile(val);\n    }\n    var templateFUN;\n    if (!isNOU(templateFn)) {\n      templateFUN = templateFn({}, this, prop);\n    }\n    if (!isNOU(templateFn) && templateFUN.length > 0) {\n      [].slice.call(templateFUN).forEach(function (el) {\n        ele.appendChild(el);\n      });\n    }\n  };\n  Tab.prototype.headerTextCompile = function (element, text, index) {\n    this.compileElement(element, text, 'headerTemplate', index);\n  };\n  Tab.prototype.getContent = function (ele, cnt, callType, index) {\n    var eleStr;\n    cnt = isNOU(cnt) ? '' : cnt;\n    if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n      if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n        cnt = SanitizeHtmlHelper.sanitize(cnt);\n      }\n      if (cnt[0] === '.' || cnt[0] === '#') {\n        if (document.querySelectorAll(cnt).length) {\n          var eleVal = document.querySelector(cnt);\n          eleStr = eleVal.outerHTML.trim();\n          if (callType === 'clone') {\n            ele.appendChild(eleVal.cloneNode(true));\n          } else {\n            ele.appendChild(eleVal);\n            eleVal.style.display = '';\n          }\n        } else {\n          this.templateCompile(ele, cnt, index);\n        }\n      } else {\n        this.templateCompile(ele, cnt, index);\n      }\n    } else {\n      ele.appendChild(cnt);\n    }\n    if (!isNOU(eleStr)) {\n      if (this.templateEle.indexOf(cnt.toString()) === -1) {\n        this.templateEle.push(cnt.toString());\n      }\n    }\n  };\n  Tab.prototype.getTrgContent = function (cntEle, no) {\n    var ele;\n    if (this.element.classList.contains(CLS_NEST)) {\n      ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + this.tabId + '_' + no, this.element);\n    } else {\n      ele = this.findEle(cntEle.children, CLS_CONTENT + this.tabId + '_' + no);\n    }\n    return ele;\n  };\n  Tab.prototype.findEle = function (items, key) {\n    var ele;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === key) {\n        ele = items[i];\n        break;\n      }\n    }\n    return ele;\n  };\n  Tab.prototype.isVertical = function () {\n    var isVertical = this.headerPlacement === 'Left' || this.headerPlacement === 'Right' ? true : false;\n    this.scrCntClass = isVertical ? CLS_VSCRCNT : CLS_HSCRCNT;\n    return isVertical;\n  };\n  Tab.prototype.addVerticalClass = function () {\n    if (this.isVertical()) {\n      var tbPos = this.headerPlacement === 'Left' ? CLS_VLEFT : CLS_VRIGHT;\n      addClass([this.hdrEle], [CLS_VERTICAL, tbPos]);\n      if (!this.element.classList.contains(CLS_NEST)) {\n        addClass([this.element], [CLS_VTAB, tbPos]);\n      } else {\n        addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n      }\n    }\n    if (this.headerPlacement === 'Bottom') {\n      addClass([this.hdrEle], [CLS_HBOTTOM]);\n    }\n  };\n  Tab.prototype.updatePopAnimationConfig = function () {\n    this.show = {\n      name: this.isVertical() ? 'FadeIn' : 'SlideDown',\n      duration: 100\n    };\n    this.hide = {\n      name: this.isVertical() ? 'FadeOut' : 'SlideUp',\n      duration: 100\n    };\n  };\n  Tab.prototype.changeOrientation = function (place) {\n    this.setOrientation(place, this.hdrEle);\n    var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE);\n    var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL) ? true : false;\n    removeClass([this.element], [CLS_VTAB]);\n    removeClass([this.hdrEle], [CLS_VERTICAL, CLS_VLEFT, CLS_VRIGHT]);\n    if (isVertical !== this.isVertical()) {\n      this.changeToolbarOrientation();\n      if (!isNOU(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n        this.popupHandler(activeTab);\n      }\n    }\n    this.addVerticalClass();\n    this.setActiveBorder();\n    this.focusItem();\n  };\n  Tab.prototype.focusItem = function () {\n    var curActItem = select(' #' + CLS_ITEM + this.tabId + '_' + this.selectedItem, this.hdrEle);\n    if (!isNOU(curActItem)) {\n      curActItem.firstElementChild.focus();\n    }\n  };\n  Tab.prototype.changeToolbarOrientation = function () {\n    this.tbObj.setProperties({\n      height: this.isVertical() ? '100%' : 'auto',\n      width: this.isVertical() ? 'auto' : '100%'\n    }, true);\n    this.tbObj.changeOrientation();\n    this.updatePopAnimationConfig();\n  };\n  Tab.prototype.setOrientation = function (place, ele) {\n    var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n    var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT));\n    if (place === 'Bottom' && contentPos > headerPos) {\n      this.element.appendChild(ele);\n    } else {\n      removeClass([ele], [CLS_HBOTTOM]);\n      this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    }\n  };\n  Tab.prototype.setCssClass = function (ele, cls, val) {\n    if (cls === '' || isNOU(cls)) {\n      return;\n    }\n    var list = cls.split(' ');\n    for (var i = 0; i < list.length; i++) {\n      if (val) {\n        ele.classList.add(list[i]);\n      } else {\n        ele.classList.remove(list[i]);\n      }\n    }\n  };\n  Tab.prototype.loadContentInitMode = function (ele) {\n    if (!ele) {\n      return;\n    }\n    if (this.loadOn === 'Init') {\n      for (var i = 0; i < this.items.length; i++) {\n        if (this.cntEle.children.item(i)) {\n          this.getContent(this.cntEle.children.item(i), this.items[i].content, 'render', i);\n        }\n      }\n    }\n  };\n  Tab.prototype.loadContentElement = function () {\n    if (!this.isTemplate) {\n      var ele = this.cntEle.children.item(0);\n      this.loadContentInitMode(ele);\n    }\n  };\n  Tab.prototype.setContentHeight = function (val) {\n    if (this.element.classList.contains(CLS_FILL)) {\n      removeClass([this.element], [CLS_FILL]);\n    }\n    if (isNOU(this.cntEle)) {\n      return;\n    }\n    var hdrEle = this.getTabHeader();\n    if (this.heightAdjustMode === 'None') {\n      this.loadContentElement();\n      if (this.height === 'auto') {\n        return;\n      } else {\n        if (!this.isVertical()) {\n          setStyle(this.cntEle, {\n            'height': this.element.clientHeight - hdrEle.offsetHeight + 'px'\n          });\n        }\n      }\n    } else if (this.heightAdjustMode === 'Fill') {\n      addClass([this.element], [CLS_FILL]);\n      setStyle(this.element, {\n        'height': '100%'\n      });\n      this.loadContentElement();\n      this.cntEle.style.height = 'calc(100% - ' + this.hdrEle.offsetHeight + 'px)';\n    } else if (this.heightAdjustMode === 'Auto') {\n      if (this.isTemplate === true) {\n        var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n        for (var i = 0; i < cnt.length; i++) {\n          cnt[i].style.display = 'block';\n          cnt[i].style.visibility = 'visible';\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n          cnt[i].style.removeProperty('display');\n          cnt[i].style.removeProperty('visibility');\n        }\n      } else {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        if (val === true && this.loadOn === 'Demand') {\n          this.cntEle.appendChild(this.createContentElement(Number(this.extIndex(this.itemIndexArray[0]))));\n        }\n        var ele = this.cntEle.children.item(0);\n        for (var i = 0; i < this.items.length; i++) {\n          this.getContent(ele, this.items[i].content, 'clone', i);\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n          while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n          }\n        }\n        if (this.isReact || this.isAngular || this.isVue) {\n          this.clearTemplate(['content']);\n        }\n        this.templateEle = [];\n        if (this.loadOn === 'Demand') {\n          this.getContent(ele, this.items[0].content, 'render', 0);\n        }\n        this.loadContentInitMode(ele);\n        if (this.prevIndex !== this.selectedItem) {\n          ele.classList.remove(CLS_ACTIVE);\n        }\n      }\n      setStyle(this.cntEle, {\n        'height': this.maxHeight + 'px'\n      });\n    } else {\n      this.loadContentElement();\n      setStyle(this.cntEle, {\n        'height': 'auto'\n      });\n    }\n  };\n  Tab.prototype.getHeight = function (ele) {\n    var cs = window.getComputedStyle(ele);\n    return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) + parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n  };\n  Tab.prototype.setActiveBorder = function () {\n    var trgHdrEle = this.getTabHeader();\n    var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, trgHdrEle);\n    if (isNOU(trg)) {\n      return;\n    }\n    if (!this.reorderActiveTab) {\n      if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN)) {\n        this.bdrLine.classList.add(CLS_HIDDEN);\n      }\n      if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n        trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n      }\n    } else if (trgHdrEle) {\n      trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n    }\n    var root = closest(trg, '.' + CLS_TAB);\n    if (this.element !== root) {\n      return;\n    }\n    this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n    var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n    var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n    if (this.isVertical()) {\n      setStyle(bar, {\n        'left': '',\n        'right': ''\n      });\n      var tbHeight = isNOU(scrollCnt) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n      if (tbHeight !== 0) {\n        setStyle(bar, {\n          'top': trg.offsetTop + 'px',\n          'height': trg.offsetHeight + 'px'\n        });\n      } else {\n        setStyle(bar, {\n          'top': 0,\n          'height': 0\n        });\n      }\n    } else {\n      if (this.overflowMode === 'MultiRow') {\n        var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n        setStyle(bar, {\n          'top': top_1 + 'px',\n          'height': ''\n        });\n      } else {\n        setStyle(bar, {\n          'top': '',\n          'height': ''\n        });\n      }\n      var tbWidth = isNOU(scrollCnt) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n      if (tbWidth !== 0) {\n        setStyle(bar, {\n          'left': trg.offsetLeft + 'px',\n          'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px'\n        });\n      } else {\n        setStyle(bar, {\n          'left': 'auto',\n          'right': 'auto'\n        });\n      }\n    }\n    if (!isNOU(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n      this.bdrLine.classList.remove(CLS_HIDDEN);\n    }\n  };\n  Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n    if (skipDataBind === void 0) {\n      skipDataBind = false;\n    }\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n    var trg = this.tbItem[value];\n    if (value < 0 || isNaN(value) || this.tbItem.length === 0 || !isNOU(trg) && trg.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n    if (value >= 0 && !skipDataBind) {\n      this.allowServerDataBinding = false;\n      this.setProperties({\n        selectedItem: value\n      }, true);\n      this.allowServerDataBinding = true;\n      if (!this.initRender) {\n        this.serverDataBind();\n      }\n    }\n    if (trg.classList.contains(CLS_ACTIVE)) {\n      this.setActiveBorder();\n      return;\n    }\n    if (!this.isTemplate) {\n      attributes(trg.firstElementChild, {\n        'aria-controls': CLS_CONTENT + this.tabId + '_' + this.extIndex(trg.id)\n      });\n    }\n    var id = trg.id;\n    this.removeActiveClass();\n    trg.classList.add(CLS_ACTIVE);\n    trg.firstElementChild.setAttribute('aria-selected', 'true');\n    var no = Number(this.extIndex(id));\n    if (isNOU(this.prevActiveEle)) {\n      this.prevActiveEle = CLS_CONTENT + this.tabId + '_' + no;\n    }\n    if (this.isTemplate) {\n      if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n        var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + this.tabId + '_' + no);\n        if (!isNOU(trg_1)) {\n          trg_1.classList.add(CLS_ACTIVE);\n        }\n        this.triggerAnimation(id, this.enableAnimation);\n      }\n    } else {\n      this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n      while (this.loadOn === 'Dynamic' && this.cntEle.firstElementChild) {\n        this.cntEle.removeChild(this.cntEle.firstElementChild);\n      }\n      var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n      if (isNOU(item)) {\n        this.cntEle.appendChild(this.createElement('div', {\n          id: CLS_CONTENT + this.tabId + '_' + this.extIndex(id),\n          className: CLS_ITEM + ' ' + CLS_ACTIVE,\n          attrs: {\n            role: 'tabpanel',\n            'aria-labelledby': CLS_ITEM + this.tabId + '_' + this.extIndex(id)\n          }\n        }));\n        var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n        var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n        this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n      } else {\n        item.classList.add(CLS_ACTIVE);\n      }\n      this.triggerAnimation(id, this.enableAnimation);\n    }\n    this.setActiveBorder();\n    this.refreshItemVisibility(trg);\n    if (!this.initRender && !skipDataBind) {\n      var eventArg = {\n        previousItem: this.prevItem,\n        previousIndex: this.prevIndex,\n        selectedItem: trg,\n        selectedIndex: value,\n        selectedContent: select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content),\n        isSwiped: this.isSwiped,\n        isInteracted: isInteracted,\n        preventFocus: false\n      };\n      this.trigger('selected', eventArg, function (selectEventArgs) {\n        if (!selectEventArgs.preventFocus) {\n          trg.firstElementChild.focus();\n        }\n      });\n    }\n  };\n  Tab.prototype.setItems = function (items) {\n    this.isReplace = true;\n    this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n    this.tbObj.items = this.parseObject(items, 0);\n    this.tbObj.dataBind();\n    this.isReplace = false;\n  };\n  Tab.prototype.setRTL = function (value) {\n    this.tbObj.enableRtl = value;\n    this.tbObj.dataBind();\n    this.setCssClass(this.element, CLS_RTL, value);\n    this.refreshActiveBorder();\n  };\n  Tab.prototype.refreshActiveBorder = function () {\n    if (!isNOU(this.bdrLine)) {\n      this.bdrLine.classList.add(CLS_HIDDEN);\n    }\n    this.setActiveBorder();\n  };\n  Tab.prototype.showPopup = function (config) {\n    var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n    if (tbPop && tbPop.classList.contains('e-popup-close')) {\n      var tbPopObj = tbPop && tbPop.ej2_instances[0];\n      tbPopObj.position.X = this.headerPlacement === 'Left' || this.element.classList.contains(CLS_RTL) ? 'left' : 'right';\n      tbPopObj.dataBind();\n      tbPopObj.show(config);\n    }\n  };\n  Tab.prototype.bindDraggable = function () {\n    var _this = this;\n    if (this.allowDragAndDrop) {\n      var tabHeader = this.element.querySelector('.' + CLS_HEADER);\n      if (tabHeader) {\n        var items = Array.prototype.slice.call(tabHeader.querySelectorAll('.' + CLS_TB_ITEM));\n        items.forEach(function (element) {\n          _this.initializeDrag(element);\n        });\n      }\n    }\n  };\n  Tab.prototype.bindSwipeEvents = function () {\n    if (this.swipeMode !== 'None') {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n  };\n  Tab.prototype.wireEvents = function () {\n    this.bindDraggable();\n    window.addEventListener('resize', this.resizeContext);\n    EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n    EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n    if (!isNOU(this.cntEle)) {\n      this.bindSwipeEvents();\n    }\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    this.tabKeyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: {\n        openPopup: 'shift+f10',\n        tab: 'tab',\n        shiftTab: 'shift+tab'\n      },\n      eventName: 'keydown'\n    });\n  };\n  Tab.prototype.unWireEvents = function () {\n    if (!isNOU(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n    if (!isNOU(this.tabKeyModule)) {\n      this.tabKeyModule.destroy();\n    }\n    if (!isNOU(this.cntEle) && !isNOU(this.touchModule)) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n    EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n    this.element.classList.remove(CLS_RTL);\n    this.element.classList.remove(CLS_FOCUS);\n  };\n  Tab.prototype.clickHandler = function (args) {\n    this.element.classList.remove(CLS_FOCUS);\n    var trg = args.originalEvent.target;\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n    if (trg.classList.contains(CLS_ICON_CLOSE)) {\n      this.removeTab(trgIndex);\n    } else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n      this.showPopup(this.show);\n    } else {\n      this.isPopup = false;\n      if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n        this.selectTab(trgIndex, args.originalEvent, true);\n      }\n    }\n  };\n  Tab.prototype.swipeHandler = function (e) {\n    if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches) || this.swipeMode === 'Touch' && (e.originalEvent.type === 'mouseup' || e.originalEvent.type === 'mouseleave') || this.swipeMode === 'Mouse' && e.originalEvent.type === 'touchend' || this.swipeMode === 'None') {\n      return;\n    }\n    if (this.isNested) {\n      this.element.setAttribute('data-swipe', 'true');\n    }\n    var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n    if (nestedTab) {\n      nestedTab.removeAttribute('data-swipe');\n      return;\n    }\n    this.isSwiped = true;\n    if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n      for (var k = this.selectedItem - 1; k >= 0; k--) {\n        if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n          this.selectTab(k, null, true);\n          break;\n        }\n      }\n    } else if (e.swipeDirection === 'Left' && this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1) {\n      for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n        if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n          this.selectTab(i, null, true);\n          break;\n        }\n      }\n    }\n    this.isSwiped = false;\n  };\n  Tab.prototype.spaceKeyDown = function (e) {\n    if (e.keyCode === 32 && e.which === 32 || e.keyCode === 35 && e.which === 35) {\n      var clstHead = closest(e.target, '.' + CLS_HEADER);\n      if (!isNOU(clstHead)) {\n        e.preventDefault();\n      }\n    }\n  };\n  Tab.prototype.keyHandler = function (e) {\n    if (this.element.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n    this.element.classList.add(CLS_FOCUS);\n    var trg = e.target;\n    var tabHeader = this.getTabHeader();\n    var actEle = select('.' + CLS_ACTIVE, tabHeader);\n    this.popEle = select('.' + CLS_TB_POP, tabHeader);\n    if (!isNOU(this.popEle)) {\n      this.popObj = this.popEle.ej2_instances[0];\n    }\n    var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n    switch (e.action) {\n      case 'space':\n      case 'enter':\n        if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n          return;\n        }\n        if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n          this.showPopup(this.show);\n          break;\n        }\n        this.keyPressed(trg);\n        break;\n      case 'tab':\n      case 'shiftTab':\n        if (trg.classList.contains(CLS_WRAP) && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n          trg.setAttribute('tabindex', trg.getAttribute('data-tabindex'));\n        }\n        if (this.popObj && isVisible(this.popObj.element)) {\n          this.popObj.hide(this.hide);\n        }\n        if (!isNOU(actEle) && actEle.children.item(0).getAttribute('tabindex') === '-1') {\n          actEle.children.item(0).setAttribute('tabindex', '0');\n        }\n        break;\n      case 'moveLeft':\n      case 'moveRight':\n        if (!isNOU(item)) {\n          this.refreshItemVisibility(item);\n        }\n        break;\n      case 'openPopup':\n        e.preventDefault();\n        if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n          this.popObj.show(this.show);\n        }\n        break;\n      case 'delete':\n        if (this.showCloseButton === true && !isNOU(trgParent)) {\n          var nxtSib = trgParent.nextSibling;\n          if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n            nxtSib.firstElementChild.focus();\n          }\n          this.removeTab(this.getEleIndex(trgParent));\n        }\n        this.setActiveBorder();\n        break;\n    }\n  };\n  Tab.prototype.refreshItemVisibility = function (target) {\n    var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n    if (!this.isVertical() && !isNOU(scrCnt)) {\n      var scrBar = select('.e-hscroll-bar', this.tbItems);\n      var scrStart = scrBar.scrollLeft;\n      var scrEnd = scrStart + scrBar.offsetWidth;\n      var eleStart = target.offsetLeft;\n      var eleWidth = target.offsetWidth;\n      var eleEnd = target.offsetLeft + target.offsetWidth;\n      if (scrStart < eleStart && scrEnd < eleEnd) {\n        var eleViewRange = scrEnd - eleStart;\n        scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n      } else {\n        if (scrStart > eleStart && scrEnd > eleEnd) {\n          var eleViewRange = eleEnd - scrStart;\n          scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n        }\n      }\n    } else {\n      return;\n    }\n  };\n  Tab.prototype.getIndexFromEle = function (id) {\n    return parseInt(id.substring(id.lastIndexOf('_') + 1), 10);\n  };\n  Tab.prototype.hoverHandler = function (e) {\n    var trg = e.target;\n    if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n      trg.setAttribute('title', new L10n('tab', {\n        closeButtonTitle: this.title\n      }, this.locale).getConstant('closeButtonTitle'));\n    }\n  };\n  Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n    var _this = this;\n    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n      var changedProp = Object.keys(newProp.items);\n      for (var i = 0; i < changedProp.length; i++) {\n        var index = parseInt(Object.keys(newProp.items)[i], 10);\n        var properties = Object.keys(newProp.items[index]);\n        for (var j = 0; j < properties.length; j++) {\n          var oldVal = Object(oldProp.items[index])[properties[j]];\n          var newVal = Object(newProp.items[index])[properties[j]];\n          var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n          var itemIndex = void 0;\n          if (hdr && !isNOU(hdr.id) && hdr.id !== '') {\n            itemIndex = this.getIndexFromEle(hdr.id);\n          } else {\n            itemIndex = index;\n          }\n          var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + this.tabId + '_' + itemIndex, this.element);\n          var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + this.tabId + '_' + itemIndex, this.element);\n          if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n            var icon = isNOU(this.items[index].header) || isNOU(this.items[index].header.iconCss) ? '' : this.items[index].header.iconCss;\n            var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n            if (properties[j] === 'headerTemplate') {\n              this.clearTabTemplate(hdrItem, properties[j], CLS_TB_ITEM);\n            }\n            if (textVal === '' && icon === '') {\n              this.removeTab(index);\n            } else {\n              this.tbId = hdr.id;\n              var arr = [];\n              arr.push(this.items[index]);\n              this.items.splice(index, 1);\n              this.itemIndexArray.splice(index, 1);\n              this.tbObj.items.splice(index, 1);\n              var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n              detach(hdrItem);\n              this.isReplace = true;\n              this.addTab(arr, index);\n              if (isHiddenEle) {\n                this.hideTab(index);\n              }\n              this.isReplace = false;\n            }\n          }\n          if (properties[j] === 'content' && !isNOU(cntItem)) {\n            var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n            if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n              var eleVal = document.querySelector(newVal);\n              cntItem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else if (newVal === '' && oldVal[0] === '#') {\n              document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n              cntItem.innerHTML = newVal;\n            } else if (this.isAngular || this.isReact) {\n              this.clearTabTemplate(cntItem, properties[j], CLS_ITEM);\n              cntItem.innerHTML = '';\n              this.templateCompile(cntItem, newVal, index);\n            } else if (typeof newVal !== 'function') {\n              cntItem.innerHTML = newVal;\n            }\n          }\n          if (properties[j] === 'cssClass') {\n            if (!isNOU(hdrItem)) {\n              hdrItem.classList.remove(oldVal);\n              hdrItem.classList.add(newVal);\n            }\n            if (!isNOU(cntItem)) {\n              cntItem.classList.remove(oldVal);\n              cntItem.classList.add(newVal);\n            }\n          }\n          if (properties[j] === 'disabled') {\n            this.enableTab(index, newVal === true ? false : true);\n          }\n          if (properties[j] === 'visible') {\n            this.hideTab(index, newVal === true ? false : true);\n          }\n        }\n      }\n      if (this.isReact && this.portals && this.portals.length > 0) {\n        this.renderReactTemplates(function () {\n          _this.refreshActiveTabBorder();\n        });\n      }\n    } else {\n      this.lastIndex = 0;\n      if (isNOU(this.tbObj)) {\n        this.reRenderItems();\n      } else {\n        if (this.isReact || this.isAngular) {\n          this.clearTemplate();\n        }\n        this.setItems(newProp.items);\n        if (this.templateEle.length > 0) {\n          this.expTemplateContent();\n        }\n        this.templateEle = [];\n        var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n        while (selectElement.firstElementChild) {\n          detach(selectElement.firstElementChild);\n        }\n        this.select(this.selectedItem);\n        this.draggableItems = [];\n        this.bindDraggable();\n      }\n    }\n  };\n  Tab.prototype.clearTabTemplate = function (templateEle, templateName, className) {\n    if (!this.clearTemplates) {\n      return;\n    }\n    if (this.registeredTemplate && this.registeredTemplate[templateName]) {\n      var registeredTemplates = this.registeredTemplate;\n      for (var index = 0; index < registeredTemplates[templateName].length; index++) {\n        var registeredItem = registeredTemplates[templateName][index].rootNodes[0];\n        var closestItem = closest(registeredItem, '.' + className);\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], [registeredTemplates[templateName][index]]);\n          break;\n        }\n      }\n    } else if (this.portals && this.portals.length > 0) {\n      var portals = this.portals;\n      for (var index = 0; index < portals.length; index++) {\n        var portalItem = portals[index];\n        var closestItem = closest(portalItem.containerInfo, '.' + className);\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], index);\n          break;\n        }\n      }\n    }\n  };\n  Tab.prototype.initializeDrag = function (target) {\n    var _this = this;\n    var dragObj = new Draggable(target, {\n      dragArea: this.dragArea,\n      dragTarget: '.' + CLS_TB_ITEM,\n      clone: true,\n      helper: this.helper.bind(this),\n      dragStart: this.itemDragStart.bind(this),\n      drag: function (e) {\n        var dragIndex = _this.getEleIndex(_this.dragItem);\n        var dropIndex;\n        var dropItem;\n        var dragArgs = {\n          draggedItem: _this.dragItem,\n          event: e.event,\n          target: e.target,\n          droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n          clonedElement: _this.cloneElement,\n          index: dragIndex\n        };\n        if (!isNOU(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) && _this.dragArea !== '.' + CLS_HEADER) {\n          _this.trigger('dragging', dragArgs);\n        } else {\n          if (!e.target.closest(_this.dragArea) && _this.overflowMode !== 'Popup') {\n            document.body.style.cursor = 'not-allowed';\n            addClass([_this.cloneElement], CLS_HIDDEN);\n            if (_this.dragItem.classList.contains(CLS_HIDDEN)) {\n              removeClass([_this.dragItem], CLS_HIDDEN);\n            }\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n          } else {\n            document.body.style.cursor = '';\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n            if (_this.cloneElement.classList.contains(CLS_HIDDEN)) {\n              removeClass([_this.cloneElement], CLS_HIDDEN);\n            }\n          }\n          if (_this.overflowMode === 'Scrollable' && !isNOU(_this.element.querySelector('.e-hscroll'))) {\n            var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n            var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n            var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n            if (!isNOU(scrollRightNavEle) && Math.abs(scrollRightNavEle.offsetWidth / 2 + scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              hscrollBar.scrollLeft -= 10;\n            }\n            if (!isNOU(scrollLeftNavEle) && Math.abs(scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth - _this.cloneElement.offsetLeft) > scrollLeftNavEle.offsetWidth / 2) {\n              hscrollBar.scrollLeft += 10;\n            }\n          }\n          _this.cloneElement.style.pointerEvents = 'none';\n          dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n          var scrollContentWidth = 0;\n          if (_this.overflowMode === 'Scrollable' && !isNOU(_this.element.querySelector('.e-hscroll'))) {\n            scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n          }\n          if (dropItem != null && !dropItem.isSameNode(_this.dragItem) && dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n            dropIndex = _this.getEleIndex(dropItem);\n            if (dropIndex < dragIndex && Math.abs(dropItem.offsetLeft + dropItem.offsetWidth - _this.cloneElement.offsetLeft) > dropItem.offsetWidth / 2) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n            if (dropIndex > dragIndex && Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft - scrollContentWidth < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n          }\n          _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n          _this.trigger('dragging', dragArgs);\n        }\n      },\n      dragStop: this.itemDragStop.bind(this)\n    });\n    this.draggableItems.push(dragObj);\n  };\n  Tab.prototype.helper = function (e) {\n    this.cloneElement = this.createElement('div');\n    if (e.element) {\n      this.cloneElement = e.element.cloneNode(true);\n      addClass([this.cloneElement], 'e-tab-clone-element');\n      if (this.element.querySelector('.' + CLS_HEADER).classList.contains(CLS_CLOSE_SHOW)) {\n        addClass([this.cloneElement], CLS_CLOSE_SHOW);\n      }\n      removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n      if (!isNOU(this.cloneElement.querySelector('.e-ripple-element'))) {\n        remove(this.cloneElement.querySelector('.e-ripple-element'));\n      }\n      document.body.appendChild(this.cloneElement);\n    }\n    return this.cloneElement;\n  };\n  Tab.prototype.itemDragStart = function (e) {\n    var _this = this;\n    this.draggingItems = this.items.map(function (x) {\n      return x;\n    });\n    this.dragItem = e.element;\n    var dragArgs = {\n      draggedItem: e.element,\n      event: e.event,\n      target: e.target,\n      droppedItem: null,\n      index: this.getEleIndex(this.dragItem),\n      clonedElement: this.cloneElement,\n      cancel: false\n    };\n    this.trigger('onDragStart', dragArgs, function (tabItemDragArgs) {\n      if (tabItemDragArgs.cancel) {\n        var dragObj = e.element.ej2_instances[0];\n        if (!isNullOrUndefined(dragObj)) {\n          dragObj.intDestroy(e.event);\n        }\n        detach(_this.cloneElement);\n      } else {\n        _this.removeActiveClass();\n        addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN);\n        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n      }\n    });\n  };\n  Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n    if (this.items.length > 0) {\n      var item = this.draggingItems[dragsIndex];\n      this.draggingItems.splice(dragsIndex, 1);\n      this.draggingItems.splice(dropIndex, 0, item);\n    }\n    if (this.overflowMode === 'MultiRow') {\n      dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n    }\n    if (dragsIndex > dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        } else {\n          var lastEle = dropItem.parentElement.lastChild;\n          if (dropItem.isSameNode(lastEle)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n      }\n    }\n    if (dragsIndex < dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n        } else {\n          this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n      }\n    }\n  };\n  Tab.prototype.itemDragStop = function (e) {\n    var _this = this;\n    detach(this.cloneElement);\n    this.cloneElement = null;\n    this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n    document.body.style.cursor = '';\n    var dragStopArgs = {\n      draggedItem: this.dragItem,\n      event: e.event,\n      target: e.target,\n      droppedItem: this.tbItem[this.droppedIndex],\n      clonedElement: null,\n      index: this.droppedIndex,\n      cancel: false\n    };\n    this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n      if (tabItemDropArgs.cancel) {\n        _this.refresh();\n      } else {\n        if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n          _this.items = _this.draggingItems;\n          _this.selectedItem = isNOU(_this.droppedIndex) ? _this.getEleIndex(_this.dragItem) : _this.droppedIndex;\n          _this.refresh();\n        } else {\n          _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n          removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN);\n          _this.droppedIndex = isNOU(_this.droppedIndex) ? _this.getEleIndex(_this.dragItem) : _this.droppedIndex;\n          _this.selectTab(_this.droppedIndex, null, true);\n        }\n      }\n    });\n    this.dragItem = null;\n    this.droppedIndex = null;\n  };\n  /**\n   * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n   *\n   * @param {number} index - Index value of target Tab item.\n   * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, isEnable is true.\n   * @returns {void}.\n   */\n  Tab.prototype.enableTab = function (index, value) {\n    var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n    if (isNOU(tbItems)) {\n      return;\n    }\n    if (value === true) {\n      tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n      tbItems.firstElementChild.setAttribute('tabindex', tbItems.firstElementChild.getAttribute('data-tabindex'));\n    } else {\n      tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n      tbItems.firstElementChild.removeAttribute('tabindex');\n      if (tbItems.classList.contains(CLS_ACTIVE)) {\n        this.select(index + 1);\n      }\n    }\n    if (!isNOU(this.items[index])) {\n      this.items[index].disabled = !value;\n      this.dataBind();\n    }\n    tbItems.firstElementChild.setAttribute('aria-disabled', value === true ? 'false' : 'true');\n  };\n  /**\n   * Adds new items to the Tab that accepts an array as Tab items.\n   *\n   * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n   * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n   * @returns {void}.\n   */\n  Tab.prototype.addTab = function (items, index) {\n    var _this = this;\n    var addArgs = {\n      addedItems: items,\n      cancel: false\n    };\n    if (!this.isReplace) {\n      for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n        var item = items_1[_i];\n        item.disabled = item.disabled || false;\n        item.visible = item.visible || true;\n      }\n      if (items && items.length !== 0 && this.element && this.element.classList.contains(CLS_HIDDEN)) {\n        this.element.classList.remove(CLS_HIDDEN);\n      }\n      this.trigger('adding', addArgs, function (tabAddingArgs) {\n        if (!tabAddingArgs.cancel) {\n          _this.addingTabContent(items, index);\n        }\n      });\n    } else {\n      this.addingTabContent(items, index);\n    }\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  Tab.prototype.addingTabContent = function (items, index) {\n    var _this = this;\n    var lastEleIndex = 0;\n    this.hdrEle = select('.' + CLS_HEADER, this.element);\n    if (isNOU(this.hdrEle)) {\n      this.items = items;\n      this.reRenderItems();\n      this.bindDraggable();\n    } else {\n      var tbItems = Array.from(selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element));\n      var itemsCount = tbItems.length;\n      if (itemsCount !== 0) {\n        lastEleIndex = this.getMaxIndicesFromItems(tbItems) + 1;\n      }\n      if (isNOU(index)) {\n        index = itemsCount - 1;\n      }\n      if (itemsCount < index || index < 0 || isNaN(index)) {\n        return;\n      }\n      if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n        this.hdrEle.style.display = '';\n      }\n      if (!isNOU(this.bdrLine)) {\n        this.bdrLine.classList.add(CLS_HIDDEN);\n      }\n      this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n      this.isAdd = true;\n      var tabItems_2 = this.parseObject(items, index);\n      this.isAdd = false;\n      var i_1 = 0;\n      var textValue_1;\n      items.forEach(function (item, place) {\n        textValue_1 = item.headerTemplate || item.header.text;\n        if (!(isNOU(item.headerTemplate || item.header) || isNOU(textValue_1) || textValue_1.length === 0 && !isNOU(item.header) && isNOU(item.header.iconCss))) {\n          if (tabItems_2[place]) {\n            if (isNOU(item.id)) {\n              item.id = CLS_ITEM + _this.tabId + '_' + TABITEMPREFIX + (lastEleIndex + place).toString();\n            }\n            tabItems_2[place].htmlAttributes['data-id'] = item.id;\n          }\n          _this.items.splice(index + i_1, 0, item);\n          i_1++;\n        }\n        if (!isNOU(item.header) && !isNOU(item.header.text) && (_this.isTemplate || _this.loadOn === 'Init')) {\n          var no = lastEleIndex + place;\n          var ele = _this.createElement('div', {\n            id: CLS_CONTENT + _this.tabId + '_' + no,\n            className: CLS_ITEM,\n            attrs: {\n              role: 'tabpanel',\n              'aria-labelledby': CLS_ITEM + '_' + no\n            }\n          });\n          _this.cntEle.insertBefore(ele, _this.cntEle.children[index + place]);\n          var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n          _this.getContent(eleTrg, item.content, 'render', index);\n        }\n      });\n      this.tbObj.addItems(tabItems_2, index);\n      if (!this.isReplace) {\n        this.trigger('added', {\n          addedItems: items\n        });\n      }\n      if (this.selectedItem === index) {\n        this.select(index);\n      } else {\n        this.setActiveBorder();\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n      }\n      this.bindDraggable();\n    }\n  };\n  /**\n   * Removes the items in the Tab from the specified index.\n   *\n   * @param {number} index - Index of target item that is going to be removed.\n   * @returns {void}.\n   */\n  Tab.prototype.removeTab = function (index) {\n    var _this = this;\n    var trg = selectAll('.' + CLS_TB_ITEM, this.hdrEle)[index];\n    if (isNOU(trg)) {\n      return;\n    }\n    var removeArgs = {\n      removedItem: trg,\n      removedIndex: index,\n      cancel: false\n    };\n    this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n      if (!tabRemovingArgs.cancel) {\n        var header = select('#' + CLS_ITEM + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_TB_ITEMS, _this.hdrEle));\n        if (!isNOU(header)) {\n          _this.clearTabTemplate(header, 'headerTemplate', CLS_TB_ITEM);\n        }\n        _this.tbObj.removeItems(index);\n        if (_this.allowDragAndDrop && index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id)) {\n          index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n        }\n        var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n        _this.items.splice(targetEleIndex, 1);\n        _this.itemIndexArray.splice(targetEleIndex, 1);\n        _this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT, _this.element));\n        if (!isNOU(cntTrg)) {\n          _this.clearTabTemplate(cntTrg, 'content', CLS_ITEM);\n          detach(cntTrg);\n        }\n        _this.trigger('removed', tabRemovingArgs);\n        if (_this.draggableItems && _this.draggableItems.length > 0) {\n          _this.draggableItems[index].destroy();\n          _this.draggableItems[index] = null;\n          _this.draggableItems.splice(index, 1);\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n          index = index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1 ? index - 1 : index;\n          _this.enableAnimation = false;\n          _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n          index = _this.getSelectingTabIndex(index);\n          index = !isNaN(index) && index >= 0 && _this.tbItem.length > index ? index : 0;\n          var tabItem = _this.tbItem[index];\n          if (tabItem) {\n            if (tabItem.classList.contains(CLS_HIDDEN)) {\n              tabItem.classList.remove(CLS_HIDDEN);\n            }\n            var firstChild = tabItem.firstElementChild;\n            if (firstChild && firstChild.hasAttribute('aria-hidden')) {\n              firstChild.removeAttribute('aria-hidden');\n            }\n          }\n          _this.selectedItem = index;\n          _this.select(index);\n        } else if (index !== _this.selectedItem) {\n          if (index < _this.selectedItem) {\n            index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n            _this.setProperties({\n              selectedItem: index > -1 ? index : _this.selectedItem\n            }, true);\n            _this.prevIndex = _this.selectedItem;\n          }\n          _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n        }\n        if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n          var cnt = select('.' + CLS_CONTENT, _this.element);\n          detach(_this.hdrEle);\n          detach(cnt);\n        }\n        _this.enableAnimation = true;\n      }\n    });\n  };\n  /**\n   * Shows or hides the Tab that is in the specified index.\n   *\n   * @param {number} index - Index value of target item.\n   * @param {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is true.\n   * @returns {void}.\n   */\n  Tab.prototype.hideTab = function (index, value) {\n    var items;\n    var tabId;\n    if (index >= 0 && index < this.tbItem.length) {\n      tabId = this.tbItem[index].getAttribute('id');\n    }\n    var item = this.element.querySelector(\"[id=\\\"\" + tabId + \"\\\"]\");\n    if (isNOU(item)) {\n      return;\n    }\n    if (isNOU(value)) {\n      value = true;\n    }\n    this.bdrLine.classList.add(CLS_HIDDEN);\n    if (value === true) {\n      item.classList.add(CLS_HIDDEN);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n      if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n        if (index !== 0) {\n          for (var i = index - 1; i >= 0; i--) {\n            if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n              this.select(i);\n              break;\n            } else if (i === 0) {\n              for (var k = index + 1; k < this.tbItem.length; k++) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                  this.select(k);\n                  break;\n                }\n              }\n            }\n          }\n        } else {\n          for (var k = index + 1; k < this.tbItem.length; k++) {\n            if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n              this.select(k);\n              break;\n            }\n          }\n        }\n      } else if (items.length === 0) {\n        this.element.classList.add(CLS_HIDDEN);\n      }\n    } else {\n      this.element.classList.remove(CLS_HIDDEN);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n      item.classList.remove(CLS_HIDDEN);\n      if (items.length === 0) {\n        this.select(index);\n      }\n    }\n    this.setActiveBorder();\n    if (!isNOU(this.items[index])) {\n      this.items[index].visible = !value;\n      this.dataBind();\n    }\n    if (!isNullOrUndefined(item.firstElementChild)) {\n      item.firstElementChild.setAttribute('aria-hidden', '' + value);\n    }\n    if (this.overflowMode === 'Popup') {\n      this.refreshOverflow();\n    }\n  };\n  Tab.prototype.selectTab = function (args, event, isInteracted) {\n    if (event === void 0) {\n      event = null;\n    }\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n    this.isInteracted = isInteracted;\n    this.select(args, event);\n  };\n  /**\n   * Specifies the index or HTMLElement to select an item from the Tab.\n   *\n   * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n   * @param {Event} event - An event which takes place in DOM.\n   * @returns {void}\n   */\n  Tab.prototype.select = function (args, event) {\n    var _this = this;\n    var tabHeader = this.getTabHeader();\n    this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n    this.content = select('.' + CLS_CONTENT, this.element);\n    this.prevItem = this.tbItem[this.prevIndex];\n    if (isNOU(this.selectedItem) || this.selectedItem < 0 || this.tbItem.length <= this.selectedItem || isNaN(this.selectedItem)) {\n      this.selectedItem = 0;\n    } else {\n      this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n    }\n    var trg = this.tbItem[args];\n    if (isNOU(trg)) {\n      this.selectedID = '0';\n    } else {\n      this.selectingID = this.extIndex(trg.id);\n    }\n    if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n      this.prevItem.children.item(0).setAttribute('tabindex', this.prevItem.firstElementChild.getAttribute('tabindex'));\n    }\n    var eventArg = {\n      event: event,\n      previousItem: this.prevItem,\n      previousIndex: this.prevIndex,\n      selectedItem: this.tbItem[this.selectedItem],\n      selectedIndex: this.selectedItem,\n      selectedContent: !isNOU(this.content) ? select('#' + CLS_CONTENT + this.tabId + '_' + this.selectedID, this.content) : null,\n      selectingItem: trg,\n      selectingIndex: args,\n      selectingContent: !isNOU(this.content) ? select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content) : null,\n      isSwiped: this.isSwiped,\n      isInteracted: this.isInteracted,\n      cancel: false\n    };\n    if (!this.initRender) {\n      this.trigger('selecting', eventArg, function (selectArgs) {\n        if (!selectArgs.cancel) {\n          _this.selectingContent(args, _this.isInteracted);\n        }\n      });\n    } else {\n      this.selectingContent(args, this.isInteracted);\n    }\n    this.isInteracted = false;\n  };\n  Tab.prototype.getSelectingTabIndex = function (args) {\n    if (!isNOU(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE) || this.tbItem[args].classList.contains(CLS_HIDDEN))) {\n      for (var i = args + 1; i < this.items.length; i++) {\n        if (this.items[i].disabled === false && this.items[i].visible === true) {\n          args = i;\n          break;\n        } else {\n          args = 0;\n        }\n      }\n    }\n    return args;\n  };\n  Tab.prototype.selectingContent = function (args, isInteracted) {\n    if (typeof args === 'number') {\n      args = this.getSelectingTabIndex(args);\n      if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n        this.prevIndex = this.selectedItem;\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n          this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n          if (!isNOU(this.items) && this.items.length > 0 && this.allowDragAndDrop) {\n            this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n            var item = this.items[args];\n            this.items.splice(args, 1);\n            this.items.splice(this.tbItem.length - 1, 0, item);\n            var itemId = this.itemIndexArray[args];\n            this.itemIndexArray.splice(args, 1);\n            this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n          }\n        } else {\n          this.setActive(args, null, isInteracted);\n        }\n      } else {\n        this.setActive(0, null, isInteracted);\n      }\n    } else if (args instanceof HTMLElement) {\n      this.setActive(this.getEleIndex(args), null, isInteracted);\n    }\n  };\n  /**\n   * Gets the item index from the Tab.\n   *\n   * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n   * @returns {number} - It returns item index.\n   */\n  Tab.prototype.getItemIndex = function (tabItemId) {\n    var tabIndex;\n    for (var i = 0; i < this.tbItem.length; i++) {\n      var value = this.tbItem[i].getAttribute('data-id');\n      if (tabItemId === value) {\n        tabIndex = i;\n        break;\n      }\n    }\n    return tabIndex;\n  };\n  /**\n   * Specifies the value to disable/enable the Tab component.\n   * When set to `true`, the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n  Tab.prototype.disable = function (value) {\n    this.setCssClass(this.element, CLS_DISABLE, value);\n    this.element.setAttribute('aria-disabled', '' + value);\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - It returns the persisted state.\n   */\n  Tab.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedItem', 'actEleId']);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n  Tab.prototype.getModuleName = function () {\n    return 'tab';\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {TabModel} newProp - It contains the new value of data.\n   * @param  {TabModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n  Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n    var sortedKeys = Object.keys(newProp).sort(function (a, b) {\n      if (a === 'items') return -1;\n      if (b === 'items') return 1;\n      return 0;\n    });\n    for (var _i = 0, sortedKeys_1 = sortedKeys; _i < sortedKeys_1.length; _i++) {\n      var prop = sortedKeys_1[_i];\n      switch (prop) {\n        case 'width':\n          setStyle(this.element, {\n            width: formatUnit(newProp.width)\n          });\n          break;\n        case 'height':\n          setStyle(this.element, {\n            height: formatUnit(newProp.height)\n          });\n          this.setContentHeight(false);\n          break;\n        case 'cssClass':\n          var headerEle = this.element.querySelector('.' + CLS_HEADER);\n          if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n            this.setCssClass(this.element, oldProp.cssClass, false);\n            this.setCssClass(this.element, newProp.cssClass, true);\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, oldProp.cssClass, false);\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          } else {\n            this.setCssClass(this.element, newProp.cssClass, true);\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          }\n          break;\n        case 'items':\n          this.evalOnPropertyChangeItems(newProp, oldProp);\n          break;\n        case 'showCloseButton':\n          this.setCloseButton(newProp.showCloseButton);\n          break;\n        case 'reorderActiveTab':\n          this.refreshActiveTabBorder();\n          break;\n        case 'selectedItem':\n          this.selectedItem = oldProp.selectedItem;\n          this.select(newProp.selectedItem);\n          break;\n        case 'headerPlacement':\n          this.changeOrientation(newProp.headerPlacement);\n          break;\n        case 'enableRtl':\n          this.setRTL(newProp.enableRtl);\n          break;\n        case 'overflowMode':\n          this.tbObj.overflowMode = newProp.overflowMode;\n          this.tbObj.dataBind();\n          this.refreshActiveTabBorder();\n          break;\n        case 'heightAdjustMode':\n          this.setContentHeight(false);\n          this.select(this.selectedItem);\n          break;\n        case 'scrollStep':\n          if (this.tbObj) {\n            this.tbObj.scrollStep = this.scrollStep;\n          }\n          break;\n        case 'allowDragAndDrop':\n          this.bindDraggable();\n          break;\n        case 'swipeMode':\n          if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n          }\n          this.bindSwipeEvents();\n          break;\n        case 'dragArea':\n          if (this.allowDragAndDrop) {\n            this.draggableItems.forEach(function (item) {\n              item.dragArea = _this.dragArea;\n            });\n            this.refresh();\n          }\n          break;\n      }\n    }\n  };\n  /**\n   * To refresh the active tab contents.\n   *\n   * @returns {void}\n   */\n  Tab.prototype.refreshActiveTab = function () {\n    if (this.isReact && this.isTemplate) {\n      this.clearTemplate();\n    }\n    if (!this.isTemplate) {\n      if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE)) {\n        detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).children[0]);\n        detach(this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).children[0]);\n        var item = this.items[this.selectedItem];\n        var pos = isNOU(item.header) || isNOU(item.header.iconPosition) ? '' : item.header.iconPosition;\n        var css = isNOU(item.header) || isNOU(item.header.iconCss) ? '' : item.header.iconCss;\n        var text = item.headerTemplate || item.header.text;\n        var txtWrap = this.createElement('div', {\n          className: CLS_TEXT,\n          attrs: {\n            'role': 'presentation'\n          }\n        });\n        if (!isNOU(text.tagName)) {\n          txtWrap.appendChild(text);\n        } else {\n          this.headerTextCompile(txtWrap, text, this.selectedItem);\n        }\n        var tEle = void 0;\n        var icon = this.createElement('span', {\n          className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n        });\n        var tConts = this.createElement('div', {\n          className: CLS_TEXT_WRAP\n        });\n        tConts.appendChild(txtWrap);\n        if (text !== '' && text !== undefined && css !== '') {\n          if (pos === 'left' || pos === 'top') {\n            tConts.insertBefore(icon, tConts.firstElementChild);\n          } else {\n            tConts.appendChild(icon);\n          }\n          tEle = txtWrap;\n          this.isIconAlone = false;\n        } else {\n          tEle = css === '' ? txtWrap : icon;\n          if (tEle === icon) {\n            detach(txtWrap);\n            tConts.appendChild(icon);\n            this.isIconAlone = true;\n          }\n        }\n        var tabIndex = isNOU(item.tabIndex) ? '-1' : item.tabIndex.toString();\n        var wrapAtt = item.disabled ? {} : {\n          tabIndex: tabIndex,\n          'data-tabindex': tabIndex,\n          role: 'tab',\n          'aria-selected': 'true',\n          'aria-disabled': 'false'\n        };\n        tConts.appendChild(this.btnCls.cloneNode(true));\n        var wraper = this.createElement('div', {\n          className: CLS_WRAP,\n          attrs: wrapAtt\n        });\n        wraper.appendChild(tConts);\n        if (pos === 'top' || pos === 'bottom') {\n          this.element.classList.add('e-vertical-icon');\n        }\n        this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).appendChild(wraper);\n        var crElem = this.createElement('div');\n        var cnt = item.content;\n        var eleStr = void 0;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n          if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n            cnt = SanitizeHtmlHelper.sanitize(cnt);\n          }\n          if (cnt[0] === '.' || cnt[0] === '#') {\n            if (document.querySelectorAll(cnt).length) {\n              var eleVal = document.querySelector(cnt);\n              eleStr = eleVal.outerHTML.trim();\n              crElem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else {\n              this.compileElement(crElem, cnt, 'content', this.selectedItem);\n            }\n          } else {\n            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n          }\n        } else {\n          crElem.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n          if (this.templateEle.indexOf(cnt.toString()) === -1) {\n            this.templateEle.push(cnt.toString());\n          }\n        }\n        this.element.querySelector('.' + CLS_ITEM + '.' + CLS_ACTIVE).appendChild(crElem);\n      }\n    } else {\n      var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n      var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE);\n      var index = this.getIndexFromEle(element.id);\n      var header = element.innerText;\n      var detachContent = this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).children[0];\n      var mainContents = detachContent.innerHTML;\n      detach(element);\n      detach(detachContent);\n      var attr = {\n        className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE + ' ' + CLS_ACTIVE,\n        id: CLS_ITEM + this.tabId + '_' + index\n      };\n      var txtString = this.createElement('span', {\n        className: CLS_TEXT,\n        innerHTML: header,\n        attrs: {\n          'role': 'presentation'\n        }\n      }).outerHTML;\n      var conte = this.createElement('div', {\n        className: CLS_TEXT_WRAP,\n        innerHTML: txtString + this.btnCls.outerHTML\n      }).outerHTML;\n      var tabIndex = element.firstElementChild.getAttribute('data-tabindex');\n      var wrap = this.createElement('div', {\n        className: CLS_WRAP,\n        innerHTML: conte,\n        attrs: {\n          tabIndex: tabIndex,\n          'data-tabindex': tabIndex,\n          role: 'tab',\n          'aria-controls': CLS_CONTENT + this.tabId + '_' + index,\n          'aria-selected': 'true',\n          'aria-disabled': 'false'\n        }\n      });\n      tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n      this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).appendChild(wrap);\n      var crElem = this.createElement('div', {\n        innerHTML: mainContents\n      });\n      this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).appendChild(crElem);\n    }\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To refresh the active tab indicator.\n   *\n   * @returns {void}\n   */\n  Tab.prototype.refreshActiveTabBorder = function () {\n    if (this.heightAdjustMode === 'None' && this.height !== 'auto' && this.cntEle && !this.isVertical()) {\n      var hdrEle = this.getTabHeader();\n      setStyle(this.cntEle, {\n        'height': this.element.clientHeight - hdrEle.offsetHeight + 'px'\n      });\n    }\n    var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n    if (!isNOU(activeEle) && this.reorderActiveTab) {\n      this.select(this.getEleIndex(activeEle));\n    }\n    this.refreshActiveBorder();\n  };\n  __decorate([Collection([], TabItem)], Tab.prototype, \"items\", void 0);\n  __decorate([Property('100%')], Tab.prototype, \"width\", void 0);\n  __decorate([Property('Both')], Tab.prototype, \"swipeMode\", void 0);\n  __decorate([Property('auto')], Tab.prototype, \"height\", void 0);\n  __decorate([Property('')], Tab.prototype, \"cssClass\", void 0);\n  __decorate([Property(0)], Tab.prototype, \"selectedItem\", void 0);\n  __decorate([Property('Top')], Tab.prototype, \"headerPlacement\", void 0);\n  __decorate([Property('Content')], Tab.prototype, \"heightAdjustMode\", void 0);\n  __decorate([Property('Scrollable')], Tab.prototype, \"overflowMode\", void 0);\n  __decorate([Property('Demand')], Tab.prototype, \"loadOn\", void 0);\n  __decorate([Property(false)], Tab.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(true)], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n  __decorate([Property(false)], Tab.prototype, \"showCloseButton\", void 0);\n  __decorate([Property(true)], Tab.prototype, \"reorderActiveTab\", void 0);\n  __decorate([Property()], Tab.prototype, \"scrollStep\", void 0);\n  __decorate([Property()], Tab.prototype, \"dragArea\", void 0);\n  __decorate([Property(false)], Tab.prototype, \"allowDragAndDrop\", void 0);\n  __decorate([Property(true)], Tab.prototype, \"clearTemplates\", void 0);\n  __decorate([Complex({}, TabAnimationSettings)], Tab.prototype, \"animation\", void 0);\n  __decorate([Event()], Tab.prototype, \"created\", void 0);\n  __decorate([Event()], Tab.prototype, \"adding\", void 0);\n  __decorate([Event()], Tab.prototype, \"added\", void 0);\n  __decorate([Event()], Tab.prototype, \"selecting\", void 0);\n  __decorate([Event()], Tab.prototype, \"selected\", void 0);\n  __decorate([Event()], Tab.prototype, \"removing\", void 0);\n  __decorate([Event()], Tab.prototype, \"removed\", void 0);\n  __decorate([Event()], Tab.prototype, \"onDragStart\", void 0);\n  __decorate([Event()], Tab.prototype, \"dragging\", void 0);\n  __decorate([Event()], Tab.prototype, \"dragged\", void 0);\n  __decorate([Event()], Tab.prototype, \"destroyed\", void 0);\n  Tab = __decorate([NotifyPropertyChanges], Tab);\n  return Tab;\n}(Component);\nexport { Tab };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","closest","Collection","Complex","attributes","detach","isNullOrUndefined","animationMode","NotifyPropertyChanges","ChildProperty","select","isVisible","KeyboardEvents","Browser","formatUnit","L10n","setStyleAttribute","setStyle","isNOU","selectAll","addClass","removeClass","remove","EventHandler","rippleEffect","Touch","compile","Animation","getRandomId","SanitizeHtmlHelper","Draggable","Toolbar","CLS_TAB","CLS_HEADER","CLS_BLA_TEM","CLS_CONTENT","CLS_NEST","CLS_ITEMS","CLS_ITEM","CLS_TEMPLATE","CLS_RTL","CLS_ACTIVE","CLS_DISABLE","CLS_HIDDEN","CLS_FOCUS","CLS_ICONS","CLS_ICON","CLS_ICON_TAB","CLS_ICON_CLOSE","CLS_CLOSE_SHOW","CLS_TEXT","CLS_INDICATOR","CLS_WRAP","CLS_TEXT_WRAP","CLS_TAB_ICON","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POP","CLS_TB_POPUP","CLS_HOR_NAV","CLS_POPUP_OPEN","CLS_POPUP_CLOSE","CLS_PROGRESS","CLS_IGNORE","CLS_OVERLAY","CLS_HSCRCNT","CLS_VSCRCNT","CLS_VTAB","CLS_VERTICAL","CLS_VLEFT","CLS_VRIGHT","CLS_HBOTTOM","CLS_FILL","TABITEMPREFIX","CLS_REORDER_ACTIVE_ITEM","TabActionSettings","_super","apply","TabAnimationSettings","effect","duration","easing","Header","TabItem","Tab","options","element","_this","call","show","hide","maxHeight","title","isInteracted","lastIndex","isAdd","isIconAlone","draggableItems","resizeContext","refreshActiveTabBorder","bind","keyConfigs","tab","home","end","enter","space","delete","moveLeft","moveRight","moveUp","moveDown","destroy","isReact","isAngular","clearTemplate","tbObj","unWireEvents","removeAttribute","expTemplateContent","isTemplate","firstElementChild","cntEle","classList","innerHTML","cnt","btnCls","hdrEle","tbItems","tbItem","tbPop","prevItem","popEle","bdrLine","content","dragItem","cloneElement","draggingItems","trigger","refresh","renderReactTemplates","refreshOverflow","preRender","nested","prevIndex","isNested","isPopup","initRender","isSwiped","itemIndexArray","templateEle","allowDragAndDrop","dragArea","id","parentElement","add","name","info","css","width","height","setCssClass","cssClass","updatePopAnimationConfig","render","createElement","className","attrs","tabId","renderContainer","wireEvents","portals","selectingContent","selectedItem","refreshActiveBorder","ele","items","forEach","item","index","setProperties","toString","children","appendChild","setOrientation","headerPlacement","header","querySelector","renderHeader","selector","renderContent","scrCnt","scrCntClass","insertBefore","firstChild","setContentHeight","setRTL","enableRtl","hdrPlace","tabItems","getTabHeader","addVerticalClass","parseObject","contains","count","hdrItems","push","tabItems_1","attr","txt","outerHTML","cont","wrap","role","tabIndex","overflowMode","clicked","clickHandler","scrollStep","enableHtmlSanitizer","isStringTemplate","appendTo","getAttribute","setAttribute","setCloseButton","showCloseButton","toolbarHeader","createContentElement","contentElement","indexOf","loadOn","hdrItem","contents","Number","extIndex","reRenderItems","bindSwipeEvents","slice","maxId","isReplace","getMaxIndicesFromItems","tItems","txtWrapEle","spliceArray","pos","iconPosition","iconCss","headerTemplate","text","sanitize","itemIndex","tbId","parseInt","substring","lastIndexOf","disabled","hidden","visible","tHtml","txtEmpty","tagName","headerTextCompile","tEle","icon","tCont","undefined","wrapAttrs","cloneNode","splice","attrObj","tItem","htmlAttributes","template","spliceItemIndex","removeActiveClass","tabHeader","node","checkPopupOverflow","popIcon","tbrItems","lastChild","isOverflow","isVertical","offsetLeft","offsetWidth","offsetTop","offsetHeight","popupHandler","ripEle","actEleId","prevEle","previousElementSibling","val","trg","prevCtnAnimation","prev","current","animation","checkRTL","previous","timingFunction","next","triggerPrevAnimation","oldCnt","animateObj","begin","style","display","childNodes","animate","triggerAnimation","value","itemCollection","prevActiveEle","newCnt","getTrgContent","idNo","isPrevent","openEff","clsEff","progress","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","popObj","click","selectTab","headers","filter","e","replace","idList","getIndexFromEle","Math","max","eleStr","document","body","templateCompile","tempEle","compileElement","prop","templateFn","trim","isVue","templateFUN","el","getContent","callType","querySelectorAll","eleVal","no","findEle","tbPos","changeOrientation","place","activeTab","changeToolbarOrientation","focusItem","curActItem","focus","headerPos","contentPos","cls","list","split","loadContentInitMode","loadContentElement","heightAdjustMode","clientHeight","visibility","getHeight","removeProperty","removeChild","cs","window","getComputedStyle","parseFloat","getPropertyValue","trgHdrEle","reorderActiveTab","root","bar","scrollCnt","tbHeight","top_1","tbWidth","setActive","skipDataBind","isNaN","allowServerDataBinding","serverDataBind","trg_1","enableAnimation","eleTrg","refreshItemVisibility","eventArg","previousItem","previousIndex","selectedIndex","selectedContent","selectingID","preventFocus","selectEventArgs","setItems","dataBind","showPopup","config","tbPopObj","ej2_instances","position","X","bindDraggable","initializeDrag","swipeMode","touchModule","swipe","swipeHandler","addEventListener","hoverHandler","spaceKeyDown","keyModule","keyAction","keyHandler","tabKeyModule","openPopup","shiftTab","eventName","removeEventListener","args","originalEvent","removeTab","velocity","changedTouches","type","nestedTab","swipeDirection","k","keyCode","which","clstHead","preventDefault","actEle","activeElement","action","nxtSib","nextSibling","scrBar","scrStart","scrollLeft","scrEnd","eleStart","eleWidth","eleEnd","eleViewRange","closeButtonTitle","locale","getConstant","evalOnPropertyChangeItems","newProp","oldProp","changedProp","keys","properties","j","oldVal","newVal","hdr","cntItem","textVal","clearTabTemplate","arr","isHiddenEle","addTab","hideTab","strVal","enableTab","selectElement","templateName","clearTemplates","registeredTemplate","registeredTemplates","registeredItem","rootNodes","closestItem","portalItem","containerInfo","dragObj","dragTarget","clone","helper","dragStart","itemDragStart","drag","dragIndex","dropIndex","dropItem","dragArgs","draggedItem","event","droppedItem","clonedElement","isEqualNode","cursor","scrollRightNavEle","scrollLeftNavEle","hscrollBar","abs","pointerEvents","scrollContentWidth","isSameNode","dragAction","droppedIndex","dragStop","itemDragStop","map","x","cancel","tabItemDragArgs","intDestroy","dragsIndex","parentNode","nextElementSibling","popupContainer","lastEle","dragStopArgs","tabItemDropArgs","addArgs","addedItems","_i","items_1","tabAddingArgs","addingTabContent","lastEleIndex","from","itemsCount","tabItems_2","i_1","textValue_1","addItems","removeArgs","removedItem","removedIndex","tabRemovingArgs","removeItems","targetEleIndex","cntTrg","getSelectingTabIndex","tabItem","hasAttribute","selectedID","selectingItem","selectingIndex","selectArgs","itemId","HTMLElement","getItemIndex","tabItemId","disable","getPersistData","addOnPersist","getModuleName","onPropertyChanged","sortedKeys","sort","a","sortedKeys_1","headerEle","refreshActiveTab","txtWrap","tConts","wrapAtt","wraper","crElem","innerText","detachContent","mainContents","txtString","conte","activeEle"],"sources":["D:/weektable/frontend/node_modules/@syncfusion/ej2-navigations/src/tab/tab.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach, isNullOrUndefined, animationMode } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll, addClass, removeClass, remove } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { getRandomId, SanitizeHtmlHelper, Draggable } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\n/**\n * Objects used for configuring the Tab animation properties.\n */\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(null)\n    ], TabItem.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(true)\n    ], TabItem.prototype, \"visible\", void 0);\n    __decorate([\n        Property()\n    ], TabItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(-1)\n    ], TabItem.prototype, \"tabIndex\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     *\n     * @param {TabModel} options  - Specifies Tab model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = {};\n        _this.hide = {};\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.isInteracted = false;\n        _this.lastIndex = 0;\n        _this.isAdd = false;\n        _this.isIconAlone = false;\n        _this.draggableItems = [];\n        _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.destroy = function () {\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n            this.tbObj = null;\n        }\n        this.unWireEvents();\n        this.element.removeAttribute('aria-disabled');\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            while (this.element.firstElementChild) {\n                remove(this.element.firstElementChild);\n            }\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        if (this.btnCls) {\n            this.btnCls = null;\n        }\n        this.hdrEle = null;\n        this.cntEle = null;\n        this.tbItems = null;\n        this.tbItem = null;\n        this.tbPop = null;\n        this.prevItem = null;\n        this.popEle = null;\n        this.bdrLine = null;\n        this.content = null;\n        this.dragItem = null;\n        this.cloneElement = null;\n        this.draggingItems = [];\n        if (this.draggableItems && this.draggableItems.length > 0) {\n            for (var i = 0; i < this.draggableItems.length; i++) {\n                this.draggableItems[i].destroy();\n                this.draggableItems[i] = null;\n            }\n            this.draggableItems = [];\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Refresh the tab component\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refresh = function () {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        _super.prototype.refresh.call(this);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Reorganizes and adjusts the Tab headers to fit the available width without re-rendering the entire Tab component.\n     *\n     * This method is useful for optimizing the layout when:\n     * - A hidden tab item becomes visible.\n     * - The number of tab items changes dynamically.\n     *\n     * @returns {void} This method does not return a value.\n     */\n    Tab.prototype.refreshOverflow = function () {\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.refreshOverflow();\n        }\n    };\n    /**\n     * Initialize component\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwiped = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (this.allowDragAndDrop) {\n            this.dragArea = !isNOU(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER);\n        }\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { 'aria-disabled': 'false' });\n        this.setCssClass(this.element, css, true);\n        this.updatePopAnimationConfig();\n    };\n    /**\n     * Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.render = function () {\n        var _this = this;\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.tabId = this.element.id.length > 0 ? ('-' + this.element.id) : getRandomId();\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n        if (this.isReact && this.portals && this.portals.length > 0) {\n            this.renderReactTemplates(function () {\n                _this.refreshOverflow();\n                _this.selectingContent(_this.selectedItem, _this.isInteracted);\n                _this.refreshActiveBorder();\n            });\n        }\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        this.items.forEach(function (item, index) {\n            if (isNOU(item.id) && !isNOU(item.setProperties)) {\n                item.setProperties({ id: TABITEMPREFIX + index.toString() }, true);\n            }\n        });\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var hdrPlace = this.headerPlacement;\n        var tabItems = [];\n        this.hdrEle = this.getTabHeader();\n        this.addVerticalClass();\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER)) {\n                this.setProperties({ headerPlacement: 'Bottom' }, true);\n            }\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i));\n            }\n            if (count > 0) {\n                var tabItems_1 = this.createElement('div', { className: CLS_ITEMS });\n                this.hdrEle.appendChild(tabItems_1);\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + _this.tabId + '_' + index\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', {\n                        className: CLS_WRAP, innerHTML: cont,\n                        attrs: { role: 'tab', tabIndex: '-1', 'aria-selected': 'false', 'aria-controls': CLS_CONTENT + _this.tabId + '_' + index, 'aria-disabled': 'false' }\n                    });\n                    wrap.querySelector('.' + CLS_TEXT).appendChild(item);\n                    tabItems_1.appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, tabItems_1)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: (hdrPlace === 'Left' || hdrPlace === 'Right') ? 'auto' : '100%',\n            height: (hdrPlace === 'Left' || hdrPlace === 'Right') ? '100%' : 'auto',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this),\n            scrollStep: this.scrollStep,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            cssClass: this.cssClass\n        });\n        this.tbObj.isStringTemplate = true;\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.hdrEle, { role: 'tablist' });\n        if (!isNOU(this.element.getAttribute('aria-label'))) {\n            this.hdrEle.setAttribute('aria-label', this.element.getAttribute('aria-label'));\n            this.element.removeAttribute('aria-label');\n        }\n        else if (!isNOU(this.element.getAttribute('aria-labelledby'))) {\n            this.hdrEle.setAttribute('aria-labelledby', this.element.getAttribute('aria-labelledby'));\n            this.element.removeAttribute('aria-labelledby');\n        }\n        this.setCloseButton(this.showCloseButton);\n        var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n        if (!isNOU(toolbarHeader)) {\n            if (isNOU(toolbarHeader.id) || toolbarHeader.id === '') {\n                toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n            }\n        }\n    };\n    Tab.prototype.createContentElement = function (index) {\n        var contentElement = this.createElement('div', {\n            id: CLS_CONTENT + this.tabId + '_' + index, className: CLS_ITEM,\n            attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + index }\n        });\n        if (['Dynamic', 'Demand'].indexOf(this.loadOn) !== -1 ||\n            (this.loadOn === 'Init' && index === this.selectedItem)) {\n            addClass([contentElement], CLS_ACTIVE);\n        }\n        return contentElement;\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    addClass([contents.item(i)], CLS_ITEM);\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + this.tabId + '_' + i;\n                }\n            }\n        }\n        else {\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                if (this.loadOn === 'Init') {\n                    for (var i = 0; i < this.itemIndexArray.length; i++) {\n                        if (this.itemIndexArray[i]) {\n                            this.cntEle.appendChild(this.createContentElement(Number(this.extIndex(this.itemIndexArray[i]))));\n                        }\n                    }\n                }\n                else if (this.loadOn === 'Dynamic') {\n                    this.cntEle.appendChild(this.createContentElement(this.selectedItem > 0 ?\n                        this.selectedItem : Number(this.extIndex(this.itemIndexArray[0]))));\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.bindSwipeEvents();\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbItems = Array.prototype.slice.call(selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element));\n        var maxId = this.lastIndex;\n        if (!this.isReplace && tbItems.length > 0) {\n            maxId = this.getMaxIndicesFromItems(tbItems);\n        }\n        var tItems = [];\n        var txtWrapEle;\n        var spliceArray = [];\n        var i = 0;\n        items.forEach(function (item, i) {\n            var pos = (isNOU(item.header) || isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header) || isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            if ((isNOU(item.headerTemplate)) && (isNOU(item.header) || isNOU(item.header.text) ||\n                ((item.header.text.length === 0)) && (css === ''))) {\n                spliceArray.push(i);\n                return;\n            }\n            var txt = item.headerTemplate || item.header.text;\n            if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n                txt = SanitizeHtmlHelper.sanitize(txt);\n            }\n            var itemIndex;\n            if (_this.isReplace && !isNOU(_this.tbId) && _this.tbId !== '') {\n                itemIndex = parseInt(_this.tbId.substring(_this.tbId.lastIndexOf('_') + 1), 10);\n                _this.tbId = '';\n            }\n            else {\n                itemIndex = index + i;\n            }\n            _this.lastIndex = ((tbItems.length === 0) ? i : ((_this.isReplace) ? (itemIndex) : (maxId + 1 + i)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            var hidden = (item.visible === false) ? ' ' + CLS_HIDDEN : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt, i);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt !== '' && txt !== undefined) && css !== '') {\n                if ((pos === 'left' || pos === 'top')) {\n                    tCont.insertBefore(icon, tCont.firstElementChild);\n                }\n                else {\n                    tCont.appendChild(icon);\n                }\n                tEle = txtWrapEle;\n                _this.isIconAlone = false;\n            }\n            else {\n                tEle = ((css === '') ? txtWrapEle : icon);\n                if (tEle === icon) {\n                    detach(txtWrapEle);\n                    tCont.appendChild(icon);\n                    _this.isIconAlone = true;\n                }\n            }\n            var tabIndex = isNOU(item.tabIndex) ? '-1' : item.tabIndex.toString();\n            var wrapAttrs = (item.disabled) ? { role: 'tab', 'aria-disabled': 'true' } : { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-selected': 'false', 'aria-disabled': 'false' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray instanceof Array) {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + _this.tabId + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + _this.tabId + '_' + _this.lastIndex, 'data-id': item.id\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = ((item.cssClass !== undefined) ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' '\n                + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n            i++;\n        });\n        if (!this.isAdd) {\n            spliceArray.forEach(function (spliceItemIndex) {\n                _this.items.splice(spliceItemIndex, 1);\n            });\n        }\n        if (this.isIconAlone) {\n            this.element.classList.add(CLS_ICON_TAB);\n        }\n        else {\n            this.element.classList.remove(CLS_ICON_TAB);\n        }\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function () {\n        var tabHeader = this.getTabHeader();\n        if (tabHeader) {\n            var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, tabHeader);\n            [].slice.call(tabItems).forEach(function (node) { return node.classList.remove(CLS_ACTIVE); });\n            [].slice.call(tabItems).forEach(function (node) { return node.firstElementChild.setAttribute('aria-selected', 'false'); });\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        var lastChild = tbrItems.lastChild;\n        var isOverflow = false;\n        if (!this.isVertical() && ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth))) {\n            isOverflow = true;\n        }\n        else if (this.isVertical() && (popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight)) {\n            isOverflow = true;\n        }\n        if (isOverflow) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            target.removeAttribute('style');\n            this.tbItems.appendChild(target);\n            this.actEleId = target.id;\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        if (val === true) {\n            trg.classList.add(CLS_CLOSE_SHOW);\n        }\n        else {\n            trg.classList.remove(CLS_CLOSE_SHOW);\n        }\n        this.refreshOverflow();\n        this.refreshActiveTabBorder();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = {\n                    name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = {\n                    name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var oldCnt;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (!isNOU(newCnt)) {\n            this.prevActiveEle = newCnt.id;\n        }\n        var isPrevent = isNOU(this.animation) || isNOU(this.animation.next.effect) || isNOU(this.animation.previous.effect)\n            || this.animation.previous.effect === 'None' || this.animation.next.effect === 'None';\n        if (this.initRender || value === false || isPrevent) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: (this.animation.previous.duration === 0 && animationMode === 'Enable') ? 600 : this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: (this.animation.next.duration === 0 && animationMode === 'Enable') ? 600 : this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.selectTab(trgIndex, null, true);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getTabHeader = function () {\n        if (isNOU(this.element)) {\n            return undefined;\n        }\n        var headers = [].slice.call(this.element.children).filter(function (e) { return e.classList.contains(CLS_HEADER); });\n        if (headers.length > 0) {\n            return headers[0];\n        }\n        else {\n            var wrap = [].slice.call(this.element.children).filter(function (e) { return !e.classList.contains(CLS_BLA_TEM); })[0];\n            if (!wrap) {\n                return undefined;\n            }\n            return [].slice.call(wrap.children).filter(function (e) { return e.classList.contains(CLS_HEADER); })[0];\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + this.tabId + '_', '');\n    };\n    Tab.prototype.getMaxIndicesFromItems = function (tbItems) {\n        var _this = this;\n        var idList = [];\n        tbItems.forEach(function (item) {\n            idList.push(_this.getIndexFromEle(item.id));\n        });\n        return Math.max.apply(Math, idList);\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content', index);\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop, index) {\n        var templateFn;\n        if (typeof val === 'string') {\n            val = val.trim();\n            if (this.isVue) {\n                templateFn = compile(this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(val) : val);\n            }\n            else {\n                ele.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(val) : val;\n            }\n        }\n        else {\n            templateFn = compile(val);\n        }\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text, index) {\n        this.compileElement(element, text, 'headerTemplate', index);\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType, index) {\n        var eleStr;\n        cnt = isNOU(cnt) ? '' : cnt;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt, index);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt, index);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + this.tabId + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + this.tabId + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.isVertical = function () {\n        var isVertical = (this.headerPlacement === 'Left' || this.headerPlacement === 'Right') ? true : false;\n        this.scrCntClass = (isVertical) ? CLS_VSCRCNT : CLS_HSCRCNT;\n        return isVertical;\n    };\n    Tab.prototype.addVerticalClass = function () {\n        if (this.isVertical()) {\n            var tbPos = (this.headerPlacement === 'Left') ? CLS_VLEFT : CLS_VRIGHT;\n            addClass([this.hdrEle], [CLS_VERTICAL, tbPos]);\n            if (!this.element.classList.contains(CLS_NEST)) {\n                addClass([this.element], [CLS_VTAB, tbPos]);\n            }\n            else {\n                addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n            }\n        }\n        if (this.headerPlacement === 'Bottom') {\n            addClass([this.hdrEle], [CLS_HBOTTOM]);\n        }\n    };\n    Tab.prototype.updatePopAnimationConfig = function () {\n        this.show = { name: (this.isVertical() ? 'FadeIn' : 'SlideDown'), duration: 100 };\n        this.hide = { name: (this.isVertical() ? 'FadeOut' : 'SlideUp'), duration: 100 };\n    };\n    Tab.prototype.changeOrientation = function (place) {\n        this.setOrientation(place, this.hdrEle);\n        var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE);\n        var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL) ? true : false;\n        removeClass([this.element], [CLS_VTAB]);\n        removeClass([this.hdrEle], [CLS_VERTICAL, CLS_VLEFT, CLS_VRIGHT]);\n        if (isVertical !== this.isVertical()) {\n            this.changeToolbarOrientation();\n            if (!isNOU(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n                this.popupHandler(activeTab);\n            }\n        }\n        this.addVerticalClass();\n        this.setActiveBorder();\n        this.focusItem();\n    };\n    Tab.prototype.focusItem = function () {\n        var curActItem = select(' #' + CLS_ITEM + this.tabId + '_' + this.selectedItem, this.hdrEle);\n        if (!isNOU(curActItem)) {\n            curActItem.firstElementChild.focus();\n        }\n    };\n    Tab.prototype.changeToolbarOrientation = function () {\n        this.tbObj.setProperties({ height: (this.isVertical() ? '100%' : 'auto'), width: (this.isVertical() ? 'auto' : '100%') }, true);\n        this.tbObj.changeOrientation();\n        this.updatePopAnimationConfig();\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n        var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT));\n        if (place === 'Bottom' && (contentPos > headerPos)) {\n            this.element.appendChild(ele);\n        }\n        else {\n            removeClass([ele], [CLS_HBOTTOM]);\n            this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n        }\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '' || isNOU(cls)) {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.loadContentInitMode = function (ele) {\n        if (!ele) {\n            return;\n        }\n        if (this.loadOn === 'Init') {\n            for (var i = 0; i < this.items.length; i++) {\n                if (this.cntEle.children.item(i)) {\n                    this.getContent(this.cntEle.children.item(i), this.items[i].content, 'render', i);\n                }\n            }\n        }\n    };\n    Tab.prototype.loadContentElement = function () {\n        if (!this.isTemplate) {\n            var ele = this.cntEle.children.item(0);\n            this.loadContentInitMode(ele);\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (this.element.classList.contains(CLS_FILL)) {\n            removeClass([this.element], [CLS_FILL]);\n        }\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var hdrEle = this.getTabHeader();\n        if (this.heightAdjustMode === 'None') {\n            this.loadContentElement();\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                if (!this.isVertical()) {\n                    setStyle(this.cntEle, { 'height': (this.element.clientHeight - hdrEle.offsetHeight) + 'px' });\n                }\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            addClass([this.element], [CLS_FILL]);\n            setStyle(this.element, { 'height': '100%' });\n            this.loadContentElement();\n            this.cntEle.style.height = 'calc(100% - ' + this.hdrEle.offsetHeight + 'px)';\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            if (this.isTemplate === true) {\n                var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].style.display = 'block';\n                    cnt[i].style.visibility = 'visible';\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true && this.loadOn === 'Demand') {\n                    this.cntEle.appendChild(this.createContentElement(Number(this.extIndex(this.itemIndexArray[0]))));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone', i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                if (this.isReact || this.isAngular || this.isVue) {\n                    this.clearTemplate(['content']);\n                }\n                this.templateEle = [];\n                if (this.loadOn === 'Demand') {\n                    this.getContent(ele, this.items[0].content, 'render', 0);\n                }\n                this.loadContentInitMode(ele);\n                if (this.prevIndex !== this.selectedItem) {\n                    ele.classList.remove(CLS_ACTIVE);\n                }\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            this.loadContentElement();\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trgHdrEle = this.getTabHeader();\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, trgHdrEle);\n        if (isNOU(trg)) {\n            return;\n        }\n        if (!this.reorderActiveTab) {\n            if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN)) {\n                this.bdrLine.classList.add(CLS_HIDDEN);\n            }\n            if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n                trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n            }\n        }\n        else if (trgHdrEle) {\n            trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n        var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n        var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n        if (this.isVertical()) {\n            setStyle(bar, { 'left': '', 'right': '' });\n            var tbHeight = (isNOU(scrollCnt)) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n            if (tbHeight !== 0) {\n                setStyle(bar, { 'top': trg.offsetTop + 'px', 'height': trg.offsetHeight + 'px' });\n            }\n            else {\n                setStyle(bar, { 'top': 0, 'height': 0 });\n            }\n        }\n        else {\n            if (this.overflowMode === 'MultiRow') {\n                var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n                setStyle(bar, { 'top': top_1 + 'px', 'height': '' });\n            }\n            else {\n                setStyle(bar, { 'top': '', 'height': '' });\n            }\n            var tbWidth = (isNOU(scrollCnt)) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n            if (tbWidth !== 0) {\n                setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n            }\n            else {\n                setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n            }\n        }\n        if (!isNOU(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n        if (skipDataBind === void 0) { skipDataBind = false; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n        var trg = this.tbItem[value];\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0 || !isNOU(trg) && trg.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (value >= 0 && !skipDataBind) {\n            this.allowServerDataBinding = false;\n            this.setProperties({ selectedItem: value }, true);\n            this.allowServerDataBinding = true;\n            if (!this.initRender) {\n                this.serverDataBind();\n            }\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            attributes(trg.firstElementChild, { 'aria-controls': CLS_CONTENT + this.tabId + '_' + this.extIndex(trg.id) });\n        }\n        var id = trg.id;\n        this.removeActiveClass();\n        trg.classList.add(CLS_ACTIVE);\n        trg.firstElementChild.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + this.tabId + '_' + no;\n        }\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + this.tabId + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            while (this.loadOn === 'Dynamic' && this.cntEle.firstElementChild) {\n                this.cntEle.removeChild(this.cntEle.firstElementChild);\n            }\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + this.tabId + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + this.tabId + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        this.refreshItemVisibility(trg);\n        if (!this.initRender && !skipDataBind) {\n            var eventArg = {\n                previousItem: this.prevItem,\n                previousIndex: this.prevIndex,\n                selectedItem: trg,\n                selectedIndex: value,\n                selectedContent: select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content),\n                isSwiped: this.isSwiped,\n                isInteracted: isInteracted,\n                preventFocus: false\n            };\n            this.trigger('selected', eventArg, function (selectEventArgs) {\n                if (!selectEventArgs.preventFocus) {\n                    trg.firstElementChild.focus();\n                }\n            });\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.showPopup = function (config) {\n        var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n        if (tbPop && tbPop.classList.contains('e-popup-close')) {\n            var tbPopObj = (tbPop && tbPop.ej2_instances[0]);\n            tbPopObj.position.X = (this.headerPlacement === 'Left' || this.element.classList.contains(CLS_RTL)) ? 'left' : 'right';\n            tbPopObj.dataBind();\n            tbPopObj.show(config);\n        }\n    };\n    Tab.prototype.bindDraggable = function () {\n        var _this = this;\n        if (this.allowDragAndDrop) {\n            var tabHeader = this.element.querySelector('.' + CLS_HEADER);\n            if (tabHeader) {\n                var items = Array.prototype.slice.call(tabHeader.querySelectorAll('.' + CLS_TB_ITEM));\n                items.forEach(function (element) {\n                    _this.initializeDrag(element);\n                });\n            }\n        }\n    };\n    Tab.prototype.bindSwipeEvents = function () {\n        if (this.swipeMode !== 'None') {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.wireEvents = function () {\n        this.bindDraggable();\n        window.addEventListener('resize', this.resizeContext);\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.bindSwipeEvents();\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n        if (!isNOU(this.tabKeyModule)) {\n            this.tabKeyModule.destroy();\n        }\n        if (!isNOU(this.cntEle) && !isNOU(this.touchModule)) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n        this.element.classList.remove(CLS_RTL);\n        this.element.classList.remove(CLS_FOCUS);\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n            this.showPopup(this.show);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && (trgIndex !== this.selectedItem)) {\n                this.selectTab(trgIndex, args.originalEvent, true);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if ((e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) ||\n            (this.swipeMode === 'Touch' && ((e.originalEvent.type === 'mouseup') || e.originalEvent.type === 'mouseleave')) ||\n            (this.swipeMode === 'Mouse' && e.originalEvent.type === 'touchend') || (this.swipeMode === 'None')) {\n            return;\n        }\n        if (this.isNested) {\n            this.element.setAttribute('data-swipe', 'true');\n        }\n        var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n        if (nestedTab) {\n            nestedTab.removeAttribute('data-swipe');\n            return;\n        }\n        this.isSwiped = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                    this.selectTab(k, null, true);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n                    this.selectTab(i, null, true);\n                    break;\n                }\n            }\n        }\n        this.isSwiped = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var tabHeader = this.getTabHeader();\n        var actEle = select('.' + CLS_ACTIVE, tabHeader);\n        this.popEle = select('.' + CLS_TB_POP, tabHeader);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    this.showPopup(this.show);\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', trg.getAttribute('data-tabindex'));\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                if (!isNOU(actEle) && actEle.children.item(0).getAttribute('tabindex') === '-1') {\n                    actEle.children.item(0).setAttribute('tabindex', '0');\n                }\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstElementChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!this.isVertical() && !isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.getIndexFromEle = function (id) {\n        return parseInt(id.substring(id.lastIndexOf('_') + 1), 10);\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n        var _this = this;\n        if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n            for (var i = 0; i < changedProp.length; i++) {\n                var index = parseInt(Object.keys(newProp.items)[i], 10);\n                var properties = Object.keys(newProp.items[index]);\n                for (var j = 0; j < properties.length; j++) {\n                    var oldVal = Object(oldProp.items[index])[properties[j]];\n                    var newVal = Object(newProp.items[index])[properties[j]];\n                    var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n                    var itemIndex = void 0;\n                    if (hdr && !isNOU(hdr.id) && hdr.id !== '') {\n                        itemIndex = this.getIndexFromEle(hdr.id);\n                    }\n                    else {\n                        itemIndex = index;\n                    }\n                    var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + this.tabId + '_' + itemIndex, this.element);\n                    var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + this.tabId + '_' + itemIndex, this.element);\n                    if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n                        var icon = (isNOU(this.items[index].header) ||\n                            isNOU(this.items[index].header.iconCss)) ? '' : this.items[index].header.iconCss;\n                        var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n                        if (properties[j] === 'headerTemplate') {\n                            this.clearTabTemplate(hdrItem, properties[j], CLS_TB_ITEM);\n                        }\n                        if ((textVal === '') && (icon === '')) {\n                            this.removeTab(index);\n                        }\n                        else {\n                            this.tbId = hdr.id;\n                            var arr = [];\n                            arr.push(this.items[index]);\n                            this.items.splice(index, 1);\n                            this.itemIndexArray.splice(index, 1);\n                            this.tbObj.items.splice(index, 1);\n                            var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                            detach(hdrItem);\n                            this.isReplace = true;\n                            this.addTab(arr, index);\n                            if (isHiddenEle) {\n                                this.hideTab(index);\n                            }\n                            this.isReplace = false;\n                        }\n                    }\n                    if (properties[j] === 'content' && !isNOU(cntItem)) {\n                        var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                        if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                            var eleVal = document.querySelector(newVal);\n                            cntItem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else if (newVal === '' && oldVal[0] === '#') {\n                            document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                            cntItem.innerHTML = newVal;\n                        }\n                        else if (this.isAngular || this.isReact) {\n                            this.clearTabTemplate(cntItem, properties[j], CLS_ITEM);\n                            cntItem.innerHTML = '';\n                            this.templateCompile(cntItem, newVal, index);\n                        }\n                        else if (typeof newVal !== 'function') {\n                            cntItem.innerHTML = newVal;\n                        }\n                    }\n                    if (properties[j] === 'cssClass') {\n                        if (!isNOU(hdrItem)) {\n                            hdrItem.classList.remove(oldVal);\n                            hdrItem.classList.add(newVal);\n                        }\n                        if (!isNOU(cntItem)) {\n                            cntItem.classList.remove(oldVal);\n                            cntItem.classList.add(newVal);\n                        }\n                    }\n                    if (properties[j] === 'disabled') {\n                        this.enableTab(index, ((newVal === true) ? false : true));\n                    }\n                    if (properties[j] === 'visible') {\n                        this.hideTab(index, ((newVal === true) ? false : true));\n                    }\n                }\n            }\n            if (this.isReact && this.portals && this.portals.length > 0) {\n                this.renderReactTemplates(function () {\n                    _this.refreshActiveTabBorder();\n                });\n            }\n        }\n        else {\n            this.lastIndex = 0;\n            if (isNOU(this.tbObj)) {\n                this.reRenderItems();\n            }\n            else {\n                if (this.isReact || this.isAngular) {\n                    this.clearTemplate();\n                }\n                this.setItems(newProp.items);\n                if (this.templateEle.length > 0) {\n                    this.expTemplateContent();\n                }\n                this.templateEle = [];\n                var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n                while (selectElement.firstElementChild) {\n                    detach(selectElement.firstElementChild);\n                }\n                this.select(this.selectedItem);\n                this.draggableItems = [];\n                this.bindDraggable();\n            }\n        }\n    };\n    Tab.prototype.clearTabTemplate = function (templateEle, templateName, className) {\n        if (!this.clearTemplates) {\n            return;\n        }\n        if (this.registeredTemplate && this.registeredTemplate[templateName]) {\n            var registeredTemplates = this.registeredTemplate;\n            for (var index = 0; index < registeredTemplates[templateName].length; index++) {\n                var registeredItem = registeredTemplates[templateName][index].rootNodes[0];\n                var closestItem = closest(registeredItem, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], [registeredTemplates[templateName][index]]);\n                    break;\n                }\n            }\n        }\n        else if (this.portals && this.portals.length > 0) {\n            var portals = this.portals;\n            for (var index = 0; index < portals.length; index++) {\n                var portalItem = portals[index];\n                var closestItem = closest(portalItem.containerInfo, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], index);\n                    break;\n                }\n            }\n        }\n    };\n    Tab.prototype.initializeDrag = function (target) {\n        var _this = this;\n        var dragObj = new Draggable(target, {\n            dragArea: this.dragArea,\n            dragTarget: '.' + CLS_TB_ITEM,\n            clone: true,\n            helper: this.helper.bind(this),\n            dragStart: this.itemDragStart.bind(this),\n            drag: function (e) {\n                var dragIndex = _this.getEleIndex(_this.dragItem);\n                var dropIndex;\n                var dropItem;\n                var dragArgs = {\n                    draggedItem: _this.dragItem,\n                    event: e.event,\n                    target: e.target,\n                    droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n                    clonedElement: _this.cloneElement,\n                    index: dragIndex\n                };\n                if (!isNOU(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) &&\n                    _this.dragArea !== '.' + CLS_HEADER) {\n                    _this.trigger('dragging', dragArgs);\n                }\n                else {\n                    if (!(e.target.closest(_this.dragArea)) && _this.overflowMode !== 'Popup') {\n                        document.body.style.cursor = 'not-allowed';\n                        addClass([_this.cloneElement], CLS_HIDDEN);\n                        if (_this.dragItem.classList.contains(CLS_HIDDEN)) {\n                            removeClass([_this.dragItem], CLS_HIDDEN);\n                        }\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n                    }\n                    else {\n                        document.body.style.cursor = '';\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n                        if (_this.cloneElement.classList.contains(CLS_HIDDEN)) {\n                            removeClass([_this.cloneElement], CLS_HIDDEN);\n                        }\n                    }\n                    if (_this.overflowMode === 'Scrollable' && !isNOU(_this.element.querySelector('.e-hscroll'))) {\n                        var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n                        var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n                        var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n                        if (!isNOU(scrollRightNavEle) && Math.abs((scrollRightNavEle.offsetWidth / 2) +\n                            scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            hscrollBar.scrollLeft -= 10;\n                        }\n                        if (!isNOU(scrollLeftNavEle) && Math.abs((scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth) -\n                            _this.cloneElement.offsetLeft) > (scrollLeftNavEle.offsetWidth / 2)) {\n                            hscrollBar.scrollLeft += 10;\n                        }\n                    }\n                    _this.cloneElement.style.pointerEvents = 'none';\n                    dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n                    var scrollContentWidth = 0;\n                    if (_this.overflowMode === 'Scrollable' && !isNOU(_this.element.querySelector('.e-hscroll'))) {\n                        scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n                    }\n                    if (dropItem != null && !dropItem.isSameNode(_this.dragItem) &&\n                        dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n                        dropIndex = _this.getEleIndex(dropItem);\n                        if (dropIndex < dragIndex &&\n                            (Math.abs((dropItem.offsetLeft + dropItem.offsetWidth) -\n                                _this.cloneElement.offsetLeft) > (dropItem.offsetWidth / 2))) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                        if (dropIndex > dragIndex &&\n                            (Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft -\n                                scrollContentWidth) < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                    }\n                    _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n                    _this.trigger('dragging', dragArgs);\n                }\n            },\n            dragStop: this.itemDragStop.bind(this)\n        });\n        this.draggableItems.push(dragObj);\n    };\n    Tab.prototype.helper = function (e) {\n        this.cloneElement = this.createElement('div');\n        if (e.element) {\n            this.cloneElement = (e.element.cloneNode(true));\n            addClass([this.cloneElement], 'e-tab-clone-element');\n            if (this.element.querySelector('.' + CLS_HEADER).classList.contains(CLS_CLOSE_SHOW)) {\n                addClass([this.cloneElement], CLS_CLOSE_SHOW);\n            }\n            removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n            if (!isNOU(this.cloneElement.querySelector('.e-ripple-element'))) {\n                remove(this.cloneElement.querySelector('.e-ripple-element'));\n            }\n            document.body.appendChild(this.cloneElement);\n        }\n        return this.cloneElement;\n    };\n    Tab.prototype.itemDragStart = function (e) {\n        var _this = this;\n        this.draggingItems = this.items.map(function (x) { return x; });\n        this.dragItem = e.element;\n        var dragArgs = {\n            draggedItem: e.element,\n            event: e.event,\n            target: e.target,\n            droppedItem: null,\n            index: this.getEleIndex(this.dragItem),\n            clonedElement: this.cloneElement,\n            cancel: false\n        };\n        this.trigger('onDragStart', dragArgs, function (tabItemDragArgs) {\n            if (tabItemDragArgs.cancel) {\n                var dragObj = e.element.ej2_instances[0];\n                if (!isNullOrUndefined(dragObj)) {\n                    dragObj.intDestroy(e.event);\n                }\n                detach(_this.cloneElement);\n            }\n            else {\n                _this.removeActiveClass();\n                addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN);\n                _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n            }\n        });\n    };\n    Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n        if (this.items.length > 0) {\n            var item = this.draggingItems[dragsIndex];\n            this.draggingItems.splice(dragsIndex, 1);\n            this.draggingItems.splice(dropIndex, 0, item);\n        }\n        if (this.overflowMode === 'MultiRow') {\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n        }\n        if (dragsIndex > dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement.lastChild), this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n                else {\n                    var lastEle = (dropItem.parentElement).lastChild;\n                    if (dropItem.isSameNode(lastEle)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n        }\n        if (dragsIndex < dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n                }\n                else {\n                    this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n            }\n        }\n    };\n    Tab.prototype.itemDragStop = function (e) {\n        var _this = this;\n        detach(this.cloneElement);\n        this.cloneElement = null;\n        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n        document.body.style.cursor = '';\n        var dragStopArgs = {\n            draggedItem: this.dragItem,\n            event: e.event,\n            target: e.target,\n            droppedItem: this.tbItem[this.droppedIndex],\n            clonedElement: null,\n            index: this.droppedIndex,\n            cancel: false\n        };\n        this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n            if (tabItemDropArgs.cancel) {\n                _this.refresh();\n            }\n            else {\n                if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n                    _this.items = _this.draggingItems;\n                    _this.selectedItem = isNOU(_this.droppedIndex) ? _this.getEleIndex(_this.dragItem) : _this.droppedIndex;\n                    _this.refresh();\n                }\n                else {\n                    _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n                    removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN);\n                    _this.droppedIndex = isNOU(_this.droppedIndex) ? _this.getEleIndex(_this.dragItem) : _this.droppedIndex;\n                    _this.selectTab(_this.droppedIndex, null, true);\n                }\n            }\n        });\n        this.dragItem = null;\n        this.droppedIndex = null;\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     *\n     * @param {number} index - Index value of target Tab item.\n     * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns {void}.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstElementChild.setAttribute('tabindex', tbItems.firstElementChild.getAttribute('data-tabindex'));\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstElementChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.firstElementChild.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     *\n     * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n     * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var addArgs = { addedItems: items, cancel: false };\n        if (!this.isReplace) {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                item.disabled = item.disabled || false;\n                item.visible = item.visible || true;\n            }\n            if (items && items.length !== 0 && this.element && this.element.classList.contains(CLS_HIDDEN)) {\n                this.element.classList.remove(CLS_HIDDEN);\n            }\n            this.trigger('adding', addArgs, function (tabAddingArgs) {\n                if (!tabAddingArgs.cancel) {\n                    _this.addingTabContent(items, index);\n                }\n            });\n        }\n        else {\n            this.addingTabContent(items, index);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.addingTabContent = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            this.bindDraggable();\n        }\n        else {\n            var tbItems = Array.from(selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element));\n            var itemsCount = tbItems.length;\n            if (itemsCount !== 0) {\n                lastEleIndex = this.getMaxIndicesFromItems(tbItems) + 1;\n            }\n            if (isNOU(index)) {\n                index = itemsCount - 1;\n            }\n            if (itemsCount < index || index < 0 || isNaN(index)) {\n                return;\n            }\n            if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n                this.hdrEle.style.display = '';\n            }\n            if (!isNOU(this.bdrLine)) {\n                this.bdrLine.classList.add(CLS_HIDDEN);\n            }\n            this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n            this.isAdd = true;\n            var tabItems_2 = this.parseObject(items, index);\n            this.isAdd = false;\n            var i_1 = 0;\n            var textValue_1;\n            items.forEach(function (item, place) {\n                textValue_1 = item.headerTemplate || item.header.text;\n                if (!(isNOU(item.headerTemplate || item.header) || isNOU(textValue_1) ||\n                    (textValue_1.length === 0) && !isNOU(item.header) && isNOU(item.header.iconCss))) {\n                    if (tabItems_2[place]) {\n                        if (isNOU(item.id)) {\n                            item.id = CLS_ITEM + _this.tabId + '_' + TABITEMPREFIX + (lastEleIndex + place).toString();\n                        }\n                        tabItems_2[place].htmlAttributes['data-id'] = item.id;\n                    }\n                    _this.items.splice((index + i_1), 0, item);\n                    i_1++;\n                }\n                if (!isNOU(item.header) && !isNOU(item.header.text) && (_this.isTemplate || _this.loadOn === 'Init')) {\n                    var no = lastEleIndex + place;\n                    var ele = _this.createElement('div', {\n                        id: CLS_CONTENT + _this.tabId + '_' + no, className: CLS_ITEM,\n                        attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                    });\n                    _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                    var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                    _this.getContent(eleTrg, item.content, 'render', index);\n                }\n            });\n            this.tbObj.addItems(tabItems_2, index);\n            if (!this.isReplace) {\n                this.trigger('added', { addedItems: items });\n            }\n            if (this.selectedItem === index) {\n                this.select(index);\n            }\n            else {\n                this.setActiveBorder();\n                this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n            }\n            this.bindDraggable();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     *\n     * @param {number} index - Index of target item that is going to be removed.\n     * @returns {void}.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var _this = this;\n        var trg = selectAll('.' + CLS_TB_ITEM, this.hdrEle)[index];\n        if (isNOU(trg)) {\n            return;\n        }\n        var removeArgs = { removedItem: trg, removedIndex: index, cancel: false };\n        this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n            if (!tabRemovingArgs.cancel) {\n                var header = select('#' + CLS_ITEM + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_TB_ITEMS, _this.hdrEle));\n                if (!isNOU(header)) {\n                    _this.clearTabTemplate(header, 'headerTemplate', CLS_TB_ITEM);\n                }\n                _this.tbObj.removeItems(index);\n                if (_this.allowDragAndDrop && (index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id))) {\n                    index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n                }\n                var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n                _this.items.splice(targetEleIndex, 1);\n                _this.itemIndexArray.splice(targetEleIndex, 1);\n                _this.refreshActiveBorder();\n                var cntTrg = select('#' + CLS_CONTENT + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT, _this.element));\n                if (!isNOU(cntTrg)) {\n                    _this.clearTabTemplate(cntTrg, 'content', CLS_ITEM);\n                    detach(cntTrg);\n                }\n                _this.trigger('removed', tabRemovingArgs);\n                if (_this.draggableItems && _this.draggableItems.length > 0) {\n                    _this.draggableItems[index].destroy();\n                    _this.draggableItems[index] = null;\n                    _this.draggableItems.splice(index, 1);\n                }\n                if (trg.classList.contains(CLS_ACTIVE)) {\n                    index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1) ? index - 1 : index;\n                    _this.enableAnimation = false;\n                    _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n                    index = _this.getSelectingTabIndex(index);\n                    index = !isNaN(index) && index >= 0 && _this.tbItem.length > index ? index : 0;\n                    var tabItem = _this.tbItem[index];\n                    if (tabItem) {\n                        if (tabItem.classList.contains(CLS_HIDDEN)) {\n                            tabItem.classList.remove(CLS_HIDDEN);\n                        }\n                        var firstChild = tabItem.firstElementChild;\n                        if (firstChild && firstChild.hasAttribute('aria-hidden')) {\n                            firstChild.removeAttribute('aria-hidden');\n                        }\n                    }\n                    _this.selectedItem = index;\n                    _this.select(index);\n                }\n                else if (index !== _this.selectedItem) {\n                    if (index < _this.selectedItem) {\n                        index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n                        _this.setProperties({ selectedItem: index > -1 ? index : _this.selectedItem }, true);\n                        _this.prevIndex = _this.selectedItem;\n                    }\n                    _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n                }\n                if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n                    var cnt = select('.' + CLS_CONTENT, _this.element);\n                    detach(_this.hdrEle);\n                    detach(cnt);\n                }\n                _this.enableAnimation = true;\n            }\n        });\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     *\n     * @param {number} index - Index value of target item.\n     * @param {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is true.\n     * @returns {void}.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var tabId;\n        if (index >= 0 && index < this.tbItem.length) {\n            tabId = this.tbItem[index].getAttribute('id');\n        }\n        var item = this.element.querySelector(\"[id=\\\"\" + tabId + \"\\\"]\");\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains(CLS_HIDDEN)) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains(CLS_HIDDEN)) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            item.classList.remove(CLS_HIDDEN);\n            if (items.length === 0) {\n                this.select(index);\n            }\n        }\n        this.setActiveBorder();\n        if (!isNOU(this.items[index])) {\n            this.items[index].visible = !value;\n            this.dataBind();\n        }\n        if (!isNullOrUndefined(item.firstElementChild)) {\n            item.firstElementChild.setAttribute('aria-hidden', '' + value);\n        }\n        if (this.overflowMode === 'Popup') {\n            this.refreshOverflow();\n        }\n    };\n    Tab.prototype.selectTab = function (args, event, isInteracted) {\n        if (event === void 0) { event = null; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.isInteracted = isInteracted;\n        this.select(args, event);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     *\n     * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @param {Event} event - An event which takes place in DOM.\n     * @returns {void}\n     */\n    Tab.prototype.select = function (args, event) {\n        var _this = this;\n        var tabHeader = this.getTabHeader();\n        this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n        this.content = select('.' + CLS_CONTENT, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (isNOU(this.selectedItem) || (this.selectedItem < 0) || (this.tbItem.length <= this.selectedItem) || isNaN(this.selectedItem)) {\n            this.selectedItem = 0;\n        }\n        else {\n            this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n        }\n        var trg = this.tbItem[args];\n        if (isNOU(trg)) {\n            this.selectedID = '0';\n        }\n        else {\n            this.selectingID = this.extIndex(trg.id);\n        }\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', this.prevItem.firstElementChild.getAttribute('tabindex'));\n        }\n        var eventArg = {\n            event: event,\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectedContent: !isNOU(this.content) ?\n                select('#' + CLS_CONTENT + this.tabId + '_' + this.selectedID, this.content) : null,\n            selectingItem: trg,\n            selectingIndex: args,\n            selectingContent: !isNOU(this.content) ?\n                select('#' + CLS_CONTENT + this.tabId + '_' + this.selectingID, this.content) : null,\n            isSwiped: this.isSwiped,\n            isInteracted: this.isInteracted,\n            cancel: false\n        };\n        if (!this.initRender) {\n            this.trigger('selecting', eventArg, function (selectArgs) {\n                if (!selectArgs.cancel) {\n                    _this.selectingContent(args, _this.isInteracted);\n                }\n            });\n        }\n        else {\n            this.selectingContent(args, this.isInteracted);\n        }\n        this.isInteracted = false;\n    };\n    Tab.prototype.getSelectingTabIndex = function (args) {\n        if (!isNOU(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE) ||\n            this.tbItem[args].classList.contains(CLS_HIDDEN))) {\n            for (var i = args + 1; i < this.items.length; i++) {\n                if (this.items[i].disabled === false && this.items[i].visible === true) {\n                    args = i;\n                    break;\n                }\n                else {\n                    args = 0;\n                }\n            }\n        }\n        return args;\n    };\n    Tab.prototype.selectingContent = function (args, isInteracted) {\n        if (typeof args === 'number') {\n            args = this.getSelectingTabIndex(args);\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                this.prevItem = this.tbItem[this.prevIndex];\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n                    this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n                    if ((!isNOU(this.items) && this.items.length > 0) && this.allowDragAndDrop) {\n                        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n                        var item = this.items[args];\n                        this.items.splice(args, 1);\n                        this.items.splice(this.tbItem.length - 1, 0, item);\n                        var itemId = this.itemIndexArray[args];\n                        this.itemIndexArray.splice(args, 1);\n                        this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n                    }\n                }\n                else {\n                    this.setActive(args, null, isInteracted);\n                }\n            }\n            else {\n                this.setActive(0, null, isInteracted);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args), null, isInteracted);\n        }\n    };\n    /**\n     * Gets the item index from the Tab.\n     *\n     * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n     * @returns {number} - It returns item index.\n     */\n    Tab.prototype.getItemIndex = function (tabItemId) {\n        var tabIndex;\n        for (var i = 0; i < this.tbItem.length; i++) {\n            var value = this.tbItem[i].getAttribute('data-id');\n            if (tabItemId === value) {\n                tabIndex = i;\n                break;\n            }\n        }\n        return tabIndex;\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - It returns the persisted state.\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {TabModel} newProp - It contains the new value of data.\n     * @param  {TabModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var sortedKeys = Object.keys(newProp).sort(function (a, b) {\n            if (a === 'items')\n                return -1;\n            if (b === 'items')\n                return 1;\n            return 0;\n        });\n        for (var _i = 0, sortedKeys_1 = sortedKeys; _i < sortedKeys_1.length; _i++) {\n            var prop = sortedKeys_1[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    var headerEle = this.element.querySelector('.' + CLS_HEADER);\n                    if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n                        this.setCssClass(this.element, oldProp.cssClass, false);\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, oldProp.cssClass, false);\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    else {\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    break;\n                case 'items':\n                    this.evalOnPropertyChangeItems(newProp, oldProp);\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'reorderActiveTab':\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    this.changeOrientation(newProp.headerPlacement);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n                case 'scrollStep':\n                    if (this.tbObj) {\n                        this.tbObj.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'allowDragAndDrop':\n                    this.bindDraggable();\n                    break;\n                case 'swipeMode':\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                        this.touchModule = null;\n                    }\n                    this.bindSwipeEvents();\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.draggableItems.forEach(function (item) {\n                            item.dragArea = _this.dragArea;\n                        });\n                        this.refresh();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * To refresh the active tab contents.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTab = function () {\n        if (this.isReact && this.isTemplate) {\n            this.clearTemplate();\n        }\n        if (!this.isTemplate) {\n            if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE)) {\n                detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).children[0]);\n                detach(this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).children[0]);\n                var item = this.items[this.selectedItem];\n                var pos = (isNOU(item.header) || isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n                var css = (isNOU(item.header) || isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n                var text = item.headerTemplate || item.header.text;\n                var txtWrap = this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n                if (!isNOU(text.tagName)) {\n                    txtWrap.appendChild(text);\n                }\n                else {\n                    this.headerTextCompile(txtWrap, text, this.selectedItem);\n                }\n                var tEle = void 0;\n                var icon = this.createElement('span', {\n                    className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n                });\n                var tConts = this.createElement('div', { className: CLS_TEXT_WRAP });\n                tConts.appendChild(txtWrap);\n                if ((text !== '' && text !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tConts.insertBefore(icon, tConts.firstElementChild);\n                    }\n                    else {\n                        tConts.appendChild(icon);\n                    }\n                    tEle = txtWrap;\n                    this.isIconAlone = false;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrap : icon);\n                    if (tEle === icon) {\n                        detach(txtWrap);\n                        tConts.appendChild(icon);\n                        this.isIconAlone = true;\n                    }\n                }\n                var tabIndex = isNOU(item.tabIndex) ? '-1' : item.tabIndex.toString();\n                var wrapAtt = (item.disabled) ? {} : { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-selected': 'true', 'aria-disabled': 'false' };\n                tConts.appendChild(this.btnCls.cloneNode(true));\n                var wraper = this.createElement('div', { className: CLS_WRAP, attrs: wrapAtt });\n                wraper.appendChild(tConts);\n                if (pos === 'top' || pos === 'bottom') {\n                    this.element.classList.add('e-vertical-icon');\n                }\n                this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).appendChild(wraper);\n                var crElem = this.createElement('div');\n                var cnt = item.content;\n                var eleStr = void 0;\n                if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n                    if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                        cnt = SanitizeHtmlHelper.sanitize(cnt);\n                    }\n                    if (cnt[0] === '.' || cnt[0] === '#') {\n                        if (document.querySelectorAll(cnt).length) {\n                            var eleVal = document.querySelector(cnt);\n                            eleStr = eleVal.outerHTML.trim();\n                            crElem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else {\n                            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                        }\n                    }\n                    else {\n                        this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                    }\n                }\n                else {\n                    crElem.appendChild(cnt);\n                }\n                if (!isNOU(eleStr)) {\n                    if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                        this.templateEle.push(cnt.toString());\n                    }\n                }\n                this.element.querySelector('.' + CLS_ITEM + '.' + CLS_ACTIVE).appendChild(crElem);\n            }\n        }\n        else {\n            var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n            var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE);\n            var index = this.getIndexFromEle(element.id);\n            var header = element.innerText;\n            var detachContent = this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).children[0];\n            var mainContents = detachContent.innerHTML;\n            detach(element);\n            detach(detachContent);\n            var attr = {\n                className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE + ' ' + CLS_ACTIVE, id: CLS_ITEM + this.tabId + '_' + index\n            };\n            var txtString = this.createElement('span', {\n                className: CLS_TEXT, innerHTML: header, attrs: { 'role': 'presentation' }\n            }).outerHTML;\n            var conte = this.createElement('div', {\n                className: CLS_TEXT_WRAP, innerHTML: txtString + this.btnCls.outerHTML\n            }).outerHTML;\n            var tabIndex = element.firstElementChild.getAttribute('data-tabindex');\n            var wrap = this.createElement('div', {\n                className: CLS_WRAP, innerHTML: conte,\n                attrs: { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-controls': CLS_CONTENT + this.tabId + '_' + index, 'aria-selected': 'true', 'aria-disabled': 'false' }\n            });\n            tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n            this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE).appendChild(wrap);\n            var crElem = this.createElement('div', { innerHTML: mainContents });\n            this.element.querySelector('.' + CLS_CONTENT).querySelector('.' + CLS_ACTIVE).appendChild(crElem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To refresh the active tab indicator.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTabBorder = function () {\n        if (this.heightAdjustMode === 'None' && this.height !== 'auto' && this.cntEle && !this.isVertical()) {\n            var hdrEle = this.getTabHeader();\n            setStyle(this.cntEle, { 'height': (this.element.clientHeight - hdrEle.offsetHeight) + 'px' });\n        }\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle) && this.reorderActiveTab) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('Both')\n    ], Tab.prototype, \"swipeMode\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property('Demand')\n    ], Tab.prototype, \"loadOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Property(true)\n    ], Tab.prototype, \"reorderActiveTab\", void 0);\n    __decorate([\n        Property()\n    ], Tab.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property()\n    ], Tab.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Tab.prototype, \"clearTemplates\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"onDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"dragging\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"dragged\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}